{"version":3,"sources":["webpack:///node_modules/echarts/lib/chart/boxplot.js","webpack:///node_modules/echarts/lib/component/axis/AxisBuilder.js","webpack:///node_modules/echarts/lib/component/helper/BrushController.js","webpack:///node_modules/echarts/lib/coord/polar/Polar.js","webpack:///node_modules/echarts/lib/processor/dataSample.js","webpack:///node_modules/echarts/lib/chart/boxplot/BoxplotSeries.js","webpack:///node_modules/echarts/lib/component/toolbox/feature/Brush.js","webpack:///node_modules/echarts/lib/component/axisPointer/viewHelper.js","webpack:///node_modules/echarts/lib/processor/dataFilter.js","webpack:///node_modules/echarts/lib/chart/graph/simpleLayout.js","webpack:///node_modules/echarts/lib/component/toolbox/feature/MagicType.js","webpack:///node_modules/zrender/lib/vml/core.js","webpack:///node_modules/echarts/lib/chart/sankey/SankeySeries.js","webpack:///node_modules/echarts/lib/component/geo.js","webpack:///node_modules/echarts/lib/coord/calendar/Calendar.js","webpack:///node_modules/echarts/lib/component/legend.js","webpack:///node_modules/echarts/lib/chart/helper/focusNodeAdjacencyAction.js","webpack:///node_modules/echarts/lib/chart/graph/graphAction.js","webpack:///node_modules/echarts/lib/component/axisPointer/AxisPointerView.js","webpack:///node_modules/echarts/lib/chart/line/poly.js","webpack:///node_modules/echarts/lib/chart/bar/PictorialBarSeries.js","webpack:///node_modules/echarts/lib/component/visualMap/visualMapAction.js","webpack:///node_modules/echarts/lib/chart/sunburst.js","webpack:///node_modules/echarts/lib/component/toolbox/ToolboxView.js","webpack:///node_modules/echarts/lib/action/roamHelper.js","webpack:///node_modules/echarts/lib/coord/parallel/Parallel.js","webpack:///node_modules/echarts/lib/coord/polar/AxisModel.js","webpack:///node_modules/echarts/lib/chart/treemap.js","webpack:///node_modules/echarts/lib/component/markPoint.js","webpack:///node_modules/echarts/lib/component/toolbox/feature/Restore.js","webpack:///node_modules/zrender/lib/svg/Painter.js","webpack:///node_modules/echarts/lib/component/axisPointer/BaseAxisPointer.js","webpack:///node_modules/echarts/lib/chart/boxplot/BoxplotView.js","webpack:///node_modules/echarts/lib/component/dataZoomSelect.js","webpack:///node_modules/echarts/lib/component/timeline/SliderTimelineModel.js","webpack:///node_modules/echarts/lib/chart/graph/edgeVisual.js","webpack:///node_modules/echarts/lib/coord/parallel/AxisModel.js","webpack:///node_modules/echarts/lib/chart/custom.js","webpack:///node_modules/echarts/lib/chart/bar/helper.js","webpack:///node_modules/echarts/lib/chart/helper/whiskerBoxCommon.js","webpack:///node_modules/echarts/lib/chart/helper/createListSimply.js","webpack:///node_modules/echarts/lib/component/dataZoomSlider.js","webpack:///node_modules/echarts/lib/util/animation.js","webpack:///node_modules/echarts/lib/component/legend/scrollableLegendAction.js","webpack:///node_modules/echarts/lib/component/axisPointer/axisTrigger.js","webpack:///node_modules/zrender/lib/vml/Painter.js","webpack:///node_modules/echarts/lib/chart/candlestick/preprocessor.js","webpack:///node_modules/echarts/lib/component/visualMap/VisualMapModel.js","webpack:///node_modules/echarts/lib/coord/polar/prepareCustom.js","webpack:///node_modules/echarts/lib/component/helper/sliderMove.js","webpack:///node_modules/echarts/lib/chart/line.js","webpack:///node_modules/echarts/lib/chart/tree.js","webpack:///node_modules/echarts/lib/coord/cartesian/Axis2D.js","webpack:///node_modules/echarts/lib/chart/boxplot/boxplotLayout.js","webpack:///node_modules/echarts/lib/component/timeline/TimelineModel.js","webpack:///node_modules/echarts/lib/coord/single/singleAxisHelper.js","webpack:///node_modules/echarts/lib/component/calendar/CalendarView.js","webpack:///node_modules/echarts/lib/component/timeline.js","webpack:///node_modules/echarts/lib/chart/lines/linesVisual.js","webpack:///node_modules/echarts/lib/coord/geo/geoCreator.js","webpack:///node_modules/echarts/lib/chart/graph/forceHelper.js","webpack:///node_modules/echarts/lib/chart/line/lineAnimationDiff.js","webpack:///node_modules/echarts/lib/component/axisPointer/SingleAxisPointer.js","webpack:///node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","webpack:///node_modules/echarts/lib/chart/line/LineView.js","webpack:///node_modules/zrender/lib/vml/vml.js","webpack:///node_modules/echarts/lib/component/axis/CartesianAxisView.js","webpack:///node_modules/echarts/lib/component/parallel.js","webpack:///node_modules/echarts/lib/component/brush/BrushModel.js","webpack:///node_modules/echarts/lib/chart/pie/PieSeries.js","webpack:///node_modules/echarts/lib/component/helper/brushHelper.js","webpack:///node_modules/echarts/lib/component/angleAxis.js","webpack:///node_modules/echarts/lib/chart/treemap/Breadcrumb.js","webpack:///node_modules/echarts/lib/chart/map/mapDataStatistic.js","webpack:///node_modules/echarts/lib/chart/helper/SymbolDraw.js","webpack:///node_modules/echarts/lib/component/visualMap/PiecewiseView.js","webpack:///node_modules/echarts/lib/chart/parallel/ParallelSeries.js","webpack:///node_modules/echarts/lib/component/tooltip.js","webpack:///node_modules/echarts/lib/chart/funnel/FunnelSeries.js","webpack:///node_modules/echarts/lib/coord/geo/prepareCustom.js","webpack:///node_modules/echarts/lib/coord/geo/Geo.js","webpack:///node_modules/echarts/lib/coord/cartesian/cartesianAxisHelper.js","webpack:///node_modules/echarts/lib/component/helper/roamHelper.js","webpack:///node_modules/echarts/lib/component/gridSimple.js","webpack:///node_modules/echarts/lib/chart/gauge.js","webpack:///node_modules/echarts/lib/component/tooltip/TooltipContent.js","webpack:///node_modules/echarts/lib/data/Tree.js","webpack:///node_modules/echarts/lib/component/visualMap/PiecewiseModel.js","webpack:///node_modules/echarts/lib/component/legendScroll.js","webpack:///node_modules/echarts/lib/chart/parallel.js","webpack:///node_modules/echarts/lib/chart/candlestick.js","webpack:///node_modules/echarts/lib/component/timeline/TimelineAxis.js","webpack:///node_modules/echarts/lib/chart/candlestick/candlestickLayout.js","webpack:///node_modules/echarts/lib/component/dataZoom.js","webpack:///node_modules/echarts/lib/coord/parallel/ParallelAxis.js","webpack:///node_modules/echarts/lib/chart/helper/EffectLine.js","webpack:///node_modules/zrender/lib/core/arrayDiff2.js","webpack:///node_modules/echarts/lib/chart/helper/multipleGraphEdgeHelper.js","webpack:///node_modules/echarts/lib/component/helper/MapDraw.js","webpack:///node_modules/echarts/lib/chart/sankey/sankeyVisual.js","webpack:///node_modules/echarts/lib/component/legend/ScrollableLegendView.js","webpack:///node_modules/echarts/lib/component/brush/visualEncoding.js","webpack:///node_modules/echarts/lib/chart/effectScatter.js","webpack:///node_modules/echarts/lib/component/axisPointer/findPointFromSeries.js","webpack:///node_modules/echarts/lib/coord/radar/RadarModel.js","webpack:///node_modules/echarts/lib/coord/geo/fix/textCoord.js","webpack:///node_modules/echarts/lib/chart/bar/BarSeries.js","webpack:///node_modules/echarts/lib/component/axisPointer/globalListener.js","webpack:///node_modules/echarts/lib/chart/helper/Symbol.js","webpack:///node_modules/echarts/lib/chart/radar/RadarView.js","webpack:///node_modules/echarts/lib/component/axis/RadiusAxisView.js","webpack:///node_modules/echarts/lib/chart/scatter.js","webpack:///node_modules/echarts/lib/component/marker/MarkLineModel.js","webpack:///node_modules/echarts/lib/chart/candlestick/CandlestickView.js","webpack:///node_modules/echarts/lib/chart/pie/PieView.js","webpack:///node_modules/echarts/lib/chart/graph/simpleLayoutHelper.js","webpack:///node_modules/echarts/lib/coord/polar/polarCreator.js","webpack:///node_modules/echarts/lib/layout/barPolar.js","webpack:///node_modules/echarts/lib/chart/gauge/PointerPath.js","webpack:///node_modules/echarts/lib/coord/geo/GeoModel.js","webpack:///node_modules/echarts/lib/chart/graph.js","webpack:///node_modules/echarts/lib/coord/radar/Radar.js","webpack:///node_modules/echarts/lib/chart/helper/createGraphFromNodeEdge.js","webpack:///node_modules/echarts/lib/component/toolbox/featureManager.js","webpack:///node_modules/echarts/lib/chart/tree/TreeSeries.js","webpack:///node_modules/echarts/lib/chart/line/LineSeries.js","webpack:///node_modules/echarts/lib/coord/parallel/ParallelModel.js","webpack:///node_modules/echarts/lib/chart/tree/layoutHelper.js","webpack:///node_modules/echarts/lib/component/dataZoom/SliderZoomView.js","webpack:///node_modules/echarts/lib/component/marker/MarkerModel.js","webpack:///node_modules/echarts/lib/chart/funnel/funnelLayout.js","webpack:///node_modules/echarts/lib/chart/themeRiver/ThemeRiverView.js","webpack:///node_modules/echarts/lib/visual/visualSolution.js","webpack:///node_modules/echarts/lib/chart/pie/pieLayout.js","webpack:///node_modules/echarts/lib/chart/graph/categoryVisual.js","webpack:///node_modules/echarts/lib/component/visualMapPiecewise.js","webpack:///node_modules/echarts/lib/component/polar.js","webpack:///node_modules/echarts/lib/chart/boxplot/boxplotVisual.js","webpack:///node_modules/echarts/lib/component/dataZoom/dataZoomProcessor.js","webpack:///node_modules/echarts/lib/component/singleAxis.js","webpack:///node_modules/echarts/lib/component/brush.js","webpack:///node_modules/echarts/lib/chart/bar/BaseBarSeries.js","webpack:///node_modules/echarts/lib/component/marker/MarkLineView.js","webpack:///node_modules/echarts/lib/component/visualMap/ContinuousModel.js","webpack:///node_modules/echarts/lib/coord/single/prepareCustom.js","webpack:///node_modules/echarts/lib/chart/sankey.js","webpack:///node_modules/echarts/index.js","webpack:///node_modules/echarts/lib/data/helper/linkList.js","webpack:///node_modules/echarts/lib/coord/geo/fix/nanhai.js","webpack:///node_modules/echarts/lib/component/dataZoom/InsideZoomView.js","webpack:///node_modules/echarts/lib/chart/bar/PictorialBarView.js","webpack:///node_modules/echarts/lib/component/dataZoom/SliderZoomModel.js","webpack:///node_modules/echarts/lib/chart/sunburst/SunburstView.js","webpack:///node_modules/echarts/lib/component/timeline/SliderTimelineView.js","webpack:///node_modules/echarts/lib/component/timeline/timelineAction.js","webpack:///node_modules/echarts/lib/chart/heatmap/HeatmapSeries.js","webpack:///node_modules/echarts/lib/component/dataZoom/DataZoomModel.js","webpack:///node_modules/zrender/lib/svg/graphic.js","webpack:///node_modules/echarts/lib/component/visualMap/ContinuousView.js","webpack:///node_modules/echarts/lib/component/marker/MarkAreaModel.js","webpack:///node_modules/echarts/lib/component/dataZoom/SelectZoomModel.js","webpack:///node_modules/echarts/lib/component/tooltip/TooltipView.js","webpack:///node_modules/echarts/lib/coord/single/singleCreator.js","webpack:///node_modules/echarts/lib/chart/effectScatter/EffectScatterView.js","webpack:///node_modules/echarts/lib/chart/treemap/treemapAction.js","webpack:///node_modules/echarts/lib/chart/sunburst/sunburstAction.js","webpack:///node_modules/echarts/lib/chart/helper/Polyline.js","webpack:///node_modules/echarts/lib/component/legend/legendAction.js","webpack:///node_modules/echarts/lib/coord/calendar/prepareCustom.js","webpack:///node_modules/echarts/lib/coord/single/Single.js","webpack:///node_modules/echarts/lib/chart/heatmap/HeatmapView.js","webpack:///node_modules/echarts/lib/chart/graph/adjustEdge.js","webpack:///node_modules/echarts/lib/component/axisPointer/AxisPointerModel.js","webpack:///node_modules/echarts/lib/coord/cartesian/AxisModel.js","webpack:///node_modules/echarts/lib/action/geoRoam.js","webpack:///node_modules/echarts/lib/component/helper/RoamController.js","webpack:///node_modules/echarts/lib/component/axisPointer/CartesianAxisPointer.js","webpack:///node_modules/zrender/lib/svg/helper/Definable.js","webpack:///node_modules/echarts/lib/component/dataZoom/SelectZoomView.js","webpack:///node_modules/echarts/lib/coord/geo/geoJSONLoader.js","webpack:///node_modules/echarts/lib/chart/candlestick/candlestickVisual.js","webpack:///node_modules/echarts/lib/chart/funnel/FunnelView.js","webpack:///node_modules/echarts/lib/chart/gauge/GaugeSeries.js","webpack:///node_modules/echarts/lib/chart/map/MapSeries.js","webpack:///node_modules/echarts/lib/chart/sunburst/SunburstPiece.js","webpack:///node_modules/echarts/lib/component/toolbox/feature/SaveAsImage.js","webpack:///node_modules/echarts/lib/chart/graph/graphHelper.js","webpack:///node_modules/echarts/lib/component/dataZoom/helper.js","webpack:///node_modules/echarts/lib/chart/themeRiver/themeRiverLayout.js","webpack:///node_modules/echarts/lib/component/visualMap.js","webpack:///node_modules/echarts/lib/chart/map/mapVisual.js","webpack:///node_modules/echarts/lib/component/radar.js","webpack:///node_modules/echarts/lib/component/dataZoom/roams.js","webpack:///node_modules/echarts/lib/chart/helper/treeHelper.js","webpack:///node_modules/echarts/lib/chart/sankey/SankeyView.js","webpack:///node_modules/echarts/lib/coord/geo/geoSourceManager.js","webpack:///node_modules/echarts/lib/chart/graph/forceLayout.js","webpack:///node_modules/echarts/lib/component/axis/axisSplitHelper.js","webpack:///node_modules/echarts/lib/coord/cartesian/Grid.js","webpack:///node_modules/echarts/lib/chart/heatmap.js","webpack:///node_modules/echarts/lib/component/legend/LegendView.js","webpack:///node_modules/echarts/lib/visual/VisualMapping.js","webpack:///node_modules/echarts/lib/chart/parallel/ParallelView.js","webpack:///node_modules/echarts/lib/visual/visualDefault.js","webpack:///node_modules/echarts/lib/component/title.js","webpack:///node_modules/echarts/lib/chart/graph/categoryFilter.js","webpack:///node_modules/echarts/lib/chart/map.js","webpack:///node_modules/echarts/lib/chart/effectScatter/EffectScatterSeries.js","webpack:///node_modules/echarts/lib/chart/bar/BarView.js","webpack:///node_modules/echarts/lib/coord/parallel/parallelPreprocessor.js","webpack:///node_modules/echarts/lib/chart/lines/linesLayout.js","webpack:///node_modules/echarts/lib/component/axis/AxisView.js","webpack:///node_modules/echarts/lib/component/timeline/preprocessor.js","webpack:///node_modules/echarts/lib/coord/single/SingleAxis.js","webpack:///node_modules/echarts/lib/coord/geo/fix/geoCoord.js","webpack:///node_modules/echarts/lib/component/dataZoom/typeDefaulter.js","webpack:///node_modules/echarts/lib/chart/helper/EffectPolyline.js","webpack:///node_modules/echarts/lib/component/axisPointer/PolarAxisPointer.js","webpack:///node_modules/echarts/lib/component/dataZoom/history.js","webpack:///node_modules/echarts/lib/component/radar/RadarView.js","webpack:///node_modules/echarts/lib/chart/themeRiver.js","webpack:///node_modules/echarts/lib/coord/View.js","webpack:///node_modules/echarts/lib/chart/tree/TreeView.js","webpack:///node_modules/echarts/lib/chart/tree/traversalHelper.js","webpack:///node_modules/echarts/lib/data/Graph.js","webpack:///node_modules/echarts/lib/chart/helper/LineDraw.js","webpack:///node_modules/echarts/lib/component/helper/selectableMixin.js","webpack:///node_modules/echarts/lib/coord/axisDefault.js","webpack:///node_modules/echarts/lib/chart/themeRiver/themeRiverVisual.js","webpack:///node_modules/echarts/lib/chart/lines/LinesSeries.js","webpack:///node_modules/echarts/lib/component/visualMap/VisualMapView.js","webpack:///node_modules/echarts/lib/action/createDataSelectAction.js","webpack:///node_modules/echarts/lib/component/visualMapContinuous.js","webpack:///node_modules/echarts/lib/component/geo/GeoView.js","webpack:///node_modules/echarts/lib/component/toolbox/feature/DataView.js","webpack:///node_modules/echarts/lib/coord/radar/IndicatorAxis.js","webpack:///node_modules/echarts/lib/chart/radar/backwardCompat.js","webpack:///node_modules/echarts/lib/coord/polar/PolarModel.js","webpack:///node_modules/echarts/lib/component/helper/listComponent.js","webpack:///node_modules/echarts/lib/component/radiusAxis.js","webpack:///node_modules/echarts/lib/chart/graph/createView.js","webpack:///node_modules/echarts/lib/component/graphic.js","webpack:///node_modules/echarts/lib/component/dataZoomInside.js","webpack:///node_modules/echarts/lib/chart/helper/LinePath.js","webpack:///node_modules/echarts/lib/visual/symbol.js","webpack:///node_modules/echarts/lib/component/toolbox/feature/DataZoom.js","webpack:///node_modules/echarts/lib/component/dataZoom/DataZoomView.js","webpack:///node_modules/echarts/lib/component/markArea.js","webpack:///node_modules/echarts/lib/chart/helper/Line.js","webpack:///node_modules/echarts/lib/component/marker/MarkPointView.js","webpack:///node_modules/echarts/lib/coord/calendar/CalendarModel.js","webpack:///node_modules/echarts/lib/chart/sankey/sankeyLayout.js","webpack:///node_modules/echarts/lib/component/tooltip/TooltipRichContent.js","webpack:///node_modules/echarts/lib/chart/graph/GraphSeries.js","webpack:///node_modules/echarts/lib/layout/points.js","webpack:///node_modules/echarts/lib/component/axis/parallelAxisAction.js","webpack:///node_modules/echarts/lib/coord/parallel/parallelCreator.js","webpack:///node_modules/echarts/lib/component/legend/LegendModel.js","webpack:///node_modules/echarts/lib/chart/radar/radarLayout.js","webpack:///node_modules/zrender/lib/svg/core.js","webpack:///node_modules/echarts/lib/component/marker/MarkerView.js","webpack:///node_modules/echarts/lib/chart/radar.js","webpack:///node_modules/echarts/lib/component/marker/MarkAreaView.js","webpack:///node_modules/echarts/lib/component/toolbox/ToolboxModel.js","webpack:///node_modules/echarts/lib/coord/cartesian/GridModel.js","webpack:///node_modules/zrender/lib/svg/svg.js","webpack:///node_modules/echarts/lib/component/calendar.js","webpack:///node_modules/echarts/lib/component/legend/legendFilter.js","webpack:///node_modules/echarts/lib/chart/treemap/treemapVisual.js","webpack:///node_modules/echarts/lib/component/marker/markerHelper.js","webpack:///node_modules/echarts/lib/coord/polar/RadiusAxis.js","webpack:///node_modules/echarts/lib/chart/treemap/TreemapSeries.js","webpack:///node_modules/echarts/lib/component/timeline/TimelineView.js","webpack:///node_modules/echarts/lib/chart/map/backwardCompat.js","webpack:///node_modules/echarts/lib/chart/bar.js","webpack:///node_modules/echarts/lib/chart/graph/circularLayoutHelper.js","webpack:///node_modules/echarts/lib/component/markLine.js","webpack:///node_modules/echarts/lib/chart/graph/GraphView.js","webpack:///node_modules/echarts/lib/visual/dataColor.js","webpack:///node_modules/echarts/lib/chart/line/helper.js","webpack:///node_modules/zrender/lib/svg/helper/ClippathManager.js","webpack:///node_modules/echarts/lib/chart/treemap/treemapLayout.js","webpack:///node_modules/echarts/lib/coord/axisModelCreator.js","webpack:///node_modules/echarts/lib/component/dataZoom/dataZoomAction.js","webpack:///node_modules/echarts/lib/chart/helper/LargeLineDraw.js","webpack:///node_modules/echarts/lib/chart/radar/RadarSeries.js","webpack:///node_modules/echarts/lib/component/timeline/typeDefaulter.js","webpack:///node_modules/echarts/lib/component/dataZoom/InsideZoomModel.js","webpack:///node_modules/echarts/lib/chart/lines.js","webpack:///node_modules/echarts/lib/coord/geo/fix/diaoyuIsland.js","webpack:///node_modules/echarts/lib/chart/gauge/GaugeView.js","webpack:///node_modules/echarts/lib/chart/funnel.js","webpack:///node_modules/echarts/lib/component/helper/interactionMutex.js","webpack:///node_modules/echarts/lib/chart/map/MapView.js","webpack:///node_modules/echarts/lib/chart/scatter/ScatterView.js","webpack:///node_modules/echarts/lib/chart/parallel/parallelVisual.js","webpack:///node_modules/zrender/lib/vml/graphic.js","webpack:///node_modules/echarts/lib/component/brush/selector.js","webpack:///node_modules/echarts/lib/component/marker/MarkPointModel.js","webpack:///node_modules/echarts/lib/component/tooltip/TooltipModel.js","webpack:///node_modules/echarts/lib/coord/polar/AngleAxis.js","webpack:///node_modules/echarts/lib/chart/sunburst/SunburstSeries.js","webpack:///node_modules/echarts/lib/coord/cartesian/prepareCustom.js","webpack:///node_modules/echarts/lib/chart/pictorialBar.js","webpack:///node_modules/echarts/lib/component/visualMap/visualEncoding.js","webpack:///node_modules/echarts/lib/chart/graph/circularLayout.js","webpack:///node_modules/echarts/lib/chart/themeRiver/ThemeRiverSeries.js","webpack:///node_modules/echarts/lib/chart/lines/LinesView.js","webpack:///node_modules/echarts/lib/component/brush/preprocessor.js","webpack:///node_modules/echarts/lib/component/axis.js","webpack:///node_modules/echarts/lib/chart/treemap/TreemapView.js","webpack:///node_modules/echarts/lib/component/axis/ParallelAxisView.js","webpack:///node_modules/echarts/lib/chart/helper/createClipPathFromCoordSys.js","webpack:///node_modules/echarts/lib/component/toolbox.js","webpack:///node_modules/zrender/lib/svg/helper/GradientManager.js","webpack:///node_modules/echarts/lib/component/visualMap/preprocessor.js","webpack:///node_modules/echarts/lib/component/axis/AngleAxisView.js","webpack:///node_modules/echarts/lib/chart/bar/barItemStyle.js","webpack:///node_modules/echarts/lib/chart/pie/labelLayout.js","webpack:///node_modules/echarts/lib/component/brush/brushAction.js","webpack:///node_modules/echarts/lib/chart/tree/treeAction.js","webpack:///node_modules/echarts/lib/component/visualMap/typeDefaulter.js","webpack:///node_modules/zrender/lib/svg/helper/ShadowManager.js","webpack:///node_modules/echarts/lib/component/axis/SingleAxisView.js","webpack:///node_modules/echarts/lib/component/helper/BrushTargetManager.js","webpack:///node_modules/echarts/lib/chart/candlestick/CandlestickSeries.js","webpack:///node_modules/echarts/lib/chart/sankey/sankeyAction.js","webpack:///node_modules/echarts/lib/chart/pie.js","webpack:///node_modules/echarts/lib/util/shape/sausage.js","webpack:///node_modules/echarts/lib/component/brush/BrushView.js","webpack:///node_modules/echarts/lib/chart/helper/labelHelper.js","webpack:///node_modules/echarts/lib/visual/LegendVisualProvider.js","webpack:///node_modules/echarts/lib/component/parallelAxis.js","webpack:///node_modules/echarts/lib/component/helper/cursorHelper.js","webpack:///node_modules/echarts/lib/coord/single/AxisModel.js","webpack:///node_modules/echarts/lib/coord/cartesian/Cartesian2D.js","webpack:///node_modules/echarts/lib/chart/scatter/ScatterSeries.js","webpack:///node_modules/echarts/lib/chart/sunburst/sunburstLayout.js","webpack:///node_modules/echarts/lib/component/axisPointer.js","webpack:///node_modules/echarts/lib/component/visualMap/helper.js","webpack:///node_modules/echarts/lib/chart/helper/EffectSymbol.js","webpack:///node_modules/echarts/lib/coord/geo/geoSVGLoader.js","webpack:///node_modules/echarts/lib/chart/helper/LargeSymbolDraw.js","webpack:///node_modules/echarts/lib/chart/tree/treeLayout.js","webpack:///node_modules/echarts/lib/coord/cartesian/Cartesian.js","webpack:///node_modules/echarts/lib/component/dataZoom/AxisProxy.js","webpack:///node_modules/echarts/lib/component/grid.js","webpack:///node_modules/echarts/lib/component/axisPointer/modelHelper.js","webpack:///node_modules/echarts/lib/chart/heatmap/HeatmapLayer.js","webpack:///node_modules/echarts/lib/chart/map/mapSymbolLayout.js"],"names":["echarts","boxplotVisual","boxplotLayout","registerVisual","registerLayout","_util","retrieve","defaults","extend","each","formatUtil","graphic","Model","_number","isRadianAroundZero","remRadian","_symbol","createSymbol","matrixUtil","_vector","v2ApplyTransform","applyTransform","_axisHelper","shouldShowAllLabels","PI","Math","AxisBuilder","axisModel","opt","labelOffset","nameDirection","tickDirection","labelDirection","silent","group","Group","dumbGroup","position","slice","rotation","updateTransform","_transform","transform","_dumbGroup","prototype","constructor","hasBuilder","name","builders","add","call","getGroup","axisLine","get","extent","axis","getExtent","matrix","pt1","pt2","lineStyle","lineCap","getModel","getLineStyle","Line","anid","subPixelOptimize","shape","x1","y1","x2","y2","style","strokeContainThreshold","z2","arrows","arrowSize","arrowOffset","symbolWidth","symbolHeight","rotate","offset","r","sqrt","point","index","symbol","stroke","pos","cos","sin","attr","axisTickLabel","ticksEls","buildAxisMajorTicks","labelEls","buildAxisLabel","fixMinMaxLabelShow","buildAxisMinorTicks","axisName","nameLocation","textStyleModel","gap","gapSignal","isNameLocationCenter","labelLayout","nameRotation","axisNameAvailableWidth","innerTextLayout","endTextLayout","abs","isFinite","textFont","getFont","truncateOpt","ellipsis","maxWidth","nameTruncateMaxWidth","truncatedText","truncateText","minChar","placeholder","tooltipOpt","mainType","formatterParams","componentType","$vars","componentIndex","textEl","Text","__fullText","__truncatedText","isLabelSilent","tooltip","show","content","formatter","setTextStyle","text","textFill","getTextColor","textAlign","textVerticalAlign","eventData","makeAxisEventDataBase","targetType","decomposeTransform","axisRotation","textRotation","direction","rotationDiff","textPosition","textRotate","inverse","onLeft","tickEls","showMinLabel","showMaxLabel","firstLabel","nextLabel","lastLabel","length","prevLabel","firstTick","nextTick","lastTick","prevTick","ignoreEl","isTwoLabelOverlapped","el","ignore","current","next","firstRect","getBoundingRect","clone","nextRect","mRotationBack","identity","mul","getLocalTransform","intersect","createTicks","ticksCoords","tickTransform","tickEndCoord","tickLineStyle","aniid","i","tickCoord","coord","tickEl","tickValue","push","axisBuilder","tickModel","scale","isBlank","lineStyleModel","getTicksCoords","minorTickModel","minorTicksCoords","getMinorTicksCoords","minorTickLineStyle","minorTicksEls","k","axisLabelShow","labelModel","labelMargin","labels","getViewLabels","labelRotation","labelRotate","rawCategoryData","getCategories","triggerEvent","labelItem","formattedLabel","rawLabel","itemLabelModel","textStyle","ecModel","textColor","dataToCoord","getShallow","type","value","_default","module","exports","_config","__DEV__","zrUtil","Eventful","interactionMutex","DataDiffer","curry","map","mathMin","min","mathMax","max","mathPow","pow","COVER_Z","UNSELECT_THRESHOLD","MIN_RESIZE_LINE_WIDTH","MUTEX_RESOURCE_KEY","DIRECTION_MAP","w","e","n","s","CURSOR_MAP","ne","sw","nw","se","DEFAULT_BRUSH_OPT","brushStyle","lineWidth","fill","transformable","brushMode","removeOnClick","baseUID","BrushController","zr","_zr","_brushType","_brushOption","_panels","_track","_dragging","_covers","_creatingCover","_creatingPanel","_enableGlobalPan","_uid","_handlers","pointerHandlers","handler","eventName","bind","enableBrush","brushOption","doDisableBrush","brushType","doEnableBrush","setPanels","panelOpts","panels","panelId","mount","enableGlobalPan","thisGroup","eachCover","cb","context","updateCovers","brushOptionList","merge","tmpIdPrefix","oldCovers","newCovers","controller","creatingCover","oldGetKey","getKey","addOrUpdate","update","remove","execute","id","cover","__brushOption","newIndex","oldIndex","newBrushOption","endCreating","createCover","updateCoverAfterCreation","unmount","clearCovers","dispose","off","mixin","take","mountHandlers","release","unmountHandlers","handlers","on","coverRenderers","updateZ","coverRenderer","getCoverRenderer","updateCoverShape","range","z","traverse","updateCommon","getPanelByPoint","localCursorPoint","panel","pn","isTargetByCursor","getPanelByCover","covers","originalLength","trigger","areas","isEnd","shouldShowCover","track","p2","p1","dx","dy","dist","getTrackEnds","tail","createBaseRectCover","doDrift","edgeNames","Rect","makeStyle","draggable","cursor","drift","ondragend","opacity","invisible","updateBaseRect","localRange","handleSize","x","y","xa","ya","x2a","y2a","width","height","widtha","heighta","updateRectShape","mainEl","childAt","useStyle","childOfName","globalDir","getGlobalDirection","h","setShape","pointsToRect","clipByPanel","strokeNoScale","formatRectRange","getTransform","localDirection","split","reverse","join","inverseMap","left","right","top","bottom","transformDirection","driftRect","toRectRange","fromRectRange","rectRange","localDelta","toLocalDelta","namePart","ind","driftPolygon","localD","transformCoordToLocal","localZero","data","clipPath","points","xmin","ymin","xmax","ymax","resetCursor","isOutsideZrArea","currPanel","contain","setCursorStyle","preventDefault","rawE","event","mainShapeContain","updateCoverByMouse","thisBrushOption","eventParams","determineBrushType","coverBrushOption","getCreatingRange","defaultBrushType","mousedown","handleDragEnd","target","offsetX","offsetY","mousemove","mouseup","getWidth","getHeight","lineX","getLineRenderer","lineY","rect","localTrack","ends","polygon","Polyline","Polygon","xyIndex","otherExtent","getLinearBrushOtherExtent","RadiusAxis","AngleAxis","Polar","cx","cy","_radiusAxis","_angleAxis","polar","axisPointerEnabled","dimensions","model","containPoint","pointToCoord","containData","getAxis","dim","getAxes","getAxesByScale","scaleType","axes","angleAxis","radiusAxis","getAngleAxis","getRadiusAxis","getOtherAxis","getBaseAxis","getTooltipAxes","baseAxis","baseAxes","otherAxes","dataToPoint","clamp","coordToPoint","dataToRadius","dataToAngle","pointToData","radiusToData","angleToData","minAngle","maxAngle","radius","radian","atan2","dir","getArea","radiusExtent","angleExtent","RADIAN","r0","startAngle","endAngle","clockwise","d2","samplers","average","frame","sum","count","isNaN","NaN","Infinity","nearest","indexSampler","round","seriesType","modifyOutputEnd","reset","seriesModel","api","getData","sampling","coordSys","coordinateSystem","valueAxis","size","rate","sampler","setData","downSample","mapDimension","SeriesModel","_whiskerBoxCommon","seriesModelMixin","BoxplotSeries","dependencies","defaultValueDimensions","defaultTooltip","defaultOption","zlevel","legendHoverLink","hoverAnimation","layout","boxWidth","itemStyle","color","borderWidth","emphasis","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","animationEasing","animationDuration","featureManager","lang","brushLang","toolbox","brush","Brush","_brushMode","icon","keep","clear","title","proto","render","updateView","featureModel","isBrushed","eachComponent","brushModel","setIconStatus","getIcons","availableIcons","icons","onclick","dispatchAction","intervals","command","key","register","textContain","axisHelper","buildElStyle","axisPointerModel","axisPointerType","styleModel","getAreaStyle","buildLabelElOption","elOption","labelPos","getValueLabel","precision","paddings","normalizeCssArray","font","textRect","align","verticalAlign","confineInContainer","bgColor","label","textPadding","viewWidth","viewHeight","seriesDataIndices","parse","getLabel","params","getAxisRawValue","axisDimension","axisIndex","seriesData","idxItem","series","getSeriesByIndex","seriesIndex","dataIndex","dataIndexInside","dataParams","getDataParams","isString","replace","isFunction","getTransformedPosition","layoutInfo","create","translate","buildCartesianSingleLabelElOption","textLayout","makeLineShape","xDimIndex","makeRectShape","xy","wh","makeSectorShape","legendModels","findComponents","filterSelf","idx","getName","isSelected","_simpleLayoutHelper","simpleLayout","simpleLayoutEdge","eachSeriesByType","coordDim","concat","hasValue","val","setItemLayout","graph","magicTypeLang","magicType","INNER_STACK_KEYWORD","MagicType","line","bar","stack","option","seriesOptGenreator","seriesId","markPoint","markLine","isStack","radioTypes","newOption","generateNewSeriesTypes","subType","newSeriesOpt","categoryAxis","axisDim","axisType","queryComponents","boundaryGap","radio","indexOf","item","query","newTitle","tiled","currentType","featureName","registerAction","payload","mergeOption","env","urn","win","window","vmlInited","doc","document","createNode","tagName","doCreateNode","canvasSupported","namespaces","zrvml","createElement","initVML","styleSheets","createStyleSheet","addRule","createGraphFromNodeEdge","_format","encodeHTML","SankeySeries","levelModels","getInitialData","links","edges","nodes","levels","depth","beforeLink","nodeData","edgeData","wrapMethod","customizeGetParent","path","parentModel","nodeDepth","getItemLayout","levelModel","edge","getGraph","getEdgeByIndex","node1","getLayout","setNodePosition","localPosition","dataItem","localX","localY","getEdgeData","formatTooltip","multipleSeries","dataType","rawDataOpt","html","source","node","getNodeByIndex","superCall","optionUpdated","focusNodeAdjacency","nodeValue","orient","nodeWidth","nodeGap","layoutIterations","fontSize","nodeAlign","borderColor","curveness","makeAction","method","actionInfo","selected","geoModel","geo","regions","region","numberUtil","CoordinateSystem","PROXIMATE_ONE_DAY","Calendar","calendarModel","_model","getDimensionsInfo","getRangeInfo","_rangeInfo","getRect","_rect","getCellWidth","_sw","getCellHeight","_sh","getOrient","_orient","getFirstDayOfWeek","_firstDayOfWeek","getDateInfo","date","parseDate","getFullYear","m","getMonth","d","getDate","day","getDay","time","getTime","formatedDate","getNextNDay","Date","setDate","_lineWidth","getItemStyle","_getRangeInfo","_initRangeOption","weeks","whNames","cellSize","layoutParams","getBoxLayoutParams","cellNumbers","cellSizeSpecified","whGlobal","calendarRect","getLayoutRect","isArray","dayInfo","start","end","week","nthWeek","pointToDate","dataToRect","contentShape","center","tl","tr","br","bl","nthX","floor","nthY","_getDateByWeeksAndDay","convertToPixel","doConvert","convertFromPixel","rg","test","firstDay","setMonth","tmp","reversed","allDay","startDateNum","endDateNum","dateNum","sign","fweek","lweek","rangeInfo","nthDay","calendarList","calendar","eachSeries","calendarSeries","methodName","finder","legendFilter","Component","registerProcessor","PRIORITY","PROCESSOR","SERIES_FILTER","registerSubTypeDefaulter","_roamHelper","updateCenterAndZoom","res","setCenter","setZoom","zoom","globalListener","AxisPointerView","extendComponentView","globalAxisPointerModel","globalTooltipModel","getComponent","triggerOn","currTrigger","unregister","getZr","superApply","arguments","Path","vec2","fixClipWithShadow","vec2Min","vec2Max","scaleAndAdd","v2Copy","copy","v","cp0","cp1","isPointNull","p","drawSegment","ctx","segLen","allLen","smoothMin","smoothMax","smooth","smoothMonotone","connectNulls","drawNonMono","apply","drawMono","prevIdx","prevP","ctrlLen","bezierCurveTo","lineTo","nextIdx","nextP","ratioNextSeg","sub","lenPrevSeg","lenNextSeg","getBoundingBox","smoothConstraint","ptMin","ptMax","pt","buildPath","len","result","stackedOnPoints","stackedOnSmooth","bbox","stackedOnBBox","closePath","BaseBarSeries","PictorialBarSeries","symbolSize","symbolRotate","symbolPosition","symbolOffset","symbolMargin","symbolRepeat","symbolRepeatDirection","symbolClip","symbolBoundingData","symbolPatternSize","barGap","progressive","setSelected","dataColor","sunburstLayout","dataFilter","listComponentHelper","toolboxModel","removeAll","itemSize","featureOpts","features","_features","featureNames","_featureNames","processFeature","oldName","featureOpt","feature","isUserFeatureName","Feature","unusable","createIconPaths","iconName","status","iconPaths","iconStatus","iconStyleModel","iconStyleEmphasisModel","titles","iconStr","createIcon","setStyle","hoverStyle","textBorderRadius","tooltipModel","setHoverStyle","__title","defaultTextPosition","textBackgroundColor","makeBackground","eachChild","titleText","makeFont","needPutOnTop","topOffset","view","zoomLimit","previousZoom","getZoom","getCenter","zoomMin","zoomMax","fixX","originX","fixY","originY","layoutUtil","ParallelAxis","sliderMove","mathFloor","mathCeil","ceil","Parallel","parallelModel","_axesMap","createHashMap","_axesLayout","_init","parallelAxisIndex","set","createScaleByModel","isCategory","onBand","_updateAxesFromSeries","_makeLayoutInfo","axisBase","layoutBase","pixelDimIndex","pAxis","pLayout","axisLength","layoutLength","contains","unionExtentFromData","niceScaleExtent","resize","_layoutAxes","layoutExtent","axisCount","axisExpandWidth","restrict","axisExpandCount","axisExpandable","axisExpandWindow","winSize","axisExpandCenter","axisCollapseWidth","winInnerIndices","axisExpandWindow0Pos","axisExtent","setExtent","posInfo","layoutAxisWithExpand","layoutAxisWithoutExpand","positionTable","horizontal","vertical","rotationTable","axisCoordToPoint","eachActiveState","callback","axesMap","dataDimensions","axisModels","hasActiveSet","hasAxisBrushed","activeState","values","getValues","j","lenj","state","getActiveState","axisLayout","getAxisLayout","getSlidedAxisExpandWindow","behavior","pointCoord","delta","triggerArea","useJump","step","ComponentModel","axisModelCreator","axisModelCommonMixin","PolarAxisModel","getCoordSysModel","polarIndex","polarId","polarAxisDefaultExtendedOption","angle","splitNumber","axisLabel","getAxisType","treemapVisual","treemapLayout","registerPreprocessor","history","restoreLang","restore","Restore","from","uid","resetOption","_core","util","logError","ZImage","ZText","arrayDiff","GradientManager","ClippathManager","ShadowManager","_graphic","svgPath","svgImage","image","svgText","parseInt10","parseInt","getSvgProxy","checkParentAvailable","parent","child","parentNode","insertAfter","prevSibling","nextSibling","insertBefore","appendChild","prepend","firstChild","removeChild","getTextSvgElement","displayable","__textSvgEl","getSvgElement","__svgEl","SVGPainter","root","storage","opts","zrId","_opts","svgDom","setAttribute","cssText","bgRoot","svgRoot","gradientManager","clipPathManager","shadowManager","viewport","_svgDom","_svgRoot","_backgroundRoot","_viewport","_visibleList","getType","getViewportRoot","getSvgDom","getSvgRoot","getViewportRootOffset","viewportRoot","offsetLeft","offsetTop","refresh","list","getDisplayList","_paintList","setBackgroundColor","backgroundColor","_backgroundNode","bgNode","markAllUnused","visibleList","listLen","newVisibleList","svgProxy","svgElement","__dirty","diff","prevSvgElement","removed","indices","textSvgElement","added","addWithoutUpdate","markUsed","removeUnused","_getDefs","isForceCreating","defs","getElementsByTagName","children","display","_getSize","_width","_height","viewportStyle","whIdx","cwh","plt","prb","parseFloat","stl","defaultView","getComputedStyle","innerHTML","toDataURL","encodeURIComponent","outerHTML","createMethodNotSupport","clazzUtil","axisPointerModelHelper","eventTool","throttleUtil","makeInner","inner","BaseAxisPointer","_group","_lastGraphicKey","_handle","_lastValue","_lastStatus","_payloadInfo","animationThreshold","forceRender","_axisModel","_axisPointerModel","_api","handle","hide","makeElOption","graphicKey","moveAnimation","_moveAnimation","determineAnimation","createPointerEl","createLabelEl","doUpdateProps","updateProps","updatePointerEl","updateLabelEl","updateMandatoryProps","_renderHandle","animation","isCategoryAxis","useSnap","getBandWidth","seriesDataCount","getAxisInfo","pointerOption","pointer","pointerEl","labelEl","updateLabelShowHide","updateHandleTransform","handleModel","isInit","onmousemove","stop","onmousedown","_onHandleDragMove","_onHandleDragEnd","includeStyles","createOrUpdate","_moveHandleToValue","getHandleTransProps","getHandleTransform","trans","stopAnimation","lastProp","_doDispatchAxisPointer","payloadInfo","cursorPoint","tooltipOption","axesInfo","doClear","buildLabel","animationModel","props","propsEqual","lastProps","newProps","isObject","equals","enableClassExtend","ChartView","NORMAL_ITEM_STYLE_PATH","EMPHASIS_ITEM_STYLE_PATH","BoxplotView","oldData","_data","constDim","newIdx","itemLayout","symbolEl","createNormalBox","setItemGraphicEl","oldIdx","getItemGraphicEl","updateNormalBoxData","eachItemGraphicEl","noop","BoxPath","moveTo","transInit","hostModel","updateMethod","itemModel","getItemModel","normalItemStyleModel","getItemVisual","initBaseline","TimelineModel","dataFormatMixin","SliderTimelineModel","interval","checkpointStyle","controlStyle","showPlayBtn","showPrevBtn","showNextBtn","itemGap","playIcon","stopIcon","nextIcon","prevIcon","normalize","a","Array","symbolType","colorQuery","opacityQuery","setVisual","getVisual","node2","makeStyleMapper","AxisModel","activeIntervals","getAreaSelectStyle","setActiveIntervals","asc","areaSelectStyle","realtime","graphicUtil","_labelHelper","getDefaultLabel","createListFromArray","_barGrid","getLayoutOnAxis","_createClipPathFromCoordSys","createClipPath","prepareCartesian2d","prepareGeo","prepareSingleAxis","preparePolar","prepareCalendar","CACHED_LABEL_STYLE_PROPERTIES","ITEM_STYLE_NORMAL_PATH","ITEM_STYLE_EMPHASIS_PATH","LABEL_NORMAL","LABEL_EMPHASIS","GROUP_DIFF_PREFIX","prepareCustoms","cartesian2d","singleAxis","useTransform","clip","getSource","info","customSeries","renderItem","makeRenderItem","setClipPath","removeClipPath","incrementalPrepareRender","incrementalRender","setIncrementalAndHoverLayer","isGroup","incremental","useHoverLayer","filterForExposedEvent","eventType","targetEl","packedEvent","elementName","element","createEl","graphicType","pathRect","pathData","getPathData","makePath","__customPathData","Image","__customImagePath","__customText","Error","Clz","getShapeClass","__customGraphicType","updateEl","animatableModel","isRoot","transitionProps","elOptionStyle","origin","targetStyle","prop","prepareStyleTransition","hasOwnProperty","textStroke","targetOpacity","initProps","styleEmphasis","setElementHoverStyle","setAsHighDownDispatcher","oldElStyle","prepareResult","userAPI","getDevicePixelRatio","visual","barLayout","currentSeriesIndices","userParams","seriesName","dataInsideLength","encode","wrapEncodeDef","currDataIndexInside","currDirty","currItemModel","currLabelNormalModel","currLabelEmphasisModel","currVisualColor","getRawIndex","actionType","updateCache","getDimension","extra","applyExtraBefore","autoColor","isRectText","retrieve2","getFormattedLabel","applyExtraAfter","retrieve3","visualType","getCurrentSeriesIndices","encodeDef","dimName","dataDimIndex","dimInfo","getDimensionInfo","isExtraCoord","dataDims","coordDimIndex","doCreateOrUpdate","simplyRemove","elOptionType","elOptionShape","hasOwnPathData","hasOwn","mergeChildren","newChildren","newLen","$mergeChildren","byName","diffChildrenByName","notMerge","diffGroupChildren","oldChildren","processAddUpdate","processRemove","childOption","dummyModel","stylePropName","modelPropName","host","setLabel","normalStyle","labelPositionOutside","hoverLabelModel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","fixPosition","createListSimply","_dimensionHelper","getDimensionTypeByAxis","_sourceHelper","makeSeriesEncodeForAxisCoordSys","_baseAxisDim","ordinalMeta","xAxisModel","yAxisModel","xAxisType","yAxisType","addOrdinal","getOrdinalMeta","coordDims","baseAxisDimIndex","baseAxisDim","otherAxisDim","baseAxisType","otherAxisType","newOptionData","newItem","unshift","coordDimensions","otherDims","itemName","dimsDef","dimensionsCount","encodeDefaulter","createDimensions","List","nameList","dimensionsInfo","initData","createWrap","elExistsMap","doneCallback","delay","easing","done","animateTo","scrollDataIndex","legendModel","setScrollDataIndex","modelHelper","findPointFromSeries","coordSysAxesInfo","illegalPoint","isIllegalPoint","inputAxesInfo","shouldHide","outputFinder","showValueMap","dataByCoordSys","updaters","showPointer","showTooltip","coordSysMap","coordSysKey","coordSysContainsPoint","axisInfo","inputAxisInfo","findInputAxisInfo","processOnAxis","linkTriggers","tarAxisInfo","tarKey","linkGroup","srcAxisInfo","srcKey","srcValItem","mapper","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","dontSnap","involveSeries","buildPayloadsBySeries","payloadBatch","snapToValue","snap","minDist","Number","MAX_VALUE","minDiff","seriesModels","dataDim","seriesNestestValue","dataIndices","getAxisTooltipData","nestestValue","indicesOfNearest","triggerTooltip","coordSysModel","makeKey","coordSysItem","coordSysId","coordSysIndex","coordSysType","coordSysMainType","dataByAxis","axisId","valueLabelOpt","outputAxesInfo","valItem","useHandle","sampleItem","escapeConnect","highDownKey","lastHighlights","newHighlights","batchItem","toHighlight","toDownplay","batch","vmlCore","VMLPainter","vmlViewport","vmlRoot","_vmlRoot","_vmlViewport","oldDelFromStorage","delFromStorage","oldAddToStorage","addToStorage","onRemove","onAdd","_firstPaint","__alreadyNotVisible","beforeBrush","brushVML","afterBrush","_getWidth","_getHeight","vmlViewportStyle","currentStyle","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","seriesItem","visualDefault","VisualMapping","visualSolution","modelUtil","mapVisual","eachVisual","linearMap","VisualMapModel","extendComponentModel","stateList","replacableOptionKeys","dataBound","layoutMode","ignoreSize","dimension","inRange","outOfRange","itemWidth","itemHeight","contentColor","inactiveColor","padding","textGap","init","_dataExtent","targetVisuals","controllerVisuals","mergeDefaultAndTheme","thisOption","replaceVisualOption","resetItemSize","completeVisualOption","resetVisual","supplementVisualOption","createVisualMappings","getTargetSeriesIndices","optionSeriesIndex","seriesIndices","normalizeToArray","eachTargetSeries","isTargetSeries","is","formatValueText","edgeSymbols","isMinMax","textValue","toFixed","resetExtent","getDataDimension","optDim","listDimensions","dimNames","isCalculationCoord","base","completeSingle","completeInactive","completeController","defa","stateExist","stateAbsent","optExist","optAbsent","visualData","isValidType","symbolExists","symbolSizeExists","visuals","categories","getValueState","getVisualMeta","dataToCoordSize","dataSize","dimIdx","halfSize","handleEnds","handleIndex","minSpan","maxSpan","extentSpan","handleSpan","originalDistSign","getSpanSign","extentMinSpan","realExtent","currDistSign","span","visualSymbol","layoutPoints","dataSample","STATISTIC","treeLayout","Axis","Axis2D","coordExtent","getAxesOnZeroOf","isHorizontal","getGlobalExtent","ret","toGlobalCoord","grid","coordToData","toLocalCoord","inherits","parsePercent","groupResult","groupSeriesByAxis","groupItem","calculateBase","layoutSingleSeries","boxOffsetList","boxWidthList","axisList","seriesCount","boundList","bandWidth","maxDataCount","boxWidthBound","availableWidth","boxGap","halfWidth","cDimIdx","vDimIdx","cDim","vDims","axisDimVal","median","getPoint","end1","end2","end4","end5","addBodyEnd","layEndLine","point1","point2","endCenter","to","controlPosition","autoPlay","rewind","loop","playInterval","currentIndex","_names","_initData","setCurrentIndex","getCurrentIndex","isIndexMax","setPlayState","getPlayState","dataArr","names","idxArr","getDataItemValue","dimType","category","single","axisPosition","rectBound","positionMap","directionMap","labelInside","MONTH_TEXT","EN","CN","WEEK_TEXT","_tlpoints","_blpoints","_firstDayOfMonth","_firstDayPoints","rangeData","_renderDayRect","_renderLines","_renderYearText","_renderMonthText","_renderWeekText","itemRectStyleModel","sh","self","addPoints","_getLinePointsOfOneWeek","_drawSplitline","_getEdgesPoints","rs","poyline","tmpD","_formatterLabel","formatTplSimple","nameMap","_yearTextPositionControl","margin","aligns","yearLabel","xc","yc","posPoints","yearText","_monthTextPositionControl","isCenter","vAlign","monthLabel","termPoints","toUpperCase","firstDayPoints","yyyy","yy","MM","M","monthText","_weekTextPositionControl","isStart","dayLabel","firstDayOfWeek","weekText","preprocessor","dataEach","setItemVisual","hasItemOption","Geo","geoSourceManager","mapDataStorage","resizeGeo","boundingCoords","leftTop","rightBottom","setBoundingRect","boxLayoutOption","aspect","aspectScale","useCenterAndSize","viewRect","setViewRect","setGeoCoords","geoCoord","addGeoCoord","geoCreator","geoList","invertLongitute","mapRecords","retrieveMap","geoIndex","mapModelGroupBySeries","getHostGeoModel","mapType","getMapType","mapSeries","nameMapList","singleMapSeries","mergeAll","getFilledRegions","originRegionArr","mapName","regionsArr","dataNameMap","load","registerCoordinateSystem","forceLayout","gravity","random","pp","initialFriction","friction","warmUp","setFixed","fixed","setUnfixed","v12","nLen","ignoreForceLayout","n1","n2","repFact","rep","_helper","prepareDataCoordInfo","getStackedOnPoint","diffData","newData","diffResult","cmd","idx1","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","currPoints","nextPoints","currStackedPoints","nextStackedPoints","sortedIndices","rawIndices","newDataOldCoordInfo","oldDataNewCoordInfo","diffItem","pointAdded","currentPt","nextPt","dataDimsForPoint","rawIndex","sort","b","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","stackedOnCurrent","stackedOnNext","viewHelper","singleAxisHelper","AxisView","XY","WH","SingleAxisPointer","getPointDimIndex","pixelValue","elStyle","pointerShapeBuilder","dimIndex","currPosition","cursorOtherValue","targetShape","shadow","registerAxisPointerClass","LegendModel","_layout","mergeLayoutParam","getLayoutParams","ScrollableLegendModel","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","animationDurationUpdate","extraOpt","inputPositionParams","mergeAndNormalizeLayoutParams","raw","_bbox","fromPoints","SymbolDraw","SymbolClz","lineAnimationDiff","_poly","createGridClipPath","createPolarClipPath","isPointsSame","points1","points2","getBoundingDiff","min1","max1","min2","max2","getSmooth","getStackedOnPoints","dataCoordInfo","valueDim","turnPointsIntoStep","stepTurnAt","baseIndex","stepPoints","stepPt","middle","stepPt2","getVisualGradient","visualMetaList","visualMeta","colorStops","stops","stopLen","outerColors","tinyExtent","minCoord","maxCoord","coordSpan","gradient","LinearGradient","getIsIgnoreFunc","showAllSymbol","isAuto","canShowAllSymbolForCategory","categoryDataDim","labelMap","availSize","dataLen","getSymbolSize","createLineClipPath","hasAnimation","rectShape","expandSize","lineGroup","symbolDraw","_symbolDraw","_lineGroup","areaStyleModel","mapArray","isCoordSysPolar","prevCoordSys","_coordSys","polyline","_polyline","_polygon","isAreaChart","isEmpty","valueOrigin","showSymbol","isIgnoreFunc","__temp","clipShapeForSymbol","r1","_clipShapeForSymbol","_step","updateData","isIgnore","clipShape","_newPolyline","_newPolygon","_stackedOnPoints","_points","_updateAnimation","visualColor","lineJoin","stackedOnSeries","getCalculationInfo","_valueOrigin","highlight","queryDataIndex","setZ","stopSymbolAnimation","downplay","__points","updatedDataInfo","diffStatus","ptIdx","animators","during","_zrender","registerPainter","Painter","cartesianAxisHelper","_axisSplitHelper","rectCoordAxisBuildSplitArea","rectCoordAxisHandleRemove","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","axisPointerClass","oldAxisGroup","_axisGroup","gridModel","groupTransition","_splitLine","splitLineModel","lineColors","gridRect","lineCount","colorIndex","_minorSplitLine","minorSplitLineModel","_splitArea","parallelPreprocessor","CLICK_THRESHOLD","_throttledDispatchExpand","_dispatchExpand","checkTrigger","_mouseDownPoint","mouseDownPoint","debounceNextCall","DEFAULT_OUT_OF_BRUSH_COLOR","BrushModel","brushLink","xAxisIndex","yAxisIndex","throttleType","throttleDelay","coordInfoList","inBrush","outOfBrush","liftZ","setAreas","area","generateBrushOption","setBrushOption","getPercentWithPrecision","dataSelectableMixin","_dataProvider","retrieveRawAttr","makeSeriesEncodeForNameBased","LegendVisualProvider","PieSeries","extendSeriesModel","legendVisualProvider","getRawData","updateSelectedMap","_createSelectableList","_defaultLabelLine","targetList","valueList","percent","defaultEmphasis","labelLineNormalOpt","labelLine","labelLineEmphasisOpt","minShowLabelAngle","selectedOffset","hoverOffset","avoidLabelOverlap","percentPrecision","stillShowZeroSum","alignTo","bleedMargin","distanceToLabelLine","length2","animationType","animationTypeUpdate","BoundingRect","_cursorHelper","onIrrelevantElement","makeRectPanelClipPath","normalizeRect","localPoints","clipPointsByRect","makeLinearBrushOtherExtent","specifiedXYIndex","brushWidth","makeRectIsTargetByCursor","targetModel","_treeHelper","wrapTreePathInfo","TEXT_PADDING","ITEM_GAP","ARRAY_LENGTH","Breadcrumb","containerGroup","targetNode","onSelect","normalStyleModel","layoutParam","box","emptyItemWidth","totalWidth","renderList","_prepare","_renderContent","positionElement","getTextRect","lastX","availableSize","getAvailableSize","itemNode","makeItemPoints","packEventData","head","splice","componentSubType","selfType","treePathInfo","dataStatistics","datas","statisticType","mapKey","seriesGroups","hostGeoModel","seriesList","originalData","seriesGroup","needsDrawMap","cloneShallow","mainSeries","symbolCtor","_symbolCtor","symbolDrawProto","symbolNeedsDraw","normalizeUpdateOpt","SymbolCtor","seriesScope","makeSeriesScope","fadeOut","isPersistent","updateLayout","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","enableAnimation","hoverItemStyle","cursorStyle","VisualMapView","helper","PiecewiseVisualMapView","doRender","visualMapModel","itemAlign","_getItemAlign","viewData","_getViewData","endsText","showLabel","_renderEndsText","viewPieceList","renderBackground","positionGroup","piece","itemGroup","_onItemClick","_enableHoverLink","indexInModelPieceList","representValue","getRepresentValue","_createItemSymbol","visualState","pieceIndex","onHoverLink","hoverLink","makeHighDownBatch","findTargetDataIndices","modelOption","getItemAlign","getPieceList","shapeParam","getControllerVisual","newKey","getSelectedMapKey","selectedMode","o","visualMapId","visualColorAccessPath","setEncodeAndDimensions","getRawIndicesByActiveState","theActiveState","parallelIndex","inactiveOpacity","activeOpacity","encodeDefine","convertDimNameToNumber","FunnelSeries","getSum","minSize","maxSize","funnelAlign","View","_nameCoordMap","nameCoordMap","_regionsMap","regionsMap","_invertLongitute","boundingRect","containCoord","transformTo","rawTransformable","_rawTransformable","calculateTransform","_updateTransform","getRegion","getRegionByCoord","getGeoCoord","noRoam","out","getReferringComponents","otherAxisOnZeroOf","rawAxisPosition","onZero","axisOffset","posBound","onZeroCoord","dirMap","updateViewOnPan","controllerHost","dirty","updateViewOnZoom","zoomDelta","zoomX","zoomY","newZoom","zoomScale","xAxis","yAxis","zrColor","eventUtil","domUtil","toCamelCase","vendors","gCssText","assembleTransition","duration","transitionCurve","transitionText","vendorPrefix","assembleFont","lineHeight","assembleCssText","transitionDuration","toHex","borderName","camelCase","makeStyleCoord","appendToBody","zrX","zrY","zrPainter","painter","zrViewportRoot","transformLocalCoord","body","viewportRootOffset","TooltipContent","container","wxa","domBelongToZr","_appendToBody","_styleCoord","_container","_show","_hideTimeout","onmouseenter","_enterable","clearTimeout","_inContent","normalizeEvent","dispatch","onmouseleave","hideLater","_hideDelay","domStyle","alwaysShowContent","_moveTooltipIfResized","ratioX","ratioY","realX","realY","styleCoord","pointerEvents","setContent","setEnterable","enterable","getSize","setTimeout","isShow","getOuterSize","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","linkList","TreeNode","hostTree","viewChildren","isRemoved","eachNode","options","order","suppressVisitSub","updateDepthAndHeight","getNodeById","getId","getAncestors","includeSelf","ancestors","getValue","setLayout","ignoreParent","isAncestorOf","isDescendantOf","Tree","_nodes","getNodeByDataIndex","getNodeByName","clearLayouts","clearItemLayouts","createTree","dataRoot","tree","listData","dimMax","buildHierarchy","dataNode","addChild","mainData","struct","structAttr","reformIntervals","PiecewiseModel","minOpen","maxOpen","itemSymbol","pieceList","_pieceList","mode","_mode","_determineMode","resetMethods","_resetSelected","mappingOption","mappingMethod","dataExtent","visualTypesInPieces","visualTypes","listVisualTypes","pieces","exists","has","obj","hasSel","findPieceIndex","pIdx","pieceInterval","getColorVisual","setStop","valueState","curr","splitStep","close","cate","normalizeReverse","pieceListItem","closeList","infinityList","useMinMax","lg","retrieveVisuals","parallelVisual","candlestickVisual","candlestickLayout","TimelineAxis","getLabelModel","createRenderPlanner","LargeArr","Float32Array","plan","candleWidth","calculateCandleWidth","openDim","closeDim","lowestDim","highestDim","isSimpleBox","progress","pipelineContext","large","largeProgress","normalProgress","openVal","closeVal","lowestVal","highestVal","ocLow","ocHigh","ocLowPoint","ocHighPoint","lowestPoint","highestPoint","subPixelOptimizePoint","getSign","brushRect","makeBrushRect","pmin","pmax","tmpIn","tmpOut","barMaxWidth","barMinWidth","barWidth","curveUtil","EffectLine","lineData","createLine","_updateEffectSymbol","effectLineProto","effectModel","_symbolType","culling","setColor","_symbolScale","_updateEffectAnimation","period","constantSpeed","delayExpr","isDelayFunc","updateAnimationPoints","getLineLength","_period","_loop","__t","animator","animate","when","updateSymbolPosition","__p1","__cp1","__p2","t","lastPos","quadraticAt","quadraticDerivativeAt","tx","ty","__lastT","undefined","scaleY","Diff","oldArr","newArr","oldLen","editLength","maxEditLength","bestPath","newPos","components","oldPos","extractCommon","execEditLength","diagonalPath","basePath","addPath","removePath","canAdd","canRemove","clonePath","pushComponent","buildValues","last","commonCount","tokenize","componentPos","componentLen","component","KEY_DELIMITER","getAutoCurvenessParams","createCurveness","appendLength","autoCurvenessParmas","curvenessList","__curvenessList","getKeyOfEdges","getOppositeKey","keys","getEdgeFromMap","__edgeMap","getTotalLengthBetweenNodes","getEdgeMapLengthWithKey","lenV","edgeMap","initCurvenessList","createEdgeMapForCurveness","oppositeEdges","isForward","getCurvenessForEdge","needReverse","autoCurvenessParams","isArrayParam","edgeArray","edgeIndex","totalLen","curKey","parityCorrection","oppositeKey","resValue","RoamController","roamHelper","_component","getUID","Transformable","getFixedItemStyle","areaColor","updateMapSelectHandler","mapDraw","mapOrGeoModel","regionsGroup","fromView","_mouseDownFlag","__regions","action","updateMapSelected","otherRegionEl","MapDraw","updateGroup","_controller","_controllerHost","_updateGroup","_mapName","_initialized","_regionsGroup","_backgroundGroup","draw","isGeo","_updateBackground","transformInfo","getTransformInfo","isFirstDraw","targetScale","roamTransform","rawScale","rawPosition","itemStyleAccessPath","hoverItemStyleAccessPath","labelAccessPath","hoverLabelAccessPath","regionGroup","compoundPath","CompoundPath","segmentIgnoreThreshold","paths","regionModel","getRegionModel","itemStyleModel","hoverItemStyleModel","dataIdx","indexOfName","transformPoint","geometries","geometry","exterior","interiors","interior","hoverShowLabel","isDataNaN","useInsideStyle","textScale","groupRegions","highDownSilentOnTouch","_updateController","removeGraphic","makeGraphic","enable","makeActionBase","setPointerChecker","getViewRectAfterRoam","minValue","maxValue","mapping","mapValueToColor","mapValueToVisual","customColor","LegendView","ScrollableLegendView","newlineDisabled","_currentIndex","_containerGroup","getContentGroup","_controllerGroup","_showController","resetInner","__rectSize","renderInner","selector","selectorPosition","me","controllerGroup","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","_pageGo","layoutInner","isFirstRender","selectorGroup","getSelectorGroup","orientIdx","hw","yx","selectorButtonGap","selectorRect","selectorPos","processMaxSize","mainRect","_layoutContentAndController","contentGroup","contentRect","controllerRect","showController","contentPos","containerPos","controllerPos","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","legendId","canJump","pageText","total","pageCount","containerRectSize","targetItemIndex","_findTargetItemIndex","targetItem","itemCount","pCount","pagePrevDataIndex","pageNextDataIndex","targetItemInfo","getItemInfo","winStartItemInfo","winEndItemInfo","currItemInfo","itemRect","__legendDataIndex","itemInfo","winStart","targetDataIndex","defaultIndex","legendDataIdx","BrushTargetManager","STATE_LIST","DISPATCH_METHOD","DISPATCH_FLAG","PRIORITY_BRUSH","VISUAL","BRUSH","layoutCovers","brushTargetManager","setInputRanges","brushSelected","brushIndex","thisBrushSelected","brushId","brushName","linkedSeriesMap","selectedDataIndexForLink","rangeInfoBySeries","hasBrushExists","bindSelector","boundingRectBuilders","visualMappings","linkOthers","brushed","rangeInfoList","stepAParallel","stepAOthers","selectorsByBrushType","getSelectorsByBrushType","brushModelNotControll","controlSeries","checkInRange","seriesBrushSelected","applyVisual","doDispatch","fn","isDisposed","selectors","brushSelector","sels","selectorsByElementType","bSelector","sel","selFn","elType","getBoundingRectFromMinMax","minMax","getTooltipPosition","axisDefault","valueAxisDefault","defaultsShow","RadarModel","axisTick","nameTextStyle","showName","nameFormatter","nameGap","indicatorModels","indicatorOpt","iNameTextStyle","indName","getIndicatorModels","splitLine","splitArea","indicator","coordsOffsetMap","coordFix","cp","getProgressive","getProgressiveThreshold","progressiveThreshold","largeThreshold","roundCap","showBackground","backgroundStyle","borderType","borderRadius","records","initGlobalListeners","record","initialized","useHandler","doEnter","onLeave","dis","makeDispatchAction","dispatchTooltipFinally","pendings","showLen","showTip","hideLen","hideTip","actuallyPayload","pendingList","symbolProto","getScale","driftSymbol","_createSymbol","keepAspect","symbolPath","toLastFrame","getSymbolPath","setDraggable","_updateCommon","fadeIn","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","symbolInnerColor","z2Origin","__z2Origin","useNameLabel","getLabelDefaultText","__symbolOriginalScale","highDownOnUpdate","isAnimationEnabled","fromState","toState","ratio","emphasisOpt","keepLabel","symbolUtil","normalizeSymbolSize","extendChartView","updateSymbols","oldPoints","newPoints","symbolGroup","__dimIdx","getInitialPoints","hoverAreaStyleModel","polygonIgnore","hoverPolygonIgnore","itemHoverStyle","labelHoverModel","labelDimIndex","radiusAxisModel","axisAngle","layoutAxis","splitLines","Circle","mergePath","lines","splitAreaModel","areaColors","splitAreas","prevRadius","Sector","MarkerModel","distance","SKIP_PROPS","CandlestickView","_updateDrawMode","_isLargeDraw","_renderLarge","_renderNormal","_clear","_incrementalRenderLarge","_incrementalRenderNormal","isLargeDraw","needsClip","clipArea","isNormalBoxClipped","setBoxCommon","createLarge","NormalBoxPath","__simpleBox","clipped","LargeBoxPath","__sign","largePoints","elP","elN","setLargeStyle","suffix","updateDataSelected","toggleItemSelected","midAngle","PiePiece","sector","piePieceProto","firstCreate","labelText","sectorShape","withAnimation","_updateLabel","hoverIgnore","normalIgnore","targetLineShape","linePoints","targetTextStyle","labelLineModel","labelLineHoverModel","inside","PieView","sectorGroup","_sectorGroup","onSectorClick","piePiece","_createClipPath","initOrUpdate","_multipleGraphEdgeHelper","eachEdge","_dataStackHelper","getStackedDimension","resizePolar","polarModel","updatePolarScale","setAxis","polarCreator","polarList","findAxisModel","angleAxisModel","isDimensionStacked","getSeriesStackId","getAxisKey","barLayoutPolar","lastStackCoords","barWidthAndOffset","calRadialBar","filter","getSeriesByType","isSeriesFiltered","axisKey","stackId","columnLayoutInfo","columnOffset","columnWidth","barMinHeight","barMinAngle","baseDim","stacked","clampLayout","valueAxisStart","baseValue","baseCoord","radiusSpan","angleSpan","barSeries","columnsMap","columnsOnAxis","remainedWidth","autoWidthCount","categoryGap","stacks","barCategoryGap","coordSysName","barGapPercent","autoWidth","column","widthSum","lastColumn","mathCos","mathSin","selectableMixin","GeoModel","_optionModelMap","reduce","optionModelMap","regionOpt","scaleLimit","categoryFilter","categoryVisual","edgeVisual","circularLayout","createView","POST_CHART_LAYOUT","IndicatorAxis","IntervalScale","getScaleExtent","LogScale","Radar","radarModel","_indicatorAxes","indicatorModel","indicatorAxis","getIndicatorAxes","indicatorIndex","minRadianDiff","closestAxis","closestAxisIdx","viewSize","indicatorAxes","radarSeries","increaseInterval","exp10","log","LN10","f","rawExtent","fixedMin","getMin","fixedMax","getMax","getInterval","setInterval","nicedSplitNumber","getTicks","radarList","radar","Graph","directed","addNode","linkNameList","validEdges","linkCount","link","addEdge","coordSysCtor","dimensionNames","datasAttr","ctor","leaves","leavesModel","isExpand","treeDepth","expandAndCollapse","expandTreeDepth","initialTreeDepth","getRawDataItem","collapsed","realRoot","edgeShape","edgeForkPosition","roam","nodeScaleRatio","useEncodeDefaulter","hoverLayerThreshold","axisExpandRate","axisExpandDebounce","axisExpandSlideTriggerArea","axisExpandTriggerOn","parallelAxisDefault","_initDimensions","setAxisExpand","dependentModels","parallelAxis","hierNode","defaultAncestor","ancestor","prelim","modifier","change","shift","thread","pop","firstWalk","separation","siblings","subtreeW","executeShifts","midPoint","apportion","secondWalk","nodeX","defaultSeparation","radialCoordinate","radialCoor","getViewRect","subtreeV","nodeOutRight","nodeInRight","nodeOutLeft","nodeInLeft","sumOutRight","sumInRight","sumOutLeft","sumInLeft","nextRight","nextLeft","moveSubtree","nextAncestor","wl","wr","throttle","DataZoomView","DEFAULT_LOCATION_EDGE_GAP","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","SliderZoomView","_displayables","_range","_handleEnds","_size","_handleWidth","_handleHeight","_location","_dataShadowInfo","dataZoomModel","_buildView","_updateView","_resetLocation","_resetInterval","barGroup","_renderBackground","_renderDataShadow","_positionGroup","coordRect","_findCoordRect","ecSize","positionInfo","layoutRect","location","targetAxisModel","getFirstTargetAxisModel","otherAxisInverse","_getViewExtent","_onClickPanelClick","_prepareDataShadowInfo","otherDim","getShadowDim","otherDataExtent","getDataExtent","otherOffset","otherShadowExtent","thisShadowExtent","areaPoints","thisCoord","stride","lastIsEmpty","otherCoord","showDataShadow","eachTargetAxis","getAxisProxy","getTargetSeriesModels","thisAxis","getOtherDim","thisDim","displaybles","handles","handleLabels","filler","getCursor","_onDragMove","ondragstart","_showDataInfo","_onDragEnd","onmouseover","onmouseout","bRect","handleColor","getPercentRange","viewExtent","_updateInterval","viewExtend","minMaxSpan","findRepresentativeAxisProxy","getMinMaxSpan","percentExtent","lastRange","nonRealtime","handleInterval","handleHeight","_updateDataInfo","labelTexts","axisProxy","getAxisModel","dataInterval","calculateDataWindow","valueWindow","getDataValueWindow","_formatLabel","orderedHandleEnds","barTransform","textPoint","labelFormatter","labelPrecision","getPixelPrecision","valueStr","showOrHide","vertex","changed","_dispatchZoomAction","localPoint","dataZoomId","getTargetCoordInfo","addCommas","fillLabel","_mergeOption","hostSeries","__hostSeries","newOpt","createdBySelf","markerOpt","markerModel","renderMode","getRawValue","formattedValue","newLine","getSortedIndices","valueArr","isAscending","labelPosition","isLabelInside","textX","textY","labelLineLen","sizeExtent","getLinePoints","y0","x0","_layers","layerSeries","getLayerSeries","keyGetter","dataDiffer","_layersSeries","newLayersGroups","process","oldLayersGroups","points0","layerGroup","createGridClipShape","rectEl","hasKeys","mappings","createMappings","__hidden","__alphaForOpacity","Creater","scope","visualTypesMap","prepareVisualTypes","eachItem","valueOrIndex","rawDataItem","visualMap","incrementalApplyVisual","PI2","validDataCount","unitRadian","roseType","restAngle","valueSumLargerThanMinAngle","currentAngle","paletteScope","categoriesData","getCategoriesData","categoryNameIdxMap","getColorFromPalette","itemStyleList","barPolar","borderColorQuery","globalColors","eachRawSeriesByType","defaulColor","legendSymbol","getTargetSeries","seriesModelMap","overallReset","filterData","percentRange","getDataPercentWindow","valueRange","setCalculatedRange","startValue","endValue","getMarkerPosition","clampData","offsetIndex","progressiveChunkMode","markerHelper","LineDraw","MarkerView","markLineTransform","mlModel","mlType","valueDataDim","numCalculate","valueIndex","mlFrom","mlTo","dataTransform","isInifinity","ifMarkLineHasOnlyDim","fromCoord","toCoord","otherDimIndex","markLineFilter","updateSingleMarkerEndLayout","isFrom","xPx","yPx","dims","markLineModel","mlData","fromData","__from","toData","__to","markerGroupMap","renderSeries","lineDrawMap","lineDraw","createList","updateDataVisualAndLayout","lineColor","dataModel","__keep","coordDimsInfos","optData","dimValueGetter","DEFAULT_BAR_BOUND","ContinuousModel","calculable","hoverLinkDataSize","hoverLinkOnHandle","_resetRange","auto","getSelected","oVals","getColorStopValues","iVals","iIdx","oIdx","iLen","oLen","first","stopsLen","stopValues","sankeyLayout","sankeyVisual","_echarts","_export","DATAS","MAIN_DATA","main","linkAll","TRANSFERABLE_METHODS","transferInjection","cloneShallowInjection","CHANGABLE_METHODS","changeInjection","assert","isMainData","linkSingle","getLinkedData","Region","roams","InsideZoomView","allCoordIds","coordInfo","generateCoordId","coordModel","getRange","roamHandlers","coordId","containsPoint","directionInfo","getDirectionInfo","percentPoint","signal","pixelStart","pixelLength","pixel","pan","makeMover","oldX","oldY","newX","newY","scrollMove","scrollDelta","getPercentDelta","percentDelta","oldPoint","newPoint","isNumeric","BAR_BORDER_WIDTH_QUERY","LAYOUT_ATTRS","posDesc","pathForLineWidth","BarView","cartesian","coordSysRect","coordSysExtent","categoryDim","symbolMeta","getSymbolMeta","createBar","pictorialShapeStr","getShapeStr","__pictorialShapeStr","updateBar","__pictorialSymbolMeta","removeBar","prepareBarLength","prepareSymbolSize","boundingLength","pxSign","prepareLineWidth","symbolScale","prepareLayoutInfo","valueLineWidth","repeatCutLength","output","zeroPx","pxSignIdx","symbolBoundingExtent","convertToCoordOnAxis","categorySize","getLineScale","unitLength","pathLen","absBoundingLength","hasEndGap","lastIndexOf","uLenWithMargin","endFix","repeatSpecified","repeatTimes","toIntTimes","mDiff","sizeFix","pathPosition","bundlePosition","barRectShape","createPath","createOrUpdateRepeatSymbols","isUpdate","bundle","__pictorialBundle","unit","eachPath","__pictorialAnimationIndex","__pictorialRepeatTimes","updateAttr","makeTarget","updateHoverAnimation","onMouseOver","onMouseOut","createOrUpdateSingleSymbol","mainPath","__pictorialMainPath","createOrUpdateBarRect","barRect","__pictorialBarRect","createOrUpdateClip","__pictorialClipPath","getAnimationDelayParams","labelRect","pathes","immediateAttrs","animationAttrs","barRectHoverStyle","barPositionOutside","times","roundedTimes","DataZoomModel","SliderZoomModel","dataBackground","areaStyle","fillerColor","handleIcon","handleStyle","showDetail","zoomLock","SunburstPiece","windowOpen","ROOT_TO_NODE_ACTION","SunburstView","that","virtualRoot","newRoot","getViewRoot","renderLabelForZeroData","_oldChildren","dualTravel","renderRollUp","highlightPolicy","onEmphasis","unhighlight","virtualPiece","onNormal","_initEvents","processNode","newId","oldId","newNode","oldNode","doRenderNode","removeNode","viewRoot","_onclickEvent","_rootToNode","targetFound","nodeClick","linkTarget","treeRoot","TimelineView","_axis","_viewRect","_timer","_currentPointer","_mainGroup","_labelGroup","timelineModel","mainGroup","_createGroup","labelGroup","_createAxis","_renderAxisLabel","_position","_doPlayStop","_clearTimer","labelPosOpt","labelAlignMap","labelBaselineMap","rotationMap","mainLength","controlModel","showControl","controlSize","controlGap","sizePlusGap","playPosition","prevBtnPosition","nextBtnPosition","xLeft","xRight","labelAlign","labelBaseline","rotateOriginX","rotateOriginY","viewBound","getBound","mainBound","labelBound","mainPosition","labelsPosition","mainBoundIdx","toBound","setOrigin","targetGroup","fromPos","boundIdx","niceTicks","newGroup","_renderAxisLine","_renderAxisTick","ticks","hoverStyleModel","symbolOpt","_changeTimeline","giveSymbol","normalLabelModel","_renderControl","playState","makeBtn","_handlePlayClick","iconPath","willRotate","rectHover","btn","makeIcon","_renderCurrentPointer","pointerModel","onCreate","_handlePointerDrag","_handlePointerDragend","pointerMoveTo","onUpdate","nextState","_pointerChangeTimeline","mousePos","_toAxisCoord","_findNearestTick","handleFrame","axisCoord","nextIndex","objPath","noAnimation","dragging","generateCoord","preventIncremental","coordSysCreator","blurSize","pointSize","maxOpacity","minOpacity","AxisProxy","eachAxisDim","filterMode","minValueSpan","maxValueSpan","rangeMode","_dataIntervalByAxis","_dataInfo","_axisProxies","_autoThrottle","_rangePropMode","inputRawOption","retrieveRawOption","settledOption","doInit","_setDefaultThrottle","updateRangeUse","_resetTarget","_giveAxisProxies","axisProxies","__dzAxisProxy","autoMode","_judgeAutoMode","axisIndexName","_autoSetAxisIndex","_autoSetOrient","hasIndexSpecified","autoAxisIndex","singleAxisModel","singleAxisIndex","axisIndices","_isSeriesHasAllAxesTypeOf","seriesAxisIndex","globalOption","firstAxisModel","setRawRange","getValueRange","axisDimName","hostedBy","getRangePropMode","rangePropMode","rangeModeInOption","percentSpecified","valueSpecified","PathProxy","textHelper","CMD","arrayJoin","NONE","mathRound","degree","EPSILON","round4","isAroundZero","pathHasFill","isText","pathHasStroke","setTransform","svgEl","attrXLink","setAttributeNS","bindStyle","fillOpacity","strokeWidth","textStrokeWidth","strokeScale","strokeOpacity","lineDash","lineDashOffset","miterLimit","pathDataToString","str","dataLength","cmdStr","nData","L","Q","C","A","rx","ry","theta","dTheta","psi","dThetaPositive","isCircle","unifiedTheta","Z","R","createPathProxy","__dirtyPath","beginPath","pathStr","svgTextDrawRectText","removeOldTextNode","HTMLImageElement","src","dw","dh","__imageSrc","_tmpTextHostRect","_tmpTextBoxPos","_tmpTextTransform","TEXT_ALIGN_TO_ANCHRO","hostRect","elTransform","needTransformTextByHostEl","transformText","normalizeTextStyle","needDrawText","textSvgEl","textSvgElStyle","DEFAULT_FONT","computedFont","__computedFont","__styleFont","textLineHeight","contentBlock","__textCotentBlock","__dirtyText","parsePlainText","truncate","outerHeight","getBoxPosition","baseX","baseY","setTextTransform","boxY","adjustTextY","getTextXForPadding","canCacheByTextString","tspanList","__tspanList","tspanOriginLen","__canCacheByTextString","__text","updateTextLocation","textLines","nTextLines","tspan","singleLineText","createTextNode","__zrText","textOrigin","drawRectText","HOVER_LINK_SIZE","HOVER_LINK_OUT","ContinuousView","_shapes","_dataInterval","_useHandle","_hoverLinkDataIndices","_hovering","_renderBar","dataRangeText","_enableHoverLinkToSeries","_enableHoverLinkFromSeries","endsIndex","_applyTransform","shapes","_createBarGroup","createPolygon","_dragHandle","textSize","handleThumbs","handleLabelPoints","_createHandle","_createIndicator","onDrift","onDragEnd","handleThumb","createHandlePoints","handleLabel","handleLabelPoint","indicatorLabel","indicatorLabelPoint","_clearHoverLinkToSeries","useHoverLinkOnHandle","_doHoverLinkToSeries","forSketch","outOfRangeHandleEnds","inRangeHandleEnds","visualInRange","_createBarVisual","visualOutOfRange","barColor","barPoints","_updateHandle","forceState","convertOpacityToAlpha","_makeColorGradient","symbolSizes","_createBarPoints","handlesColor","sampleNumber","currValue","_showIndicator","cursorValue","rangeSymbol","halfHoverLinkSize","createIndicatorPoints","_hoverLinkFromSeriesMouseOver","_hideIndicator","_clearHoverLinkFromSeries","cursorPos","hoverOnBar","getHalfHoverLinkSize","hoverRange","oldBatch","newBatch","resultBatches","compressBatches","_dispatchHighDown","global","isRange","extentMax","TooltipRichContent","axisPointerViewHelper","getTooltipRenderMode","proxyRect","_renderMode","tooltipContent","getDom","_newLine","_tooltipContent","_tooltipModel","_ecModel","_lastDataByCoordSys","_alwaysShowContent","_initGlobalListener","_keepShow","_tryShow","_hide","_lastX","_lastY","_refreshUpdateTimeout","manuallyShowTip","_ticket","_manuallyAxisShowTip","pointInfo","findHover","manuallyHideTip","buildTooltipModel","_showAxisTooltip","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","_showTimout","singleDefaultHTML","singleParamsList","singleTooltipModel","markers","itemCoordSys","axisValue","seriesDefaultHTML","valueLabel","axisValueLabel","seriesTooltip","newMarkers","firstLine","positionExpr","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","tooltipTrigger","defaultHtml","asyncTicket","subTooltipModel","formatTpl","cbTicket","contentSize","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","thisItem","lastIndices","newIndices","lastIdxItem","newIdxItem","modelCascade","resultModel","isInstance","gapH","gapV","domWidth","domHeight","rectWidth","rectHeight","Single","singles","EffectSymbol","pointsLayout","effectSymbolDraw","_updateGroupTransform","getRoamTransform","actionTypes","handleRootToNode","types","targetInfo","retrieveTargetInfo","originViewRoot","aboveViewRoot","resetViewRoot","HIGHLIGHT_ACTION","handleHighlight","UNHIGHLIGHT_ACTION","handleUnhighlight","_createPolyline","polylineProto","_updateCommonStl","hoverLineStyle","legendSelectActionHandler","selectedMap","isToggleSelect","legendData","isItemSelected","cellWidth","cellHeight","dayCount","SingleAxis","_adjustAxis","_updateAxisTransform","coordBase","extentSum","HeatmapLayer","getIsInPiecewiseRange","dataSpan","lastIndex","getIsInContinuousRange","isGeoCoordSys","visualMapOfThisSeries","targetSeries","_incrementalDisplayable","_renderOnCartesianAndCalendar","_renderOnGeo","itemStyleQuery","hoverItemStyleQuery","labelQuery","hoverLabelQuery","hoverStl","rawValue","inRangeVisuals","outOfRangeVisuals","hmLayer","_hmLayer","lng","lat","isInRange","getNormalizer","getColorMapper","img","canvas","curveTool","_graphHelper","v1","v2","v3","v2DistSquare","distSquare","mathAbs","intersectCurveCircle","curvePoints","p0","radiusSquare","_t","nextDiff","tmp0","quadraticSubdivide","pts","pts2","fromSymbol","toSymbol","__original","originalPoints","AxisPointerModel","shadowStyle","resetRange","restoreData","gridIndex","gridId","extraOption","componentModel","pointerChecker","_opt","mousedownHandler","mousemoveHandler","mouseupHandler","mousewheelHandler","mousewheel","pinchHandler","pinch","controlType","disable","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","isDragging","isPinching","_pinching","isMiddleOrRightButtonOnMouseUpDown","_x","_y","isAvailableBehavior","gestureEvent","isTaken","shouldZoom","shouldMove","wheelDelta","absWheelDeltaDelta","factor","checkPointerAndTrigger","absDelta","pinchScale","pinchX","pinchY","behaviorToCheck","contollerEvent","settings","setting","CartesianAxisPointer","getCartesian","tooltipOptions","getAxisDimIndex","MARK_UNUSED","MARK_USED","Definable","tagNames","markLabel","domName","_zrId","_tagNames","_markLabel","_domName","nextId","getDefs","dom","addDom","removeDom","getDoms","doms","tags","parseGeoJson","fixNanhai","fixTextCoord","fixGeoCoord","fixDiaoyuIsland","mapRecord","nameProperty","parsed","specialAreas","geoJSON","message","regionName","specialArea","regionRect","union","positiveBorderColorQuery","negativeBorderColorQuery","positiveColorQuery","negativeColorQuery","performRawSeries","colorP","getColor","colorN","borderColorP","getBorderColor","borderColorN","isLargeRender","FunnelPiece","funnelPieceProto","opacityAccessPath","FunnelView","funnelPiece","GaugeSeries","offsetCenter","detail","MapSeries","selectTargetList","toAppendNames","geoSource","appendValues","seriesNames","otherIndex","showLegendSymbol","dataRangeHoverLink","NodeHighlightPolicy","DESCENDANT","ANCESTOR","SELF","DEFAULT_SECTOR_Z","DEFAULT_TEXT_Z","SunburstPieceProto","getNodeColor","fillDefaultColor","stateStyle","isNodeHighlighted","onHighlight","onDownplay","normalModel","labelState","getLabelAttr","labelMinAngle","labelPadding","rotateType","stateAttr","getRootId","activeNode","policy","saveAsImageLang","saveAsImage","SaveAsImage","connectedBackgroundColor","excludeComponents","pixelRatio","isSvg","url","getConnectedDataURL","MouseEvent","browser","ie","$a","download","href","evt","bubbles","cancelable","dispatchEvent","navigator","msSaveOrOpenBlob","bstr","atob","u8arr","Uint8Array","charCodeAt","blob","Blob","tab","open","write","getNodeGlobalScale","groupScale","groupZoom","roamZoom","nodeScale","AXIS_DIMS","COORDS","isCoordSupported","coordType","createNameEach","attrs","capitalNames","capitalFirst","capitalAttrs","nameObj","capital","createLinkedNodesFinder","forEachNode","forEachEdgeType","edgeIdGetter","sourceNode","edgeType","absorb","existsLink","processSingleNode","isNodeAbsorded","isLinked","hasLink","edgeId","themeRiverLayout","timeDim","layerPoints","singleLayer","computeBaseline","baseLine","ky","baseY0","layerIndex","layerNum","pointNum","sums","temp","l","colorList","ATTR","dataZoomInfo","store","giveStore","theDataZoomId","theCoordId","dataZoomInfos","cleanStore","createController","controllerParams","mergeControllerParams","newRecord","prefix","typePriority","oneType","validPayloadTypes","targetNodeId","getPathToRoot","viewPath","nodeDataIndex","nodeOpacityPath","hoverNodeOpacityPath","lineOpacityPath","hoverLineOpacityPath","getItemOpacity","opacityPath","fadeOutItem","opacityRatio","getGraphicEl","fadeInItem","SankeyShape","extendShape","cpx1","cpy1","cpx2","cpy2","_focusAdjacencyDisabled","sankeyView","curve","curvature","n1Layout","node1Model","dragX1","dragY1","n2Layout","node2Model","dragX2","dragY2","edgeLayout","sy","dragX","dragY","focusNodeAdjHandler","unfocusNodeAdjHandler","_dispatchUnfocus","edgeModel","edgeDataIndex","_unfocusDelayTimer","focusNodeAdj","outEdges","inEdges","unfocusNodeAdjacency","geoJSONLoader","geoSVGLoader","loaders","svg","singleSource","makeInvoker","hostKey","results","mapNotExistsError","_forceHelper","_circularLayoutHelper","graphSeries","preservedPoints","forceModel","initLayout","nodeDataExtent","edgeDataExtent","repulsion","edgeLength","forceInstance","oldStep","stopped","axisView","axisGroup","areaColorsLen","lastSplitAreaColors","__splitAreaColors","newSplitAreaColors","cIndex","prev","ifAxisCrossZero","estimateLabelUnionRect","Cartesian2D","isAxisUsedInTheGrid","Grid","_coordsMap","_coordsList","_axesList","_initCartesian","gridProto","_updateScale","onZeroRecords","fixAxisOnZero","onZeroAxisIndex","canOnZeroToAxis","getOnZeroRecordKey","ignoreContainLabel","axesList","adjustAxes","labelUnionRect","updateAxisTransform","axesMapOnDim","coordList","getCartesians","_findConvertTarget","coordsList","axisPositionUsed","axesCount","createAxisCreator","addAxis","isCartesian2D","axesModels","findAxesModels","unionExtent","otherAxis","axisExtentSum","axesTypes","grids","_listComponent","_contentGroup","_backgroundEl","_selectorGroup","_isFirstRender","viewportSize","legendDrawnMap","selectMode","excludeSeriesId","eachRawSeries","newline","getSeriesByName","legendSymbolType","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","provider","containName","_createSelector","selectorItem","createSelectorButton","emphasisLabelModel","inactiveBorderColor","symbolKeepAspect","legendModelItemStyle","itemIcon","legendGlobalTooltipModel","setSymbolStyle","legendSymbolCenter","hitRect","legendIndex","dataName","CATEGORY_DEFAULT_VISUAL_INDEX","_normalizeData","normalizers","visualHandler","visualHandlers","_doMap","normalizeVisualRange","preprocessForPiecewise","preprocessForSpecifiedCategory","normalized","makeApplyVisual","isNormalized","doMapCategory","returnRGBArray","fastLerp","parsedVisual","stringify","linear","piecewise","getSpecifiedVisual","doMapFixed","colorHue","makePartialColorVisualHandler","modifyHSL","colorSaturation","colorLightness","colorAlpha","modifyAlpha","makeDoMap","getter","setter","symbolCfg","doMapToArray","hasSpecialVisual","originIndex","categoryMap","visualArr","setVisualToOption","doNotNeedPair","applyValue","sourceExtent","addVisualHandler","isPrimary","newVisual","newVal","hasVisual","type1","type2","dependsOn","visualType1","visualType2","findClosestWhenOutside","possibleI","pieceValue","updatePossible","littleThan","newAbs","DEFAULT_SMOOTH","ParallelView","_dataGroup","dataGroup","newDataIndex","addEl","updateElCommon","oldDataIndex","createLinePoints","isEmptyValue","active","inactive","subtext","subtarget","fontWeight","subtextStyle","titleModel","subtextStyleModel","disableBox","subText","subTextEl","sublink","groupRect","layoutOption","alignStyle","categoryNames","mapSymbolLayout","mapDataStatistic","backwardCompat","createDataSelectAction","effectType","showEffectOn","rippleEffect","barItemStyle","_throttle","Sausage","_eventPos","getClipArea","coordSysClipArea","expandWidth","coordinateSystemType","isHorizontalOrRadial","drawBackground","backgroundModel","barBorderRadius","bgEls","oldBgEls","_backgroundEls","createBackground","bgLayout","bgEl","createBackgroundEl","getBarItemStyle","isClipped","elementCreator","updateStyle","createBackgroundShape","removeRect","removeSector","bgGroup","_removeBackground","coordSysBoundingRect","signWidth","signHeight","signR","animateProperty","animateTarget","isRadial","ShapeClass","fixedLineWidth","getLineWidth","signX","signY","isZeroOnPolar","isPolar","rawLayout","LargePath","startPoint","__startPoint","baseDimIdx","__baseDimIdx","largeDataIndices","backgroundStartPoint","__largeDataIndices","__barWidth","setLargeBackgroundStyle","largePathUpdateDataIndex","largePath","largePathFindDataIndex","valueDimIdx","barWidthHalf","startValueVal","pointerBaseVal","pointerValueVal","baseLowerBound","baseUpperBound","ii","barBaseVal","barValueVal","coordLayout","ElementClz","createParallelIfNeeded","mergeAxisOptionFromParallel","parallel","hasParallelSeries","seriesOpt","axisOption","parallelOption","isPolyline","isLarge","lineCoords","segCount","totalCoordsCount","getLineCoordsCount","getLineCoords","_axisPointer","fixValue","updateAxisPointer","force","axisPointer","disposeAxisPointer","Clazz","getAxisPointerClass","getAxisPointerModel","axisPointerClazz","clazz","timelineOpt","timeline","compatibleEC2","ec2Types","transferItem","itemStyleEmphasis","labelNormal","normal","excludeLabelAttr","geoCoordMap","EffectPolyline","_lastFrame","_lastFramePercent","effectPolylineProto","accLenArr","_offsets","_length","offsets","lastFrame","lerp","PolarAxisPointer","coordValue","getLabelPosition","newSnapshot","snapshot","_buildAxes","_buildSplitLineAndArea","axisBuilders","showSplitLine","showSplitArea","splitLineColors","splitAreaColors","getColorIndex","areaOrLine","areaOrLineColorList","ticksRadius","Ring","realSplitNumber","axesTicksPoints","prevPoints","themeRiverVisual","vector","TransformDummy","_roamTransformable","_center","_zoom","rawTransform","centerCoord","_updateCenterAndZoom","getDefaultCenter","rawRect","rawTransformMatrix","defaultCenter","roamTransformable","_rawTransform","invTransform","invert","_layoutHelper","TreeShape","parentPoint","childPoints","forkPosition","childLen","firstChildPos","lastChildPos","forkDim","tmpPoint","_oldTree","_updateViewCoordSys","updateNode","_nodeScaleRatio","_updateNodeAndLinkScale","oldMin","_min","oldMax","_max","viewCoordSys","_viewCoordSys","_getNodeGlobalScale","invScale","getTreeNodeStyle","sourceSymbolEl","sourceLayout","sourceOldLayout","rawX","__radialOldRawX","rawY","__radialOldRawY","targetLayout","__radialRawX","__radialRawY","rootLayout","rad","isLeft","labelRotateRadian","drawEdge","__edge","BezierCurve","getEdgeShape","childLayout","sourceEdge","radialCoor1","radialCoor2","radialCoor3","radialCoor4","eachAfter","eachBefore","_clazz","enableClassCheck","generateNodeKey","_directed","_nodesMap","_edgesMap","graphProto","isDirected","nodesMap","Node","hostGraph","rawIdx","edgesMap","Edge","getEdge","breadthFirstTraverse","startNode","__visited","queue","currentNode","otherNode","inDegree","outDegree","createGraphDataProxyMixin","hostName","LineGroup","_ctor","lineDrawProto","oldLineData","_lineData","doAdd","doUpdate","lineNeedsDraw","newLineData","itemEl","isEffectObject","_clearIncremental","_incremental","clearDisplaybles","isPointNaN","_targetList","_selectTargetMap","targetMap","select","unSelect","toggleSelected","nameRotate","nameTruncate","deduplication","alignWithLabel","minorTick","minorSplitLine","timeAxis","logAxis","logBase","rawData","idxMap","concatArray","Uint32Arr","Uint32Array","Float64Arr","Float64Array","compatEc2","itemOpt","coords","fromName","toName","LinesSeries","_processFlatCoordsArray","_flatCoords","flatCoords","_flatCoordsOffset","flatCoordsOffset","appendData","_getCoordsFromItemModel","startOffset","coordsOffsetAndLenStorage","coordsStorage","coordsCursor","offsetCursor","dataCount","buffer","effect","trailLength","autoPositionValues","targetValue","visualCluster","visualObj","defaultColor","visualMapping","actionInfos","_mapDraw","dataViewLang","dataView","BLOCK_SPLITER","ITEM_SPLITER","groupSeries","seriesGroupByCategoryAxis","otherSeries","meta","other","assembleSeriesWithCategoryAxis","tables","valueAxisDim","headers","columns","items","assembleOtherSeries","vals","argLen","getContentFromModel","trim","isTSVFormat","block","itemSplitRegex","RegExp","parseTSVContents","tsv","tsvLines","header","parseListContents","hasName","parseContents","blockMetaList","blocks","blockMeta","DataView","_dom","readOnly","optionToContent","contentToOption","textareaColor","textareaBorderColor","buttonColor","buttonTextColor","viewMain","textarea","htmlOrDom","getOption","isDom","buttonContainer","buttonStyle","closeButton","refreshButton","addEventListener","tryMergeDataOption","original","newValIsObject","shouldDeleteName","newSeriesOptList","polarOptArr","polarNotRadar","polarOpt","radarIndex","foundAxisModel","layoutBox","boxLayoutParams","viewList","positions","bbWidth","bbHeight","_nonShapeGraphicElements","graphicOption","elements","GraphicModel","parentId","_elOptionsToUpdate","newList","existList","flattenedList","_flatten","mappingResult","mappingToExists","makeIdAndName","elOptionsToUpdate","resultItem","newElOption","setKeyInfoToNewElOption","mergeNewElOptionToExist","setLayoutInfoToExist","$action","optionList","parentOption","useElOptionsToUpdate","els","_elMap","_lastGraphicModel","graphicModel","_updateElements","_relocate","elMap","rootGroup","existEl","targetElParent","hv","textBaseline","elOptionCleaned","getCleanedElOption","removeEl","__ecGraphicWidthOption","__ecGraphicHeightOption","setEventData","elOptions","apiWidth","apiHeight","parentEl","isParentRoot","__ecGraphicWidth","__ecGraphicHeight","containerInfo","boundingMode","bounding","__ecGraphicId","existElParent","removeKey","LOCATION_PARAMS","isSetLoc","isSet","existElOption","exist","keyInfo","newElParentOption","newElOptCopy","copyLayoutParams","existItem","straightLineProto","bezierCurveProto","isLine","_buildPathLine","_buildPathCurve","pointAt","_pointAtLine","_pointAtCurve","tangentAt","_tangentAtCurve","defaultSymbolType","hasSymbolTypeCallback","hasSymbolSizeCallback","hasSymbolRotateCallback","hasCallback","seriesSymbol","seriesSymbolSize","seriesSymbolRotate","itemSymbolType","itemSymbolSize","itemSymbolRotate","itemSymbolKeepAspect","dataZoomLang","dataZoom","DATA_ZOOM_ID_BASE","DataZoom","_brushController","_onBrush","_isZoomActive","back","updateZoomBtnStatus","updateBackBtnStatus","nextActive","dataZoomSelectActive","retrieveAxisSetting","include","matchOutputRanges","coordRange","setBatch","findDataZoom","found","dzModel","zoomActive","makePanelOpts","xAxisDeclared","yAxisDeclared","dataZoomOpts","toolboxOpt","dataZoomOpt","addForAxis","axisIndicesName","givenAxisIndices","forEachComponent","axisOpt","$fromToolbox","ComponentView","coordSysLists","save","coordIndex","markArea","LinePath","SYMBOL_CATEGORIES","makeSymbolTypeKey","symbolCategory","__specifiedRotation","setLinePoints","updateSymbolAndLabelBeforeLineUpdate","symbolFrom","symbolTo","toPos","specifiedRotation","tangent","__labelDistance","distanceX","distanceY","halfPercent","__position","__verticalAlign","__textAlign","_createLine","lineProto","beforeUpdate","lineLabelOriginalOpacity","visualOpacity","defaultLabelColor","baseText","rawVal","normalText","emphasisText","labelStyle","fontStyle","fontFamily","linePath","updateMarkerLayout","mpData","markPointModel","mpModel","symbolDrawMap","isFnSymbol","isFnSymbolSize","isFnSymbolRotate","dataOpt","sizeCalculable","CalendarModel","hvIdx","groupData","computeNodeValues","filteredNodes","iterations","layoutSankey","computeNodeBreadths","computeNodeDepths","computeEdgeDepths","value1","getEdgeValue","value2","nodeRawValue","remainEdges","indegreeArr","zeroIndegrees","nextTargetNode","kx","maxNodeDepth","isItemDepth","edgeIdx","indexEdge","nodeIndex","maxDepth","adjustNodeWithNodeAlign","scaleNodeBreadths","isNodeDepth","nextSourceNode","remainNodes","nodeHeight","skNodeHeight","moveSinksRight","nodesByBreadth","prepareNodesByBreadth","initializeNodeDepth","resolveCollisions","alpha","relaxRightToLeft","relaxLeftToRight","keyAttr","buckets","minKy","nodeDy","edgeDy","nodeDyAttr","weightedTarget","centerTarget","nodeY","weightedSource","centerSource","array","markerRich","startId","endId","substr","textWidth","textHeight","textOffset","rich","GraphSeries","_categoriesData","fillDataTextStyle","_updateCategoriesData","categoriesModels","_categoriesModels","categoryIdx","categoryModel","edgeLabelModel","fakeSeriesModel","emphasisEdgeLabelModel","emphasisFakeSeriesModel","edgeGetParent","parsePath","sourceName","targetName","circular","rotateLabel","layoutAnimation","edgeSymbol","edgeSymbolSize","edgeLabel","dimLen","stackResultDim","parallelAxisModel","coordSysList","isNameSpecified","langSelector","legend","defaultSelectorOption","all","_updateSelector","_updateData","hasSelected","potentialData","availableNames","isPotential","getAllNames","_availableNames","allSelect","inverseSelect","selectorLabel","selectorItemGap","isValidPoint","getValueMissingPoint","firstPoint","find","svgURI","createElementNS","markerModelKey","radarLayout","colorUtil","markAreaTransform","maModel","lt","rb","ltCoord","rbCoord","markAreaFilter","getSingleMarkerEndPoint","dimPermutations","markAreaModel","areaData","areaGroupMap","polygonGroup","allClipped","xValue","yValue","__data","ToolboxModel","showTitle","iconStyle","containLabel","filterSeries","ITEM_STYLE_NORMAL","travelTree","designatedVisual","viewRootAncestors","nodeModel","nodeLayout","isInView","nodeItemStyleModel","buildVisuals","borderColorSaturation","thisNodeColor","calculateColor","calculateBorderColor","buildVisualMapping","childVisual","designatedVisualItemStyle","visualName","getValueVisualDefine","rangeVisual","getRangeVisual","visualMin","visualMax","colorMappingBy","__drColorMappingBy","childVisuals","mappingType","mapIdToIndex","hasXOrY","hasXAndY","markerTypeCalculatorWithExtent","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","calcDataDim","coordArrValue","getPrecision","markerTypeCalculator","baseDataDim","dataDimToCoordDim","dimItem","getMedian","preventUsingHoverLayer","_viewRoot","clipWindow","squareRatio","leafDepth","drillDownIcon","zoomToNodeRatio","breadcrumb","upperLabel","gapWidth","visualDimension","visibleMin","childrenVisibleMin","completeTreeValue","designatedVisualModel","setDefault","levelDefine","setLayoutInfo","idIndexMap","_idIndexMap","_idIndexMapCount","childValue","thisValue","globalColorList","hasColorDefine","modelColor","level0","mapLocation","largeLayout","LAYOUT","PROGRESSIVE_LAYOUT","_symbolRadiansHalf","basedOn","_layoutNodesBasedOn","x12","y12","unitAngle","radianHalf","sumRadian","symbolRadianHalf","asin","halfRemainRadian","adjustEdge","FOCUS_ADJACENCY","UNFOCUS_ADJACENCY","opct","_lineDraw","_firstRender","graphView","groupNewProp","_layoutTimeout","_startForceLayoutIteration","_layouting","circularRotateLabel","modifyLabelStyle","adjacentEdge","seiresModelMap","__paletteScope","dataAll","filteredIdx","singleDataColor","singleDataBorderColor","valueStart","getValueStart","baseDataOffset","stackedOverDimension","stackedData","updateDom","__clipPaths","clipPaths","clipPathEl","getAttribute","pathEl","cloneNode","_textDom","MAX_SAFE_INTEGER","retrieveValue","PATH_BORDER_WIDTH","PATH_GAP_WIDTH","PATH_UPPER_LABEL_SHOW","PATH_UPPER_LABEL_HEIGHT","ecWidth","ecHeight","seriesOption","containerWidth","containerHeight","payloadType","rootRect","viewAbovePath","rootSize","estimateRootSize","viewRootLayout","squarify","upperHeight","calculateRootPosition","prunning","hideChildren","thisLayout","halfGapWidth","upperLabelHeight","getUpperLabelHeight","layoutOffset","layoutOffsetUpper","totalArea","initChildren","rowFixedLength","best","row","score","worst","orderBy","overLeafDepth","statistic","filterByThreshold","isLeafRoot","orderedChildren","deletePoint","areaMax","areaMin","squareArea","flush","idx0WhenH","idx1WhenH","rowOtherLength","rowLen","wh1","remain","modWH","wh0","currNode","defaultSize","viewArea","currNodeValue","defaultPosition","targetCenter","clipRect","nodeInViewAbovePath","isAboveViewRoot","childClipRect","OrdinalMeta","AXIS_TYPES","BaseAxisModelClass","axisTypeDefaulter","extraDefaultOption","themeModel","getTheme","getDefaultOption","__ordinalMeta","createByAxisModel","linkedNodesFinder","effectedModels","IncrementalDisplayable","lineContain","quadraticContain","LargeLineShape","segs","quadraticCurveTo","findDataIndex","containStroke","LargeLineDraw","largeLineProto","lineEl","_setCommon","__startIndex","addDisplayable","isIncremental","RadarSeries","generateCoordCount","disabled","linesLayout","linesVisual","PointerPath","parsePosition","formatLabel","GaugeView","_renderMain","axisLineModel","angleRangeSpan","prevEndAngle","axisLineWidth","showAxis","_renderTicks","_renderPointer","_renderTitle","_renderDetail","minVal","maxVal","subSplitNumber","splitLineLen","tickLen","subStep","splitLineStyle","unitX","unitY","tickLine","valueExtent","forceRich","detailModel","funnelLayout","resourceKey","userKey","getStore","uKey","HIGH_DOWN_PROP","RECORD_VERSION_PROP","mapModel","_renderSymbols","originalDataIndex","circle","Z2_EMPHASIS_LIFT","fullData","fullIndex","highDownRecord","recordVersion","onRegionHighDown","enterRegionHighDown","toHighOrDown","extendFrom","__mapOriginalZ2","LargeSymbolDraw","_updateSymbolDraw","_getClipShape","_finished","opacityMap","itemOpacity","colorTool","RectText","Displayable","Gradient","comma","imageTransformPrefix","Z2","ZLEVEL_BASE","Z_BASE","initRootElStyle","coordsize","coordorigin","encodeHtmlAttribute","String","rgb2Str","g","append","getZIndex","setColorAndOpacity","colorArr","getColorAndAlpha","updateFillNode","zrEl","gradientType","focus","expansion","cs1","cs2","colorAndAlphaList","colors","colorAndAlpha","color1","color2","opacity1","opacity2","focusposition","updateStrokeNode","dashstyle","updateFillAndStroke","vmlEl","isFill","nPoint","xi","yi","x3","y3","sx","_vmlEl","needTransform","strokeEl","det","weight","toStatic","zIndex","removeRectText","appendRectText","isImage","ow","oh","_imageSrc","_imageWidth","_imageHeight","imageRuntimeStyle","runtimeStyle","oldRuntimeWidth","oldRuntimeHeight","sWidth","sHeight","hasCrop","vmlElStyle","hasRotation","scaleX","p3","maxX","maxY","transformFilter","imageEl","_imageEl","cropEl","_cropEl","imageELStyle","tmpImage","onload","overflow","cropElStyle","filterStr","DEFAULT_STYLE_NORMAL","fontStyleCache","fontStyleCacheCount","MAX_FONT_CACHE_SIZE","fontEl","getFontStyle","fontString","variant","fontVariant","family","textMeasureEl","$override","ex","offsetWidth","tmpRect","fromTextEl","parseRichText","tokens","textLine","calculateTextPosition","adjustTextX","textVmlEl","_textVmlEl","textPathEl","skewEl","textpathok","textVmlElStyle","string","polygonContain","linePolygonIntersect","getLineSelectors","inLineRange","layoutRange","showContent","displayMode","confine","showDelay","hideDelay","extraCssText","animationEasingUpdate","crossStyle","calculateCategoryInterval","ordinalScale","ordinalExtent","tickCount","unitSpan","unitH","maxH","cache","lastAutoInterval","lastTickCount","VISUAL_PRIORITY","COMPONENT","createOnAllSeries","resetDefines","concreteDim","resultVisual","DATA_NAME_INDEX","ThemeRiverSeries","fixData","rawDataLength","timeValueKeys","layData","dataList","timeValue","dimensionsDefine","lenCount","indexArr","index1","index2","nearestIdx","theValue","htmlName","htmlValue","_updateLineDraw","getLayer","_lastZlevel","configLayer","motionBlur","_showEffect","lastFrameAlpha","_clearLayer","progressiveRender","hasEffect","_hasEffet","_isPolyline","DEFAULT_TOOLBOX_BTNS","isNew","brushComponents","brushComponentSpecifiedBtns","brushOpt","tbs","toolboxFeature","toolboxBrush","brushTypes","removeDuplicate","arr","flag","animationUtil","DRAG_THRESHOLD","PATH_LABEL_NOAMAL","PATH_LABEL_EMPHASIS","PATH_UPPERLABEL_NORMAL","PATH_UPPERLABEL_EMPHASIS","Z_BG","Z_CONTENT","getItemStyleEmphasis","getItemStyleNormal","_storage","createStorage","_breadcrumb","_state","models","thisStorage","reRoot","rootNodeGroup","nodeGroup","_giveContainerGroup","renderResult","_doRender","_doAnimation","renderFinally","_resetController","_renderBreadcrumb","thisTree","oldTree","lastsForAnimation","oldStorage","willInvisibleEls","renderNode","willDeleteEls","clearStorage","thisViewChildren","oldViewChildren","parentGroup","sameTree","thisNode","storageName","delEls","__tmWillDelete","animationWrap","__tmNodeWidth","__tmNodeHeight","targetX","targetY","old","fadein","_onPan","_onZoom","_clearController","mouseX","mouseY","findTarget","_zoomToNode","background","thisWidth","thisHeight","thisInvisible","thisRawIndex","oldRawIndex","isParent","itemStyleNormalModel","itemStyleEmphasisModel","giveGraphic","bg","isHighDownDispatcher","renderContent","useUpperLabel","processInvisible","visualBorderColor","emphasisBorderColor","emphasisStyle","upperLabelWidth","prepareText","contentWidth","contentHeight","upperLabelRect","labelProp","addDrillDownIcon","outerWidth","iconChar","Ctor","lasts","prepareAnimationWhenHasOld","calculateZ","__tmDepth","__tmStorageName","prepareAnimationWhenNoOld","lastCfg","parentOldX","parentOldY","parentOldBg","zInLevel","zb","brushHelper","elementList","fromAxisAreaSelect","areaWidth","builderOpt","_refreshBrushController","extentLen","getCoverInfoList","coverInfoList","coverInfo","parallelAxisId","sectorArea","fillOrStroke","hex","splitList","getAxisLineShape","rExtent","getRadiusIdx","fixAngleOverlap","firstItem","ticksAngles","minorTickAngles","_axisLine","rId","r0Id","_axisTick","tickAngleItem","_minorTick","tickAngles","_axisLabel","commonLabelModel","labelTextAlign","labelTextVerticalAlign","prevAngle","excludes","getBorderLineDash","adjustSingleSide","viewLeft","viewTop","farthestX","shiftDown","shiftUp","changeX","isDownList","lastDeltaX","labelAlignTo","deltaY","len2","deltaX","lastY","upList","downList","avoidOverlap","labelLayoutList","leftList","rightList","leftmostX","rightmostX","isPositionCenter","isAlignToEdge","realTextWidth","targetTextWidth","labelDistance","hasLabelRotate","minShowLabelRadian","labelLineLen2","hasShadow","_shadowDom","_shadowDomId","domChild","blur","textShadowBlur","textShadowOffsetX","textShadowOffsetY","textShadowColor","stdDx","stdDy","stdDeviation","SingleAxisView","getLineDash","COORD_CONVERTS","INCLUDE_FINDER_MAIN_TYPES","targetInfoList","_targetInfoList","foundCpts","parseFinder","targetInfoBuilders","builder","setOutputRanges","coordRanges","coordConvert","__rangeOffset","diffProcessor","xyMinMax","findTargetInfo","coordSyses","rangeOffset","getScales","getDefaultBrushType","getPanelRect","areaPanelId","targetInfoMatchers","formatMinMax","includeMainTypes","xAxisModels","yAxisModels","gridModels","gridModelMap","xAxesHas","yAxesHas","cartesians","panelRectBuilder","geoModels","axisConvert","rangeOrCoordRange","xminymin","xmaxymax","axisNameIndex","axisDiffProcessor","refer","scales","xyMinMaxCurr","xyMinMaxOrigin","sizeCurr","sizeOrigin","CandlestickSeries","color0","borderColor0","animationUpdate","pieLayout","dr","rCenter","unitStartX","unitStartY","unitEndX","unitEndY","lessThanCircle","arc","_visualEncoding","updateController","modelId","$from","retrieveRawValue","labelDims","getDataWithEncodedVisual","dataWithEncodedVisual","IRRELEVANT_EXCLUDES","targetCoordSysModel","getComponentByElement","topTarget","Cartesian","axisX","axisY","reserved","xScale","yScale","xAxisExtent","yAxisExtent","xExtent","yExtent","rootDepth","renderRollupNode","rPerLevel","rStart","rEnd","siblingAngle","isAsc","sortOrder","axisTrigger","collect","realIndex","paramsSet","reals","fakeValue","layoutInput","rParam","highlightKey","EFFECT_RIPPLE_NUMBER","updateRipplePath","rippleGroup","effectCfg","rippleEffectColor","ripplePath","effectSymbolProto","stopEffectAnimation","startEffectAnimation","effectOffset","rippleScale","animateStyle","updateEffectAnimation","oldEffectCfg","_effectCfg","DIFFICULT_PROPS","propName","_parseSVG","parseSVG","makeViewBoxTransform","originRoot","buildGraphic","field","rootMap","originRootHostKey","svgXML","ignoreViewBox","ignoreRootClip","svgWidth","svgHeight","viewBoxRect","viewBoxTransform","elRoot","plain","BOOST_SIZE_THRESHOLD","LargeSymbolPath","symbolProxy","softClipShape","symbolProxyShape","getContext","canBoost","fillRect","restoreTransform","largeSymbolProto","startIndex","endIndex","byteOffset","extrudeShadow","_traversalHelper","sep","commonLayout","coorX","coorY","finalCoor","dimAxisMapper","_axes","_dimList","toLowerCase","_dataCoordConvert","input","dimList","_dimName","_axisIndex","_valueWindow","_percentWindow","_minMaxSpan","_dataZoomModel","getOtherAxisModel","isCartesian","coordSysIndexName","foundOtherAxisModel","otherAxisModel","percentWindow","hasPropModeValue","boundPercent","boundValue","spans","restrictSet","fromWindow","toWindow","fromExtent","toExtent","toValue","calculateDataExtent","setMinMaxSpan","dataWindow","setAxisModel","leftOut","rightOut","thisHasValue","thisLeftOut","thisRightOut","isInWindow","selectRange","setApproximateExtent","seriesExtent","getApproximateExtent","fixExtentByAxis","axisDataLen","isRestore","useOrigin","setRange","percentSpan","valueSpan","seriesInvolved","collectAxesInfo","collectSeriesInfo","linksOption","linkGroups","getCoordinateSystems","axesInfoInCoordSys","baseTooltipModel","saveTooltipAxisInfo","triggerAxis","cross","tooltipAxes","fromTooltip","axisPointerShow","isHandleTrigger","makeAxisPointerModel","groupIndex","getLinkGroupIndex","tooltipAxisPointerModel","volatileOption","labelOption","tooltipAxisPointerLabelShow","seriesTooltipTrigger","seriesTooltipShow","linkOption","checkPropInLink","linkPropValue","axisPropValue","GRADIENT_LEVELS","Heatmap","createCanvas","_gradientPixels","colorFunc","_getBrush","gradientInRange","_getGradient","gradientOutOfRange","globalAlpha","drawImage","imageData","getImageData","pixels","pixelLen","diffOpacity","gradientOffset","putImageData","brushCanvas","_brushCanvas","clearRect","gradientPixels","pixelsSingleState","Uint8ClampedArray","processedMapType","mapSymbolOffsets","subMapSeries"],"mappings":"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,eAAO,QAAP;AACD,OAHD;;;;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,UAAIukF,aAAa,GAAG,mBAAO;AAAC;AAAA,YAAD,CAA3B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,UAAIjtG,QAAQ,GAAGitG,aAAa,CAAC56G,MAAd,CAAqB;AAClCyN,YAAI,EAAE,iBAD4B;;AAGlC;AACF;AACA;AACEwU,qBAAa,EAAE;AACbusJ,kBAAQ,EAAE,KADG;AAEb;AACApzD,kBAAQ,EAAE,KAHG;AAIb;AACA+gB,0BAAgB,EAAE,IALL;AAMb;AACAC,yBAAe,EAAE,IAPJ;AAQb;AACAC,0BAAgB,EAAE,KATL;AAUb;AACAC,iCAAuB,EAAE;AAXZ;AANmB,OAArB,CAAf;;AAqBA1uH,YAAM,CAACC,OAAP,GAAiBF,QAAjB;;;;;;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,UAAInO,OAAO,GAAG,mBAAO;AAAC;AAAA,YAAD,CAArB;;AAEA,yBAAO;AAAC;AAAA,YAAD,CAAP;;AAEA,yBAAO;AAAC;AAAA,YAAD,CAAP;;AAEA,UAAIivK,WAAW,GAAG,mBAAO;AAAC;AAAA,YAAD,CAAzB;;AAEA,UAAIC,WAAW,GAAG,mBAAO;AAAC;AAAA,YAAD,CAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAlvK,aAAO,CAACI,cAAR,CAAuB6uK,WAAvB;AACAjvK,aAAO,CAACG,cAAR,CAAuB+uK,WAAvB;;;;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA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","file":"echarts-es5.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./boxplot/BoxplotSeries\");\n\nrequire(\"./boxplot/BoxplotView\");\n\nvar boxplotVisual = require(\"./boxplot/boxplotVisual\");\n\nvar boxplotLayout = require(\"./boxplot/boxplotLayout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerVisual(boxplotVisual);\necharts.registerLayout(boxplotLayout);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar retrieve = _util.retrieve;\nvar defaults = _util.defaults;\nvar extend = _util.extend;\nvar each = _util.each;\n\nvar formatUtil = require(\"../../util/format\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _number = require(\"../../util/number\");\n\nvar isRadianAroundZero = _number.isRadianAroundZero;\nvar remRadian = _number.remRadian;\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar matrixUtil = require(\"zrender/lib/core/matrix\");\n\nvar _vector = require(\"zrender/lib/core/vector\");\n\nvar v2ApplyTransform = _vector.applyTransform;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar shouldShowAllLabels = _axisHelper.shouldShowAllLabels;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PI = Math.PI;\n/**\n * A final axis is translated and rotated from a \"standard axis\".\n * So opt.position and opt.rotation is required.\n *\n * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\n * for example: (0, 0) ------------> (0, 50)\n *\n * nameDirection or tickDirection or labelDirection is 1 means tick\n * or label is below the standard axis, whereas is -1 means above\n * the standard axis. labelOffset means offset between label and axis,\n * which is useful when 'onZero', where axisLabel is in the grid and\n * label in outside grid.\n *\n * Tips: like always,\n * positive rotation represents anticlockwise, and negative rotation\n * represents clockwise.\n * The direction of position coordinate is the same as the direction\n * of screen coordinate.\n *\n * Do not need to consider axis 'inverse', which is auto processed by\n * axis extent.\n *\n * @param {module:zrender/container/Group} group\n * @param {Object} axisModel\n * @param {Object} opt Standard axis parameters.\n * @param {Array.<number>} opt.position [x, y]\n * @param {number} opt.rotation by radian\n * @param {number} [opt.nameDirection=1] 1 or -1 Used when nameLocation is 'middle' or 'center'.\n * @param {number} [opt.tickDirection=1] 1 or -1\n * @param {number} [opt.labelDirection=1] 1 or -1\n * @param {number} [opt.labelOffset=0] Usefull when onZero.\n * @param {string} [opt.axisLabelShow] default get from axisModel.\n * @param {string} [opt.axisName] default get from axisModel.\n * @param {number} [opt.axisNameAvailableWidth]\n * @param {number} [opt.labelRotate] by degree, default get from axisModel.\n * @param {number} [opt.strokeContainThreshold] Default label interval when label\n * @param {number} [opt.nameTruncateMaxWidth]\n */\n\nvar AxisBuilder = function (axisModel, opt) {\n  /**\n   * @readOnly\n   */\n  this.opt = opt;\n  /**\n   * @readOnly\n   */\n\n  this.axisModel = axisModel; // Default value\n\n  defaults(opt, {\n    labelOffset: 0,\n    nameDirection: 1,\n    tickDirection: 1,\n    labelDirection: 1,\n    silent: true\n  });\n  /**\n   * @readOnly\n   */\n\n  this.group = new graphic.Group(); // FIXME Not use a seperate text group?\n\n  var dumbGroup = new graphic.Group({\n    position: opt.position.slice(),\n    rotation: opt.rotation\n  }); // this.group.add(dumbGroup);\n  // this._dumbGroup = dumbGroup;\n\n  dumbGroup.updateTransform();\n  this._transform = dumbGroup.transform;\n  this._dumbGroup = dumbGroup;\n};\n\nAxisBuilder.prototype = {\n  constructor: AxisBuilder,\n  hasBuilder: function (name) {\n    return !!builders[name];\n  },\n  add: function (name) {\n    builders[name].call(this);\n  },\n  getGroup: function () {\n    return this.group;\n  }\n};\nvar builders = {\n  /**\n   * @private\n   */\n  axisLine: function () {\n    var opt = this.opt;\n    var axisModel = this.axisModel;\n\n    if (!axisModel.get('axisLine.show')) {\n      return;\n    }\n\n    var extent = this.axisModel.axis.getExtent();\n    var matrix = this._transform;\n    var pt1 = [extent[0], 0];\n    var pt2 = [extent[1], 0];\n\n    if (matrix) {\n      v2ApplyTransform(pt1, pt1, matrix);\n      v2ApplyTransform(pt2, pt2, matrix);\n    }\n\n    var lineStyle = extend({\n      lineCap: 'round'\n    }, axisModel.getModel('axisLine.lineStyle').getLineStyle());\n    this.group.add(new graphic.Line({\n      // Id for animation\n      anid: 'line',\n      subPixelOptimize: true,\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: lineStyle,\n      strokeContainThreshold: opt.strokeContainThreshold || 5,\n      silent: true,\n      z2: 1\n    }));\n    var arrows = axisModel.get('axisLine.symbol');\n    var arrowSize = axisModel.get('axisLine.symbolSize');\n    var arrowOffset = axisModel.get('axisLine.symbolOffset') || 0;\n\n    if (typeof arrowOffset === 'number') {\n      arrowOffset = [arrowOffset, arrowOffset];\n    }\n\n    if (arrows != null) {\n      if (typeof arrows === 'string') {\n        // Use the same arrow for start and end point\n        arrows = [arrows, arrows];\n      }\n\n      if (typeof arrowSize === 'string' || typeof arrowSize === 'number') {\n        // Use the same size for width and height\n        arrowSize = [arrowSize, arrowSize];\n      }\n\n      var symbolWidth = arrowSize[0];\n      var symbolHeight = arrowSize[1];\n      each([{\n        rotate: opt.rotation + Math.PI / 2,\n        offset: arrowOffset[0],\n        r: 0\n      }, {\n        rotate: opt.rotation - Math.PI / 2,\n        offset: arrowOffset[1],\n        r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))\n      }], function (point, index) {\n        if (arrows[index] !== 'none' && arrows[index] != null) {\n          var symbol = createSymbol(arrows[index], -symbolWidth / 2, -symbolHeight / 2, symbolWidth, symbolHeight, lineStyle.stroke, true); // Calculate arrow position with offset\n\n          var r = point.r + point.offset;\n          var pos = [pt1[0] + r * Math.cos(opt.rotation), pt1[1] - r * Math.sin(opt.rotation)];\n          symbol.attr({\n            rotation: point.rotate,\n            position: pos,\n            silent: true,\n            z2: 11\n          });\n          this.group.add(symbol);\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @private\n   */\n  axisTickLabel: function () {\n    var axisModel = this.axisModel;\n    var opt = this.opt;\n    var ticksEls = buildAxisMajorTicks(this, axisModel, opt);\n    var labelEls = buildAxisLabel(this, axisModel, opt);\n    fixMinMaxLabelShow(axisModel, labelEls, ticksEls);\n    buildAxisMinorTicks(this, axisModel, opt);\n  },\n\n  /**\n   * @private\n   */\n  axisName: function () {\n    var opt = this.opt;\n    var axisModel = this.axisModel;\n    var name = retrieve(opt.axisName, axisModel.get('name'));\n\n    if (!name) {\n      return;\n    }\n\n    var nameLocation = axisModel.get('nameLocation');\n    var nameDirection = opt.nameDirection;\n    var textStyleModel = axisModel.getModel('nameTextStyle');\n    var gap = axisModel.get('nameGap') || 0;\n    var extent = this.axisModel.axis.getExtent();\n    var gapSignal = extent[0] > extent[1] ? -1 : 1;\n    var pos = [nameLocation === 'start' ? extent[0] - gapSignal * gap : nameLocation === 'end' ? extent[1] + gapSignal * gap : (extent[0] + extent[1]) / 2, // 'middle'\n    // Reuse labelOffset.\n    isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0];\n    var labelLayout;\n    var nameRotation = axisModel.get('nameRotate');\n\n    if (nameRotation != null) {\n      nameRotation = nameRotation * PI / 180; // To radian.\n    }\n\n    var axisNameAvailableWidth;\n\n    if (isNameLocationCenter(nameLocation)) {\n      labelLayout = innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation, // Adapt to axis.\n      nameDirection);\n    } else {\n      labelLayout = endTextLayout(opt, nameLocation, nameRotation || 0, extent);\n      axisNameAvailableWidth = opt.axisNameAvailableWidth;\n\n      if (axisNameAvailableWidth != null) {\n        axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\n        !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n      }\n    }\n\n    var textFont = textStyleModel.getFont();\n    var truncateOpt = axisModel.get('nameTruncate', true) || {};\n    var ellipsis = truncateOpt.ellipsis;\n    var maxWidth = retrieve(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth); // FIXME\n    // truncate rich text? (consider performance)\n\n    var truncatedText = ellipsis != null && maxWidth != null ? formatUtil.truncateText(name, maxWidth, textFont, ellipsis, {\n      minChar: 2,\n      placeholder: truncateOpt.placeholder\n    }) : name;\n    var tooltipOpt = axisModel.get('tooltip', true);\n    var mainType = axisModel.mainType;\n    var formatterParams = {\n      componentType: mainType,\n      name: name,\n      $vars: ['name']\n    };\n    formatterParams[mainType + 'Index'] = axisModel.componentIndex;\n    var textEl = new graphic.Text({\n      // Id for animation\n      anid: 'name',\n      __fullText: name,\n      __truncatedText: truncatedText,\n      position: pos,\n      rotation: labelLayout.rotation,\n      silent: isLabelSilent(axisModel),\n      z2: 1,\n      tooltip: tooltipOpt && tooltipOpt.show ? extend({\n        content: name,\n        formatter: function () {\n          return name;\n        },\n        formatterParams: formatterParams\n      }, tooltipOpt) : null\n    });\n    graphic.setTextStyle(textEl.style, textStyleModel, {\n      text: truncatedText,\n      textFont: textFont,\n      textFill: textStyleModel.getTextColor() || axisModel.get('axisLine.lineStyle.color'),\n      textAlign: textStyleModel.get('align') || labelLayout.textAlign,\n      textVerticalAlign: textStyleModel.get('verticalAlign') || labelLayout.textVerticalAlign\n    });\n\n    if (axisModel.get('triggerEvent')) {\n      textEl.eventData = makeAxisEventDataBase(axisModel);\n      textEl.eventData.targetType = 'axisName';\n      textEl.eventData.name = name;\n    } // FIXME\n\n\n    this._dumbGroup.add(textEl);\n\n    textEl.updateTransform();\n    this.group.add(textEl);\n    textEl.decomposeTransform();\n  }\n};\n\nvar makeAxisEventDataBase = AxisBuilder.makeAxisEventDataBase = function (axisModel) {\n  var eventData = {\n    componentType: axisModel.mainType,\n    componentIndex: axisModel.componentIndex\n  };\n  eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n  return eventData;\n};\n/**\n * @public\n * @static\n * @param {Object} opt\n * @param {number} axisRotation in radian\n * @param {number} textRotation in radian\n * @param {number} direction\n * @return {Object} {\n *  rotation, // according to axis\n *  textAlign,\n *  textVerticalAlign\n * }\n */\n\n\nvar innerTextLayout = AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n  var rotationDiff = remRadian(textRotation - axisRotation);\n  var textAlign;\n  var textVerticalAlign;\n\n  if (isRadianAroundZero(rotationDiff)) {\n    // Label is parallel with axis line.\n    textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI)) {\n    // Label is inverse parallel with axis line.\n    textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n\n    if (rotationDiff > 0 && rotationDiff < PI) {\n      textAlign = direction > 0 ? 'right' : 'left';\n    } else {\n      textAlign = direction > 0 ? 'left' : 'right';\n    }\n  }\n\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n};\n\nfunction endTextLayout(opt, textPosition, textRotate, extent) {\n  var rotationDiff = remRadian(textRotate - opt.rotation);\n  var textAlign;\n  var textVerticalAlign;\n  var inverse = extent[0] > extent[1];\n  var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\n\n  if (isRadianAroundZero(rotationDiff - PI / 2)) {\n    textVerticalAlign = onLeft ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI * 1.5)) {\n    textVerticalAlign = onLeft ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n\n    if (rotationDiff < PI * 1.5 && rotationDiff > PI / 2) {\n      textAlign = onLeft ? 'left' : 'right';\n    } else {\n      textAlign = onLeft ? 'right' : 'left';\n    }\n  }\n\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\n\nvar isLabelSilent = AxisBuilder.isLabelSilent = function (axisModel) {\n  var tooltipOpt = axisModel.get('tooltip');\n  return axisModel.get('silent') // Consider mouse cursor, add these restrictions.\n  || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\n};\n\nfunction fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\n  if (shouldShowAllLabels(axisModel.axis)) {\n    return;\n  } // If min or max are user set, we need to check\n  // If the tick on min(max) are overlap on their neighbour tick\n  // If they are overlapped, we need to hide the min(max) tick label\n\n\n  var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n  var showMaxLabel = axisModel.get('axisLabel.showMaxLabel'); // FIXME\n  // Have not consider onBand yet, where tick els is more than label els.\n\n  labelEls = labelEls || [];\n  tickEls = tickEls || [];\n  var firstLabel = labelEls[0];\n  var nextLabel = labelEls[1];\n  var lastLabel = labelEls[labelEls.length - 1];\n  var prevLabel = labelEls[labelEls.length - 2];\n  var firstTick = tickEls[0];\n  var nextTick = tickEls[1];\n  var lastTick = tickEls[tickEls.length - 1];\n  var prevTick = tickEls[tickEls.length - 2];\n\n  if (showMinLabel === false) {\n    ignoreEl(firstLabel);\n    ignoreEl(firstTick);\n  } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\n    if (showMinLabel) {\n      ignoreEl(nextLabel);\n      ignoreEl(nextTick);\n    } else {\n      ignoreEl(firstLabel);\n      ignoreEl(firstTick);\n    }\n  }\n\n  if (showMaxLabel === false) {\n    ignoreEl(lastLabel);\n    ignoreEl(lastTick);\n  } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\n    if (showMaxLabel) {\n      ignoreEl(prevLabel);\n      ignoreEl(prevTick);\n    } else {\n      ignoreEl(lastLabel);\n      ignoreEl(lastTick);\n    }\n  }\n}\n\nfunction ignoreEl(el) {\n  el && (el.ignore = true);\n}\n\nfunction isTwoLabelOverlapped(current, next, labelLayout) {\n  // current and next has the same rotation.\n  var firstRect = current && current.getBoundingRect().clone();\n  var nextRect = next && next.getBoundingRect().clone();\n\n  if (!firstRect || !nextRect) {\n    return;\n  } // When checking intersect of two rotated labels, we use mRotationBack\n  // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\n\n\n  var mRotationBack = matrixUtil.identity([]);\n  matrixUtil.rotate(mRotationBack, mRotationBack, -current.rotation);\n  firstRect.applyTransform(matrixUtil.mul([], mRotationBack, current.getLocalTransform()));\n  nextRect.applyTransform(matrixUtil.mul([], mRotationBack, next.getLocalTransform()));\n  return firstRect.intersect(nextRect);\n}\n\nfunction isNameLocationCenter(nameLocation) {\n  return nameLocation === 'middle' || nameLocation === 'center';\n}\n\nfunction createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, aniid) {\n  var tickEls = [];\n  var pt1 = [];\n  var pt2 = [];\n\n  for (var i = 0; i < ticksCoords.length; i++) {\n    var tickCoord = ticksCoords[i].coord;\n    pt1[0] = tickCoord;\n    pt1[1] = 0;\n    pt2[0] = tickCoord;\n    pt2[1] = tickEndCoord;\n\n    if (tickTransform) {\n      v2ApplyTransform(pt1, pt1, tickTransform);\n      v2ApplyTransform(pt2, pt2, tickTransform);\n    } // Tick line, Not use group transform to have better line draw\n\n\n    var tickEl = new graphic.Line({\n      // Id for animation\n      anid: aniid + '_' + ticksCoords[i].tickValue,\n      subPixelOptimize: true,\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: tickLineStyle,\n      z2: 2,\n      silent: true\n    });\n    tickEls.push(tickEl);\n  }\n\n  return tickEls;\n}\n\nfunction buildAxisMajorTicks(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var tickModel = axisModel.getModel('axisTick');\n\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    return;\n  }\n\n  var lineStyleModel = tickModel.getModel('lineStyle');\n  var tickEndCoord = opt.tickDirection * tickModel.get('length');\n  var ticksCoords = axis.getTicksCoords();\n  var ticksEls = createTicks(ticksCoords, axisBuilder._transform, tickEndCoord, defaults(lineStyleModel.getLineStyle(), {\n    stroke: axisModel.get('axisLine.lineStyle.color')\n  }), 'ticks');\n\n  for (var i = 0; i < ticksEls.length; i++) {\n    axisBuilder.group.add(ticksEls[i]);\n  }\n\n  return ticksEls;\n}\n\nfunction buildAxisMinorTicks(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var minorTickModel = axisModel.getModel('minorTick');\n\n  if (!minorTickModel.get('show') || axis.scale.isBlank()) {\n    return;\n  }\n\n  var minorTicksCoords = axis.getMinorTicksCoords();\n\n  if (!minorTicksCoords.length) {\n    return;\n  }\n\n  var lineStyleModel = minorTickModel.getModel('lineStyle');\n  var tickEndCoord = opt.tickDirection * minorTickModel.get('length');\n  var minorTickLineStyle = defaults(lineStyleModel.getLineStyle(), defaults(axisModel.getModel('axisTick').getLineStyle(), {\n    stroke: axisModel.get('axisLine.lineStyle.color')\n  }));\n\n  for (var i = 0; i < minorTicksCoords.length; i++) {\n    var minorTicksEls = createTicks(minorTicksCoords[i], axisBuilder._transform, tickEndCoord, minorTickLineStyle, 'minorticks_' + i);\n\n    for (var k = 0; k < minorTicksEls.length; k++) {\n      axisBuilder.group.add(minorTicksEls[k]);\n    }\n  }\n}\n\nfunction buildAxisLabel(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var show = retrieve(opt.axisLabelShow, axisModel.get('axisLabel.show'));\n\n  if (!show || axis.scale.isBlank()) {\n    return;\n  }\n\n  var labelModel = axisModel.getModel('axisLabel');\n  var labelMargin = labelModel.get('margin');\n  var labels = axis.getViewLabels(); // Special label rotate.\n\n  var labelRotation = (retrieve(opt.labelRotate, labelModel.get('rotate')) || 0) * PI / 180;\n  var labelLayout = innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\n  var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);\n  var labelEls = [];\n  var silent = isLabelSilent(axisModel);\n  var triggerEvent = axisModel.get('triggerEvent');\n  each(labels, function (labelItem, index) {\n    var tickValue = labelItem.tickValue;\n    var formattedLabel = labelItem.formattedLabel;\n    var rawLabel = labelItem.rawLabel;\n    var itemLabelModel = labelModel;\n\n    if (rawCategoryData && rawCategoryData[tickValue] && rawCategoryData[tickValue].textStyle) {\n      itemLabelModel = new Model(rawCategoryData[tickValue].textStyle, labelModel, axisModel.ecModel);\n    }\n\n    var textColor = itemLabelModel.getTextColor() || axisModel.get('axisLine.lineStyle.color');\n    var tickCoord = axis.dataToCoord(tickValue);\n    var pos = [tickCoord, opt.labelOffset + opt.labelDirection * labelMargin];\n    var textEl = new graphic.Text({\n      // Id for animation\n      anid: 'label_' + tickValue,\n      position: pos,\n      rotation: labelLayout.rotation,\n      silent: silent,\n      z2: 10\n    });\n    graphic.setTextStyle(textEl.style, itemLabelModel, {\n      text: formattedLabel,\n      textAlign: itemLabelModel.getShallow('align', true) || labelLayout.textAlign,\n      textVerticalAlign: itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign,\n      textFill: typeof textColor === 'function' ? textColor( // (1) In category axis with data zoom, tick is not the original\n      // index of axis.data. So tick should not be exposed to user\n      // in category axis.\n      // (2) Compatible with previous version, which always use formatted label as\n      // input. But in interval scale the formatted label is like '223,445', which\n      // maked user repalce ','. So we modify it to return original val but remain\n      // it as 'string' to avoid error in replacing.\n      axis.type === 'category' ? rawLabel : axis.type === 'value' ? tickValue + '' : tickValue, index) : textColor\n    }); // Pack data for mouse event\n\n    if (triggerEvent) {\n      textEl.eventData = makeAxisEventDataBase(axisModel);\n      textEl.eventData.targetType = 'axisLabel';\n      textEl.eventData.value = rawLabel;\n    } // FIXME\n\n\n    axisBuilder._dumbGroup.add(textEl);\n\n    textEl.updateTransform();\n    labelEls.push(textEl);\n    axisBuilder.group.add(textEl);\n    textEl.decomposeTransform();\n  });\n  return labelEls;\n}\n\nvar _default = AxisBuilder;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Eventful = require(\"zrender/lib/mixin/Eventful\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar interactionMutex = require(\"./interactionMutex\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar map = zrUtil.map;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathPow = Math.pow;\nvar COVER_Z = 10000;\nvar UNSELECT_THRESHOLD = 6;\nvar MIN_RESIZE_LINE_WIDTH = 6;\nvar MUTEX_RESOURCE_KEY = 'globalPan';\nvar DIRECTION_MAP = {\n  w: [0, 0],\n  e: [0, 1],\n  n: [1, 0],\n  s: [1, 1]\n};\nvar CURSOR_MAP = {\n  w: 'ew',\n  e: 'ew',\n  n: 'ns',\n  s: 'ns',\n  ne: 'nesw',\n  sw: 'nesw',\n  nw: 'nwse',\n  se: 'nwse'\n};\nvar DEFAULT_BRUSH_OPT = {\n  brushStyle: {\n    lineWidth: 2,\n    stroke: 'rgba(0,0,0,0.3)',\n    fill: 'rgba(0,0,0,0.1)'\n  },\n  transformable: true,\n  brushMode: 'single',\n  removeOnClick: false\n};\nvar baseUID = 0;\n/**\n * @alias module:echarts/component/helper/BrushController\n * @constructor\n * @mixin {module:zrender/mixin/Eventful}\n * @event module:echarts/component/helper/BrushController#brush\n *        params:\n *            areas: Array.<Array>, coord relates to container group,\n *                                    If no container specified, to global.\n *            opt {\n *                isEnd: boolean,\n *                removeOnClick: boolean\n *            }\n *\n * @param {module:zrender/zrender~ZRender} zr\n */\n\nfunction BrushController(zr) {\n  Eventful.call(this);\n  /**\n   * @type {module:zrender/zrender~ZRender}\n   * @private\n   */\n\n  this._zr = zr;\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n\n  this.group = new graphic.Group();\n  /**\n   * Only for drawing (after enabledBrush).\n   *     'line', 'rect', 'polygon' or false\n   *     If passing false/null/undefined, disable brush.\n   *     If passing 'auto', determined by panel.defaultBrushType\n   * @private\n   * @type {string}\n   */\n\n  this._brushType;\n  /**\n   * Only for drawing (after enabledBrush).\n   *\n   * @private\n   * @type {Object}\n   */\n\n  this._brushOption;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._panels;\n  /**\n   * @private\n   * @type {Array.<nubmer>}\n   */\n\n  this._track = [];\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._dragging;\n  /**\n   * @private\n   * @type {Array}\n   */\n\n  this._covers = [];\n  /**\n   * @private\n   * @type {moudule:zrender/container/Group}\n   */\n\n  this._creatingCover;\n  /**\n   * `true` means global panel\n   * @private\n   * @type {module:zrender/container/Group|boolean}\n   */\n\n  this._creatingPanel;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._enableGlobalPan;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this._uid = 'brushController_' + baseUID++;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._handlers = {};\n  each(pointerHandlers, function (handler, eventName) {\n    this._handlers[eventName] = zrUtil.bind(handler, this);\n  }, this);\n}\n\nBrushController.prototype = {\n  constructor: BrushController,\n\n  /**\n   * If set to null/undefined/false, select disabled.\n   * @param {Object} brushOption\n   * @param {string|boolean} brushOption.brushType 'line', 'rect', 'polygon' or false\n   *                          If passing false/null/undefined, disable brush.\n   *                          If passing 'auto', determined by panel.defaultBrushType.\n   *                              ('auto' can not be used in global panel)\n   * @param {number} [brushOption.brushMode='single'] 'single' or 'multiple'\n   * @param {boolean} [brushOption.transformable=true]\n   * @param {boolean} [brushOption.removeOnClick=false]\n   * @param {Object} [brushOption.brushStyle]\n   * @param {number} [brushOption.brushStyle.width]\n   * @param {number} [brushOption.brushStyle.lineWidth]\n   * @param {string} [brushOption.brushStyle.stroke]\n   * @param {string} [brushOption.brushStyle.fill]\n   * @param {number} [brushOption.z]\n   */\n  enableBrush: function (brushOption) {\n    this._brushType && doDisableBrush(this);\n    brushOption.brushType && doEnableBrush(this, brushOption);\n    return this;\n  },\n\n  /**\n   * @param {Array.<Object>} panelOpts If not pass, it is global brush.\n   *        Each items: {\n   *            panelId, // mandatory.\n   *            clipPath, // mandatory. function.\n   *            isTargetByCursor, // mandatory. function.\n   *            defaultBrushType, // optional, only used when brushType is 'auto'.\n   *            getLinearBrushOtherExtent, // optional. function.\n   *        }\n   */\n  setPanels: function (panelOpts) {\n    if (panelOpts && panelOpts.length) {\n      var panels = this._panels = {};\n      zrUtil.each(panelOpts, function (panelOpts) {\n        panels[panelOpts.panelId] = zrUtil.clone(panelOpts);\n      });\n    } else {\n      this._panels = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param {Object} [opt]\n   * @return {boolean} [opt.enableGlobalPan=false]\n   */\n  mount: function (opt) {\n    opt = opt || {};\n    this._enableGlobalPan = opt.enableGlobalPan;\n    var thisGroup = this.group;\n\n    this._zr.add(thisGroup);\n\n    thisGroup.attr({\n      position: opt.position || [0, 0],\n      rotation: opt.rotation || 0,\n      scale: opt.scale || [1, 1]\n    });\n    this._transform = thisGroup.getLocalTransform();\n    return this;\n  },\n  eachCover: function (cb, context) {\n    each(this._covers, cb, context);\n  },\n\n  /**\n   * Update covers.\n   * @param {Array.<Object>} brushOptionList Like:\n   *        [\n   *            {id: 'xx', brushType: 'line', range: [23, 44], brushStyle, transformable},\n   *            {id: 'yy', brushType: 'rect', range: [[23, 44], [23, 54]]},\n   *            ...\n   *        ]\n   *        `brushType` is required in each cover info. (can not be 'auto')\n   *        `id` is not mandatory.\n   *        `brushStyle`, `transformable` is not mandatory, use DEFAULT_BRUSH_OPT by default.\n   *        If brushOptionList is null/undefined, all covers removed.\n   */\n  updateCovers: function (brushOptionList) {\n    brushOptionList = zrUtil.map(brushOptionList, function (brushOption) {\n      return zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT), brushOption, true);\n    });\n    var tmpIdPrefix = '\\0-brush-index-';\n    var oldCovers = this._covers;\n    var newCovers = this._covers = [];\n    var controller = this;\n    var creatingCover = this._creatingCover;\n    new DataDiffer(oldCovers, brushOptionList, oldGetKey, getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute();\n    return this;\n\n    function getKey(brushOption, index) {\n      return (brushOption.id != null ? brushOption.id : tmpIdPrefix + index) + '-' + brushOption.brushType;\n    }\n\n    function oldGetKey(cover, index) {\n      return getKey(cover.__brushOption, index);\n    }\n\n    function addOrUpdate(newIndex, oldIndex) {\n      var newBrushOption = brushOptionList[newIndex]; // Consider setOption in event listener of brushSelect,\n      // where updating cover when creating should be forbiden.\n\n      if (oldIndex != null && oldCovers[oldIndex] === creatingCover) {\n        newCovers[newIndex] = oldCovers[oldIndex];\n      } else {\n        var cover = newCovers[newIndex] = oldIndex != null ? (oldCovers[oldIndex].__brushOption = newBrushOption, oldCovers[oldIndex]) : endCreating(controller, createCover(controller, newBrushOption));\n        updateCoverAfterCreation(controller, cover);\n      }\n    }\n\n    function remove(oldIndex) {\n      if (oldCovers[oldIndex] !== creatingCover) {\n        controller.group.remove(oldCovers[oldIndex]);\n      }\n    }\n  },\n  unmount: function () {\n    this.enableBrush(false); // container may 'removeAll' outside.\n\n    clearCovers(this);\n\n    this._zr.remove(this.group);\n\n    return this;\n  },\n  dispose: function () {\n    this.unmount();\n    this.off();\n  }\n};\nzrUtil.mixin(BrushController, Eventful);\n\nfunction doEnableBrush(controller, brushOption) {\n  var zr = controller._zr; // Consider roam, which takes globalPan too.\n\n  if (!controller._enableGlobalPan) {\n    interactionMutex.take(zr, MUTEX_RESOURCE_KEY, controller._uid);\n  }\n\n  mountHandlers(zr, controller._handlers);\n  controller._brushType = brushOption.brushType;\n  controller._brushOption = zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT), brushOption, true);\n}\n\nfunction doDisableBrush(controller) {\n  var zr = controller._zr;\n  interactionMutex.release(zr, MUTEX_RESOURCE_KEY, controller._uid);\n  unmountHandlers(zr, controller._handlers);\n  controller._brushType = controller._brushOption = null;\n}\n\nfunction mountHandlers(zr, handlers) {\n  each(handlers, function (handler, eventName) {\n    zr.on(eventName, handler);\n  });\n}\n\nfunction unmountHandlers(zr, handlers) {\n  each(handlers, function (handler, eventName) {\n    zr.off(eventName, handler);\n  });\n}\n\nfunction createCover(controller, brushOption) {\n  var cover = coverRenderers[brushOption.brushType].createCover(controller, brushOption);\n  cover.__brushOption = brushOption;\n  updateZ(cover, brushOption);\n  controller.group.add(cover);\n  return cover;\n}\n\nfunction endCreating(controller, creatingCover) {\n  var coverRenderer = getCoverRenderer(creatingCover);\n\n  if (coverRenderer.endCreating) {\n    coverRenderer.endCreating(controller, creatingCover);\n    updateZ(creatingCover, creatingCover.__brushOption);\n  }\n\n  return creatingCover;\n}\n\nfunction updateCoverShape(controller, cover) {\n  var brushOption = cover.__brushOption;\n  getCoverRenderer(cover).updateCoverShape(controller, cover, brushOption.range, brushOption);\n}\n\nfunction updateZ(cover, brushOption) {\n  var z = brushOption.z;\n  z == null && (z = COVER_Z);\n  cover.traverse(function (el) {\n    el.z = z;\n    el.z2 = z; // Consider in given container.\n  });\n}\n\nfunction updateCoverAfterCreation(controller, cover) {\n  getCoverRenderer(cover).updateCommon(controller, cover);\n  updateCoverShape(controller, cover);\n}\n\nfunction getCoverRenderer(cover) {\n  return coverRenderers[cover.__brushOption.brushType];\n} // return target panel or `true` (means global panel)\n\n\nfunction getPanelByPoint(controller, e, localCursorPoint) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return true; // Global panel\n  }\n\n  var panel;\n  var transform = controller._transform;\n  each(panels, function (pn) {\n    pn.isTargetByCursor(e, localCursorPoint, transform) && (panel = pn);\n  });\n  return panel;\n} // Return a panel or true\n\n\nfunction getPanelByCover(controller, cover) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return true; // Global panel\n  }\n\n  var panelId = cover.__brushOption.panelId; // User may give cover without coord sys info,\n  // which is then treated as global panel.\n\n  return panelId != null ? panels[panelId] : true;\n}\n\nfunction clearCovers(controller) {\n  var covers = controller._covers;\n  var originalLength = covers.length;\n  each(covers, function (cover) {\n    controller.group.remove(cover);\n  }, controller);\n  covers.length = 0;\n  return !!originalLength;\n}\n\nfunction trigger(controller, opt) {\n  var areas = map(controller._covers, function (cover) {\n    var brushOption = cover.__brushOption;\n    var range = zrUtil.clone(brushOption.range);\n    return {\n      brushType: brushOption.brushType,\n      panelId: brushOption.panelId,\n      range: range\n    };\n  });\n  controller.trigger('brush', areas, {\n    isEnd: !!opt.isEnd,\n    removeOnClick: !!opt.removeOnClick\n  });\n}\n\nfunction shouldShowCover(controller) {\n  var track = controller._track;\n\n  if (!track.length) {\n    return false;\n  }\n\n  var p2 = track[track.length - 1];\n  var p1 = track[0];\n  var dx = p2[0] - p1[0];\n  var dy = p2[1] - p1[1];\n  var dist = mathPow(dx * dx + dy * dy, 0.5);\n  return dist > UNSELECT_THRESHOLD;\n}\n\nfunction getTrackEnds(track) {\n  var tail = track.length - 1;\n  tail < 0 && (tail = 0);\n  return [track[0], track[tail]];\n}\n\nfunction createBaseRectCover(doDrift, controller, brushOption, edgeNames) {\n  var cover = new graphic.Group();\n  cover.add(new graphic.Rect({\n    name: 'main',\n    style: makeStyle(brushOption),\n    silent: true,\n    draggable: true,\n    cursor: 'move',\n    drift: curry(doDrift, controller, cover, 'nswe'),\n    ondragend: curry(trigger, controller, {\n      isEnd: true\n    })\n  }));\n  each(edgeNames, function (name) {\n    cover.add(new graphic.Rect({\n      name: name,\n      style: {\n        opacity: 0\n      },\n      draggable: true,\n      silent: true,\n      invisible: true,\n      drift: curry(doDrift, controller, cover, name),\n      ondragend: curry(trigger, controller, {\n        isEnd: true\n      })\n    }));\n  });\n  return cover;\n}\n\nfunction updateBaseRect(controller, cover, localRange, brushOption) {\n  var lineWidth = brushOption.brushStyle.lineWidth || 0;\n  var handleSize = mathMax(lineWidth, MIN_RESIZE_LINE_WIDTH);\n  var x = localRange[0][0];\n  var y = localRange[1][0];\n  var xa = x - lineWidth / 2;\n  var ya = y - lineWidth / 2;\n  var x2 = localRange[0][1];\n  var y2 = localRange[1][1];\n  var x2a = x2 - handleSize + lineWidth / 2;\n  var y2a = y2 - handleSize + lineWidth / 2;\n  var width = x2 - x;\n  var height = y2 - y;\n  var widtha = width + lineWidth;\n  var heighta = height + lineWidth;\n  updateRectShape(controller, cover, 'main', x, y, width, height);\n\n  if (brushOption.transformable) {\n    updateRectShape(controller, cover, 'w', xa, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'e', x2a, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'n', xa, ya, widtha, handleSize);\n    updateRectShape(controller, cover, 's', xa, y2a, widtha, handleSize);\n    updateRectShape(controller, cover, 'nw', xa, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'ne', x2a, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'sw', xa, y2a, handleSize, handleSize);\n    updateRectShape(controller, cover, 'se', x2a, y2a, handleSize, handleSize);\n  }\n}\n\nfunction updateCommon(controller, cover) {\n  var brushOption = cover.__brushOption;\n  var transformable = brushOption.transformable;\n  var mainEl = cover.childAt(0);\n  mainEl.useStyle(makeStyle(brushOption));\n  mainEl.attr({\n    silent: !transformable,\n    cursor: transformable ? 'move' : 'default'\n  });\n  each(['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw'], function (name) {\n    var el = cover.childOfName(name);\n    var globalDir = getGlobalDirection(controller, name);\n    el && el.attr({\n      silent: !transformable,\n      invisible: !transformable,\n      cursor: transformable ? CURSOR_MAP[globalDir] + '-resize' : null\n    });\n  });\n}\n\nfunction updateRectShape(controller, cover, name, x, y, w, h) {\n  var el = cover.childOfName(name);\n  el && el.setShape(pointsToRect(clipByPanel(controller, cover, [[x, y], [x + w, y + h]])));\n}\n\nfunction makeStyle(brushOption) {\n  return zrUtil.defaults({\n    strokeNoScale: true\n  }, brushOption.brushStyle);\n}\n\nfunction formatRectRange(x, y, x2, y2) {\n  var min = [mathMin(x, x2), mathMin(y, y2)];\n  var max = [mathMax(x, x2), mathMax(y, y2)];\n  return [[min[0], max[0]], // x range\n  [min[1], max[1]] // y range\n  ];\n}\n\nfunction getTransform(controller) {\n  return graphic.getTransform(controller.group);\n}\n\nfunction getGlobalDirection(controller, localDirection) {\n  if (localDirection.length > 1) {\n    localDirection = localDirection.split('');\n    var globalDir = [getGlobalDirection(controller, localDirection[0]), getGlobalDirection(controller, localDirection[1])];\n    (globalDir[0] === 'e' || globalDir[0] === 'w') && globalDir.reverse();\n    return globalDir.join('');\n  } else {\n    var map = {\n      w: 'left',\n      e: 'right',\n      n: 'top',\n      s: 'bottom'\n    };\n    var inverseMap = {\n      left: 'w',\n      right: 'e',\n      top: 'n',\n      bottom: 's'\n    };\n    var globalDir = graphic.transformDirection(map[localDirection], getTransform(controller));\n    return inverseMap[globalDir];\n  }\n}\n\nfunction driftRect(toRectRange, fromRectRange, controller, cover, name, dx, dy, e) {\n  var brushOption = cover.__brushOption;\n  var rectRange = toRectRange(brushOption.range);\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(name.split(''), function (namePart) {\n    var ind = DIRECTION_MAP[namePart];\n    rectRange[ind[0]][ind[1]] += localDelta[ind[0]];\n  });\n  brushOption.range = fromRectRange(formatRectRange(rectRange[0][0], rectRange[1][0], rectRange[0][1], rectRange[1][1]));\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction driftPolygon(controller, cover, dx, dy, e) {\n  var range = cover.__brushOption.range;\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(range, function (point) {\n    point[0] += localDelta[0];\n    point[1] += localDelta[1];\n  });\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction toLocalDelta(controller, dx, dy) {\n  var thisGroup = controller.group;\n  var localD = thisGroup.transformCoordToLocal(dx, dy);\n  var localZero = thisGroup.transformCoordToLocal(0, 0);\n  return [localD[0] - localZero[0], localD[1] - localZero[1]];\n}\n\nfunction clipByPanel(controller, cover, data) {\n  var panel = getPanelByCover(controller, cover);\n  return panel && panel !== true ? panel.clipPath(data, controller._transform) : zrUtil.clone(data);\n}\n\nfunction pointsToRect(points) {\n  var xmin = mathMin(points[0][0], points[1][0]);\n  var ymin = mathMin(points[0][1], points[1][1]);\n  var xmax = mathMax(points[0][0], points[1][0]);\n  var ymax = mathMax(points[0][1], points[1][1]);\n  return {\n    x: xmin,\n    y: ymin,\n    width: xmax - xmin,\n    height: ymax - ymin\n  };\n}\n\nfunction resetCursor(controller, e, localCursorPoint) {\n  if ( // Check active\n  !controller._brushType // resetCursor should be always called when mouse is in zr area,\n  // but not called when mouse is out of zr area to avoid bad influence\n  // if `mousemove`, `mouseup` are triggered from `document` event.\n  || isOutsideZrArea(controller, e)) {\n    return;\n  }\n\n  var zr = controller._zr;\n  var covers = controller._covers;\n  var currPanel = getPanelByPoint(controller, e, localCursorPoint); // Check whether in covers.\n\n  if (!controller._dragging) {\n    for (var i = 0; i < covers.length; i++) {\n      var brushOption = covers[i].__brushOption;\n\n      if (currPanel && (currPanel === true || brushOption.panelId === currPanel.panelId) && coverRenderers[brushOption.brushType].contain(covers[i], localCursorPoint[0], localCursorPoint[1])) {\n        // Use cursor style set on cover.\n        return;\n      }\n    }\n  }\n\n  currPanel && zr.setCursorStyle('crosshair');\n}\n\nfunction preventDefault(e) {\n  var rawE = e.event;\n  rawE.preventDefault && rawE.preventDefault();\n}\n\nfunction mainShapeContain(cover, x, y) {\n  return cover.childOfName('main').contain(x, y);\n}\n\nfunction updateCoverByMouse(controller, e, localCursorPoint, isEnd) {\n  var creatingCover = controller._creatingCover;\n  var panel = controller._creatingPanel;\n  var thisBrushOption = controller._brushOption;\n  var eventParams;\n\n  controller._track.push(localCursorPoint.slice());\n\n  if (shouldShowCover(controller) || creatingCover) {\n    if (panel && !creatingCover) {\n      thisBrushOption.brushMode === 'single' && clearCovers(controller);\n      var brushOption = zrUtil.clone(thisBrushOption);\n      brushOption.brushType = determineBrushType(brushOption.brushType, panel);\n      brushOption.panelId = panel === true ? null : panel.panelId;\n      creatingCover = controller._creatingCover = createCover(controller, brushOption);\n\n      controller._covers.push(creatingCover);\n    }\n\n    if (creatingCover) {\n      var coverRenderer = coverRenderers[determineBrushType(controller._brushType, panel)];\n      var coverBrushOption = creatingCover.__brushOption;\n      coverBrushOption.range = coverRenderer.getCreatingRange(clipByPanel(controller, creatingCover, controller._track));\n\n      if (isEnd) {\n        endCreating(controller, creatingCover);\n        coverRenderer.updateCommon(controller, creatingCover);\n      }\n\n      updateCoverShape(controller, creatingCover);\n      eventParams = {\n        isEnd: isEnd\n      };\n    }\n  } else if (isEnd && thisBrushOption.brushMode === 'single' && thisBrushOption.removeOnClick) {\n    // Help user to remove covers easily, only by a tiny drag, in 'single' mode.\n    // But a single click do not clear covers, because user may have casual\n    // clicks (for example, click on other component and do not expect covers\n    // disappear).\n    // Only some cover removed, trigger action, but not every click trigger action.\n    if (getPanelByPoint(controller, e, localCursorPoint) && clearCovers(controller)) {\n      eventParams = {\n        isEnd: isEnd,\n        removeOnClick: true\n      };\n    }\n  }\n\n  return eventParams;\n}\n\nfunction determineBrushType(brushType, panel) {\n  if (brushType === 'auto') {\n    return panel.defaultBrushType;\n  }\n\n  return brushType;\n}\n\nvar pointerHandlers = {\n  mousedown: function (e) {\n    if (this._dragging) {\n      // In case some browser do not support globalOut,\n      // and release mose out side the browser.\n      handleDragEnd(this, e);\n    } else if (!e.target || !e.target.draggable) {\n      preventDefault(e);\n      var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n      this._creatingCover = null;\n      var panel = this._creatingPanel = getPanelByPoint(this, e, localCursorPoint);\n\n      if (panel) {\n        this._dragging = true;\n        this._track = [localCursorPoint.slice()];\n      }\n    }\n  },\n  mousemove: function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = this.group.transformCoordToLocal(x, y);\n    resetCursor(this, e, localCursorPoint);\n\n    if (this._dragging) {\n      preventDefault(e);\n      var eventParams = updateCoverByMouse(this, e, localCursorPoint, false);\n      eventParams && trigger(this, eventParams);\n    }\n  },\n  mouseup: function (e) {\n    handleDragEnd(this, e);\n  }\n};\n\nfunction handleDragEnd(controller, e) {\n  if (controller._dragging) {\n    preventDefault(e);\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = controller.group.transformCoordToLocal(x, y);\n    var eventParams = updateCoverByMouse(controller, e, localCursorPoint, true);\n    controller._dragging = false;\n    controller._track = [];\n    controller._creatingCover = null; // trigger event shoule be at final, after procedure will be nested.\n\n    eventParams && trigger(controller, eventParams);\n  }\n}\n\nfunction isOutsideZrArea(controller, x, y) {\n  var zr = controller._zr;\n  return x < 0 || x > zr.getWidth() || y < 0 || y > zr.getHeight();\n}\n/**\n * key: brushType\n * @type {Object}\n */\n\n\nvar coverRenderers = {\n  lineX: getLineRenderer(0),\n  lineY: getLineRenderer(1),\n  rect: {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover(curry(driftRect, function (range) {\n        return range;\n      }, function (range) {\n        return range;\n      }), controller, brushOption, ['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw']);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      return formatRectRange(ends[1][0], ends[1][1], ends[0][0], ends[0][1]);\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      updateBaseRect(controller, cover, localRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  },\n  polygon: {\n    createCover: function (controller, brushOption) {\n      var cover = new graphic.Group(); // Do not use graphic.Polygon because graphic.Polyline do not close the\n      // border of the shape when drawing, which is a better experience for user.\n\n      cover.add(new graphic.Polyline({\n        name: 'main',\n        style: makeStyle(brushOption),\n        silent: true\n      }));\n      return cover;\n    },\n    getCreatingRange: function (localTrack) {\n      return localTrack;\n    },\n    endCreating: function (controller, cover) {\n      cover.remove(cover.childAt(0)); // Use graphic.Polygon close the shape.\n\n      cover.add(new graphic.Polygon({\n        name: 'main',\n        draggable: true,\n        drift: curry(driftPolygon, controller, cover),\n        ondragend: curry(trigger, controller, {\n          isEnd: true\n        })\n      }));\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      cover.childAt(0).setShape({\n        points: clipByPanel(controller, cover, localRange)\n      });\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  }\n};\n\nfunction getLineRenderer(xyIndex) {\n  return {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover(curry(driftRect, function (range) {\n        var rectRange = [range, [0, 100]];\n        xyIndex && rectRange.reverse();\n        return rectRange;\n      }, function (rectRange) {\n        return rectRange[xyIndex];\n      }), controller, brushOption, [['w', 'e'], ['n', 's']][xyIndex]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      var min = mathMin(ends[0][xyIndex], ends[1][xyIndex]);\n      var max = mathMax(ends[0][xyIndex], ends[1][xyIndex]);\n      return [min, max];\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      var otherExtent; // If brushWidth not specified, fit the panel.\n\n      var panel = getPanelByCover(controller, cover);\n\n      if (panel !== true && panel.getLinearBrushOtherExtent) {\n        otherExtent = panel.getLinearBrushOtherExtent(xyIndex, controller._transform);\n      } else {\n        var zr = controller._zr;\n        otherExtent = [0, [zr.getWidth(), zr.getHeight()][1 - xyIndex]];\n      }\n\n      var rectRange = [localRange, otherExtent];\n      xyIndex && rectRange.reverse();\n      updateBaseRect(controller, cover, rectRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  };\n}\n\nvar _default = BrushController;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar RadiusAxis = require(\"./RadiusAxis\");\n\nvar AngleAxis = require(\"./AngleAxis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/coord/polar/Polar\n */\n\n/**\n * @alias {module:echarts/coord/polar/Polar}\n * @constructor\n * @param {string} name\n */\nvar Polar = function (name) {\n  /**\n   * @type {string}\n   */\n  this.name = name || '';\n  /**\n   * x of polar center\n   * @type {number}\n   */\n\n  this.cx = 0;\n  /**\n   * y of polar center\n   * @type {number}\n   */\n\n  this.cy = 0;\n  /**\n   * @type {module:echarts/coord/polar/RadiusAxis}\n   * @private\n   */\n\n  this._radiusAxis = new RadiusAxis();\n  /**\n   * @type {module:echarts/coord/polar/AngleAxis}\n   * @private\n   */\n\n  this._angleAxis = new AngleAxis();\n  this._radiusAxis.polar = this._angleAxis.polar = this;\n};\n\nPolar.prototype = {\n  type: 'polar',\n  axisPointerEnabled: true,\n  constructor: Polar,\n\n  /**\n   * @param {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['radius', 'angle'],\n\n  /**\n   * @type {module:echarts/coord/PolarModel}\n   */\n  model: null,\n\n  /**\n   * If contain coord\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var coord = this.pointToCoord(point);\n    return this._radiusAxis.contain(coord[0]) && this._angleAxis.contain(coord[1]);\n  },\n\n  /**\n   * If contain data\n   * @param {Array.<number>} data\n   * @return {boolean}\n   */\n  containData: function (data) {\n    return this._radiusAxis.containData(data[0]) && this._angleAxis.containData(data[1]);\n  },\n\n  /**\n   * @param {string} dim\n   * @return {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n   */\n  getAxis: function (dim) {\n    return this['_' + dim + 'Axis'];\n  },\n\n  /**\n   * @return {Array.<module:echarts/coord/Axis>}\n   */\n  getAxes: function () {\n    return [this._radiusAxis, this._angleAxis];\n  },\n\n  /**\n   * Get axes by type of scale\n   * @param {string} scaleType\n   * @return {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n   */\n  getAxesByScale: function (scaleType) {\n    var axes = [];\n    var angleAxis = this._angleAxis;\n    var radiusAxis = this._radiusAxis;\n    angleAxis.scale.type === scaleType && axes.push(angleAxis);\n    radiusAxis.scale.type === scaleType && axes.push(radiusAxis);\n    return axes;\n  },\n\n  /**\n   * @return {module:echarts/coord/polar/AngleAxis}\n   */\n  getAngleAxis: function () {\n    return this._angleAxis;\n  },\n\n  /**\n   * @return {module:echarts/coord/polar/RadiusAxis}\n   */\n  getRadiusAxis: function () {\n    return this._radiusAxis;\n  },\n\n  /**\n   * @param {module:echarts/coord/polar/Axis}\n   * @return {module:echarts/coord/polar/Axis}\n   */\n  getOtherAxis: function (axis) {\n    var angleAxis = this._angleAxis;\n    return axis === angleAxis ? this._radiusAxis : angleAxis;\n  },\n\n  /**\n   * Base axis will be used on stacking.\n   *\n   * @return {module:echarts/coord/polar/Axis}\n   */\n  getBaseAxis: function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAngleAxis();\n  },\n\n  /**\n   * @param {string} [dim] 'radius' or 'angle' or 'auto' or null/undefined\n   * @return {Object} {baseAxes: [], otherAxes: []}\n   */\n  getTooltipAxes: function (dim) {\n    var baseAxis = dim != null && dim !== 'auto' ? this.getAxis(dim) : this.getBaseAxis();\n    return {\n      baseAxes: [baseAxis],\n      otherAxes: [this.getOtherAxis(baseAxis)]\n    };\n  },\n\n  /**\n   * Convert a single data item to (x, y) point.\n   * Parameter data is an array which the first element is radius and the second is angle\n   * @param {Array.<number>} data\n   * @param {boolean} [clamp=false]\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, clamp) {\n    return this.coordToPoint([this._radiusAxis.dataToRadius(data[0], clamp), this._angleAxis.dataToAngle(data[1], clamp)]);\n  },\n\n  /**\n   * Convert a (x, y) point to data\n   * @param {Array.<number>} point\n   * @param {boolean} [clamp=false]\n   * @return {Array.<number>}\n   */\n  pointToData: function (point, clamp) {\n    var coord = this.pointToCoord(point);\n    return [this._radiusAxis.radiusToData(coord[0], clamp), this._angleAxis.angleToData(coord[1], clamp)];\n  },\n\n  /**\n   * Convert a (x, y) point to (radius, angle) coord\n   * @param {Array.<number>} point\n   * @return {Array.<number>}\n   */\n  pointToCoord: function (point) {\n    var dx = point[0] - this.cx;\n    var dy = point[1] - this.cy;\n    var angleAxis = this.getAngleAxis();\n    var extent = angleAxis.getExtent();\n    var minAngle = Math.min(extent[0], extent[1]);\n    var maxAngle = Math.max(extent[0], extent[1]); // Fix fixed extent in polarCreator\n    // FIXME\n\n    angleAxis.inverse ? minAngle = maxAngle - 360 : maxAngle = minAngle + 360;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx) / Math.PI * 180; // move to angleExtent\n\n    var dir = radian < minAngle ? 1 : -1;\n\n    while (radian < minAngle || radian > maxAngle) {\n      radian += dir * 360;\n    }\n\n    return [radius, radian];\n  },\n\n  /**\n   * Convert a (radius, angle) coord to (x, y) point\n   * @param {Array.<number>} coord\n   * @return {Array.<number>}\n   */\n  coordToPoint: function (coord) {\n    var radius = coord[0];\n    var radian = coord[1] / 180 * Math.PI;\n    var x = Math.cos(radian) * radius + this.cx; // Inverse the y\n\n    var y = -Math.sin(radian) * radius + this.cy;\n    return [x, y];\n  },\n\n  /**\n   * Get ring area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   * @return {Ring}\n   */\n  getArea: function () {\n    var angleAxis = this.getAngleAxis();\n    var radiusAxis = this.getRadiusAxis();\n    var radiusExtent = radiusAxis.getExtent().slice();\n    radiusExtent[0] > radiusExtent[1] && radiusExtent.reverse();\n    var angleExtent = angleAxis.getExtent();\n    var RADIAN = Math.PI / 180;\n    return {\n      cx: this.cx,\n      cy: this.cy,\n      r0: radiusExtent[0],\n      r: radiusExtent[1],\n      startAngle: -angleExtent[0] * RADIAN,\n      endAngle: -angleExtent[1] * RADIAN,\n      clockwise: angleAxis.inverse,\n      contain: function (x, y) {\n        // It's a ring shape.\n        // Start angle and end angle don't matter\n        var dx = x - this.cx;\n        var dy = y - this.cy;\n        var d2 = dx * dx + dy * dy;\n        var r = this.r;\n        var r0 = this.r0;\n        return d2 <= r * r && d2 >= r0 * r0;\n      }\n    };\n  }\n};\nvar _default = Polar;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    } // Return NaN if count is 0\n\n\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(max) ? max : NaN;\n  },\n  min: function (frame) {\n    var min = Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(min) ? min : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\n\nvar indexSampler = function (frame, value) {\n  return Math.round(frame.length / 2);\n};\n\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    modifyOutputEnd: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem; // Only cartesian2d support down sampling\n\n      if (coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent(); // Coordinste system has been resized\n\n        var size = Math.abs(extent[1] - extent[0]);\n        var rate = Math.round(data.count() / size);\n\n        if (rate > 1) {\n          var sampler;\n\n          if (typeof sampling === 'string') {\n            sampler = samplers[sampling];\n          } else if (typeof sampling === 'function') {\n            sampler = sampling;\n          }\n\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar _whiskerBoxCommon = require(\"../helper/whiskerBoxCommon\");\n\nvar seriesModelMixin = _whiskerBoxCommon.seriesModelMixin;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar BoxplotSeries = SeriesModel.extend({\n  type: 'series.boxplot',\n  dependencies: ['xAxis', 'yAxis', 'grid'],\n  // TODO\n  // box width represents group size, so dimension should have 'size'.\n\n  /**\n   * @see <https://en.wikipedia.org/wiki/Box_plot>\n   * The meanings of 'min' and 'max' depend on user,\n   * and echarts do not need to know it.\n   * @readOnly\n   */\n  defaultValueDimensions: [{\n    name: 'min',\n    defaultTooltip: true\n  }, {\n    name: 'Q1',\n    defaultTooltip: true\n  }, {\n    name: 'median',\n    defaultTooltip: true\n  }, {\n    name: 'Q3',\n    defaultTooltip: true\n  }, {\n    name: 'max',\n    defaultTooltip: true\n  }],\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: null,\n\n  /**\n   * @override\n   */\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    layout: null,\n    // 'horizontal' or 'vertical'\n    boxWidth: [7, 50],\n    // [min, max] can be percent of band width.\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1\n    },\n    emphasis: {\n      itemStyle: {\n        borderWidth: 2,\n        shadowBlur: 5,\n        shadowOffsetX: 2,\n        shadowOffsetY: 2,\n        shadowColor: 'rgba(0,0,0,0.4)'\n      }\n    },\n    animationEasing: 'elasticOut',\n    animationDuration: 800\n  }\n});\nzrUtil.mixin(BoxplotSeries, seriesModelMixin, true);\nvar _default = BoxplotSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar featureManager = require(\"../featureManager\");\n\nvar lang = require(\"../../../lang\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar brushLang = lang.toolbox.brush;\n\nfunction Brush(model, ecModel, api) {\n  this.model = model;\n  this.ecModel = ecModel;\n  this.api = api;\n  /**\n   * @private\n   * @type {string}\n   */\n\n  this._brushType;\n  /**\n   * @private\n   * @type {string}\n   */\n\n  this._brushMode;\n}\n\nBrush.defaultOption = {\n  show: true,\n  type: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],\n  icon: {\n    /* eslint-disable */\n    rect: 'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13',\n    // jshint ignore:line\n    polygon: 'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2',\n    // jshint ignore:line\n    lineX: 'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4',\n    // jshint ignore:line\n    lineY: 'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4',\n    // jshint ignore:line\n    keep: 'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z',\n    // jshint ignore:line\n    clear: 'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2' // jshint ignore:line\n\n    /* eslint-enable */\n\n  },\n  // `rect`, `polygon`, `lineX`, `lineY`, `keep`, `clear`\n  title: zrUtil.clone(brushLang.title)\n};\nvar proto = Brush.prototype; // proto.updateLayout = function (featureModel, ecModel, api) {\n\n/* eslint-disable */\n\nproto.render =\n/* eslint-enable */\nproto.updateView = function (featureModel, ecModel, api) {\n  var brushType;\n  var brushMode;\n  var isBrushed;\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    brushType = brushModel.brushType;\n    brushMode = brushModel.brushOption.brushMode || 'single';\n    isBrushed |= brushModel.areas.length;\n  });\n  this._brushType = brushType;\n  this._brushMode = brushMode;\n  zrUtil.each(featureModel.get('type', true), function (type) {\n    featureModel.setIconStatus(type, (type === 'keep' ? brushMode === 'multiple' : type === 'clear' ? isBrushed : type === brushType) ? 'emphasis' : 'normal');\n  });\n};\n\nproto.getIcons = function () {\n  var model = this.model;\n  var availableIcons = model.get('icon', true);\n  var icons = {};\n  zrUtil.each(model.get('type', true), function (type) {\n    if (availableIcons[type]) {\n      icons[type] = availableIcons[type];\n    }\n  });\n  return icons;\n};\n\nproto.onclick = function (ecModel, api, type) {\n  var brushType = this._brushType;\n  var brushMode = this._brushMode;\n\n  if (type === 'clear') {\n    // Trigger parallel action firstly\n    api.dispatchAction({\n      type: 'axisAreaSelect',\n      intervals: []\n    });\n    api.dispatchAction({\n      type: 'brush',\n      command: 'clear',\n      // Clear all areas of all brush components.\n      areas: []\n    });\n  } else {\n    api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'brush',\n      brushOption: {\n        brushType: type === 'keep' ? brushType : brushType === type ? false : type,\n        brushMode: type === 'keep' ? brushMode === 'multiple' ? 'single' : 'multiple' : brushMode\n      }\n    });\n  }\n};\n\nfeatureManager.register('brush', Brush);\nvar _default = Brush;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar AxisBuilder = require(\"../axis/AxisBuilder\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Model} axisPointerModel\n */\nfunction buildElStyle(axisPointerModel) {\n  var axisPointerType = axisPointerModel.get('type');\n  var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n  var style;\n\n  if (axisPointerType === 'line') {\n    style = styleModel.getLineStyle();\n    style.fill = null;\n  } else if (axisPointerType === 'shadow') {\n    style = styleModel.getAreaStyle();\n    style.stroke = null;\n  }\n\n  return style;\n}\n/**\n * @param {Function} labelPos {align, verticalAlign, position}\n */\n\n\nfunction buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n  var value = axisPointerModel.get('value');\n  var text = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n    precision: axisPointerModel.get('label.precision'),\n    formatter: axisPointerModel.get('label.formatter')\n  });\n  var labelModel = axisPointerModel.getModel('label');\n  var paddings = formatUtil.normalizeCssArray(labelModel.get('padding') || 0);\n  var font = labelModel.getFont();\n  var textRect = textContain.getBoundingRect(text, font);\n  var position = labelPos.position;\n  var width = textRect.width + paddings[1] + paddings[3];\n  var height = textRect.height + paddings[0] + paddings[2]; // Adjust by align.\n\n  var align = labelPos.align;\n  align === 'right' && (position[0] -= width);\n  align === 'center' && (position[0] -= width / 2);\n  var verticalAlign = labelPos.verticalAlign;\n  verticalAlign === 'bottom' && (position[1] -= height);\n  verticalAlign === 'middle' && (position[1] -= height / 2); // Not overflow ec container\n\n  confineInContainer(position, width, height, api);\n  var bgColor = labelModel.get('backgroundColor');\n\n  if (!bgColor || bgColor === 'auto') {\n    bgColor = axisModel.get('axisLine.lineStyle.color');\n  }\n\n  elOption.label = {\n    shape: {\n      x: 0,\n      y: 0,\n      width: width,\n      height: height,\n      r: labelModel.get('borderRadius')\n    },\n    position: position.slice(),\n    // TODO: rich\n    style: {\n      text: text,\n      textFont: font,\n      textFill: labelModel.getTextColor(),\n      textPosition: 'inside',\n      textPadding: paddings,\n      fill: bgColor,\n      stroke: labelModel.get('borderColor') || 'transparent',\n      lineWidth: labelModel.get('borderWidth') || 0,\n      shadowBlur: labelModel.get('shadowBlur'),\n      shadowColor: labelModel.get('shadowColor'),\n      shadowOffsetX: labelModel.get('shadowOffsetX'),\n      shadowOffsetY: labelModel.get('shadowOffsetY')\n    },\n    // Lable should be over axisPointer.\n    z2: 10\n  };\n} // Do not overflow ec container\n\n\nfunction confineInContainer(position, width, height, api) {\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  position[0] = Math.min(position[0] + width, viewWidth) - width;\n  position[1] = Math.min(position[1] + height, viewHeight) - height;\n  position[0] = Math.max(position[0], 0);\n  position[1] = Math.max(position[1], 0);\n}\n/**\n * @param {number} value\n * @param {module:echarts/coord/Axis} axis\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} opt\n * @param {Array.<Object>} seriesDataIndices\n * @param {number|string} opt.precision 'auto' or a number\n * @param {string|Function} opt.formatter label formatter\n */\n\n\nfunction getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n  value = axis.scale.parse(value);\n  var text = axis.scale.getLabel( // If `precision` is set, width can be fixed (like '12.00500'), which\n  // helps to debounce when when moving label.\n  value, {\n    precision: opt.precision\n  });\n  var formatter = opt.formatter;\n\n  if (formatter) {\n    var params = {\n      value: axisHelper.getAxisRawValue(axis, value),\n      axisDimension: axis.dim,\n      axisIndex: axis.index,\n      seriesData: []\n    };\n    zrUtil.each(seriesDataIndices, function (idxItem) {\n      var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n      var dataIndex = idxItem.dataIndexInside;\n      var dataParams = series && series.getDataParams(dataIndex);\n      dataParams && params.seriesData.push(dataParams);\n    });\n\n    if (zrUtil.isString(formatter)) {\n      text = formatter.replace('{value}', text);\n    } else if (zrUtil.isFunction(formatter)) {\n      text = formatter(params);\n    }\n  }\n\n  return text;\n}\n/**\n * @param {module:echarts/coord/Axis} axis\n * @param {number} value\n * @param {Object} layoutInfo {\n *  rotation, position, labelOffset, labelDirection, labelMargin\n * }\n */\n\n\nfunction getTransformedPosition(axis, value, layoutInfo) {\n  var transform = matrix.create();\n  matrix.rotate(transform, transform, layoutInfo.rotation);\n  matrix.translate(transform, transform, layoutInfo.position);\n  return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n}\n\nfunction buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n  var textLayout = AxisBuilder.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n  layoutInfo.labelMargin = axisPointerModel.get('label.margin');\n  buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n    position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n    align: textLayout.textAlign,\n    verticalAlign: textLayout.textVerticalAlign\n  });\n}\n/**\n * @param {Array.<number>} p1\n * @param {Array.<number>} p2\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeLineShape(p1, p2, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x1: p1[xDimIndex],\n    y1: p1[1 - xDimIndex],\n    x2: p2[xDimIndex],\n    y2: p2[1 - xDimIndex]\n  };\n}\n/**\n * @param {Array.<number>} xy\n * @param {Array.<number>} wh\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeRectShape(xy, wh, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x: xy[xDimIndex],\n    y: xy[1 - xDimIndex],\n    width: wh[xDimIndex],\n    height: wh[1 - xDimIndex]\n  };\n}\n\nfunction makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n  return {\n    cx: cx,\n    cy: cy,\n    r0: r0,\n    r: r,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    clockwise: true\n  };\n}\n\nexports.buildElStyle = buildElStyle;\nexports.buildLabelElOption = buildLabelElOption;\nexports.getValueLabel = getValueLabel;\nexports.getTransformedPosition = getTransformedPosition;\nexports.buildCartesianSingleLabelElOption = buildCartesianSingleLabelElOption;\nexports.makeLineShape = makeLineShape;\nexports.makeRectShape = makeRectShape;\nexports.makeSectorShape = makeSectorShape;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\n\nvar _simpleLayoutHelper = require(\"./simpleLayoutHelper\");\n\nvar simpleLayout = _simpleLayoutHelper.simpleLayout;\nvar simpleLayoutEdge = _simpleLayoutHelper.simpleLayoutEdge;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var layout = seriesModel.get('layout');\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.type !== 'view') {\n      var data = seriesModel.getData();\n      var dimensions = [];\n      each(coordSys.dimensions, function (coordDim) {\n        dimensions = dimensions.concat(data.mapDimension(coordDim, true));\n      });\n\n      for (var dataIndex = 0; dataIndex < data.count(); dataIndex++) {\n        var value = [];\n        var hasValue = false;\n\n        for (var i = 0; i < dimensions.length; i++) {\n          var val = data.get(dimensions[i], dataIndex);\n\n          if (!isNaN(val)) {\n            hasValue = true;\n          }\n\n          value.push(val);\n        }\n\n        if (hasValue) {\n          data.setItemLayout(dataIndex, coordSys.dataToPoint(value));\n        } else {\n          // Also {Array.<number>}, not undefined to avoid if...else... statement\n          data.setItemLayout(dataIndex, [NaN, NaN]);\n        }\n      }\n\n      simpleLayoutEdge(data.graph, seriesModel);\n    } else if (!layout || layout === 'none') {\n      simpleLayout(seriesModel);\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar magicTypeLang = lang.toolbox.magicType;\nvar INNER_STACK_KEYWORD = '__ec_magicType_stack__';\n\nfunction MagicType(model) {\n  this.model = model;\n}\n\nMagicType.defaultOption = {\n  show: true,\n  type: [],\n  // Icon group\n  icon: {\n    /* eslint-disable */\n    line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',\n    bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',\n    stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z' // jshint ignore:line\n\n    /* eslint-enable */\n\n  },\n  // `line`, `bar`, `stack`, `tiled`\n  title: zrUtil.clone(magicTypeLang.title),\n  option: {},\n  seriesIndex: {}\n};\nvar proto = MagicType.prototype;\n\nproto.getIcons = function () {\n  var model = this.model;\n  var availableIcons = model.get('icon');\n  var icons = {};\n  zrUtil.each(model.get('type'), function (type) {\n    if (availableIcons[type]) {\n      icons[type] = availableIcons[type];\n    }\n  });\n  return icons;\n};\n\nvar seriesOptGenreator = {\n  'line': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'line',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get('option.line') || {}, true);\n    }\n  },\n  'bar': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'bar',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get('option.bar') || {}, true);\n    }\n  },\n  'stack': function (seriesType, seriesId, seriesModel, model) {\n    var isStack = seriesModel.get('stack') === INNER_STACK_KEYWORD;\n\n    if (seriesType === 'line' || seriesType === 'bar') {\n      model.setIconStatus('stack', isStack ? 'normal' : 'emphasis');\n      return zrUtil.merge({\n        id: seriesId,\n        stack: isStack ? '' : INNER_STACK_KEYWORD\n      }, model.get('option.stack') || {}, true);\n    }\n  }\n};\nvar radioTypes = [['line', 'bar'], ['stack']];\n\nproto.onclick = function (ecModel, api, type) {\n  var model = this.model;\n  var seriesIndex = model.get('seriesIndex.' + type); // Not supported magicType\n\n  if (!seriesOptGenreator[type]) {\n    return;\n  }\n\n  var newOption = {\n    series: []\n  };\n\n  var generateNewSeriesTypes = function (seriesModel) {\n    var seriesType = seriesModel.subType;\n    var seriesId = seriesModel.id;\n    var newSeriesOpt = seriesOptGenreator[type](seriesType, seriesId, seriesModel, model);\n\n    if (newSeriesOpt) {\n      // PENDING If merge original option?\n      zrUtil.defaults(newSeriesOpt, seriesModel.option);\n      newOption.series.push(newSeriesOpt);\n    } // Modify boundaryGap\n\n\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.type === 'cartesian2d' && (type === 'line' || type === 'bar')) {\n      var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n      if (categoryAxis) {\n        var axisDim = categoryAxis.dim;\n        var axisType = axisDim + 'Axis';\n        var axisModel = ecModel.queryComponents({\n          mainType: axisType,\n          index: seriesModel.get(name + 'Index'),\n          id: seriesModel.get(name + 'Id')\n        })[0];\n        var axisIndex = axisModel.componentIndex;\n        newOption[axisType] = newOption[axisType] || [];\n\n        for (var i = 0; i <= axisIndex; i++) {\n          newOption[axisType][axisIndex] = newOption[axisType][axisIndex] || {};\n        }\n\n        newOption[axisType][axisIndex].boundaryGap = type === 'bar';\n      }\n    }\n  };\n\n  zrUtil.each(radioTypes, function (radio) {\n    if (zrUtil.indexOf(radio, type) >= 0) {\n      zrUtil.each(radio, function (item) {\n        model.setIconStatus(item, 'normal');\n      });\n    }\n  });\n  model.setIconStatus(type, 'emphasis');\n  ecModel.eachComponent({\n    mainType: 'series',\n    query: seriesIndex == null ? null : {\n      seriesIndex: seriesIndex\n    }\n  }, generateNewSeriesTypes);\n  var newTitle; // Change title of stack\n\n  if (type === 'stack') {\n    var isStack = newOption.series && newOption.series[0] && newOption.series[0].stack === INNER_STACK_KEYWORD;\n    newTitle = isStack ? zrUtil.merge({\n      stack: magicTypeLang.title.tiled\n    }, magicTypeLang.title) : zrUtil.clone(magicTypeLang.title);\n  }\n\n  api.dispatchAction({\n    type: 'changeMagicType',\n    currentType: type,\n    newOption: newOption,\n    newTitle: newTitle,\n    featureName: 'magicType'\n  });\n};\n\necharts.registerAction({\n  type: 'changeMagicType',\n  event: 'magicTypeChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.mergeOption(payload.newOption);\n});\nfeatureManager.register('magicType', MagicType);\nvar _default = MagicType;\nmodule.exports = _default;","var env = require(\"../core/env\");\n\nvar urn = 'urn:schemas-microsoft-com:vml';\nvar win = typeof window === 'undefined' ? null : window;\nvar vmlInited = false;\nvar doc = win && win.document;\n\nfunction createNode(tagName) {\n  return doCreateNode(tagName);\n} // Avoid assign to an exported variable, for transforming to cjs.\n\n\nvar doCreateNode;\n\nif (doc && !env.canvasSupported) {\n  try {\n    !doc.namespaces.zrvml && doc.namespaces.add('zrvml', urn);\n\n    doCreateNode = function (tagName) {\n      return doc.createElement('<zrvml:' + tagName + ' class=\"zrvml\">');\n    };\n  } catch (e) {\n    doCreateNode = function (tagName) {\n      return doc.createElement('<' + tagName + ' xmlns=\"' + urn + '\" class=\"zrvml\">');\n    };\n  }\n} // From raphael\n\n\nfunction initVML() {\n  if (vmlInited || !doc) {\n    return;\n  }\n\n  vmlInited = true;\n  var styleSheets = doc.styleSheets;\n\n  if (styleSheets.length < 31) {\n    doc.createStyleSheet().addRule('.zrvml', 'behavior:url(#default#VML)');\n  } else {\n    // http://msdn.microsoft.com/en-us/library/ms531194%28VS.85%29.aspx\n    styleSheets[0].addRule('.zrvml', 'behavior:url(#default#VML)');\n  }\n}\n\nexports.doc = doc;\nexports.createNode = createNode;\nexports.initVML = initVML;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar createGraphFromNodeEdge = require(\"../helper/createGraphFromNodeEdge\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\nvar Model = require(\"../../model/Model\");\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar SankeySeries = SeriesModel.extend({\n  type: 'series.sankey',\n  layoutInfo: null,\n  levelModels: null,\n\n  /**\n   * Init a graph data structure from data in option series\n   *\n   * @param  {Object} option  the object used to config echarts view\n   * @return {module:echarts/data/List} storage initial data\n   */\n  getInitialData: function (option, ecModel) {\n    var links = option.edges || option.links;\n    var nodes = option.data || option.nodes;\n    var levels = option.levels;\n    var levelModels = this.levelModels = {};\n\n    for (var i = 0; i < levels.length; i++) {\n      if (levels[i].depth != null && levels[i].depth >= 0) {\n        levelModels[levels[i].depth] = new Model(levels[i], this, ecModel);\n      } else {}\n    }\n\n    if (nodes && links) {\n      var graph = createGraphFromNodeEdge(nodes, links, this, true, beforeLink);\n      return graph.data;\n    }\n\n    function beforeLink(nodeData, edgeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        model.customizeGetParent(function (path) {\n          var parentModel = this.parentModel;\n          var nodeDepth = parentModel.getData().getItemLayout(idx).depth;\n          var levelModel = parentModel.levelModels[nodeDepth];\n          return levelModel || this.parentModel;\n        });\n        return model;\n      });\n      edgeData.wrapMethod('getItemModel', function (model, idx) {\n        model.customizeGetParent(function (path) {\n          var parentModel = this.parentModel;\n          var edge = parentModel.getGraph().getEdgeByIndex(idx);\n          var depth = edge.node1.getLayout().depth;\n          var levelModel = parentModel.levelModels[depth];\n          return levelModel || this.parentModel;\n        });\n        return model;\n      });\n    }\n  },\n  setNodePosition: function (dataIndex, localPosition) {\n    var dataItem = this.option.data[dataIndex];\n    dataItem.localX = localPosition[0];\n    dataItem.localY = localPosition[1];\n  },\n\n  /**\n   * Return the graphic data structure\n   *\n   * @return {module:echarts/data/Graph} graphic data structure\n   */\n  getGraph: function () {\n    return this.getData().graph;\n  },\n\n  /**\n   * Get edge data of graphic data structure\n   *\n   * @return {module:echarts/data/List} data structure of list\n   */\n  getEdgeData: function () {\n    return this.getGraph().edgeData;\n  },\n\n  /**\n   * @override\n   */\n  formatTooltip: function (dataIndex, multipleSeries, dataType) {\n    // dataType === 'node' or empty do not show tooltip by default\n    if (dataType === 'edge') {\n      var params = this.getDataParams(dataIndex, dataType);\n      var rawDataOpt = params.data;\n      var html = rawDataOpt.source + ' -- ' + rawDataOpt.target;\n\n      if (params.value) {\n        html += ' : ' + params.value;\n      }\n\n      return encodeHTML(html);\n    } else if (dataType === 'node') {\n      var node = this.getGraph().getNodeByIndex(dataIndex);\n      var value = node.getLayout().value;\n      var name = this.getDataParams(dataIndex, dataType).data.name;\n\n      if (value) {\n        var html = name + ' : ' + value;\n      }\n\n      return encodeHTML(html);\n    }\n\n    return SankeySeries.superCall(this, 'formatTooltip', dataIndex, multipleSeries);\n  },\n  optionUpdated: function () {\n    var option = this.option;\n\n    if (option.focusNodeAdjacency === true) {\n      option.focusNodeAdjacency = 'allEdges';\n    }\n  },\n  // Override Series.getDataParams()\n  getDataParams: function (dataIndex, dataType) {\n    var params = SankeySeries.superCall(this, 'getDataParams', dataIndex, dataType);\n\n    if (params.value == null && dataType === 'node') {\n      var node = this.getGraph().getNodeByIndex(dataIndex);\n      var nodeValue = node.getLayout().value;\n      params.value = nodeValue;\n    }\n\n    return params;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    layout: null,\n    // The position of the whole view\n    left: '5%',\n    top: '5%',\n    right: '20%',\n    bottom: '5%',\n    // Value can be 'vertical'\n    orient: 'horizontal',\n    // The dx of the node\n    nodeWidth: 20,\n    // The vertical distance between two nodes\n    nodeGap: 8,\n    // Control if the node can move or not\n    draggable: true,\n    // Value can be 'inEdges', 'outEdges', 'allEdges', true (the same as 'allEdges').\n    focusNodeAdjacency: false,\n    // The number of iterations to change the position of the node\n    layoutIterations: 32,\n    label: {\n      show: true,\n      position: 'right',\n      color: '#000',\n      fontSize: 12\n    },\n    levels: [],\n    // Value can be 'left' or 'right'\n    nodeAlign: 'justify',\n    itemStyle: {\n      borderWidth: 1,\n      borderColor: '#333'\n    },\n    lineStyle: {\n      color: '#314656',\n      opacity: 0.2,\n      curveness: 0.5\n    },\n    emphasis: {\n      label: {\n        show: true\n      },\n      lineStyle: {\n        opacity: 0.5\n      }\n    },\n    animationEasing: 'linear',\n    animationDuration: 1000\n  }\n});\nvar _default = SankeySeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"../coord/geo/GeoModel\");\n\nrequire(\"../coord/geo/geoCreator\");\n\nrequire(\"./geo/GeoView\");\n\nrequire(\"../action/geoRoam\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction makeAction(method, actionInfo) {\n  actionInfo.update = 'updateView';\n  echarts.registerAction(actionInfo, function (payload, ecModel) {\n    var selected = {};\n    ecModel.eachComponent({\n      mainType: 'geo',\n      query: payload\n    }, function (geoModel) {\n      geoModel[method](payload.name);\n      var geo = geoModel.coordinateSystem;\n      zrUtil.each(geo.regions, function (region) {\n        selected[region.name] = geoModel.isSelected(region.name) || false;\n      });\n    });\n    return {\n      selected: selected,\n      name: payload.name\n    };\n  });\n}\n\nmakeAction('toggleSelected', {\n  type: 'geoToggleSelect',\n  event: 'geoselectchanged'\n});\nmakeAction('select', {\n  type: 'geoSelect',\n  event: 'geoselected'\n});\nmakeAction('unSelect', {\n  type: 'geoUnSelect',\n  event: 'geounselected'\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar layout = require(\"../../util/layout\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\n/**\n * Calendar\n *\n * @constructor\n *\n * @param {Object} calendarModel calendarModel\n * @param {Object} ecModel       ecModel\n * @param {Object} api           api\n */\n\nfunction Calendar(calendarModel, ecModel, api) {\n  this._model = calendarModel;\n}\n\nCalendar.prototype = {\n  constructor: Calendar,\n  type: 'calendar',\n  dimensions: ['time', 'value'],\n  // Required in createListFromData\n  getDimensionsInfo: function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  },\n  getRangeInfo: function () {\n    return this._rangeInfo;\n  },\n  getModel: function () {\n    return this._model;\n  },\n  getRect: function () {\n    return this._rect;\n  },\n  getCellWidth: function () {\n    return this._sw;\n  },\n  getCellHeight: function () {\n    return this._sh;\n  },\n  getOrient: function () {\n    return this._orient;\n  },\n\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n  getFirstDayOfWeek: function () {\n    return this._firstDayOfWeek;\n  },\n\n  /**\n   * get date info\n   *\n   * @param  {string|number} date date\n   * @return {Object}\n   * {\n   *      y: string, local full year, eg., '1940',\n   *      m: string, local month, from '01' ot '12',\n   *      d: string, local date, from '01' to '31' (if exists),\n   *      day: It is not date.getDay(). It is the location of the cell in a week, from 0 to 6,\n   *      time: timestamp,\n   *      formatedDate: string, yyyy-MM-dd,\n   *      date: original date object.\n   * }\n   */\n  getDateInfo: function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    m = m < 10 ? '0' + m : m;\n    var d = date.getDate();\n    d = d < 10 ? '0' + d : d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y,\n      m: m,\n      d: d,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + m + '-' + d,\n      date: date\n    };\n  },\n  getNextNDay: function (date, n) {\n    n = n || 0;\n\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  },\n  update: function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n\n    var cellSize = this._model.get('cellSize').slice();\n\n    var layoutParams = this._model.getBoxLayoutParams();\n\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    }\n\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  },\n\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   *\n   * @override\n   * @param  {Array|number} data data\n   * @param  {boolean} [clamp=true] out of range\n   * @return {Array} point\n   */\n  dataToPoint: function (data, clamp) {\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate; // if not in range return [NaN, NaN]\n\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      return [NaN, NaN];\n    }\n\n    var week = dayInfo.day;\n\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n\n    if (this._orient === 'vertical') {\n      return [this._rect.x + week * this._sw + this._sw / 2, this._rect.y + nthWeek * this._sh + this._sh / 2];\n    }\n\n    return [this._rect.x + nthWeek * this._sw + this._sw / 2, this._rect.y + week * this._sh + this._sh / 2];\n  },\n\n  /**\n   * Convert a (x, y) point to time data\n   *\n   * @override\n   * @param  {string} point point\n   * @return {string}       data\n   */\n  pointToData: function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  },\n\n  /**\n   * Convert a time date item to (x, y) four point.\n   *\n   * @param  {Array} data  date[0] is date\n   * @param  {boolean} [clamp=true]  out of range\n   * @return {Object}       point\n   */\n  dataToRect: function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      contentShape: {\n        x: point[0] - (this._sw - this._lineWidth) / 2,\n        y: point[1] - (this._sh - this._lineWidth) / 2,\n        width: this._sw - this._lineWidth,\n        height: this._sh - this._lineWidth\n      },\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  },\n\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n  pointToDate: function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  },\n\n  /**\n   * @inheritDoc\n   */\n  convertToPixel: zrUtil.curry(doConvert, 'dataToPoint'),\n\n  /**\n   * @inheritDoc\n   */\n  convertFromPixel: zrUtil.curry(doConvert, 'pointToData'),\n\n  /**\n   * initRange\n   *\n   * @private\n   * @return {Array} [start, end]\n   */\n  _initRangeOption: function () {\n    var range = this._model.get('range');\n\n    var rg = range;\n\n    if (zrUtil.isArray(rg) && rg.length === 1) {\n      rg = rg[0];\n    }\n\n    if (/^\\d{4}$/.test(rg)) {\n      range = [rg + '-01-01', rg + '-12-31'];\n    }\n\n    if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rg)) {\n      var start = this.getDateInfo(rg);\n      var firstDay = start.date;\n      firstDay.setMonth(firstDay.getMonth() + 1);\n      var end = this.getNextNDay(firstDay, -1);\n      range = [start.formatedDate, end.formatedDate];\n    }\n\n    if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rg)) {\n      range = [rg, rg];\n    }\n\n    var tmp = this._getRangeInfo(range);\n\n    if (tmp.start.time > tmp.end.time) {\n      range.reverse();\n    }\n\n    return range;\n  },\n\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n  _getRangeInfo: function (range) {\n    range = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n\n    if (range[0].time > range[1].time) {\n      reversed = true;\n      range.reverse();\n    }\n\n    var allDay = Math.floor(range[1].time / PROXIMATE_ONE_DAY) - Math.floor(range[0].time / PROXIMATE_ONE_DAY) + 1; // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // var first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // var second = new Date(1478412000000);\n    // var allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n\n    var date = new Date(range[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = range[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1); // The bias can not over a month, so just compare date.\n\n    var dateNum = date.getDate();\n\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - range[1].time > 0 ? 1 : -1;\n\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - range[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n\n    var weeks = Math.floor((allDay + range[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && range.reverse();\n    return {\n      range: [range[0].formatedDate, range[1].formatedDate],\n      start: range[0],\n      end: range[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: range[0].day,\n      lweek: range[1].day\n    };\n  },\n\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n  _getDateByWeeksAndDay: function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return false;\n    }\n\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  }\n};\nCalendar.dimensions = Calendar.prototype.dimensions;\nCalendar.getDimensionsInfo = Calendar.prototype.getDimensionsInfo;\n\nCalendar.create = function (ecModel, api) {\n  var calendarList = [];\n  ecModel.eachComponent('calendar', function (calendarModel) {\n    var calendar = new Calendar(calendarModel, ecModel, api);\n    calendarList.push(calendar);\n    calendarModel.coordinateSystem = calendar;\n  });\n  ecModel.eachSeries(function (calendarSeries) {\n    if (calendarSeries.get('coordinateSystem') === 'calendar') {\n      // Inject coordinate system\n      calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n    }\n  });\n  return calendarList;\n};\n\nfunction doConvert(methodName, ecModel, finder, value) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys === this ? coordSys[methodName](value) : null;\n}\n\nCoordinateSystem.register('calendar', Calendar);\nvar _default = Calendar;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./legend/LegendModel\");\n\nrequire(\"./legend/legendAction\");\n\nrequire(\"./legend/LegendView\");\n\nvar legendFilter = require(\"./legend/legendFilter\");\n\nvar Component = require(\"../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Do not contain scrollable legend, for sake of file size.\n// Series Filter\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\nComponent.registerSubTypeDefaulter('legend', function () {\n  // Default 'plain' when no type specified.\n  return 'plain';\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @payload\n * @property {number} [seriesIndex]\n * @property {string} [seriesId]\n * @property {string} [seriesName]\n * @property {number} [dataIndex]\n */\necharts.registerAction({\n  type: 'focusNodeAdjacency',\n  event: 'focusNodeAdjacency',\n  update: 'series:focusNodeAdjacency'\n}, function () {});\n/**\n * @payload\n * @property {number} [seriesIndex]\n * @property {string} [seriesId]\n * @property {string} [seriesName]\n */\n\necharts.registerAction({\n  type: 'unfocusNodeAdjacency',\n  event: 'unfocusNodeAdjacency',\n  update: 'series:unfocusNodeAdjacency'\n}, function () {});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar _roamHelper = require(\"../../action/roamHelper\");\n\nvar updateCenterAndZoom = _roamHelper.updateCenterAndZoom;\n\nrequire(\"../helper/focusNodeAdjacencyAction\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar actionInfo = {\n  type: 'graphRoam',\n  event: 'graphRoam',\n  update: 'none'\n};\n/**\n * @payload\n * @property {string} name Series name\n * @property {number} [dx]\n * @property {number} [dy]\n * @property {number} [zoom]\n * @property {number} [originX]\n * @property {number} [originY]\n */\n\necharts.registerAction(actionInfo, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    query: payload\n  }, function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var res = updateCenterAndZoom(coordSys, payload);\n    seriesModel.setCenter && seriesModel.setCenter(res.center);\n    seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n  });\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar globalListener = require(\"./globalListener\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisPointerView = echarts.extendComponentView({\n  type: 'axisPointer',\n  render: function (globalAxisPointerModel, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click'; // Register global listener in AxisPointerView to enable\n    // AxisPointerView to be independent to Tooltip.\n\n    globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n        dispatchAction({\n          type: 'updateAxisPointer',\n          currTrigger: currTrigger,\n          x: e && e.offsetX,\n          y: e && e.offsetY\n        });\n      }\n    });\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    globalListener.unregister(api.getZr(), 'axisPointer');\n    AxisPointerView.superApply(this._model, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n    AxisPointerView.superApply(this._model, 'dispose', arguments);\n  }\n});\nvar _default = AxisPointerView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar fixClipWithShadow = require(\"zrender/lib/graphic/helper/fixClipWithShadow\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Poly path support NaN point\nvar vec2Min = vec2.min;\nvar vec2Max = vec2.max;\nvar scaleAndAdd = vec2.scaleAndAdd;\nvar v2Copy = vec2.copy; // Temporary variable\n\nvar v = [];\nvar cp0 = [];\nvar cp1 = [];\n\nfunction isPointNull(p) {\n  return isNaN(p[0]) || isNaN(p[1]);\n}\n\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  // if (smoothMonotone == null) {\n  //     if (isMono(points, 'x')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'x', connectNulls);\n  //     }\n  //     else if (isMono(points, 'y')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'y', connectNulls);\n  //     }\n  //     else {\n  //         return drawNonMono.apply(this, arguments);\n  //     }\n  // }\n  // else if (smoothMonotone !== 'none' && isMono(points, smoothMonotone)) {\n  //     return drawMono.apply(this, arguments);\n  // }\n  // else {\n  //     return drawNonMono.apply(this, arguments);\n  // }\n  if (smoothMonotone === 'none' || !smoothMonotone) {\n    return drawNonMono.apply(this, arguments);\n  } else {\n    return drawMono.apply(this, arguments);\n  }\n}\n/**\n * Check if points is in monotone.\n *\n * @param {number[][]} points         Array of points which is in [x, y] form\n * @param {string}     smoothMonotone 'x', 'y', or 'none', stating for which\n *                                    dimension that is checking.\n *                                    If is 'none', `drawNonMono` should be\n *                                    called.\n *                                    If is undefined, either being monotone\n *                                    in 'x' or 'y' will call `drawMono`.\n */\n// function isMono(points, smoothMonotone) {\n//     if (points.length <= 1) {\n//         return true;\n//     }\n//     var dim = smoothMonotone === 'x' ? 0 : 1;\n//     var last = points[0][dim];\n//     var lastDiff = 0;\n//     for (var i = 1; i < points.length; ++i) {\n//         var diff = points[i][dim] - last;\n//         if (!isNaN(diff) && !isNaN(lastDiff)\n//             && diff !== 0 && lastDiff !== 0\n//             && ((diff >= 0) !== (lastDiff >= 0))\n//         ) {\n//             return false;\n//         }\n//         if (!isNaN(diff) && diff !== 0) {\n//             lastDiff = diff;\n//             last = points[i][dim];\n//         }\n//     }\n//     return true;\n// }\n\n/**\n * Draw smoothed line in monotone, in which only vertical or horizontal bezier\n * control points will be used. This should be used when points are monotone\n * either in x or y dimension.\n */\n\n\nfunction drawMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n    } else {\n      if (smooth > 0) {\n        var prevP = points[prevIdx];\n        var dim = smoothMonotone === 'y' ? 1 : 0; // Length of control point to p, either in x or y, but not both\n\n        var ctrlLen = (p[dim] - prevP[dim]) * smooth;\n        v2Copy(cp0, prevP);\n        cp0[dim] = prevP[dim] + ctrlLen;\n        v2Copy(cp1, p);\n        cp1[dim] = p[dim] - ctrlLen;\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n/**\n * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n * situations. This should be used when points are non-monotone neither in x or\n * y dimension.\n */\n\n\nfunction drawNonMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n      v2Copy(cp0, p);\n    } else {\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextP = points[nextIdx];\n\n        if (connectNulls) {\n          // Find next point not null\n          while (nextP && isPointNull(points[nextIdx])) {\n            nextIdx += dir;\n            nextP = points[nextIdx];\n          }\n        }\n\n        var ratioNextSeg = 0.5;\n        var prevP = points[prevIdx];\n        var nextP = points[nextIdx]; // Last point\n\n        if (!nextP || isPointNull(nextP)) {\n          v2Copy(cp1, p);\n        } else {\n          // If next data is null in not connect case\n          if (isPointNull(nextP) && !connectNulls) {\n            nextP = p;\n          }\n\n          vec2.sub(v, nextP, prevP);\n          var lenPrevSeg;\n          var lenNextSeg;\n\n          if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n            var dim = smoothMonotone === 'x' ? 0 : 1;\n            lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n            lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n          } else {\n            lenPrevSeg = vec2.dist(p, prevP);\n            lenNextSeg = vec2.dist(p, nextP);\n          } // Use ratio of seg length\n\n\n          ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n          scaleAndAdd(cp1, p, v, -smooth * (1 - ratioNextSeg));\n        } // Smooth constraint\n\n\n        vec2Min(cp0, cp0, smoothMax);\n        vec2Max(cp0, cp0, smoothMin);\n        vec2Min(cp1, cp1, smoothMax);\n        vec2Max(cp1, cp1, smoothMin);\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]); // cp0 of next segment\n\n        scaleAndAdd(cp0, p, v, smooth * ratioNextSeg);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n\nfunction getBoundingBox(points, smoothConstraint) {\n  var ptMin = [Infinity, Infinity];\n  var ptMax = [-Infinity, -Infinity];\n\n  if (smoothConstraint) {\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n\n      if (pt[0] < ptMin[0]) {\n        ptMin[0] = pt[0];\n      }\n\n      if (pt[1] < ptMin[1]) {\n        ptMin[1] = pt[1];\n      }\n\n      if (pt[0] > ptMax[0]) {\n        ptMax[0] = pt[0];\n      }\n\n      if (pt[1] > ptMax[1]) {\n        ptMax[1] = pt[1];\n      }\n    }\n  }\n\n  return {\n    min: smoothConstraint ? ptMin : ptMax,\n    max: smoothConstraint ? ptMax : ptMin\n  };\n}\n\nvar Polyline = Path.extend({\n  type: 'ec-polyline',\n  shape: {\n    points: [],\n    smooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  style: {\n    fill: null,\n    stroke: '#000'\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length;\n    var result = getBoundingBox(points, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, result.min, result.max, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  }\n});\nvar Polygon = Path.extend({\n  type: 'ec-polygon',\n  shape: {\n    points: [],\n    // Offset between stacked base points and points\n    stackedOnPoints: [],\n    smooth: 0,\n    stackedOnSmooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length;\n    var smoothMonotone = shape.smoothMonotone;\n    var bbox = getBoundingBox(points, shape.smoothConstraint);\n    var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, bbox.min, bbox.max, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  }\n});\nexports.Polyline = Polyline;\nexports.Polygon = Polygon;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseBarSeries = require(\"./BaseBarSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PictorialBarSeries = BaseBarSeries.extend({\n  type: 'series.pictorialBar',\n  dependencies: ['grid'],\n  defaultOption: {\n    symbol: 'circle',\n    // Customized bar shape\n    symbolSize: null,\n    // Can be ['100%', '100%'], null means auto.\n    symbolRotate: null,\n    symbolPosition: null,\n    // 'start' or 'end' or 'center', null means auto.\n    symbolOffset: null,\n    symbolMargin: null,\n    // start margin and end margin. Can be a number or a percent string.\n    // Auto margin by default.\n    symbolRepeat: false,\n    // false/null/undefined, means no repeat.\n    // Can be true, means auto calculate repeat times and cut by data.\n    // Can be a number, specifies repeat times, and do not cut by data.\n    // Can be 'fixed', means auto calculate repeat times but do not cut by data.\n    symbolRepeatDirection: 'end',\n    // 'end' means from 'start' to 'end'.\n    symbolClip: false,\n    symbolBoundingData: null,\n    // Can be 60 or -40 or [-40, 60]\n    symbolPatternSize: 400,\n    // 400 * 400 px\n    barGap: '-100%',\n    // In most case, overlap is needed.\n    // z can be set in data item, which is z2 actually.\n    // Disable progressive\n    progressive: 0,\n    hoverAnimation: false // Open only when needed.\n\n  },\n  getInitialData: function (option) {\n    // Disable stack.\n    option.stack = null;\n    return PictorialBarSeries.superApply(this, 'getInitialData', arguments);\n  }\n});\nvar _default = PictorialBarSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar actionInfo = {\n  type: 'selectDataRange',\n  event: 'dataRangeSelected',\n  // FIXME use updateView appears wrong\n  update: 'update'\n};\necharts.registerAction(actionInfo, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'visualMap',\n    query: payload\n  }, function (model) {\n    model.setSelected(payload.selected);\n  });\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./sunburst/SunburstSeries\");\n\nrequire(\"./sunburst/SunburstView\");\n\nrequire(\"./sunburst/sunburstAction\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar sunburstLayout = require(\"./sunburst/sunburstLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerVisual(zrUtil.curry(dataColor, 'sunburst'));\necharts.registerLayout(zrUtil.curry(sunburstLayout, 'sunburst'));\necharts.registerProcessor(zrUtil.curry(dataFilter, 'sunburst'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar featureManager = require(\"./featureManager\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\nvar listComponentHelper = require(\"../helper/listComponent\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'toolbox',\n  render: function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n\n    var itemSize = +toolboxModel.get('itemSize');\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute(); // Keep for diff.\n\n    this._featureNames = featureNames;\n\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature; // FIX#11236, merge feature title from MagicType newOption. TODO: consider seriesIndex ?\n\n      if (payload && payload.newTitle != null && payload.featureName === featureName) {\n        featureOpt.title = payload.newTitle;\n      }\n\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            model: featureModel,\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = featureManager.get(featureName);\n\n          if (!Feature) {\n            return;\n          }\n\n          feature = new Feature(featureModel, ecModel, api);\n        }\n\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName]; // If feature does not exsit.\n\n        if (!feature) {\n          return;\n        }\n\n        feature.model = featureModel;\n        feature.ecModel = ecModel;\n        feature.api = api;\n      }\n\n      if (!featureName && oldName) {\n        feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n\n      if (!featureModel.get('show') || feature.unusable) {\n        feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n\n      createIconPaths(featureModel, feature, featureName);\n\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status; // FIXME\n\n        iconPaths[iconName] && iconPaths[iconName].trigger(status);\n      };\n\n      if (feature.render) {\n        feature.render(featureModel, ecModel, api, payload);\n      }\n    }\n\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle');\n      var iconStyleEmphasisModel = featureModel.getModel('emphasis.iconStyle'); // If one feature has mutiple icon. they are orginaized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n\n      var icons = feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n\n      if (typeof icons === 'string') {\n        var icon = icons;\n        var title = titles;\n        icons = {};\n        titles = {};\n        icons[featureName] = icon;\n        titles[featureName] = title;\n      }\n\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(icons, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        });\n        path.setStyle(iconStyleModel.getItemStyle());\n        path.hoverStyle = iconStyleEmphasisModel.getItemStyle(); // Text position calculation\n\n        path.setStyle({\n          text: titles[iconName],\n          textAlign: iconStyleEmphasisModel.get('textAlign'),\n          textBorderRadius: iconStyleEmphasisModel.get('textBorderRadius'),\n          textPadding: iconStyleEmphasisModel.get('textPadding'),\n          textFill: null\n        });\n        var tooltipModel = toolboxModel.getModel('tooltip');\n\n        if (tooltipModel && tooltipModel.get('show')) {\n          path.attr('tooltip', zrUtil.extend({\n            content: titles[iconName],\n            formatter: tooltipModel.get('formatter', true) || function () {\n              return titles[iconName];\n            },\n            formatterParams: {\n              componentType: 'toolbox',\n              name: iconName,\n              title: titles[iconName],\n              $vars: ['name', 'title']\n            },\n            position: tooltipModel.get('position', true) || 'bottom'\n          }, tooltipModel.option));\n        }\n\n        graphic.setHoverStyle(path);\n\n        if (toolboxModel.get('showTitle')) {\n          path.__title = titles[iconName];\n          path.on('mouseover', function () {\n            // Should not reuse above hoverStyle, which might be modified.\n            var hoverStyle = iconStyleEmphasisModel.getItemStyle();\n            var defaultTextPosition = toolboxModel.get('orient') === 'vertical' ? toolboxModel.get('right') == null ? 'right' : 'left' : toolboxModel.get('bottom') == null ? 'bottom' : 'top';\n            path.setStyle({\n              textFill: iconStyleEmphasisModel.get('textFill') || hoverStyle.fill || hoverStyle.stroke || '#000',\n              textBackgroundColor: iconStyleEmphasisModel.get('textBackgroundColor'),\n              textPosition: iconStyleEmphasisModel.get('textPosition') || defaultTextPosition\n            });\n          }).on('mouseout', function () {\n            path.setStyle({\n              textFill: null,\n              textBackgroundColor: null\n            });\n          });\n        }\n\n        path.trigger(featureModel.get('iconStatus.' + iconName) || 'normal');\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n\n    listComponentHelper.layout(group, toolboxModel, api); // Render background after group is layout\n    // FIXME\n\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel)); // Adjust icon title positions to avoid them out of screen\n\n    group.eachChild(function (icon) {\n      var titleText = icon.__title;\n      var hoverStyle = icon.hoverStyle; // May be background element\n\n      if (hoverStyle && titleText) {\n        var rect = textContain.getBoundingRect(titleText, textContain.makeFont(hoverStyle));\n        var offsetX = icon.position[0] + group.position[0];\n        var offsetY = icon.position[1] + group.position[1] + itemSize;\n        var needPutOnTop = false;\n\n        if (offsetY + rect.height > api.getHeight()) {\n          hoverStyle.textPosition = 'top';\n          needPutOnTop = true;\n        }\n\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 8;\n\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          hoverStyle.textPosition = ['100%', topOffset];\n          hoverStyle.textAlign = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          hoverStyle.textPosition = [0, topOffset];\n          hoverStyle.textAlign = 'left';\n        }\n      }\n    });\n  },\n  updateView: function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  },\n  // updateLayout: function (toolboxModel, ecModel, api, payload) {\n  //     zrUtil.each(this._features, function (feature) {\n  //         feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n  //     });\n  // },\n  remove: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  },\n  dispose: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.dispose && feature.dispose(ecModel, api);\n    });\n  }\n});\n\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/coord/View} view\n * @param {Object} payload\n * @param {Object} [zoomLimit]\n */\nfunction updateCenterAndZoom(view, payload, zoomLimit) {\n  var previousZoom = view.getZoom();\n  var center = view.getCenter();\n  var zoom = payload.zoom;\n  var point = view.dataToPoint(center);\n\n  if (payload.dx != null && payload.dy != null) {\n    point[0] -= payload.dx;\n    point[1] -= payload.dy;\n    var center = view.pointToData(point);\n    view.setCenter(center);\n  }\n\n  if (zoom != null) {\n    if (zoomLimit) {\n      var zoomMin = zoomLimit.min || 0;\n      var zoomMax = zoomLimit.max || Infinity;\n      zoom = Math.max(Math.min(previousZoom * zoom, zoomMax), zoomMin) / previousZoom;\n    } // Zoom on given point(originX, originY)\n\n\n    view.scale[0] *= zoom;\n    view.scale[1] *= zoom;\n    var position = view.position;\n    var fixX = (payload.originX - position[0]) * (zoom - 1);\n    var fixY = (payload.originY - position[1]) * (zoom - 1);\n    position[0] -= fixX;\n    position[1] -= fixY;\n    view.updateTransform(); // Get the new center\n\n    var center = view.pointToData(point);\n    view.setCenter(center);\n    view.setZoom(zoom * previousZoom);\n  }\n\n  return {\n    center: view.getCenter(),\n    zoom: view.getZoom()\n  };\n}\n\nexports.updateCenterAndZoom = updateCenterAndZoom;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar layoutUtil = require(\"../../util/layout\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar ParallelAxis = require(\"./ParallelAxis\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar sliderMove = require(\"../../component/helper/sliderMove\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Parallel Coordinates\n * <https://en.wikipedia.org/wiki/Parallel_coordinates>\n */\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar round = numberUtil.round;\nvar PI = Math.PI;\n\nfunction Parallel(parallelModel, ecModel, api) {\n  /**\n   * key: dimension\n   * @type {Object.<string, module:echarts/coord/parallel/Axis>}\n   * @private\n   */\n  this._axesMap = zrUtil.createHashMap();\n  /**\n   * key: dimension\n   * value: {position: [], rotation, }\n   * @type {Object.<string, Object>}\n   * @private\n   */\n\n  this._axesLayout = {};\n  /**\n   * Always follow axis order.\n   * @type {Array.<string>}\n   * @readOnly\n   */\n\n  this.dimensions = parallelModel.dimensions;\n  /**\n   * @type {module:zrender/core/BoundingRect}\n   */\n\n  this._rect;\n  /**\n   * @type {module:echarts/coord/parallel/ParallelModel}\n   */\n\n  this._model = parallelModel;\n\n  this._init(parallelModel, ecModel, api);\n}\n\nParallel.prototype = {\n  type: 'parallel',\n  constructor: Parallel,\n\n  /**\n   * Initialize cartesian coordinate systems\n   * @private\n   */\n  _init: function (parallelModel, ecModel, api) {\n    var dimensions = parallelModel.dimensions;\n    var parallelAxisIndex = parallelModel.parallelAxisIndex;\n    each(dimensions, function (dim, idx) {\n      var axisIndex = parallelAxisIndex[idx];\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n\n      var axis = this._axesMap.set(dim, new ParallelAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisIndex));\n\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse'); // Injection\n\n      axisModel.axis = axis;\n      axis.model = axisModel;\n      axis.coordinateSystem = axisModel.coordinateSystem = this;\n    }, this);\n  },\n\n  /**\n   * Update axis scale after data processed\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  update: function (ecModel, api) {\n    this._updateAxesFromSeries(this._model, ecModel);\n  },\n\n  /**\n   * @override\n   */\n  containPoint: function (point) {\n    var layoutInfo = this._makeLayoutInfo();\n\n    var axisBase = layoutInfo.axisBase;\n    var layoutBase = layoutInfo.layoutBase;\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\n    var pAxis = point[1 - pixelDimIndex];\n    var pLayout = point[pixelDimIndex];\n    return pAxis >= axisBase && pAxis <= axisBase + layoutInfo.axisLength && pLayout >= layoutBase && pLayout <= layoutBase + layoutInfo.layoutLength;\n  },\n  getModel: function () {\n    return this._model;\n  },\n\n  /**\n   * Update properties from series\n   * @private\n   */\n  _updateAxesFromSeries: function (parallelModel, ecModel) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (!parallelModel.contains(seriesModel, ecModel)) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      each(this.dimensions, function (dim) {\n        var axis = this._axesMap.get(dim);\n\n        axis.scale.unionExtentFromData(data, data.mapDimension(dim));\n        axisHelper.niceScaleExtent(axis.scale, axis.model);\n      }, this);\n    }, this);\n  },\n\n  /**\n   * Resize the parallel coordinate system.\n   * @param {module:echarts/coord/parallel/ParallelModel} parallelModel\n   * @param {module:echarts/ExtensionAPI} api\n   */\n  resize: function (parallelModel, api) {\n    this._rect = layoutUtil.getLayoutRect(parallelModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n\n    this._layoutAxes();\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getRect: function () {\n    return this._rect;\n  },\n\n  /**\n   * @private\n   */\n  _makeLayoutInfo: function () {\n    var parallelModel = this._model;\n    var rect = this._rect;\n    var xy = ['x', 'y'];\n    var wh = ['width', 'height'];\n    var layout = parallelModel.get('layout');\n    var pixelDimIndex = layout === 'horizontal' ? 0 : 1;\n    var layoutLength = rect[wh[pixelDimIndex]];\n    var layoutExtent = [0, layoutLength];\n    var axisCount = this.dimensions.length;\n    var axisExpandWidth = restrict(parallelModel.get('axisExpandWidth'), layoutExtent);\n    var axisExpandCount = restrict(parallelModel.get('axisExpandCount') || 0, [0, axisCount]);\n    var axisExpandable = parallelModel.get('axisExpandable') && axisCount > 3 && axisCount > axisExpandCount && axisExpandCount > 1 && axisExpandWidth > 0 && layoutLength > 0; // `axisExpandWindow` is According to the coordinates of [0, axisExpandLength],\n    // for sake of consider the case that axisCollapseWidth is 0 (when screen is narrow),\n    // where collapsed axes should be overlapped.\n\n    var axisExpandWindow = parallelModel.get('axisExpandWindow');\n    var winSize;\n\n    if (!axisExpandWindow) {\n      winSize = restrict(axisExpandWidth * (axisExpandCount - 1), layoutExtent);\n      var axisExpandCenter = parallelModel.get('axisExpandCenter') || mathFloor(axisCount / 2);\n      axisExpandWindow = [axisExpandWidth * axisExpandCenter - winSize / 2];\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n    } else {\n      winSize = restrict(axisExpandWindow[1] - axisExpandWindow[0], layoutExtent);\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n    }\n\n    var axisCollapseWidth = (layoutLength - winSize) / (axisCount - axisExpandCount); // Avoid axisCollapseWidth is too small.\n\n    axisCollapseWidth < 3 && (axisCollapseWidth = 0); // Find the first and last indices > ewin[0] and < ewin[1].\n\n    var winInnerIndices = [mathFloor(round(axisExpandWindow[0] / axisExpandWidth, 1)) + 1, mathCeil(round(axisExpandWindow[1] / axisExpandWidth, 1)) - 1]; // Pos in ec coordinates.\n\n    var axisExpandWindow0Pos = axisCollapseWidth / axisExpandWidth * axisExpandWindow[0];\n    return {\n      layout: layout,\n      pixelDimIndex: pixelDimIndex,\n      layoutBase: rect[xy[pixelDimIndex]],\n      layoutLength: layoutLength,\n      axisBase: rect[xy[1 - pixelDimIndex]],\n      axisLength: rect[wh[1 - pixelDimIndex]],\n      axisExpandable: axisExpandable,\n      axisExpandWidth: axisExpandWidth,\n      axisCollapseWidth: axisCollapseWidth,\n      axisExpandWindow: axisExpandWindow,\n      axisCount: axisCount,\n      winInnerIndices: winInnerIndices,\n      axisExpandWindow0Pos: axisExpandWindow0Pos\n    };\n  },\n\n  /**\n   * @private\n   */\n  _layoutAxes: function () {\n    var rect = this._rect;\n    var axes = this._axesMap;\n    var dimensions = this.dimensions;\n\n    var layoutInfo = this._makeLayoutInfo();\n\n    var layout = layoutInfo.layout;\n    axes.each(function (axis) {\n      var axisExtent = [0, layoutInfo.axisLength];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(axisExtent[idx], axisExtent[1 - idx]);\n    });\n    each(dimensions, function (dim, idx) {\n      var posInfo = (layoutInfo.axisExpandable ? layoutAxisWithExpand : layoutAxisWithoutExpand)(idx, layoutInfo);\n      var positionTable = {\n        horizontal: {\n          x: posInfo.position,\n          y: layoutInfo.axisLength\n        },\n        vertical: {\n          x: 0,\n          y: posInfo.position\n        }\n      };\n      var rotationTable = {\n        horizontal: PI / 2,\n        vertical: 0\n      };\n      var position = [positionTable[layout].x + rect.x, positionTable[layout].y + rect.y];\n      var rotation = rotationTable[layout];\n      var transform = matrix.create();\n      matrix.rotate(transform, transform, rotation);\n      matrix.translate(transform, transform, position); // TODO\n      // tick\n      // TODO\n      // axis order  dimensions\n\n      this._axesLayout[dim] = {\n        position: position,\n        rotation: rotation,\n        transform: transform,\n        axisNameAvailableWidth: posInfo.axisNameAvailableWidth,\n        axisLabelShow: posInfo.axisLabelShow,\n        nameTruncateMaxWidth: posInfo.nameTruncateMaxWidth,\n        tickDirection: 1,\n        labelDirection: 1\n      };\n    }, this);\n  },\n\n  /**\n   * Get axis by dim.\n   * @param {string} dim\n   * @return {module:echarts/coord/parallel/ParallelAxis} [description]\n   */\n  getAxis: function (dim) {\n    return this._axesMap.get(dim);\n  },\n\n  /**\n   * Convert a dim value of a single item of series data to Point.\n   * @param {*} value\n   * @param {string} dim\n   * @return {Array}\n   */\n  dataToPoint: function (value, dim) {\n    return this.axisCoordToPoint(this._axesMap.get(dim).dataToCoord(value), dim);\n  },\n\n  /**\n   * Travel data for one time, get activeState of each data item.\n   * @param {module:echarts/data/List} data\n   * @param {Functio} cb param: {string} activeState 'active' or 'inactive' or 'normal'\n   *                            {number} dataIndex\n   * @param {number} [start=0] the start dataIndex that travel from.\n   * @param {number} [end=data.count()] the next dataIndex of the last dataIndex will be travel.\n   */\n  eachActiveState: function (data, callback, start, end) {\n    start == null && (start = 0);\n    end == null && (end = data.count());\n    var axesMap = this._axesMap;\n    var dimensions = this.dimensions;\n    var dataDimensions = [];\n    var axisModels = [];\n    zrUtil.each(dimensions, function (axisDim) {\n      dataDimensions.push(data.mapDimension(axisDim));\n      axisModels.push(axesMap.get(axisDim).model);\n    });\n    var hasActiveSet = this.hasAxisBrushed();\n\n    for (var dataIndex = start; dataIndex < end; dataIndex++) {\n      var activeState;\n\n      if (!hasActiveSet) {\n        activeState = 'normal';\n      } else {\n        activeState = 'active';\n        var values = data.getValues(dataDimensions, dataIndex);\n\n        for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n          var state = axisModels[j].getActiveState(values[j]);\n\n          if (state === 'inactive') {\n            activeState = 'inactive';\n            break;\n          }\n        }\n      }\n\n      callback(activeState, dataIndex);\n    }\n  },\n\n  /**\n   * Whether has any activeSet.\n   * @return {boolean}\n   */\n  hasAxisBrushed: function () {\n    var dimensions = this.dimensions;\n    var axesMap = this._axesMap;\n    var hasActiveSet = false;\n\n    for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n      if (axesMap.get(dimensions[j]).model.getActiveState() !== 'normal') {\n        hasActiveSet = true;\n      }\n    }\n\n    return hasActiveSet;\n  },\n\n  /**\n   * Convert coords of each axis to Point.\n   *  Return point. For example: [10, 20]\n   * @param {Array.<number>} coords\n   * @param {string} dim\n   * @return {Array.<number>}\n   */\n  axisCoordToPoint: function (coord, dim) {\n    var axisLayout = this._axesLayout[dim];\n    return graphic.applyTransform([coord, 0], axisLayout.transform);\n  },\n\n  /**\n   * Get axis layout.\n   */\n  getAxisLayout: function (dim) {\n    return zrUtil.clone(this._axesLayout[dim]);\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @return {Object} {axisExpandWindow, delta, behavior: 'jump' | 'slide' | 'none'}.\n   */\n  getSlidedAxisExpandWindow: function (point) {\n    var layoutInfo = this._makeLayoutInfo();\n\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\n    var axisExpandWindow = layoutInfo.axisExpandWindow.slice();\n    var winSize = axisExpandWindow[1] - axisExpandWindow[0];\n    var extent = [0, layoutInfo.axisExpandWidth * (layoutInfo.axisCount - 1)]; // Out of the area of coordinate system.\n\n    if (!this.containPoint(point)) {\n      return {\n        behavior: 'none',\n        axisExpandWindow: axisExpandWindow\n      };\n    } // Conver the point from global to expand coordinates.\n\n\n    var pointCoord = point[pixelDimIndex] - layoutInfo.layoutBase - layoutInfo.axisExpandWindow0Pos; // For dragging operation convenience, the window should not be\n    // slided when mouse is the center area of the window.\n\n    var delta;\n    var behavior = 'slide';\n    var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n\n    var triggerArea = this._model.get('axisExpandSlideTriggerArea'); // But consider touch device, jump is necessary.\n\n\n    var useJump = triggerArea[0] != null;\n\n    if (axisCollapseWidth) {\n      if (useJump && axisCollapseWidth && pointCoord < winSize * triggerArea[0]) {\n        behavior = 'jump';\n        delta = pointCoord - winSize * triggerArea[2];\n      } else if (useJump && axisCollapseWidth && pointCoord > winSize * (1 - triggerArea[0])) {\n        behavior = 'jump';\n        delta = pointCoord - winSize * (1 - triggerArea[2]);\n      } else {\n        (delta = pointCoord - winSize * triggerArea[1]) >= 0 && (delta = pointCoord - winSize * (1 - triggerArea[1])) <= 0 && (delta = 0);\n      }\n\n      delta *= layoutInfo.axisExpandWidth / axisCollapseWidth;\n      delta ? sliderMove(delta, axisExpandWindow, extent, 'all') // Avoid nonsense triger on mousemove.\n      : behavior = 'none';\n    } // When screen is too narrow, make it visible and slidable, although it is hard to interact.\n    else {\n        var winSize = axisExpandWindow[1] - axisExpandWindow[0];\n        var pos = extent[1] * pointCoord / winSize;\n        axisExpandWindow = [mathMax(0, pos - winSize / 2)];\n        axisExpandWindow[1] = mathMin(extent[1], axisExpandWindow[0] + winSize);\n        axisExpandWindow[0] = axisExpandWindow[1] - winSize;\n      }\n\n    return {\n      axisExpandWindow: axisExpandWindow,\n      behavior: behavior\n    };\n  }\n};\n\nfunction restrict(len, extent) {\n  return mathMin(mathMax(len, extent[0]), extent[1]);\n}\n\nfunction layoutAxisWithoutExpand(axisIndex, layoutInfo) {\n  var step = layoutInfo.layoutLength / (layoutInfo.axisCount - 1);\n  return {\n    position: step * axisIndex,\n    axisNameAvailableWidth: step,\n    axisLabelShow: true\n  };\n}\n\nfunction layoutAxisWithExpand(axisIndex, layoutInfo) {\n  var layoutLength = layoutInfo.layoutLength;\n  var axisExpandWidth = layoutInfo.axisExpandWidth;\n  var axisCount = layoutInfo.axisCount;\n  var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n  var winInnerIndices = layoutInfo.winInnerIndices;\n  var position;\n  var axisNameAvailableWidth = axisCollapseWidth;\n  var axisLabelShow = false;\n  var nameTruncateMaxWidth;\n\n  if (axisIndex < winInnerIndices[0]) {\n    position = axisIndex * axisCollapseWidth;\n    nameTruncateMaxWidth = axisCollapseWidth;\n  } else if (axisIndex <= winInnerIndices[1]) {\n    position = layoutInfo.axisExpandWindow0Pos + axisIndex * axisExpandWidth - layoutInfo.axisExpandWindow[0];\n    axisNameAvailableWidth = axisExpandWidth;\n    axisLabelShow = true;\n  } else {\n    position = layoutLength - (axisCount - 1 - axisIndex) * axisCollapseWidth;\n    nameTruncateMaxWidth = axisCollapseWidth;\n  }\n\n  return {\n    position: position,\n    axisNameAvailableWidth: axisNameAvailableWidth,\n    axisLabelShow: axisLabelShow,\n    nameTruncateMaxWidth: nameTruncateMaxWidth\n  };\n}\n\nvar _default = Parallel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PolarAxisModel = ComponentModel.extend({\n  type: 'polarAxis',\n\n  /**\n   * @type {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n   */\n  axis: null,\n\n  /**\n   * @override\n   */\n  getCoordSysModel: function () {\n    return this.ecModel.queryComponents({\n      mainType: 'polar',\n      index: this.option.polarIndex,\n      id: this.option.polarId\n    })[0];\n  }\n});\nzrUtil.merge(PolarAxisModel.prototype, axisModelCommonMixin);\nvar polarAxisDefaultExtendedOption = {\n  angle: {\n    // polarIndex: 0,\n    // polarId: '',\n    startAngle: 90,\n    clockwise: true,\n    splitNumber: 12,\n    axisLabel: {\n      rotate: false\n    }\n  },\n  radius: {\n    // polarIndex: 0,\n    // polarId: '',\n    splitNumber: 5\n  }\n};\n\nfunction getAxisType(axisDim, option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}\n\naxisModelCreator('angle', PolarAxisModel, getAxisType, polarAxisDefaultExtendedOption.angle);\naxisModelCreator('radius', PolarAxisModel, getAxisType, polarAxisDefaultExtendedOption.radius);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./treemap/TreemapSeries\");\n\nrequire(\"./treemap/TreemapView\");\n\nrequire(\"./treemap/treemapAction\");\n\nvar treemapVisual = require(\"./treemap/treemapVisual\");\n\nvar treemapLayout = require(\"./treemap/treemapLayout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerVisual(treemapVisual);\necharts.registerLayout(treemapLayout);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./marker/MarkPointModel\");\n\nrequire(\"./marker/MarkPointView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// HINT Markpoint can't be used too much\necharts.registerPreprocessor(function (opt) {\n  // Make sure markPoint component is enabled\n  opt.markPoint = opt.markPoint || {};\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar history = require(\"../../dataZoom/history\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar restoreLang = lang.toolbox.restore;\n\nfunction Restore(model) {\n  this.model = model;\n}\n\nRestore.defaultOption = {\n  show: true,\n\n  /* eslint-disable */\n  icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',\n\n  /* eslint-enable */\n  title: restoreLang.title\n};\nvar proto = Restore.prototype;\n\nproto.onclick = function (ecModel, api, type) {\n  history.clear(ecModel);\n  api.dispatchAction({\n    type: 'restore',\n    from: this.uid\n  });\n};\n\nfeatureManager.register('restore', Restore);\necharts.registerAction({\n  type: 'restore',\n  event: 'restore',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.resetOption('recreate');\n});\nvar _default = Restore;\nmodule.exports = _default;","var _core = require(\"./core\");\n\nvar createElement = _core.createElement;\n\nvar util = require(\"../core/util\");\n\nvar logError = require(\"../core/log\");\n\nvar Path = require(\"../graphic/Path\");\n\nvar ZImage = require(\"../graphic/Image\");\n\nvar ZText = require(\"../graphic/Text\");\n\nvar arrayDiff = require(\"../core/arrayDiff2\");\n\nvar GradientManager = require(\"./helper/GradientManager\");\n\nvar ClippathManager = require(\"./helper/ClippathManager\");\n\nvar ShadowManager = require(\"./helper/ShadowManager\");\n\nvar _graphic = require(\"./graphic\");\n\nvar svgPath = _graphic.path;\nvar svgImage = _graphic.image;\nvar svgText = _graphic.text;\n\n/**\n * SVG Painter\n * @module zrender/svg/Painter\n */\nfunction parseInt10(val) {\n  return parseInt(val, 10);\n}\n\nfunction getSvgProxy(el) {\n  if (el instanceof Path) {\n    return svgPath;\n  } else if (el instanceof ZImage) {\n    return svgImage;\n  } else if (el instanceof ZText) {\n    return svgText;\n  } else {\n    return svgPath;\n  }\n}\n\nfunction checkParentAvailable(parent, child) {\n  return child && parent && child.parentNode !== parent;\n}\n\nfunction insertAfter(parent, child, prevSibling) {\n  if (checkParentAvailable(parent, child) && prevSibling) {\n    var nextSibling = prevSibling.nextSibling;\n    nextSibling ? parent.insertBefore(child, nextSibling) : parent.appendChild(child);\n  }\n}\n\nfunction prepend(parent, child) {\n  if (checkParentAvailable(parent, child)) {\n    var firstChild = parent.firstChild;\n    firstChild ? parent.insertBefore(child, firstChild) : parent.appendChild(child);\n  }\n} // function append(parent, child) {\n//     if (checkParentAvailable(parent, child)) {\n//         parent.appendChild(child);\n//     }\n// }\n\n\nfunction remove(parent, child) {\n  if (child && parent && child.parentNode === parent) {\n    parent.removeChild(child);\n  }\n}\n\nfunction getTextSvgElement(displayable) {\n  return displayable.__textSvgEl;\n}\n\nfunction getSvgElement(displayable) {\n  return displayable.__svgEl;\n}\n/**\n * @alias module:zrender/svg/Painter\n * @constructor\n * @param {HTMLElement} root \n * @param {module:zrender/Storage} storage\n * @param {Object} opts\n */\n\n\nvar SVGPainter = function (root, storage, opts, zrId) {\n  this.root = root;\n  this.storage = storage;\n  this._opts = opts = util.extend({}, opts || {});\n  var svgDom = createElement('svg');\n  svgDom.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n  svgDom.setAttribute('version', '1.1');\n  svgDom.setAttribute('baseProfile', 'full');\n  svgDom.style.cssText = 'user-select:none;position:absolute;left:0;top:0;';\n  var bgRoot = createElement('g');\n  svgDom.appendChild(bgRoot);\n  var svgRoot = createElement('g');\n  svgDom.appendChild(svgRoot);\n  this.gradientManager = new GradientManager(zrId, svgRoot);\n  this.clipPathManager = new ClippathManager(zrId, svgRoot);\n  this.shadowManager = new ShadowManager(zrId, svgRoot);\n  var viewport = document.createElement('div');\n  viewport.style.cssText = 'overflow:hidden;position:relative';\n  this._svgDom = svgDom;\n  this._svgRoot = svgRoot;\n  this._backgroundRoot = bgRoot;\n  this._viewport = viewport;\n  root.appendChild(viewport);\n  viewport.appendChild(svgDom);\n  this.resize(opts.width, opts.height);\n  this._visibleList = [];\n};\n\nSVGPainter.prototype = {\n  constructor: SVGPainter,\n  getType: function () {\n    return 'svg';\n  },\n  getViewportRoot: function () {\n    return this._viewport;\n  },\n  getSvgDom: function () {\n    return this._svgDom;\n  },\n  getSvgRoot: function () {\n    return this._svgRoot;\n  },\n  getViewportRootOffset: function () {\n    var viewportRoot = this.getViewportRoot();\n\n    if (viewportRoot) {\n      return {\n        offsetLeft: viewportRoot.offsetLeft || 0,\n        offsetTop: viewportRoot.offsetTop || 0\n      };\n    }\n  },\n  refresh: function () {\n    var list = this.storage.getDisplayList(true);\n\n    this._paintList(list);\n  },\n  setBackgroundColor: function (backgroundColor) {\n    // TODO gradient\n    // Insert a bg rect instead of setting background to viewport.\n    // Otherwise, the exported SVG don't have background.\n    if (this._backgroundRoot && this._backgroundNode) {\n      this._backgroundRoot.removeChild(this._backgroundNode);\n    }\n\n    var bgNode = createElement('rect');\n    bgNode.setAttribute('width', this.getWidth());\n    bgNode.setAttribute('height', this.getHeight());\n    bgNode.setAttribute('x', 0);\n    bgNode.setAttribute('y', 0);\n    bgNode.setAttribute('id', 0);\n    bgNode.style.fill = backgroundColor;\n\n    this._backgroundRoot.appendChild(bgNode);\n\n    this._backgroundNode = bgNode;\n  },\n  _paintList: function (list) {\n    this.gradientManager.markAllUnused();\n    this.clipPathManager.markAllUnused();\n    this.shadowManager.markAllUnused();\n    var svgRoot = this._svgRoot;\n    var visibleList = this._visibleList;\n    var listLen = list.length;\n    var newVisibleList = [];\n    var i;\n\n    for (i = 0; i < listLen; i++) {\n      var displayable = list[i];\n      var svgProxy = getSvgProxy(displayable);\n      var svgElement = getSvgElement(displayable) || getTextSvgElement(displayable);\n\n      if (!displayable.invisible) {\n        if (displayable.__dirty) {\n          svgProxy && svgProxy.brush(displayable); // Update clipPath\n\n          this.clipPathManager.update(displayable); // Update gradient and shadow\n\n          if (displayable.style) {\n            this.gradientManager.update(displayable.style.fill);\n            this.gradientManager.update(displayable.style.stroke);\n            this.shadowManager.update(svgElement, displayable);\n          }\n\n          displayable.__dirty = false;\n        }\n\n        newVisibleList.push(displayable);\n      }\n    }\n\n    var diff = arrayDiff(visibleList, newVisibleList);\n    var prevSvgElement; // First do remove, in case element moved to the head and do remove\n    // after add\n\n    for (i = 0; i < diff.length; i++) {\n      var item = diff[i];\n\n      if (item.removed) {\n        for (var k = 0; k < item.count; k++) {\n          var displayable = visibleList[item.indices[k]];\n          var svgElement = getSvgElement(displayable);\n          var textSvgElement = getTextSvgElement(displayable);\n          remove(svgRoot, svgElement);\n          remove(svgRoot, textSvgElement);\n        }\n      }\n    }\n\n    for (i = 0; i < diff.length; i++) {\n      var item = diff[i];\n\n      if (item.added) {\n        for (var k = 0; k < item.count; k++) {\n          var displayable = newVisibleList[item.indices[k]];\n          var svgElement = getSvgElement(displayable);\n          var textSvgElement = getTextSvgElement(displayable);\n          prevSvgElement ? insertAfter(svgRoot, svgElement, prevSvgElement) : prepend(svgRoot, svgElement);\n\n          if (svgElement) {\n            insertAfter(svgRoot, textSvgElement, svgElement);\n          } else if (prevSvgElement) {\n            insertAfter(svgRoot, textSvgElement, prevSvgElement);\n          } else {\n            prepend(svgRoot, textSvgElement);\n          } // Insert text\n\n\n          insertAfter(svgRoot, textSvgElement, svgElement);\n          prevSvgElement = textSvgElement || svgElement || prevSvgElement; // zrender.Text only create textSvgElement.\n\n          this.gradientManager.addWithoutUpdate(svgElement || textSvgElement, displayable);\n          this.shadowManager.addWithoutUpdate(svgElement || textSvgElement, displayable);\n          this.clipPathManager.markUsed(displayable);\n        }\n      } else if (!item.removed) {\n        for (var k = 0; k < item.count; k++) {\n          var displayable = newVisibleList[item.indices[k]];\n          var svgElement = getSvgElement(displayable);\n          var textSvgElement = getTextSvgElement(displayable);\n          var svgElement = getSvgElement(displayable);\n          var textSvgElement = getTextSvgElement(displayable);\n          this.gradientManager.markUsed(displayable);\n          this.gradientManager.addWithoutUpdate(svgElement || textSvgElement, displayable);\n          this.shadowManager.markUsed(displayable);\n          this.shadowManager.addWithoutUpdate(svgElement || textSvgElement, displayable);\n          this.clipPathManager.markUsed(displayable);\n\n          if (textSvgElement) {\n            // Insert text.\n            insertAfter(svgRoot, textSvgElement, svgElement);\n          }\n\n          prevSvgElement = svgElement || textSvgElement || prevSvgElement;\n        }\n      }\n    }\n\n    this.gradientManager.removeUnused();\n    this.clipPathManager.removeUnused();\n    this.shadowManager.removeUnused();\n    this._visibleList = newVisibleList;\n  },\n  _getDefs: function (isForceCreating) {\n    var svgRoot = this._svgDom;\n    var defs = svgRoot.getElementsByTagName('defs');\n\n    if (defs.length === 0) {\n      // Not exist\n      if (isForceCreating) {\n        var defs = svgRoot.insertBefore(createElement('defs'), // Create new tag\n        svgRoot.firstChild // Insert in the front of svg\n        );\n\n        if (!defs.contains) {\n          // IE doesn't support contains method\n          defs.contains = function (el) {\n            var children = defs.children;\n\n            if (!children) {\n              return false;\n            }\n\n            for (var i = children.length - 1; i >= 0; --i) {\n              if (children[i] === el) {\n                return true;\n              }\n            }\n\n            return false;\n          };\n        }\n\n        return defs;\n      } else {\n        return null;\n      }\n    } else {\n      return defs[0];\n    }\n  },\n  resize: function (width, height) {\n    var viewport = this._viewport; // FIXME Why ?\n\n    viewport.style.display = 'none'; // Save input w/h\n\n    var opts = this._opts;\n    width != null && (opts.width = width);\n    height != null && (opts.height = height);\n    width = this._getSize(0);\n    height = this._getSize(1);\n    viewport.style.display = '';\n\n    if (this._width !== width || this._height !== height) {\n      this._width = width;\n      this._height = height;\n      var viewportStyle = viewport.style;\n      viewportStyle.width = width + 'px';\n      viewportStyle.height = height + 'px';\n      var svgRoot = this._svgDom; // Set width by 'svgRoot.width = width' is invalid\n\n      svgRoot.setAttribute('width', width);\n      svgRoot.setAttribute('height', height);\n    }\n\n    if (this._backgroundNode) {\n      this._backgroundNode.setAttribute('width', width);\n\n      this._backgroundNode.setAttribute('height', height);\n    }\n  },\n\n  /**\n   * \n   */\n  getWidth: function () {\n    return this._width;\n  },\n\n  /**\n   * \n   */\n  getHeight: function () {\n    return this._height;\n  },\n  _getSize: function (whIdx) {\n    var opts = this._opts;\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n      return parseFloat(opts[wh]);\n    }\n\n    var root = this.root; // IE8 does not support getComputedStyle, but it use VML.\n\n    var stl = document.defaultView.getComputedStyle(root);\n    return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;\n  },\n  dispose: function () {\n    this.root.innerHTML = '';\n    this._svgRoot = this._backgroundRoot = this._svgDom = this._backgroundNode = this._viewport = this.storage = null;\n  },\n  clear: function () {\n    if (this._viewport) {\n      this.root.removeChild(this._viewport);\n    }\n  },\n  toDataURL: function () {\n    this.refresh();\n    var html = encodeURIComponent(this._svgDom.outerHTML.replace(/></g, '>\\n\\r<'));\n    return 'data:image/svg+xml;charset=UTF-8,' + html;\n  }\n}; // Not supported methods\n\nfunction createMethodNotSupport(method) {\n  return function () {\n    logError('In SVG mode painter not support method \"' + method + '\"');\n  };\n} // Unsuppoted methods\n\n\nutil.each(['getLayer', 'insertLayer', 'eachLayer', 'eachBuiltinLayer', 'eachOtherLayer', 'getLayers', 'modLayer', 'delLayer', 'clearLayer', 'pathToImage'], function (name) {\n  SVGPainter.prototype[name] = createMethodNotSupport(name);\n});\nvar _default = SVGPainter;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar clazzUtil = require(\"../../util/clazz\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar axisPointerModelHelper = require(\"./modelHelper\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar throttleUtil = require(\"../../util/throttle\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n * Implemenents {module:echarts/component/axis/IAxisPointer}.\n */\n\nfunction BaseAxisPointer() {}\n\nBaseAxisPointer.prototype = {\n  /**\n   * @private\n   */\n  _group: null,\n\n  /**\n   * @private\n   */\n  _lastGraphicKey: null,\n\n  /**\n   * @private\n   */\n  _handle: null,\n\n  /**\n   * @private\n   */\n  _dragging: false,\n\n  /**\n   * @private\n   */\n  _lastValue: null,\n\n  /**\n   * @private\n   */\n  _lastStatus: null,\n\n  /**\n   * @private\n   */\n  _payloadInfo: null,\n\n  /**\n   * In px, arbitrary value. Do not set too small,\n   * no animation is ok for most cases.\n   * @protected\n   */\n  animationThreshold: 15,\n\n  /**\n   * @implement\n   */\n  render: function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n\n    group && group.show();\n    handle && handle.show(); // Otherwise status is 'show'\n\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n    var graphicKey = elOption.graphicKey;\n\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n\n    updateMandatoryProps(group, axisPointerModel, true);\n\n    this._renderHandle(value);\n  },\n\n  /**\n   * @implement\n   */\n  remove: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @implement\n   */\n  dispose: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @protected\n   */\n  determineAnimation: function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      } // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n\n\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent(); // Approximate band width\n\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n\n      return false;\n    }\n\n    return animation === true;\n  },\n\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n  },\n\n  /**\n   * @protected\n   */\n  createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Rect(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updatePointerEl: function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        shape: elOption.label.shape,\n        position: elOption.label.position\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderHandle: function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n\n    var axisPointerModel = this._axisPointerModel;\n\n    var zr = this._api.getZr();\n\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n\n    var isInit;\n\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n\n    updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n    var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n    handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n    var handleSize = handleModel.get('size');\n\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n\n    handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n    this._moveHandleToValue(value, isInit);\n  },\n\n  /**\n   * @private\n   */\n  _moveHandleToValue: function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragMove: function (dx, dy) {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    this._dragging = true; // Persistent for throttle.\n\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n\n    this._doDispatchAxisPointer();\n  },\n\n  /**\n   * Throttled method.\n   * @private\n   */\n  _doDispatchAxisPointer: function () {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragEnd: function (moveAnimation) {\n    this._dragging = false;\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n\n\n    this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n\n\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  },\n\n  /**\n   * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {number} value\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0}\n   */\n  getHandleTransform: null,\n\n  /**\n   * * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {Object} transform {position, rotation}\n   * @param {Array.<number>} delta [dx, dy]\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n   */\n  updateHandleTransform: null,\n\n  /**\n   * @private\n   */\n  clear: function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n  },\n\n  /**\n   * @protected\n   */\n  doClear: function () {// Implemented by sub-class if necessary.\n  },\n\n  /**\n   * @protected\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n  buildLabel: function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n};\nBaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\n\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals = equals && propsEqual(lastProps[key], item);\n    });\n    return !!equals;\n  } else {\n    return lastProps === newProps;\n  }\n}\n\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n}\n\nfunction getHandleTransProps(trans) {\n  return {\n    position: trans.position.slice(),\n    rotation: trans.rotation || 0\n  };\n}\n\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\n\nclazzUtil.enableClassExtend(BaseAxisPointer);\nvar _default = BaseAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Update common properties\nvar NORMAL_ITEM_STYLE_PATH = ['itemStyle'];\nvar EMPHASIS_ITEM_STYLE_PATH = ['emphasis', 'itemStyle'];\nvar BoxplotView = ChartView.extend({\n  type: 'boxplot',\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var group = this.group;\n    var oldData = this._data; // There is no old data only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!this._data) {\n      group.removeAll();\n    }\n\n    var constDim = seriesModel.get('layout') === 'horizontal' ? 1 : 0;\n    data.diff(oldData).add(function (newIdx) {\n      if (data.hasValue(newIdx)) {\n        var itemLayout = data.getItemLayout(newIdx);\n        var symbolEl = createNormalBox(itemLayout, data, newIdx, constDim, true);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx); // Empty data\n\n      if (!data.hasValue(newIdx)) {\n        group.remove(symbolEl);\n        return;\n      }\n\n      var itemLayout = data.getItemLayout(newIdx);\n\n      if (!symbolEl) {\n        symbolEl = createNormalBox(itemLayout, data, newIdx, constDim);\n      } else {\n        updateNormalBoxData(itemLayout, symbolEl, data, newIdx);\n      }\n\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  },\n  remove: function (ecModel) {\n    var group = this.group;\n    var data = this._data;\n    this._data = null;\n    data && data.eachItemGraphicEl(function (el) {\n      el && group.remove(el);\n    });\n  },\n  dispose: zrUtil.noop\n});\nvar BoxPath = Path.extend({\n  type: 'boxplotBoxPath',\n  shape: {},\n  buildPath: function (ctx, shape) {\n    var ends = shape.points;\n    var i = 0;\n    ctx.moveTo(ends[i][0], ends[i][1]);\n    i++;\n\n    for (; i < 4; i++) {\n      ctx.lineTo(ends[i][0], ends[i][1]);\n    }\n\n    ctx.closePath();\n\n    for (; i < ends.length; i++) {\n      ctx.moveTo(ends[i][0], ends[i][1]);\n      i++;\n      ctx.lineTo(ends[i][0], ends[i][1]);\n    }\n  }\n});\n\nfunction createNormalBox(itemLayout, data, dataIndex, constDim, isInit) {\n  var ends = itemLayout.ends;\n  var el = new BoxPath({\n    shape: {\n      points: isInit ? transInit(ends, constDim, itemLayout) : ends\n    }\n  });\n  updateNormalBoxData(itemLayout, el, data, dataIndex, isInit);\n  return el;\n}\n\nfunction updateNormalBoxData(itemLayout, el, data, dataIndex, isInit) {\n  var seriesModel = data.hostModel;\n  var updateMethod = graphic[isInit ? 'initProps' : 'updateProps'];\n  updateMethod(el, {\n    shape: {\n      points: itemLayout.ends\n    }\n  }, seriesModel, dataIndex);\n  var itemModel = data.getItemModel(dataIndex);\n  var normalItemStyleModel = itemModel.getModel(NORMAL_ITEM_STYLE_PATH);\n  var borderColor = data.getItemVisual(dataIndex, 'color'); // Exclude borderColor.\n\n  var itemStyle = normalItemStyleModel.getItemStyle(['borderColor']);\n  itemStyle.stroke = borderColor;\n  itemStyle.strokeNoScale = true;\n  el.useStyle(itemStyle);\n  el.z2 = 100;\n  var hoverStyle = itemModel.getModel(EMPHASIS_ITEM_STYLE_PATH).getItemStyle();\n  graphic.setHoverStyle(el, hoverStyle);\n}\n\nfunction transInit(points, dim, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[dim] = itemLayout.initBaseline;\n    return point;\n  });\n}\n\nvar _default = BoxplotView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./dataZoom/typeDefaulter\");\n\nrequire(\"./dataZoom/DataZoomModel\");\n\nrequire(\"./dataZoom/DataZoomView\");\n\nrequire(\"./dataZoom/SelectZoomModel\");\n\nrequire(\"./dataZoom/SelectZoomView\");\n\nrequire(\"./dataZoom/dataZoomProcessor\");\n\nrequire(\"./dataZoom/dataZoomAction\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar TimelineModel = require(\"./TimelineModel\");\n\nvar dataFormatMixin = require(\"../../model/mixin/dataFormat\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar SliderTimelineModel = TimelineModel.extend({\n  type: 'timeline.slider',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    backgroundColor: 'rgba(0,0,0,0)',\n    // \n    borderColor: '#ccc',\n    // \n    borderWidth: 0,\n    // px0\n    orient: 'horizontal',\n    // 'vertical'\n    inverse: false,\n    tooltip: {\n      // boolean or Object\n      trigger: 'item' // data item may also have tootip attr.\n\n    },\n    symbol: 'emptyCircle',\n    symbolSize: 10,\n    lineStyle: {\n      show: true,\n      width: 2,\n      color: '#304654'\n    },\n    label: {\n      // \n      position: 'auto',\n      // auto left right top bottom\n      // When using number, label position is not\n      // restricted by viewRect.\n      // positive: right/bottom, negative: left/top\n      show: true,\n      interval: 'auto',\n      rotate: 0,\n      // formatter: null,\n      // TEXTSTYLE\n      color: '#304654'\n    },\n    itemStyle: {\n      color: '#304654',\n      borderWidth: 1\n    },\n    checkpointStyle: {\n      symbol: 'circle',\n      symbolSize: 13,\n      color: '#c23531',\n      borderWidth: 5,\n      borderColor: 'rgba(194,53,49, 0.5)',\n      animation: true,\n      animationDuration: 300,\n      animationEasing: 'quinticInOut'\n    },\n    controlStyle: {\n      show: true,\n      showPlayBtn: true,\n      showPrevBtn: true,\n      showNextBtn: true,\n      itemSize: 22,\n      itemGap: 12,\n      position: 'left',\n      // 'left' 'right' 'top' 'bottom'\n      playIcon: 'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z',\n      // jshint ignore:line\n      stopIcon: 'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z',\n      // jshint ignore:line\n      nextIcon: 'path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z',\n      // jshint ignore:line\n      prevIcon: 'path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z',\n      // jshint ignore:line\n      color: '#304654',\n      borderColor: '#304654',\n      borderWidth: 1\n    },\n    emphasis: {\n      label: {\n        show: true,\n        // TEXTSTYLE\n        color: '#c23531'\n      },\n      itemStyle: {\n        color: '#c23531'\n      },\n      controlStyle: {\n        color: '#c23531',\n        borderColor: '#c23531',\n        borderWidth: 2\n      }\n    },\n    data: []\n  }\n});\nzrUtil.mixin(SliderTimelineModel, dataFormatMixin);\nvar _default = SliderTimelineModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n\n  return a;\n}\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var edgeData = seriesModel.getEdgeData();\n    var symbolType = normalize(seriesModel.get('edgeSymbol'));\n    var symbolSize = normalize(seriesModel.get('edgeSymbolSize'));\n    var colorQuery = 'lineStyle.color'.split('.');\n    var opacityQuery = 'lineStyle.opacity'.split('.');\n    edgeData.setVisual('fromSymbol', symbolType && symbolType[0]);\n    edgeData.setVisual('toSymbol', symbolType && symbolType[1]);\n    edgeData.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    edgeData.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    edgeData.setVisual('color', seriesModel.get(colorQuery));\n    edgeData.setVisual('opacity', seriesModel.get(opacityQuery));\n    edgeData.each(function (idx) {\n      var itemModel = edgeData.getItemModel(idx);\n      var edge = graph.getEdgeByIndex(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true)); // Edge visual must after node visual\n\n      var color = itemModel.get(colorQuery);\n      var opacity = itemModel.get(opacityQuery);\n\n      switch (color) {\n        case 'source':\n          color = edge.node1.getVisual('color');\n          break;\n\n        case 'target':\n          color = edge.node2.getVisual('color');\n          break;\n      }\n\n      symbolType[0] && edge.setVisual('fromSymbol', symbolType[0]);\n      symbolType[1] && edge.setVisual('toSymbol', symbolType[1]);\n      symbolSize[0] && edge.setVisual('fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && edge.setVisual('toSymbolSize', symbolSize[1]);\n      edge.setVisual('color', color);\n      edge.setVisual('opacity', opacity);\n    });\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar makeStyleMapper = require(\"../../model/mixin/makeStyleMapper\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisModel = ComponentModel.extend({\n  type: 'baseParallelAxis',\n\n  /**\n   * @type {module:echarts/coord/parallel/Axis}\n   */\n  axis: null,\n\n  /**\n   * @type {Array.<Array.<number>}\n   * @readOnly\n   */\n  activeIntervals: [],\n\n  /**\n   * @return {Object}\n   */\n  getAreaSelectStyle: function () {\n    return makeStyleMapper([['fill', 'color'], ['lineWidth', 'borderWidth'], ['stroke', 'borderColor'], ['width', 'width'], ['opacity', 'opacity']])(this.getModel('areaSelectStyle'));\n  },\n\n  /**\n   * The code of this feature is put on AxisModel but not ParallelAxis,\n   * because axisModel can be alive after echarts updating but instance of\n   * ParallelAxis having been disposed. this._activeInterval should be kept\n   * when action dispatched (i.e. legend click).\n   *\n   * @param {Array.<Array<number>>} intervals interval.length === 0\n   *                                          means set all active.\n   * @public\n   */\n  setActiveIntervals: function (intervals) {\n    var activeIntervals = this.activeIntervals = zrUtil.clone(intervals); // Normalize\n\n    if (activeIntervals) {\n      for (var i = activeIntervals.length - 1; i >= 0; i--) {\n        numberUtil.asc(activeIntervals[i]);\n      }\n    }\n  },\n\n  /**\n   * @param {number|string} [value] When attempting to detect 'no activeIntervals set',\n   *                         value can not be input.\n   * @return {string} 'normal': no activeIntervals set,\n   *                  'active',\n   *                  'inactive'.\n   * @public\n   */\n  getActiveState: function (value) {\n    var activeIntervals = this.activeIntervals;\n\n    if (!activeIntervals.length) {\n      return 'normal';\n    }\n\n    if (value == null || isNaN(value)) {\n      return 'inactive';\n    } // Simple optimization\n\n\n    if (activeIntervals.length === 1) {\n      var interval = activeIntervals[0];\n\n      if (interval[0] <= value && value <= interval[1]) {\n        return 'active';\n      }\n    } else {\n      for (var i = 0, len = activeIntervals.length; i < len; i++) {\n        if (activeIntervals[i][0] <= value && value <= activeIntervals[i][1]) {\n          return 'active';\n        }\n      }\n    }\n\n    return 'inactive';\n  }\n});\nvar defaultOption = {\n  type: 'value',\n\n  /**\n   * @type {Array.<number>}\n   */\n  dim: null,\n  // 0, 1, 2, ...\n  // parallelIndex: null,\n  areaSelectStyle: {\n    width: 20,\n    borderWidth: 1,\n    borderColor: 'rgba(160,197,232)',\n    color: 'rgba(160,197,232)',\n    opacity: 0.3\n  },\n  realtime: true,\n  // Whether realtime update view when select.\n  z: 10\n};\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\n\nfunction getAxisType(axisName, option) {\n  return option.type || (option.data ? 'category' : 'value');\n}\n\naxisModelCreator('parallel', AxisModel, getAxisType, defaultOption);\nvar _default = AxisModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphicUtil = require(\"../util/graphic\");\n\nvar _labelHelper = require(\"./helper/labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\nvar createListFromArray = require(\"./helper/createListFromArray\");\n\nvar _barGrid = require(\"../layout/barGrid\");\n\nvar getLayoutOnAxis = _barGrid.getLayoutOnAxis;\n\nvar DataDiffer = require(\"../data/DataDiffer\");\n\nvar SeriesModel = require(\"../model/Series\");\n\nvar Model = require(\"../model/Model\");\n\nvar ChartView = require(\"../view/Chart\");\n\nvar _createClipPathFromCoordSys = require(\"./helper/createClipPathFromCoordSys\");\n\nvar createClipPath = _createClipPathFromCoordSys.createClipPath;\n\nvar prepareCartesian2d = require(\"../coord/cartesian/prepareCustom\");\n\nvar prepareGeo = require(\"../coord/geo/prepareCustom\");\n\nvar prepareSingleAxis = require(\"../coord/single/prepareCustom\");\n\nvar preparePolar = require(\"../coord/polar/prepareCustom\");\n\nvar prepareCalendar = require(\"../coord/calendar/prepareCustom\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar CACHED_LABEL_STYLE_PROPERTIES = graphicUtil.CACHED_LABEL_STYLE_PROPERTIES;\nvar ITEM_STYLE_NORMAL_PATH = ['itemStyle'];\nvar ITEM_STYLE_EMPHASIS_PATH = ['emphasis', 'itemStyle'];\nvar LABEL_NORMAL = ['label'];\nvar LABEL_EMPHASIS = ['emphasis', 'label']; // Use prefix to avoid index to be the same as el.name,\n// which will cause weird udpate animation.\n\nvar GROUP_DIFF_PREFIX = 'e\\0\\0';\n/**\n * To reduce total package size of each coordinate systems, the modules `prepareCustom`\n * of each coordinate systems are not required by each coordinate systems directly, but\n * required by the module `custom`.\n *\n * prepareInfoForCustomSeries {Function}: optional\n *     @return {Object} {coordSys: {...}, api: {\n *         coord: function (data, clamp) {}, // return point in global.\n *         size: function (dataSize, dataItem) {} // return size of each axis in coordSys.\n *     }}\n */\n\nvar prepareCustoms = {\n  cartesian2d: prepareCartesian2d,\n  geo: prepareGeo,\n  singleAxis: prepareSingleAxis,\n  polar: preparePolar,\n  calendar: prepareCalendar\n}; // ------\n// Model\n// ------\n\nSeriesModel.extend({\n  type: 'series.custom',\n  dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'],\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    // Can be set as 'none'\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    useTransform: true,\n    // Custom series will not clip by default.\n    // Some case will use custom series to draw label\n    // For example https://echarts.apache.org/examples/en/editor.html?c=custom-gantt-flight\n    // Only works on polar and cartesian2d coordinate system.\n    clip: false // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // label: {}\n    // itemStyle: {}\n\n  },\n\n  /**\n   * @override\n   */\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this);\n  },\n\n  /**\n   * @override\n   */\n  getDataParams: function (dataIndex, dataType, el) {\n    var params = SeriesModel.prototype.getDataParams.apply(this, arguments);\n    el && (params.info = el.info);\n    return params;\n  }\n}); // -----\n// View\n// -----\n\nChartView.extend({\n  type: 'custom',\n\n  /**\n   * @private\n   * @type {module:echarts/data/List}\n   */\n  _data: null,\n\n  /**\n   * @override\n   */\n  render: function (customSeries, ecModel, api, payload) {\n    var oldData = this._data;\n    var data = customSeries.getData();\n    var group = this.group;\n    var renderItem = makeRenderItem(customSeries, data, ecModel, api); // By default, merge mode is applied. In most cases, custom series is\n    // used in the scenario that data amount is not large but graphic elements\n    // is complicated, where merge mode is probably necessary for optimization.\n    // For example, reuse graphic elements and only update the transform when\n    // roam or data zoom according to `actionType`.\n\n    data.diff(oldData).add(function (newIdx) {\n      createOrUpdate(null, newIdx, renderItem(newIdx, payload), customSeries, group, data);\n    }).update(function (newIdx, oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      createOrUpdate(el, newIdx, renderItem(newIdx, payload), customSeries, group, data);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute(); // Do clipping\n\n    var clipPath = customSeries.get('clip', true) ? createClipPath(customSeries.coordinateSystem, false, customSeries) : null;\n\n    if (clipPath) {\n      group.setClipPath(clipPath);\n    } else {\n      group.removeClipPath();\n    }\n\n    this._data = data;\n  },\n  incrementalPrepareRender: function (customSeries, ecModel, api) {\n    this.group.removeAll();\n    this._data = null;\n  },\n  incrementalRender: function (params, customSeries, ecModel, api, payload) {\n    var data = customSeries.getData();\n    var renderItem = makeRenderItem(customSeries, data, ecModel, api);\n\n    function setIncrementalAndHoverLayer(el) {\n      if (!el.isGroup) {\n        el.incremental = true;\n        el.useHoverLayer = true;\n      }\n    }\n\n    for (var idx = params.start; idx < params.end; idx++) {\n      var el = createOrUpdate(null, idx, renderItem(idx, payload), customSeries, this.group, data);\n      el.traverse(setIncrementalAndHoverLayer);\n    }\n  },\n\n  /**\n   * @override\n   */\n  dispose: zrUtil.noop,\n\n  /**\n   * @override\n   */\n  filterForExposedEvent: function (eventType, query, targetEl, packedEvent) {\n    var elementName = query.element;\n\n    if (elementName == null || targetEl.name === elementName) {\n      return true;\n    } // Enable to give a name on a group made by `renderItem`, and listen\n    // events that triggerd by its descendents.\n\n\n    while ((targetEl = targetEl.parent) && targetEl !== this.group) {\n      if (targetEl.name === elementName) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n});\n\nfunction createEl(elOption) {\n  var graphicType = elOption.type;\n  var el; // Those graphic elements are not shapes. They should not be\n  // overwritten by users, so do them first.\n\n  if (graphicType === 'path') {\n    var shape = elOption.shape; // Using pathRect brings convenience to users sacle svg path.\n\n    var pathRect = shape.width != null && shape.height != null ? {\n      x: shape.x || 0,\n      y: shape.y || 0,\n      width: shape.width,\n      height: shape.height\n    } : null;\n    var pathData = getPathData(shape); // Path is also used for icon, so layout 'center' by default.\n\n    el = graphicUtil.makePath(pathData, null, pathRect, shape.layout || 'center');\n    el.__customPathData = pathData;\n  } else if (graphicType === 'image') {\n    el = new graphicUtil.Image({});\n    el.__customImagePath = elOption.style.image;\n  } else if (graphicType === 'text') {\n    el = new graphicUtil.Text({});\n    el.__customText = elOption.style.text;\n  } else if (graphicType === 'group') {\n    el = new graphicUtil.Group();\n  } else if (graphicType === 'compoundPath') {\n    throw new Error('\"compoundPath\" is not supported yet.');\n  } else {\n    var Clz = graphicUtil.getShapeClass(graphicType);\n    el = new Clz();\n  }\n\n  el.__customGraphicType = graphicType;\n  el.name = elOption.name;\n  return el;\n}\n\nfunction updateEl(el, dataIndex, elOption, animatableModel, data, isInit, isRoot) {\n  var transitionProps = {};\n  var elOptionStyle = elOption.style || {};\n  elOption.shape && (transitionProps.shape = zrUtil.clone(elOption.shape));\n  elOption.position && (transitionProps.position = elOption.position.slice());\n  elOption.scale && (transitionProps.scale = elOption.scale.slice());\n  elOption.origin && (transitionProps.origin = elOption.origin.slice());\n  elOption.rotation && (transitionProps.rotation = elOption.rotation);\n\n  if (el.type === 'image' && elOption.style) {\n    var targetStyle = transitionProps.style = {};\n    zrUtil.each(['x', 'y', 'width', 'height'], function (prop) {\n      prepareStyleTransition(prop, targetStyle, elOptionStyle, el.style, isInit);\n    });\n  }\n\n  if (el.type === 'text' && elOption.style) {\n    var targetStyle = transitionProps.style = {};\n    zrUtil.each(['x', 'y'], function (prop) {\n      prepareStyleTransition(prop, targetStyle, elOptionStyle, el.style, isInit);\n    }); // Compatible with previous: both support\n    // textFill and fill, textStroke and stroke in 'text' element.\n\n    !elOptionStyle.hasOwnProperty('textFill') && elOptionStyle.fill && (elOptionStyle.textFill = elOptionStyle.fill);\n    !elOptionStyle.hasOwnProperty('textStroke') && elOptionStyle.stroke && (elOptionStyle.textStroke = elOptionStyle.stroke);\n  }\n\n  if (el.type !== 'group') {\n    el.useStyle(elOptionStyle); // Init animation.\n\n    if (isInit) {\n      el.style.opacity = 0;\n      var targetOpacity = elOptionStyle.opacity;\n      targetOpacity == null && (targetOpacity = 1);\n      graphicUtil.initProps(el, {\n        style: {\n          opacity: targetOpacity\n        }\n      }, animatableModel, dataIndex);\n    }\n  }\n\n  if (isInit) {\n    el.attr(transitionProps);\n  } else {\n    graphicUtil.updateProps(el, transitionProps, animatableModel, dataIndex);\n  } // Merge by default.\n  // z2 must not be null/undefined, otherwise sort error may occur.\n\n\n  elOption.hasOwnProperty('z2') && el.attr('z2', elOption.z2 || 0);\n  elOption.hasOwnProperty('silent') && el.attr('silent', elOption.silent);\n  elOption.hasOwnProperty('invisible') && el.attr('invisible', elOption.invisible);\n  elOption.hasOwnProperty('ignore') && el.attr('ignore', elOption.ignore); // `elOption.info` enables user to mount some info on\n  // elements and use them in event handlers.\n  // Update them only when user specified, otherwise, remain.\n\n  elOption.hasOwnProperty('info') && el.attr('info', elOption.info); // If `elOption.styleEmphasis` is `false`, remove hover style. The\n  // logic is ensured by `graphicUtil.setElementHoverStyle`.\n\n  var styleEmphasis = elOption.styleEmphasis; // hoverStyle should always be set here, because if the hover style\n  // may already be changed, where the inner cache should be reset.\n\n  graphicUtil.setElementHoverStyle(el, styleEmphasis);\n\n  if (isRoot) {\n    graphicUtil.setAsHighDownDispatcher(el, styleEmphasis !== false);\n  }\n}\n\nfunction prepareStyleTransition(prop, targetStyle, elOptionStyle, oldElStyle, isInit) {\n  if (elOptionStyle[prop] != null && !isInit) {\n    targetStyle[prop] = elOptionStyle[prop];\n    elOptionStyle[prop] = oldElStyle[prop];\n  }\n}\n\nfunction makeRenderItem(customSeries, data, ecModel, api) {\n  var renderItem = customSeries.get('renderItem');\n  var coordSys = customSeries.coordinateSystem;\n  var prepareResult = {};\n\n  if (coordSys) {\n    prepareResult = coordSys.prepareCustoms ? coordSys.prepareCustoms() : prepareCustoms[coordSys.type](coordSys);\n  }\n\n  var userAPI = zrUtil.defaults({\n    getWidth: api.getWidth,\n    getHeight: api.getHeight,\n    getZr: api.getZr,\n    getDevicePixelRatio: api.getDevicePixelRatio,\n    value: value,\n    style: style,\n    styleEmphasis: styleEmphasis,\n    visual: visual,\n    barLayout: barLayout,\n    currentSeriesIndices: currentSeriesIndices,\n    font: font\n  }, prepareResult.api || {});\n  var userParams = {\n    // The life cycle of context: current round of rendering.\n    // The global life cycle is probably not necessary, because\n    // user can store global status by themselves.\n    context: {},\n    seriesId: customSeries.id,\n    seriesName: customSeries.name,\n    seriesIndex: customSeries.seriesIndex,\n    coordSys: prepareResult.coordSys,\n    dataInsideLength: data.count(),\n    encode: wrapEncodeDef(customSeries.getData())\n  }; // Do not support call `api` asynchronously without dataIndexInside input.\n\n  var currDataIndexInside;\n  var currDirty = true;\n  var currItemModel;\n  var currLabelNormalModel;\n  var currLabelEmphasisModel;\n  var currVisualColor;\n  return function (dataIndexInside, payload) {\n    currDataIndexInside = dataIndexInside;\n    currDirty = true;\n    return renderItem && renderItem(zrUtil.defaults({\n      dataIndexInside: dataIndexInside,\n      dataIndex: data.getRawIndex(dataIndexInside),\n      // Can be used for optimization when zoom or roam.\n      actionType: payload ? payload.type : null\n    }, userParams), userAPI);\n  }; // Do not update cache until api called.\n\n  function updateCache(dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n\n    if (currDirty) {\n      currItemModel = data.getItemModel(dataIndexInside);\n      currLabelNormalModel = currItemModel.getModel(LABEL_NORMAL);\n      currLabelEmphasisModel = currItemModel.getModel(LABEL_EMPHASIS);\n      currVisualColor = data.getItemVisual(dataIndexInside, 'color');\n      currDirty = false;\n    }\n  }\n  /**\n   * @public\n   * @param {number|string} dim\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   * @return {number|string} value\n   */\n\n\n  function value(dim, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    return data.get(data.getDimension(dim || 0), dataIndexInside);\n  }\n  /**\n   * By default, `visual` is applied to style (to support visualMap).\n   * `visual.color` is applied at `fill`. If user want apply visual.color on `stroke`,\n   * it can be implemented as:\n   * `api.style({stroke: api.visual('color'), fill: null})`;\n   * @public\n   * @param {Object} [extra]\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   */\n\n\n  function style(extra, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    updateCache(dataIndexInside);\n    var itemStyle = currItemModel.getModel(ITEM_STYLE_NORMAL_PATH).getItemStyle();\n    currVisualColor != null && (itemStyle.fill = currVisualColor);\n    var opacity = data.getItemVisual(dataIndexInside, 'opacity');\n    opacity != null && (itemStyle.opacity = opacity);\n    var labelModel = extra ? applyExtraBefore(extra, currLabelNormalModel) : currLabelNormalModel;\n    graphicUtil.setTextStyle(itemStyle, labelModel, null, {\n      autoColor: currVisualColor,\n      isRectText: true\n    });\n    itemStyle.text = labelModel.getShallow('show') ? zrUtil.retrieve2(customSeries.getFormattedLabel(dataIndexInside, 'normal'), getDefaultLabel(data, dataIndexInside)) : null;\n    extra && applyExtraAfter(itemStyle, extra);\n    return itemStyle;\n  }\n  /**\n   * @public\n   * @param {Object} [extra]\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   */\n\n\n  function styleEmphasis(extra, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    updateCache(dataIndexInside);\n    var itemStyle = currItemModel.getModel(ITEM_STYLE_EMPHASIS_PATH).getItemStyle();\n    var labelModel = extra ? applyExtraBefore(extra, currLabelEmphasisModel) : currLabelEmphasisModel;\n    graphicUtil.setTextStyle(itemStyle, labelModel, null, {\n      isRectText: true\n    }, true);\n    itemStyle.text = labelModel.getShallow('show') ? zrUtil.retrieve3(customSeries.getFormattedLabel(dataIndexInside, 'emphasis'), customSeries.getFormattedLabel(dataIndexInside, 'normal'), getDefaultLabel(data, dataIndexInside)) : null;\n    extra && applyExtraAfter(itemStyle, extra);\n    return itemStyle;\n  }\n  /**\n   * @public\n   * @param {string} visualType\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   */\n\n\n  function visual(visualType, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    return data.getItemVisual(dataIndexInside, visualType);\n  }\n  /**\n   * @public\n   * @param {number} opt.count Positive interger.\n   * @param {number} [opt.barWidth]\n   * @param {number} [opt.barMaxWidth]\n   * @param {number} [opt.barMinWidth]\n   * @param {number} [opt.barGap]\n   * @param {number} [opt.barCategoryGap]\n   * @return {Object} {width, offset, offsetCenter} is not support, return undefined.\n   */\n\n\n  function barLayout(opt) {\n    if (coordSys.getBaseAxis) {\n      var baseAxis = coordSys.getBaseAxis();\n      return getLayoutOnAxis(zrUtil.defaults({\n        axis: baseAxis\n      }, opt), api);\n    }\n  }\n  /**\n   * @public\n   * @return {Array.<number>}\n   */\n\n\n  function currentSeriesIndices() {\n    return ecModel.getCurrentSeriesIndices();\n  }\n  /**\n   * @public\n   * @param {Object} opt\n   * @param {string} [opt.fontStyle]\n   * @param {number} [opt.fontWeight]\n   * @param {number} [opt.fontSize]\n   * @param {string} [opt.fontFamily]\n   * @return {string} font string\n   */\n\n\n  function font(opt) {\n    return graphicUtil.getFont(opt, ecModel);\n  }\n}\n\nfunction wrapEncodeDef(data) {\n  var encodeDef = {};\n  zrUtil.each(data.dimensions, function (dimName, dataDimIndex) {\n    var dimInfo = data.getDimensionInfo(dimName);\n\n    if (!dimInfo.isExtraCoord) {\n      var coordDim = dimInfo.coordDim;\n      var dataDims = encodeDef[coordDim] = encodeDef[coordDim] || [];\n      dataDims[dimInfo.coordDimIndex] = dataDimIndex;\n    }\n  });\n  return encodeDef;\n}\n\nfunction createOrUpdate(el, dataIndex, elOption, animatableModel, group, data) {\n  el = doCreateOrUpdate(el, dataIndex, elOption, animatableModel, group, data, true);\n  el && data.setItemGraphicEl(dataIndex, el);\n  return el;\n}\n\nfunction doCreateOrUpdate(el, dataIndex, elOption, animatableModel, group, data, isRoot) {\n  // [Rule]\n  // By default, follow merge mode.\n  //     (It probably brings benifit for performance in some cases of large data, where\n  //     user program can be optimized to that only updated props needed to be re-calculated,\n  //     or according to `actionType` some calculation can be skipped.)\n  // If `renderItem` returns `null`/`undefined`/`false`, remove the previous el if existing.\n  //     (It seems that violate the \"merge\" principle, but most of users probably intuitively\n  //     regard \"return;\" as \"show nothing element whatever\", so make a exception to meet the\n  //     most cases.)\n  var simplyRemove = !elOption; // `null`/`undefined`/`false`\n\n  elOption = elOption || {};\n  var elOptionType = elOption.type;\n  var elOptionShape = elOption.shape;\n  var elOptionStyle = elOption.style;\n\n  if (el && (simplyRemove // || elOption.$merge === false\n  // If `elOptionType` is `null`, follow the merge principle.\n  || elOptionType != null && elOptionType !== el.__customGraphicType || elOptionType === 'path' && hasOwnPathData(elOptionShape) && getPathData(elOptionShape) !== el.__customPathData || elOptionType === 'image' && hasOwn(elOptionStyle, 'image') && elOptionStyle.image !== el.__customImagePath // FIXME test and remove this restriction?\n  || elOptionType === 'text' && hasOwn(elOptionShape, 'text') && elOptionStyle.text !== el.__customText)) {\n    group.remove(el);\n    el = null;\n  } // `elOption.type` is undefined when `renderItem` returns nothing.\n\n\n  if (simplyRemove) {\n    return;\n  }\n\n  var isInit = !el;\n  !el && (el = createEl(elOption));\n  updateEl(el, dataIndex, elOption, animatableModel, data, isInit, isRoot);\n\n  if (elOptionType === 'group') {\n    mergeChildren(el, dataIndex, elOption, animatableModel, data);\n  } // Always add whatever already added to ensure sequence.\n\n\n  group.add(el);\n  return el;\n} // Usage:\n// (1) By default, `elOption.$mergeChildren` is `'byIndex'`, which indicates that\n//     the existing children will not be removed, and enables the feature that\n//     update some of the props of some of the children simply by construct\n//     the returned children of `renderItem` like:\n//     `var children = group.children = []; children[3] = {opacity: 0.5};`\n// (2) If `elOption.$mergeChildren` is `'byName'`, add/update/remove children\n//     by child.name. But that might be lower performance.\n// (3) If `elOption.$mergeChildren` is `false`, the existing children will be\n//     replaced totally.\n// (4) If `!elOption.children`, following the \"merge\" principle, nothing will happen.\n//\n// For implementation simpleness, do not provide a direct way to remove sinlge\n// child (otherwise the total indicies of the children array have to be modified).\n// User can remove a single child by set its `ignore` as `true` or replace\n// it by another element, where its `$merge` can be set as `true` if necessary.\n\n\nfunction mergeChildren(el, dataIndex, elOption, animatableModel, data) {\n  var newChildren = elOption.children;\n  var newLen = newChildren ? newChildren.length : 0;\n  var mergeChildren = elOption.$mergeChildren; // `diffChildrenByName` has been deprecated.\n\n  var byName = mergeChildren === 'byName' || elOption.diffChildrenByName;\n  var notMerge = mergeChildren === false; // For better performance on roam update, only enter if necessary.\n\n  if (!newLen && !byName && !notMerge) {\n    return;\n  }\n\n  if (byName) {\n    diffGroupChildren({\n      oldChildren: el.children() || [],\n      newChildren: newChildren || [],\n      dataIndex: dataIndex,\n      animatableModel: animatableModel,\n      group: el,\n      data: data\n    });\n    return;\n  }\n\n  notMerge && el.removeAll(); // Mapping children of a group simply by index, which\n  // might be better performance.\n\n  var index = 0;\n\n  for (; index < newLen; index++) {\n    newChildren[index] && doCreateOrUpdate(el.childAt(index), dataIndex, newChildren[index], animatableModel, el, data);\n  }\n}\n\nfunction diffGroupChildren(context) {\n  new DataDiffer(context.oldChildren, context.newChildren, getKey, getKey, context).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute();\n}\n\nfunction getKey(item, idx) {\n  var name = item && item.name;\n  return name != null ? name : GROUP_DIFF_PREFIX + idx;\n}\n\nfunction processAddUpdate(newIndex, oldIndex) {\n  var context = this.context;\n  var childOption = newIndex != null ? context.newChildren[newIndex] : null;\n  var child = oldIndex != null ? context.oldChildren[oldIndex] : null;\n  doCreateOrUpdate(child, context.dataIndex, childOption, context.animatableModel, context.group, context.data);\n} // `graphic#applyDefaultTextStyle` will cache\n// textFill, textStroke, textStrokeWidth.\n// We have to do this trick.\n\n\nfunction applyExtraBefore(extra, model) {\n  var dummyModel = new Model({}, model);\n  zrUtil.each(CACHED_LABEL_STYLE_PROPERTIES, function (stylePropName, modelPropName) {\n    if (extra.hasOwnProperty(stylePropName)) {\n      dummyModel.option[modelPropName] = extra[stylePropName];\n    }\n  });\n  return dummyModel;\n}\n\nfunction applyExtraAfter(itemStyle, extra) {\n  for (var key in extra) {\n    if (extra.hasOwnProperty(key) || !CACHED_LABEL_STYLE_PROPERTIES.hasOwnProperty(key)) {\n      itemStyle[key] = extra[key];\n    }\n  }\n}\n\nfunction processRemove(oldIndex) {\n  var context = this.context;\n  var child = context.oldChildren[oldIndex];\n  child && context.group.remove(child);\n}\n\nfunction getPathData(shape) {\n  // \"d\" follows the SVG convention.\n  return shape && (shape.pathData || shape.d);\n}\n\nfunction hasOwnPathData(shape) {\n  return shape && (shape.hasOwnProperty('pathData') || shape.hasOwnProperty('d'));\n}\n\nfunction hasOwn(host, prop) {\n  return host && host.hasOwnProperty(prop);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _labelHelper = require(\"../helper/labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction setLabel(normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside) {\n  var labelModel = itemModel.getModel('label');\n  var hoverLabelModel = itemModel.getModel('emphasis.label');\n  graphic.setLabelStyle(normalStyle, hoverStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: getDefaultLabel(seriesModel.getData(), dataIndex),\n    isRectText: true,\n    autoColor: color\n  });\n  fixPosition(normalStyle);\n  fixPosition(hoverStyle);\n}\n\nfunction fixPosition(style, labelPositionOutside) {\n  if (style.textPosition === 'outside') {\n    style.textPosition = labelPositionOutside;\n  }\n}\n\nexports.setLabel = setLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _dimensionHelper = require(\"../../data/helper/dimensionHelper\");\n\nvar getDimensionTypeByAxis = _dimensionHelper.getDimensionTypeByAxis;\n\nvar _sourceHelper = require(\"../../data/helper/sourceHelper\");\n\nvar makeSeriesEncodeForAxisCoordSys = _sourceHelper.makeSeriesEncodeForAxisCoordSys;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar seriesModelMixin = {\n  /**\n   * @private\n   * @type {string}\n   */\n  _baseAxisDim: null,\n\n  /**\n   * @override\n   */\n  getInitialData: function (option, ecModel) {\n    // When both types of xAxis and yAxis are 'value', layout is\n    // needed to be specified by user. Otherwise, layout can be\n    // judged by which axis is category.\n    var ordinalMeta;\n    var xAxisModel = ecModel.getComponent('xAxis', this.get('xAxisIndex'));\n    var yAxisModel = ecModel.getComponent('yAxis', this.get('yAxisIndex'));\n    var xAxisType = xAxisModel.get('type');\n    var yAxisType = yAxisModel.get('type');\n    var addOrdinal; // FIXME\n    // Consider time axis.\n\n    if (xAxisType === 'category') {\n      option.layout = 'horizontal';\n      ordinalMeta = xAxisModel.getOrdinalMeta();\n      addOrdinal = true;\n    } else if (yAxisType === 'category') {\n      option.layout = 'vertical';\n      ordinalMeta = yAxisModel.getOrdinalMeta();\n      addOrdinal = true;\n    } else {\n      option.layout = option.layout || 'horizontal';\n    }\n\n    var coordDims = ['x', 'y'];\n    var baseAxisDimIndex = option.layout === 'horizontal' ? 0 : 1;\n    var baseAxisDim = this._baseAxisDim = coordDims[baseAxisDimIndex];\n    var otherAxisDim = coordDims[1 - baseAxisDimIndex];\n    var axisModels = [xAxisModel, yAxisModel];\n    var baseAxisType = axisModels[baseAxisDimIndex].get('type');\n    var otherAxisType = axisModels[1 - baseAxisDimIndex].get('type');\n    var data = option.data; // ??? FIXME make a stage to perform data transfrom.\n    // MUST create a new data, consider setOption({}) again.\n\n    if (data && addOrdinal) {\n      var newOptionData = [];\n      zrUtil.each(data, function (item, index) {\n        var newItem;\n\n        if (item.value && zrUtil.isArray(item.value)) {\n          newItem = item.value.slice();\n          item.value.unshift(index);\n        } else if (zrUtil.isArray(item)) {\n          newItem = item.slice();\n          item.unshift(index);\n        } else {\n          newItem = item;\n        }\n\n        newOptionData.push(newItem);\n      });\n      option.data = newOptionData;\n    }\n\n    var defaultValueDimensions = this.defaultValueDimensions;\n    var coordDimensions = [{\n      name: baseAxisDim,\n      type: getDimensionTypeByAxis(baseAxisType),\n      ordinalMeta: ordinalMeta,\n      otherDims: {\n        tooltip: false,\n        itemName: 0\n      },\n      dimsDef: ['base']\n    }, {\n      name: otherAxisDim,\n      type: getDimensionTypeByAxis(otherAxisType),\n      dimsDef: defaultValueDimensions.slice()\n    }];\n    return createListSimply(this, {\n      coordDimensions: coordDimensions,\n      dimensionsCount: defaultValueDimensions.length + 1,\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForAxisCoordSys, coordDimensions, this)\n    });\n  },\n\n  /**\n   * If horizontal, base axis is x, otherwise y.\n   * @override\n   */\n  getBaseAxis: function () {\n    var dim = this._baseAxisDim;\n    return this.ecModel.getComponent(dim + 'Axis', this.get(dim + 'AxisIndex')).axis;\n  }\n};\nexports.seriesModelMixin = seriesModelMixin;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createDimensions = require(\"../../data/helper/createDimensions\");\n\nvar List = require(\"../../data/List\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar extend = _util.extend;\nvar isArray = _util.isArray;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n *\n * @param {module:echarts/model/Series} seriesModel\n * @param {Object|Array.<string|Object>} opt opt or coordDimensions\n *        The options in opt, see `echarts/data/helper/createDimensions`\n * @param {Array.<string>} [nameList]\n * @return {module:echarts/data/List}\n */\nfunction _default(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({}, opt);\n  var source = seriesModel.getSource();\n  var dimensionsInfo = createDimensions(source, opt);\n  var list = new List(dimensionsInfo, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./dataZoom/typeDefaulter\");\n\nrequire(\"./dataZoom/DataZoomModel\");\n\nrequire(\"./dataZoom/DataZoomView\");\n\nrequire(\"./dataZoom/SliderZoomModel\");\n\nrequire(\"./dataZoom/SliderZoomView\");\n\nrequire(\"./dataZoom/dataZoomProcessor\");\n\nrequire(\"./dataZoom/dataZoomAction\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {number} [time=500] Time in ms\n * @param {string} [easing='linear']\n * @param {number} [delay=0]\n * @param {Function} [callback]\n *\n * @example\n *  // Animate position\n *  animation\n *      .createWrap()\n *      .add(el1, {position: [10, 10]})\n *      .add(el2, {shape: {width: 500}, style: {fill: 'red'}}, 400)\n *      .done(function () { // done })\n *      .start('cubicOut');\n */\nfunction createWrap() {\n  var storage = [];\n  var elExistsMap = {};\n  var doneCallback;\n  return {\n    /**\n     * Caution: a el can only be added once, otherwise 'done'\n     * might not be called. This method checks this (by el.id),\n     * suppresses adding and returns false when existing el found.\n     *\n     * @param {modele:zrender/Element} el\n     * @param {Object} target\n     * @param {number} [time=500]\n     * @param {number} [delay=0]\n     * @param {string} [easing='linear']\n     * @return {boolean} Whether adding succeeded.\n     *\n     * @example\n     *     add(el, target, time, delay, easing);\n     *     add(el, target, time, easing);\n     *     add(el, target, time);\n     *     add(el, target);\n     */\n    add: function (el, target, time, delay, easing) {\n      if (zrUtil.isString(delay)) {\n        easing = delay;\n        delay = 0;\n      }\n\n      if (elExistsMap[el.id]) {\n        return false;\n      }\n\n      elExistsMap[el.id] = 1;\n      storage.push({\n        el: el,\n        target: target,\n        time: time,\n        delay: delay,\n        easing: easing\n      });\n      return true;\n    },\n\n    /**\n     * Only execute when animation finished. Will not execute when any\n     * of 'stop' or 'stopAnimation' called.\n     *\n     * @param {Function} callback\n     */\n    done: function (callback) {\n      doneCallback = callback;\n      return this;\n    },\n\n    /**\n     * Will stop exist animation firstly.\n     */\n    start: function () {\n      var count = storage.length;\n\n      for (var i = 0, len = storage.length; i < len; i++) {\n        var item = storage[i];\n        item.el.animateTo(item.target, item.time, item.delay, item.easing, done);\n      }\n\n      return this;\n\n      function done() {\n        count--;\n\n        if (!count) {\n          storage.length = 0;\n          elExistsMap = {};\n          doneCallback && doneCallback();\n        }\n      }\n    }\n  };\n}\n\nexports.createWrap = createWrap;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @event legendScroll\n * @type {Object}\n * @property {string} type 'legendScroll'\n * @property {string} scrollDataIndex\n */\necharts.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n  var scrollDataIndex = payload.scrollDataIndex;\n  scrollDataIndex != null && ecModel.eachComponent({\n    mainType: 'legend',\n    subType: 'scroll',\n    query: payload\n  }, function (legendModel) {\n    legendModel.setScrollDataIndex(scrollDataIndex);\n  });\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar modelHelper = require(\"./modelHelper\");\n\nvar findPointFromSeries = require(\"./findPointFromSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar curry = zrUtil.curry;\nvar inner = makeInner();\n/**\n * Basic logic: check all axis, if they do not demand show/highlight,\n * then hide/downplay them.\n *\n * @param {Object} coordSysAxesInfo\n * @param {Object} payload\n * @param {string} [payload.currTrigger] 'click' | 'mousemove' | 'leave'\n * @param {Array.<number>} [payload.x] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Array.<number>} [payload.y] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Object} [payload.seriesIndex] finder, optional, restrict target axes.\n * @param {Object} [payload.dataIndex] finder, restrict target axes.\n * @param {Object} [payload.axesInfo] finder, restrict target axes.\n *        [{\n *          axisDim: 'x'|'y'|'angle'|...,\n *          axisIndex: ...,\n *          value: ...\n *        }, ...]\n * @param {Function} [payload.dispatchAction]\n * @param {Object} [payload.tooltipOption]\n * @param {Object|Array.<number>|Function} [payload.position] Tooltip position,\n *        which can be specified in dispatchAction\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Object} content of event obj for echarts.connect.\n */\n\nfunction _default(payload, ecModel, api) {\n  var currTrigger = payload.currTrigger;\n  var point = [payload.x, payload.y];\n  var finder = payload;\n  var dispatchAction = payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n  var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo; // Pending\n  // See #6121. But we are not able to reproduce it yet.\n\n  if (!coordSysAxesInfo) {\n    return;\n  }\n\n  if (illegalPoint(point)) {\n    // Used in the default behavior of `connection`: use the sample seriesIndex\n    // and dataIndex. And also used in the tooltipView trigger.\n    point = findPointFromSeries({\n      seriesIndex: finder.seriesIndex,\n      // Do not use dataIndexInside from other ec instance.\n      // FIXME: auto detect it?\n      dataIndex: finder.dataIndex\n    }, ecModel).point;\n  }\n\n  var isIllegalPoint = illegalPoint(point); // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n  // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n  // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n  // and dataIndex.\n\n  var inputAxesInfo = finder.axesInfo;\n  var axesInfo = coordSysAxesInfo.axesInfo;\n  var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n  var outputFinder = {};\n  var showValueMap = {};\n  var dataByCoordSys = {\n    list: [],\n    map: {}\n  };\n  var updaters = {\n    showPointer: curry(showPointer, showValueMap),\n    showTooltip: curry(showTooltip, dataByCoordSys)\n  }; // Process for triggered axes.\n\n  each(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n    // If a point given, it must be contained by the coordinate system.\n    var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n    each(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n      var axis = axisInfo.axis;\n      var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo); // If no inputAxesInfo, no axis is restricted.\n\n      if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n        var val = inputAxisInfo && inputAxisInfo.value;\n\n        if (val == null && !isIllegalPoint) {\n          val = axis.pointToData(point);\n        }\n\n        val != null && processOnAxis(axisInfo, val, updaters, false, outputFinder);\n      }\n    });\n  }); // Process for linked axes.\n\n  var linkTriggers = {};\n  each(axesInfo, function (tarAxisInfo, tarKey) {\n    var linkGroup = tarAxisInfo.linkGroup; // If axis has been triggered in the previous stage, it should not be triggered by link.\n\n    if (linkGroup && !showValueMap[tarKey]) {\n      each(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n        var srcValItem = showValueMap[srcKey]; // If srcValItem exist, source axis is triggered, so link to target axis.\n\n        if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n          var val = srcValItem.value;\n          linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n          linkTriggers[tarAxisInfo.key] = val;\n        }\n      });\n    }\n  });\n  each(linkTriggers, function (val, tarKey) {\n    processOnAxis(axesInfo[tarKey], val, updaters, true, outputFinder);\n  });\n  updateModelActually(showValueMap, axesInfo, outputFinder);\n  dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n  dispatchHighDownActually(axesInfo, dispatchAction, api);\n  return outputFinder;\n}\n\nfunction processOnAxis(axisInfo, newValue, updaters, dontSnap, outputFinder) {\n  var axis = axisInfo.axis;\n\n  if (axis.scale.isBlank() || !axis.containData(newValue)) {\n    return;\n  }\n\n  if (!axisInfo.involveSeries) {\n    updaters.showPointer(axisInfo, newValue);\n    return;\n  } // Heavy calculation. So put it after axis.containData checking.\n\n\n  var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n  var payloadBatch = payloadInfo.payloadBatch;\n  var snapToValue = payloadInfo.snapToValue; // Fill content of event obj for echarts.connect.\n  // By default use the first involved series data as a sample to connect.\n\n  if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n    zrUtil.extend(outputFinder, payloadBatch[0]);\n  } // If no linkSource input, this process is for collecting link\n  // target, where snap should not be accepted.\n\n\n  if (!dontSnap && axisInfo.snap) {\n    if (axis.containData(snapToValue) && snapToValue != null) {\n      newValue = snapToValue;\n    }\n  }\n\n  updaters.showPointer(axisInfo, newValue, payloadBatch, outputFinder); // Tooltip should always be snapToValue, otherwise there will be\n  // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n\n  updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n}\n\nfunction buildPayloadsBySeries(value, axisInfo) {\n  var axis = axisInfo.axis;\n  var dim = axis.dim;\n  var snapToValue = value;\n  var payloadBatch = [];\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n  each(axisInfo.seriesModels, function (series, idx) {\n    var dataDim = series.getData().mapDimension(dim, true);\n    var seriesNestestValue;\n    var dataIndices;\n\n    if (series.getAxisTooltipData) {\n      var result = series.getAxisTooltipData(dataDim, value, axis);\n      dataIndices = result.dataIndices;\n      seriesNestestValue = result.nestestValue;\n    } else {\n      dataIndices = series.getData().indicesOfNearest(dataDim[0], value, // Add a threshold to avoid find the wrong dataIndex\n      // when data length is not same.\n      // false,\n      axis.type === 'category' ? 0.5 : null);\n\n      if (!dataIndices.length) {\n        return;\n      }\n\n      seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n    }\n\n    if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n      return;\n    }\n\n    var diff = value - seriesNestestValue;\n    var dist = Math.abs(diff); // Consider category case\n\n    if (dist <= minDist) {\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        snapToValue = seriesNestestValue;\n        payloadBatch.length = 0;\n      }\n\n      each(dataIndices, function (dataIndex) {\n        payloadBatch.push({\n          seriesIndex: series.seriesIndex,\n          dataIndexInside: dataIndex,\n          dataIndex: series.getData().getRawIndex(dataIndex)\n        });\n      });\n    }\n  });\n  return {\n    payloadBatch: payloadBatch,\n    snapToValue: snapToValue\n  };\n}\n\nfunction showPointer(showValueMap, axisInfo, value, payloadBatch) {\n  showValueMap[axisInfo.key] = {\n    value: value,\n    payloadBatch: payloadBatch\n  };\n}\n\nfunction showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n  var payloadBatch = payloadInfo.payloadBatch;\n  var axis = axisInfo.axis;\n  var axisModel = axis.model;\n  var axisPointerModel = axisInfo.axisPointerModel; // If no data, do not create anything in dataByCoordSys,\n  // whose length will be used to judge whether dispatch action.\n\n  if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n    return;\n  }\n\n  var coordSysModel = axisInfo.coordSys.model;\n  var coordSysKey = modelHelper.makeKey(coordSysModel);\n  var coordSysItem = dataByCoordSys.map[coordSysKey];\n\n  if (!coordSysItem) {\n    coordSysItem = dataByCoordSys.map[coordSysKey] = {\n      coordSysId: coordSysModel.id,\n      coordSysIndex: coordSysModel.componentIndex,\n      coordSysType: coordSysModel.type,\n      coordSysMainType: coordSysModel.mainType,\n      dataByAxis: []\n    };\n    dataByCoordSys.list.push(coordSysItem);\n  }\n\n  coordSysItem.dataByAxis.push({\n    axisDim: axis.dim,\n    axisIndex: axisModel.componentIndex,\n    axisType: axisModel.type,\n    axisId: axisModel.id,\n    value: value,\n    // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n    // depends that all models have been updated. So it should not be performed\n    // here. Considering axisPointerModel used here is volatile, which is hard\n    // to be retrieve in TooltipView, we prepare parameters here.\n    valueLabelOpt: {\n      precision: axisPointerModel.get('label.precision'),\n      formatter: axisPointerModel.get('label.formatter')\n    },\n    seriesDataIndices: payloadBatch.slice()\n  });\n}\n\nfunction updateModelActually(showValueMap, axesInfo, outputFinder) {\n  var outputAxesInfo = outputFinder.axesInfo = []; // Basic logic: If no 'show' required, 'hide' this axisPointer.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    var valItem = showValueMap[key];\n\n    if (valItem) {\n      !axisInfo.useHandle && (option.status = 'show');\n      option.value = valItem.value; // For label formatter param and highlight.\n\n      option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n    } // When always show (e.g., handle used), remain\n    // original value and status.\n    else {\n        // If hide, value still need to be set, consider\n        // click legend to toggle axis blank.\n        !axisInfo.useHandle && (option.status = 'hide');\n      } // If status is 'hide', should be no info in payload.\n\n\n    option.status === 'show' && outputAxesInfo.push({\n      axisDim: axisInfo.axis.dim,\n      axisIndex: axisInfo.axis.model.componentIndex,\n      value: option.value\n    });\n  });\n}\n\nfunction dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n  // Basic logic: If no showTip required, hideTip will be dispatched.\n  if (illegalPoint(point) || !dataByCoordSys.list.length) {\n    dispatchAction({\n      type: 'hideTip'\n    });\n    return;\n  } // In most case only one axis (or event one series is used). It is\n  // convinient to fetch payload.seriesIndex and payload.dataIndex\n  // dirtectly. So put the first seriesIndex and dataIndex of the first\n  // axis on the payload.\n\n\n  var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n  dispatchAction({\n    type: 'showTip',\n    escapeConnect: true,\n    x: point[0],\n    y: point[1],\n    tooltipOption: payload.tooltipOption,\n    position: payload.position,\n    dataIndexInside: sampleItem.dataIndexInside,\n    dataIndex: sampleItem.dataIndex,\n    seriesIndex: sampleItem.seriesIndex,\n    dataByCoordSys: dataByCoordSys.list\n  });\n}\n\nfunction dispatchHighDownActually(axesInfo, dispatchAction, api) {\n  // FIXME\n  // highlight status modification shoule be a stage of main process?\n  // (Consider confilct (e.g., legend and axisPointer) and setOption)\n  var zr = api.getZr();\n  var highDownKey = 'axisPointerLastHighlights';\n  var lastHighlights = inner(zr)[highDownKey] || {};\n  var newHighlights = inner(zr)[highDownKey] = {}; // Update highlight/downplay status according to axisPointer model.\n  // Build hash map and remove duplicate incidentally.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    option.status === 'show' && each(option.seriesDataIndices, function (batchItem) {\n      var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n      newHighlights[key] = batchItem;\n    });\n  }); // Diff.\n\n  var toHighlight = [];\n  var toDownplay = [];\n  zrUtil.each(lastHighlights, function (batchItem, key) {\n    !newHighlights[key] && toDownplay.push(batchItem);\n  });\n  zrUtil.each(newHighlights, function (batchItem, key) {\n    !lastHighlights[key] && toHighlight.push(batchItem);\n  });\n  toDownplay.length && api.dispatchAction({\n    type: 'downplay',\n    escapeConnect: true,\n    batch: toDownplay\n  });\n  toHighlight.length && api.dispatchAction({\n    type: 'highlight',\n    escapeConnect: true,\n    batch: toHighlight\n  });\n}\n\nfunction findInputAxisInfo(inputAxesInfo, axisInfo) {\n  for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n    var inputAxisInfo = inputAxesInfo[i];\n\n    if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n      return inputAxisInfo;\n    }\n  }\n}\n\nfunction makeMapperParam(axisInfo) {\n  var axisModel = axisInfo.axis.model;\n  var item = {};\n  var dim = item.axisDim = axisInfo.axis.dim;\n  item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n  item.axisName = item[dim + 'AxisName'] = axisModel.name;\n  item.axisId = item[dim + 'AxisId'] = axisModel.id;\n  return item;\n}\n\nfunction illegalPoint(point) {\n  return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n}\n\nmodule.exports = _default;","var logError = require(\"../core/log\");\n\nvar vmlCore = require(\"./core\");\n\nvar _util = require(\"../core/util\");\n\nvar each = _util.each;\n\n/**\n * VML Painter.\n *\n * @module zrender/vml/Painter\n */\nfunction parseInt10(val) {\n  return parseInt(val, 10);\n}\n/**\n * @alias module:zrender/vml/Painter\n */\n\n\nfunction VMLPainter(root, storage) {\n  vmlCore.initVML();\n  this.root = root;\n  this.storage = storage;\n  var vmlViewport = document.createElement('div');\n  var vmlRoot = document.createElement('div');\n  vmlViewport.style.cssText = 'display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;';\n  vmlRoot.style.cssText = 'position:absolute;left:0;top:0;';\n  root.appendChild(vmlViewport);\n  this._vmlRoot = vmlRoot;\n  this._vmlViewport = vmlViewport;\n  this.resize(); // Modify storage\n\n  var oldDelFromStorage = storage.delFromStorage;\n  var oldAddToStorage = storage.addToStorage;\n\n  storage.delFromStorage = function (el) {\n    oldDelFromStorage.call(storage, el);\n\n    if (el) {\n      el.onRemove && el.onRemove(vmlRoot);\n    }\n  };\n\n  storage.addToStorage = function (el) {\n    // Displayable already has a vml node\n    el.onAdd && el.onAdd(vmlRoot);\n    oldAddToStorage.call(storage, el);\n  };\n\n  this._firstPaint = true;\n}\n\nVMLPainter.prototype = {\n  constructor: VMLPainter,\n  getType: function () {\n    return 'vml';\n  },\n\n  /**\n   * @return {HTMLDivElement}\n   */\n  getViewportRoot: function () {\n    return this._vmlViewport;\n  },\n  getViewportRootOffset: function () {\n    var viewportRoot = this.getViewportRoot();\n\n    if (viewportRoot) {\n      return {\n        offsetLeft: viewportRoot.offsetLeft || 0,\n        offsetTop: viewportRoot.offsetTop || 0\n      };\n    }\n  },\n\n  /**\n   * \n   */\n  refresh: function () {\n    var list = this.storage.getDisplayList(true, true);\n\n    this._paintList(list);\n  },\n  _paintList: function (list) {\n    var vmlRoot = this._vmlRoot;\n\n    for (var i = 0; i < list.length; i++) {\n      var el = list[i];\n\n      if (el.invisible || el.ignore) {\n        if (!el.__alreadyNotVisible) {\n          el.onRemove(vmlRoot);\n        } // Set as already invisible\n\n\n        el.__alreadyNotVisible = true;\n      } else {\n        if (el.__alreadyNotVisible) {\n          el.onAdd(vmlRoot);\n        }\n\n        el.__alreadyNotVisible = false;\n\n        if (el.__dirty) {\n          el.beforeBrush && el.beforeBrush();\n          (el.brushVML || el.brush).call(el, vmlRoot);\n          el.afterBrush && el.afterBrush();\n        }\n      }\n\n      el.__dirty = false;\n    }\n\n    if (this._firstPaint) {\n      // Detached from document at first time\n      // to avoid page refreshing too many times\n      // FIXME  removeChild \n      this._vmlViewport.appendChild(vmlRoot);\n\n      this._firstPaint = false;\n    }\n  },\n  resize: function (width, height) {\n    var width = width == null ? this._getWidth() : width;\n    var height = height == null ? this._getHeight() : height;\n\n    if (this._width !== width || this._height !== height) {\n      this._width = width;\n      this._height = height;\n      var vmlViewportStyle = this._vmlViewport.style;\n      vmlViewportStyle.width = width + 'px';\n      vmlViewportStyle.height = height + 'px';\n    }\n  },\n  dispose: function () {\n    this.root.innerHTML = '';\n    this._vmlRoot = this._vmlViewport = this.storage = null;\n  },\n  getWidth: function () {\n    return this._width;\n  },\n  getHeight: function () {\n    return this._height;\n  },\n  clear: function () {\n    if (this._vmlViewport) {\n      this.root.removeChild(this._vmlViewport);\n    }\n  },\n  _getWidth: function () {\n    var root = this.root;\n    var stl = root.currentStyle;\n    return (root.clientWidth || parseInt10(stl.width)) - parseInt10(stl.paddingLeft) - parseInt10(stl.paddingRight) | 0;\n  },\n  _getHeight: function () {\n    var root = this.root;\n    var stl = root.currentStyle;\n    return (root.clientHeight || parseInt10(stl.height)) - parseInt10(stl.paddingTop) - parseInt10(stl.paddingBottom) | 0;\n  }\n}; // Not supported methods\n\nfunction createMethodNotSupport(method) {\n  return function () {\n    logError('In IE8.0 VML mode painter not support method \"' + method + '\"');\n  };\n} // Unsupported methods\n\n\neach(['getLayer', 'insertLayer', 'eachLayer', 'eachBuiltinLayer', 'eachOtherLayer', 'getLayers', 'modLayer', 'delLayer', 'clearLayer', 'toDataURL', 'pathToImage'], function (name) {\n  VMLPainter.prototype[name] = createMethodNotSupport(name);\n});\nvar _default = VMLPainter;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(option) {\n  if (!option || !zrUtil.isArray(option.series)) {\n    return;\n  } // Translate 'k' to 'candlestick'.\n\n\n  zrUtil.each(option.series, function (seriesItem) {\n    if (zrUtil.isObject(seriesItem) && seriesItem.type === 'k') {\n      seriesItem.type = 'candlestick';\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar visualDefault = require(\"../../visual/visualDefault\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar numberUtil = require(\"../../util/number\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\nvar noop = zrUtil.noop;\nvar VisualMapModel = echarts.extendComponentModel({\n  type: 'visualMap',\n  dependencies: ['series'],\n\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  stateList: ['inRange', 'outOfRange'],\n\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  replacableOptionKeys: ['inRange', 'outOfRange', 'target', 'controller', 'color'],\n\n  /**\n   * [lowerBound, upperBound]\n   *\n   * @readOnly\n   * @type {Array.<number>}\n   */\n  dataBound: [-Infinity, Infinity],\n\n  /**\n   * @readOnly\n   * @type {string|Object}\n   */\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    show: true,\n    zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    // 'all' or null/undefined: all series.\n    // A number or an array of number: the specified series.\n    // set min: 0, max: 200, only for campatible with ec2.\n    // In fact min max should not have default value.\n    min: 0,\n    // min value, must specified if pieces is not specified.\n    max: 200,\n    // max value, must specified if pieces is not specified.\n    dimension: null,\n    inRange: null,\n    // 'color', 'colorHue', 'colorSaturation', 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    outOfRange: null,\n    // 'color', 'colorHue', 'colorSaturation',\n    // 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    left: 0,\n    // 'center'  'left'  'right'  {number} (px)\n    right: null,\n    // The same as left.\n    top: null,\n    // 'top'  'bottom'  'center'  {number} (px)\n    bottom: 0,\n    // The same as top.\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    // 'horizontal'  'vertical'\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    // \n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    // px0\n    padding: 5,\n    // px5\n    // css\n    textGap: 10,\n    //\n    precision: 0,\n    // 0\n    color: null,\n    //deprecatedec2piecesinRange/outOfRange\n    formatter: null,\n    text: null,\n    // ['', '']ec2text[0]text[1]\n    textStyle: {\n      color: '#333' // \n\n    }\n  },\n\n  /**\n   * @protected\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n    this._dataExtent;\n    /**\n     * @readOnly\n     */\n\n    this.targetVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.controllerVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * [width, height]\n     * @readOnly\n     * @type {Array.<number>}\n     */\n\n    this.itemSize;\n    this.mergeDefaultAndTheme(option, ecModel);\n  },\n\n  /**\n   * @protected\n   */\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option; // FIXME\n    // necessary?\n    // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  },\n\n  /**\n   * @protected\n   */\n  resetVisual: function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  },\n\n  /**\n   * @protected\n   * @return {Array.<number>} An array of series indices.\n   */\n  getTargetSeriesIndices: function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n\n    return seriesIndices;\n  },\n\n  /**\n   * @public\n   */\n  eachTargetSeries: function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      callback.call(context, this.ecModel.getSeriesByIndex(seriesIndex));\n    }, this);\n  },\n\n  /**\n   * @pubilc\n   */\n  isTargetSeries: function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  },\n\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param {number|Array.<number>} value Real value, or this.dataBound[0 or 1].\n   * @param {boolean} [isCategory=false] Only available when value is number.\n   * @param {Array.<string>} edgeSymbols Open-close symbol when value is interval.\n   * @return {string}\n   * @protected\n   */\n  formatValueText: function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    var textValue;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n\n    textValue = isCategory ? value : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  },\n\n  /**\n   * @protected\n   */\n  resetExtent: function () {\n    var thisOption = this.option; // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  },\n\n  /**\n   * @public\n   * @param {module:echarts/data/List} list\n   * @return {string} Concrete dimention. If return null/undefined,\n   *                  no dimension used.\n   */\n  getDataDimension: function (list) {\n    var optDim = this.option.dimension;\n    var listDimensions = list.dimensions;\n\n    if (optDim == null && !listDimensions.length) {\n      return;\n    }\n\n    if (optDim != null) {\n      return list.getDimension(optDim);\n    }\n\n    var dimNames = list.dimensions;\n\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = list.getDimensionInfo(dimName);\n\n      if (!dimInfo.isCalculationCoord) {\n        return dimName;\n      }\n    }\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  getExtent: function () {\n    return this._dataExtent.slice();\n  },\n\n  /**\n   * @protected\n   */\n  completeVisualOption: function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n\n    zrUtil.merge(controller, base); // Do not override\n\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange'); // completeInactive.call(this, target, 'outOfRange', 'inRange');\n\n    completeController.call(this, controller);\n\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color) // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      } // Compatible with previous logic, always give a defautl color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the default color, set inRange: {color: null}.\n\n\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      }; // If using shortcut like: {inRange: 'symbol'}, complete default value.\n\n      each(this.stateList, function (state) {\n        var visualType = base[state];\n\n        if (zrUtil.isString(visualType)) {\n          var defa = visualDefault.get(visualType, 'active', isCategory);\n\n          if (defa) {\n            base[state] = {};\n            base[state][visualType] = defa;\n          } else {\n            // Mark as not specified.\n            delete base[state];\n          }\n        }\n      }, this);\n    }\n\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n\n          if (defa != null) {\n            optAbsent[visualType] = defa; // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state]; // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        } // Consistent symbol and symbolSize if not specified.\n\n\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? 'roundRect' : ['roundRect']);\n        }\n\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        } // Filter square and none.\n\n\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' || symbol === 'square' ? 'roundRect' : symbol;\n        }); // Normalize symbolSize\n\n        var symbolSize = visuals.symbolSize;\n\n        if (symbolSize != null) {\n          var max = -Infinity; // symbolSize can be object when categories defined.\n\n          eachVisual(symbolSize, function (value) {\n            value > max && (max = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  resetItemSize: function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  },\n\n  /**\n   * @public\n   */\n  isCategory: function () {\n    return !!this.option.categories;\n  },\n\n  /**\n   * @public\n   * @abstract\n   */\n  setSelected: noop,\n\n  /**\n   * @public\n   * @abstract\n   * @param {*|module:echarts/data/List} valueOrData\n   * @param {number} dataIndex\n   * @return {string} state See this.stateList\n   */\n  getValueState: noop,\n\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param {Function} getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n  getVisualMeta: noop\n});\nvar _default = VisualMapModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  return zrUtil.map(['Radius', 'Angle'], function (dim, dimIdx) {\n    var axis = this['get' + dim + 'Axis']();\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var method = 'dataTo' + dim;\n    var result = axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis[method](val - halfSize) - axis[method](val + halfSize));\n\n    if (dim === 'Angle') {\n      result = result * Math.PI / 180;\n    }\n\n    return result;\n  }, this);\n}\n\nfunction _default(coordSys) {\n  var radiusAxis = coordSys.getRadiusAxis();\n  var angleAxis = coordSys.getAngleAxis();\n  var radius = radiusAxis.getExtent();\n  radius[0] > radius[1] && radius.reverse();\n  return {\n    coordSys: {\n      type: 'polar',\n      cx: coordSys.cx,\n      cy: coordSys.cy,\n      r: radius[1],\n      r0: radius[0]\n    },\n    api: {\n      coord: zrUtil.bind(function (data) {\n        var radius = radiusAxis.dataToRadius(data[0]);\n        var angle = angleAxis.dataToAngle(data[1]);\n        var coord = coordSys.coordToPoint([radius, angle]);\n        coord.push(radius, angle * Math.PI / 180);\n        return coord;\n      }),\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param {number} delta Move length.\n * @param {Array.<number>} handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param {Array.<number>} extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param {number|string} handleIndex Can be 'all', means that both move the two handleEnds.\n * @param {number} [minSpan] The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param {number} [maxSpan] The range of dataZoom can not be larger than that.\n * @return {Array.<number>} The input handleEnds.\n */\nfunction _default(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\n\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta; // Restrict in extent.\n\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  } // Shrink span.\n\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n\n  return handleEnds;\n}\n\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\n\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./line/LineSeries\");\n\nrequire(\"./line/LineView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\nvar dataSample = require(\"../processor/dataSample\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerVisual(visualSymbol('line', 'circle', 'line'));\necharts.registerLayout(layoutPoints('line')); // Down sample after filter\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./tree/TreeSeries\");\n\nrequire(\"./tree/TreeView\");\n\nrequire(\"./tree/treeAction\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar treeLayout = require(\"./tree/treeLayout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerVisual(visualSymbol('tree', 'circle'));\necharts.registerLayout(treeLayout);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar Axis2D = function (dim, scale, coordExtent, axisType, position) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * Axis position\n   *  - 'top'\n   *  - 'bottom'\n   *  - 'left'\n   *  - 'right'\n   */\n\n  this.position = position || 'bottom';\n};\n\nAxis2D.prototype = {\n  constructor: Axis2D,\n\n  /**\n   * Index of axis, can be used as key\n   */\n  index: 0,\n\n  /**\n   * Implemented in <module:echarts/coord/cartesian/Grid>.\n   * @return {Array.<module:echarts/coord/cartesian/Axis2D>}\n   *         If not on zero of other axis, return null/undefined.\n   *         If no axes, return an empty array.\n   */\n  getAxesOnZeroOf: null,\n\n  /**\n   * Axis model\n   * @param {module:echarts/coord/cartesian/AxisModel}\n   */\n  model: null,\n  isHorizontal: function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  },\n\n  /**\n   * Each item cooresponds to this.getExtent(), which\n   * means globalExtent[0] may greater than globalExtent[1],\n   * unless `asc` is input.\n   *\n   * @param {boolean} [asc]\n   * @return {Array.<number>}\n   */\n  getGlobalExtent: function (asc) {\n    var ret = this.getExtent();\n    ret[0] = this.toGlobalCoord(ret[0]);\n    ret[1] = this.toGlobalCoord(ret[1]);\n    asc && ret[0] > ret[1] && ret.reverse();\n    return ret;\n  },\n  getOtherAxis: function () {\n    this.grid.getOtherAxis();\n  },\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n  },\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var localCoord = axis.toLocalCoord(80);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toLocalCoord: null,\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var globalCoord = axis.toLocalCoord(40);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toGlobalCoord: null\n};\nzrUtil.inherits(Axis2D, Axis);\nvar _default = Axis2D;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\n\nfunction _default(ecModel) {\n  var groupResult = groupSeriesByAxis(ecModel);\n  each(groupResult, function (groupItem) {\n    var seriesModels = groupItem.seriesModels;\n\n    if (!seriesModels.length) {\n      return;\n    }\n\n    calculateBase(groupItem);\n    each(seriesModels, function (seriesModel, idx) {\n      layoutSingleSeries(seriesModel, groupItem.boxOffsetList[idx], groupItem.boxWidthList[idx]);\n    });\n  });\n}\n/**\n * Group series by axis.\n */\n\n\nfunction groupSeriesByAxis(ecModel) {\n  var result = [];\n  var axisList = [];\n  ecModel.eachSeriesByType('boxplot', function (seriesModel) {\n    var baseAxis = seriesModel.getBaseAxis();\n    var idx = zrUtil.indexOf(axisList, baseAxis);\n\n    if (idx < 0) {\n      idx = axisList.length;\n      axisList[idx] = baseAxis;\n      result[idx] = {\n        axis: baseAxis,\n        seriesModels: []\n      };\n    }\n\n    result[idx].seriesModels.push(seriesModel);\n  });\n  return result;\n}\n/**\n * Calculate offset and box width for each series.\n */\n\n\nfunction calculateBase(groupItem) {\n  var extent;\n  var baseAxis = groupItem.axis;\n  var seriesModels = groupItem.seriesModels;\n  var seriesCount = seriesModels.length;\n  var boxWidthList = groupItem.boxWidthList = [];\n  var boxOffsetList = groupItem.boxOffsetList = [];\n  var boundList = [];\n  var bandWidth;\n\n  if (baseAxis.type === 'category') {\n    bandWidth = baseAxis.getBandWidth();\n  } else {\n    var maxDataCount = 0;\n    each(seriesModels, function (seriesModel) {\n      maxDataCount = Math.max(maxDataCount, seriesModel.getData().count());\n    });\n    extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / maxDataCount;\n  }\n\n  each(seriesModels, function (seriesModel) {\n    var boxWidthBound = seriesModel.get('boxWidth');\n\n    if (!zrUtil.isArray(boxWidthBound)) {\n      boxWidthBound = [boxWidthBound, boxWidthBound];\n    }\n\n    boundList.push([parsePercent(boxWidthBound[0], bandWidth) || 0, parsePercent(boxWidthBound[1], bandWidth) || 0]);\n  });\n  var availableWidth = bandWidth * 0.8 - 2;\n  var boxGap = availableWidth / seriesCount * 0.3;\n  var boxWidth = (availableWidth - boxGap * (seriesCount - 1)) / seriesCount;\n  var base = boxWidth / 2 - availableWidth / 2;\n  each(seriesModels, function (seriesModel, idx) {\n    boxOffsetList.push(base);\n    base += boxGap + boxWidth;\n    boxWidthList.push(Math.min(Math.max(boxWidth, boundList[idx][0]), boundList[idx][1]));\n  });\n}\n/**\n * Calculate points location for each series.\n */\n\n\nfunction layoutSingleSeries(seriesModel, offset, boxWidth) {\n  var coordSys = seriesModel.coordinateSystem;\n  var data = seriesModel.getData();\n  var halfWidth = boxWidth / 2;\n  var cDimIdx = seriesModel.get('layout') === 'horizontal' ? 0 : 1;\n  var vDimIdx = 1 - cDimIdx;\n  var coordDims = ['x', 'y'];\n  var cDim = data.mapDimension(coordDims[cDimIdx]);\n  var vDims = data.mapDimension(coordDims[vDimIdx], true);\n\n  if (cDim == null || vDims.length < 5) {\n    return;\n  }\n\n  for (var dataIndex = 0; dataIndex < data.count(); dataIndex++) {\n    var axisDimVal = data.get(cDim, dataIndex);\n    var median = getPoint(axisDimVal, vDims[2], dataIndex);\n    var end1 = getPoint(axisDimVal, vDims[0], dataIndex);\n    var end2 = getPoint(axisDimVal, vDims[1], dataIndex);\n    var end4 = getPoint(axisDimVal, vDims[3], dataIndex);\n    var end5 = getPoint(axisDimVal, vDims[4], dataIndex);\n    var ends = [];\n    addBodyEnd(ends, end2, 0);\n    addBodyEnd(ends, end4, 1);\n    ends.push(end1, end2, end5, end4);\n    layEndLine(ends, end1);\n    layEndLine(ends, end5);\n    layEndLine(ends, median);\n    data.setItemLayout(dataIndex, {\n      initBaseline: median[vDimIdx],\n      ends: ends\n    });\n  }\n\n  function getPoint(axisDimVal, dimIdx, dataIndex) {\n    var val = data.get(dimIdx, dataIndex);\n    var p = [];\n    p[cDimIdx] = axisDimVal;\n    p[vDimIdx] = val;\n    var point;\n\n    if (isNaN(axisDimVal) || isNaN(val)) {\n      point = [NaN, NaN];\n    } else {\n      point = coordSys.dataToPoint(p);\n      point[cDimIdx] += offset;\n    }\n\n    return point;\n  }\n\n  function addBodyEnd(ends, point, start) {\n    var point1 = point.slice();\n    var point2 = point.slice();\n    point1[cDimIdx] += halfWidth;\n    point2[cDimIdx] -= halfWidth;\n    start ? ends.push(point1, point2) : ends.push(point2, point1);\n  }\n\n  function layEndLine(ends, endCenter) {\n    var from = endCenter.slice();\n    var to = endCenter.slice();\n    from[cDimIdx] -= halfWidth;\n    to[cDimIdx] += halfWidth;\n    ends.push(from, to);\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar List = require(\"../../data/List\");\n\nvar modelUtil = require(\"../../util/model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar TimelineModel = ComponentModel.extend({\n  type: 'timeline',\n  layoutMode: 'box',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 4,\n    // \n    show: true,\n    axisType: 'time',\n    //  value, category\n    realtime: true,\n    left: '20%',\n    top: null,\n    right: '20%',\n    bottom: 0,\n    width: null,\n    height: 40,\n    padding: 5,\n    controlPosition: 'left',\n    // 'left' 'right' 'top' 'bottom' 'none'\n    autoPlay: false,\n    rewind: false,\n    // \n    loop: true,\n    playInterval: 2000,\n    // ms\n    currentIndex: 0,\n    itemStyle: {},\n    label: {\n      color: '#000'\n    },\n    data: []\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * @private\n     * @type {module:echarts/data/List}\n     */\n    this._data;\n    /**\n     * @private\n     * @type {Array.<string>}\n     */\n\n    this._names;\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._initData();\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (option) {\n    TimelineModel.superApply(this, 'mergeOption', arguments);\n\n    this._initData();\n  },\n\n  /**\n   * @param {number} [currentIndex]\n   */\n  setCurrentIndex: function (currentIndex) {\n    if (currentIndex == null) {\n      currentIndex = this.option.currentIndex;\n    }\n\n    var count = this._data.count();\n\n    if (this.option.loop) {\n      currentIndex = (currentIndex % count + count) % count;\n    } else {\n      currentIndex >= count && (currentIndex = count - 1);\n      currentIndex < 0 && (currentIndex = 0);\n    }\n\n    this.option.currentIndex = currentIndex;\n  },\n\n  /**\n   * @return {number} currentIndex\n   */\n  getCurrentIndex: function () {\n    return this.option.currentIndex;\n  },\n\n  /**\n   * @return {boolean}\n   */\n  isIndexMax: function () {\n    return this.getCurrentIndex() >= this._data.count() - 1;\n  },\n\n  /**\n   * @param {boolean} state true: play, false: stop\n   */\n  setPlayState: function (state) {\n    this.option.autoPlay = !!state;\n  },\n\n  /**\n   * @return {boolean} true: play, false: stop\n   */\n  getPlayState: function () {\n    return !!this.option.autoPlay;\n  },\n\n  /**\n   * @private\n   */\n  _initData: function () {\n    var thisOption = this.option;\n    var dataArr = thisOption.data || [];\n    var axisType = thisOption.axisType;\n    var names = this._names = [];\n\n    if (axisType === 'category') {\n      var idxArr = [];\n      zrUtil.each(dataArr, function (item, index) {\n        var value = modelUtil.getDataItemValue(item);\n        var newItem;\n\n        if (zrUtil.isObject(item)) {\n          newItem = zrUtil.clone(item);\n          newItem.value = index;\n        } else {\n          newItem = index;\n        }\n\n        idxArr.push(newItem);\n\n        if (!zrUtil.isString(value) && (value == null || isNaN(value))) {\n          value = '';\n        }\n\n        names.push(value + '');\n      });\n      dataArr = idxArr;\n    }\n\n    var dimType = {\n      category: 'ordinal',\n      time: 'time'\n    }[axisType] || 'number';\n    var data = this._data = new List([{\n      name: 'value',\n      type: dimType\n    }], this);\n    data.initData(dataArr, names);\n  },\n  getData: function () {\n    return this._data;\n  },\n\n  /**\n   * @public\n   * @return {Array.<string>} categoreis\n   */\n  getCategories: function () {\n    if (this.get('axisType') === 'category') {\n      return this._names.slice();\n    }\n  }\n});\nvar _default = TimelineModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} opt {labelInside}\n * @return {Object} {\n *  position, rotation, labelDirection, labelOffset,\n *  tickDirection, labelRotate, z2\n * }\n */\nfunction layout(axisModel, opt) {\n  opt = opt || {};\n  var single = axisModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var axisPosition = axis.position;\n  var orient = axis.orient;\n  var rect = single.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var positionMap = {\n    horizontal: {\n      top: rectBound[2],\n      bottom: rectBound[3]\n    },\n    vertical: {\n      left: rectBound[0],\n      right: rectBound[1]\n    }\n  };\n  layout.position = [orient === 'vertical' ? positionMap.vertical[axisPosition] : rectBound[0], orient === 'horizontal' ? positionMap.horizontal[axisPosition] : rectBound[3]];\n  var r = {\n    horizontal: 0,\n    vertical: 1\n  };\n  layout.rotation = Math.PI / 2 * r[orient];\n  var directionMap = {\n    top: -1,\n    bottom: 1,\n    right: 1,\n    left: -1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = directionMap[axisPosition];\n\n  if (axisModel.get('axisTick.inside')) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n    layout.labelDirection = -layout.labelDirection;\n  }\n\n  var labelRotation = opt.rotate;\n  labelRotation == null && (labelRotation = axisModel.get('axisLabel.rotate'));\n  layout.labelRotation = axisPosition === 'top' ? -labelRotation : labelRotation;\n  layout.z2 = 1;\n  return layout;\n}\n\nexports.layout = layout;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar numberUtil = require(\"../../util/number\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar MONTH_TEXT = {\n  EN: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  CN: ['', '', '', '', '', '', '', '', '', '', '', '']\n};\nvar WEEK_TEXT = {\n  EN: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  CN: ['', '', '', '', '', '', '']\n};\n\nvar _default = echarts.extendComponentView({\n  type: 'calendar',\n\n  /**\n   * top/left line points\n   *  @private\n   */\n  _tlpoints: null,\n\n  /**\n   * bottom/right line points\n   *  @private\n   */\n  _blpoints: null,\n\n  /**\n   * first day of month\n   *  @private\n   */\n  _firstDayOfMonth: null,\n\n  /**\n   * first day point of month\n   *  @private\n   */\n  _firstDayPoints: null,\n  render: function (calendarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var coordSys = calendarModel.coordinateSystem; // range info\n\n    var rangeData = coordSys.getRangeInfo();\n    var orient = coordSys.getOrient();\n\n    this._renderDayRect(calendarModel, rangeData, group); // _renderLines must be called prior to following function\n\n\n    this._renderLines(calendarModel, rangeData, orient, group);\n\n    this._renderYearText(calendarModel, rangeData, orient, group);\n\n    this._renderMonthText(calendarModel, orient, group);\n\n    this._renderWeekText(calendarModel, rangeData, orient, group);\n  },\n  // render day rect\n  _renderDayRect: function (calendarModel, rangeData, group) {\n    var coordSys = calendarModel.coordinateSystem;\n    var itemRectStyleModel = calendarModel.getModel('itemStyle').getItemStyle();\n    var sw = coordSys.getCellWidth();\n    var sh = coordSys.getCellHeight();\n\n    for (var i = rangeData.start.time; i <= rangeData.end.time; i = coordSys.getNextNDay(i, 1).time) {\n      var point = coordSys.dataToRect([i], false).tl; // every rect\n\n      var rect = new graphic.Rect({\n        shape: {\n          x: point[0],\n          y: point[1],\n          width: sw,\n          height: sh\n        },\n        cursor: 'default',\n        style: itemRectStyleModel\n      });\n      group.add(rect);\n    }\n  },\n  // render separate line\n  _renderLines: function (calendarModel, rangeData, orient, group) {\n    var self = this;\n    var coordSys = calendarModel.coordinateSystem;\n    var lineStyleModel = calendarModel.getModel('splitLine.lineStyle').getLineStyle();\n    var show = calendarModel.get('splitLine.show');\n    var lineWidth = lineStyleModel.lineWidth;\n    this._tlpoints = [];\n    this._blpoints = [];\n    this._firstDayOfMonth = [];\n    this._firstDayPoints = [];\n    var firstDay = rangeData.start;\n\n    for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n      addPoints(firstDay.formatedDate);\n\n      if (i === 0) {\n        firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n      }\n\n      var date = firstDay.date;\n      date.setMonth(date.getMonth() + 1);\n      firstDay = coordSys.getDateInfo(date);\n    }\n\n    addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n\n    function addPoints(date) {\n      self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n\n      self._firstDayPoints.push(coordSys.dataToRect([date], false).tl);\n\n      var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n\n      self._tlpoints.push(points[0]);\n\n      self._blpoints.push(points[points.length - 1]);\n\n      show && self._drawSplitline(points, lineStyleModel, group);\n    } // render top/left line\n\n\n    show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group); // render bottom/right line\n\n    show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n  },\n  // get points at both ends\n  _getEdgesPoints: function (points, lineWidth, orient) {\n    var rs = [points[0].slice(), points[points.length - 1].slice()];\n    var idx = orient === 'horizontal' ? 0 : 1; // both ends of the line are extend half lineWidth\n\n    rs[0][idx] = rs[0][idx] - lineWidth / 2;\n    rs[1][idx] = rs[1][idx] + lineWidth / 2;\n    return rs;\n  },\n  // render split line\n  _drawSplitline: function (points, lineStyleModel, group) {\n    var poyline = new graphic.Polyline({\n      z2: 20,\n      shape: {\n        points: points\n      },\n      style: lineStyleModel\n    });\n    group.add(poyline);\n  },\n  // render month line of one week points\n  _getLinePointsOfOneWeek: function (calendarModel, date, orient) {\n    var coordSys = calendarModel.coordinateSystem;\n    date = coordSys.getDateInfo(date);\n    var points = [];\n\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(date.time, i);\n      var point = coordSys.dataToRect([tmpD.time], false);\n      points[2 * tmpD.day] = point.tl;\n      points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n    }\n\n    return points;\n  },\n  _formatterLabel: function (formatter, params) {\n    if (typeof formatter === 'string' && formatter) {\n      return formatUtil.formatTplSimple(formatter, params);\n    }\n\n    if (typeof formatter === 'function') {\n      return formatter(params);\n    }\n\n    return params.nameMap;\n  },\n  _yearTextPositionControl: function (textEl, point, orient, position, margin) {\n    point = point.slice();\n    var aligns = ['center', 'bottom'];\n\n    if (position === 'bottom') {\n      point[1] += margin;\n      aligns = ['center', 'top'];\n    } else if (position === 'left') {\n      point[0] -= margin;\n    } else if (position === 'right') {\n      point[0] += margin;\n      aligns = ['center', 'top'];\n    } else {\n      // top\n      point[1] -= margin;\n    }\n\n    var rotate = 0;\n\n    if (position === 'left' || position === 'right') {\n      rotate = Math.PI / 2;\n    }\n\n    return {\n      rotation: rotate,\n      position: point,\n      style: {\n        textAlign: aligns[0],\n        textVerticalAlign: aligns[1]\n      }\n    };\n  },\n  // render year\n  _renderYearText: function (calendarModel, rangeData, orient, group) {\n    var yearLabel = calendarModel.getModel('yearLabel');\n\n    if (!yearLabel.get('show')) {\n      return;\n    }\n\n    var margin = yearLabel.get('margin');\n    var pos = yearLabel.get('position');\n\n    if (!pos) {\n      pos = orient !== 'horizontal' ? 'top' : 'left';\n    }\n\n    var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n    var xc = (points[0][0] + points[1][0]) / 2;\n    var yc = (points[0][1] + points[1][1]) / 2;\n    var idx = orient === 'horizontal' ? 0 : 1;\n    var posPoints = {\n      top: [xc, points[idx][1]],\n      bottom: [xc, points[1 - idx][1]],\n      left: [points[1 - idx][0], yc],\n      right: [points[idx][0], yc]\n    };\n    var name = rangeData.start.y;\n\n    if (+rangeData.end.y > +rangeData.start.y) {\n      name = name + '-' + rangeData.end.y;\n    }\n\n    var formatter = yearLabel.get('formatter');\n    var params = {\n      start: rangeData.start.y,\n      end: rangeData.end.y,\n      nameMap: name\n    };\n\n    var content = this._formatterLabel(formatter, params);\n\n    var yearText = new graphic.Text({\n      z2: 30\n    });\n    graphic.setTextStyle(yearText.style, yearLabel, {\n      text: content\n    }), yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n    group.add(yearText);\n  },\n  _monthTextPositionControl: function (point, isCenter, orient, position, margin) {\n    var align = 'left';\n    var vAlign = 'top';\n    var x = point[0];\n    var y = point[1];\n\n    if (orient === 'horizontal') {\n      y = y + margin;\n\n      if (isCenter) {\n        align = 'center';\n      }\n\n      if (position === 'start') {\n        vAlign = 'bottom';\n      }\n    } else {\n      x = x + margin;\n\n      if (isCenter) {\n        vAlign = 'middle';\n      }\n\n      if (position === 'start') {\n        align = 'right';\n      }\n    }\n\n    return {\n      x: x,\n      y: y,\n      textAlign: align,\n      textVerticalAlign: vAlign\n    };\n  },\n  // render month and year text\n  _renderMonthText: function (calendarModel, orient, group) {\n    var monthLabel = calendarModel.getModel('monthLabel');\n\n    if (!monthLabel.get('show')) {\n      return;\n    }\n\n    var nameMap = monthLabel.get('nameMap');\n    var margin = monthLabel.get('margin');\n    var pos = monthLabel.get('position');\n    var align = monthLabel.get('align');\n    var termPoints = [this._tlpoints, this._blpoints];\n\n    if (zrUtil.isString(nameMap)) {\n      nameMap = MONTH_TEXT[nameMap.toUpperCase()] || [];\n    }\n\n    var idx = pos === 'start' ? 0 : 1;\n    var axis = orient === 'horizontal' ? 0 : 1;\n    margin = pos === 'start' ? -margin : margin;\n    var isCenter = align === 'center';\n\n    for (var i = 0; i < termPoints[idx].length - 1; i++) {\n      var tmp = termPoints[idx][i].slice();\n      var firstDay = this._firstDayOfMonth[i];\n\n      if (isCenter) {\n        var firstDayPoints = this._firstDayPoints[i];\n        tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n      }\n\n      var formatter = monthLabel.get('formatter');\n      var name = nameMap[+firstDay.m - 1];\n      var params = {\n        yyyy: firstDay.y,\n        yy: (firstDay.y + '').slice(2),\n        MM: firstDay.m,\n        M: +firstDay.m,\n        nameMap: name\n      };\n\n      var content = this._formatterLabel(formatter, params);\n\n      var monthText = new graphic.Text({\n        z2: 30\n      });\n      zrUtil.extend(graphic.setTextStyle(monthText.style, monthLabel, {\n        text: content\n      }), this._monthTextPositionControl(tmp, isCenter, orient, pos, margin));\n      group.add(monthText);\n    }\n  },\n  _weekTextPositionControl: function (point, orient, position, margin, cellSize) {\n    var align = 'center';\n    var vAlign = 'middle';\n    var x = point[0];\n    var y = point[1];\n    var isStart = position === 'start';\n\n    if (orient === 'horizontal') {\n      x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n      align = isStart ? 'right' : 'left';\n    } else {\n      y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n      vAlign = isStart ? 'bottom' : 'top';\n    }\n\n    return {\n      x: x,\n      y: y,\n      textAlign: align,\n      textVerticalAlign: vAlign\n    };\n  },\n  // render weeks\n  _renderWeekText: function (calendarModel, rangeData, orient, group) {\n    var dayLabel = calendarModel.getModel('dayLabel');\n\n    if (!dayLabel.get('show')) {\n      return;\n    }\n\n    var coordSys = calendarModel.coordinateSystem;\n    var pos = dayLabel.get('position');\n    var nameMap = dayLabel.get('nameMap');\n    var margin = dayLabel.get('margin');\n    var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n\n    if (zrUtil.isString(nameMap)) {\n      nameMap = WEEK_TEXT[nameMap.toUpperCase()] || [];\n    }\n\n    var start = coordSys.getNextNDay(rangeData.end.time, 7 - rangeData.lweek).time;\n    var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n    margin = numberUtil.parsePercent(margin, cellSize[orient === 'horizontal' ? 0 : 1]);\n\n    if (pos === 'start') {\n      start = coordSys.getNextNDay(rangeData.start.time, -(7 + rangeData.fweek)).time;\n      margin = -margin;\n    }\n\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(start, i);\n      var point = coordSys.dataToRect([tmpD.time], false).center;\n      var day = i;\n      day = Math.abs((i + firstDayOfWeek) % 7);\n      var weekText = new graphic.Text({\n        z2: 30\n      });\n      zrUtil.extend(graphic.setTextStyle(weekText.style, dayLabel, {\n        text: nameMap[day]\n      }), this._weekTextPositionControl(point, orient, pos, margin, cellSize));\n      group.add(weekText);\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar preprocessor = require(\"./timeline/preprocessor\");\n\nrequire(\"./timeline/typeDefaulter\");\n\nrequire(\"./timeline/timelineAction\");\n\nrequire(\"./timeline/SliderTimelineModel\");\n\nrequire(\"./timeline/SliderTimelineView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n\n  return a;\n}\n\nvar opacityQuery = 'lineStyle.opacity'.split('.');\nvar _default = {\n  seriesType: 'lines',\n  reset: function (seriesModel, ecModel, api) {\n    var symbolType = normalize(seriesModel.get('symbol'));\n    var symbolSize = normalize(seriesModel.get('symbolSize'));\n    var data = seriesModel.getData();\n    data.setVisual('fromSymbol', symbolType && symbolType[0]);\n    data.setVisual('toSymbol', symbolType && symbolType[1]);\n    data.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    data.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    data.setVisual('opacity', seriesModel.get(opacityQuery));\n\n    function dataEach(data, idx) {\n      var itemModel = data.getItemModel(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true));\n      var opacity = itemModel.get(opacityQuery);\n      symbolType[0] && data.setItemVisual(idx, 'fromSymbol', symbolType[0]);\n      symbolType[1] && data.setItemVisual(idx, 'toSymbol', symbolType[1]);\n      symbolSize[0] && data.setItemVisual(idx, 'fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && data.setItemVisual(idx, 'toSymbolSize', symbolSize[1]);\n      data.setItemVisual(idx, 'opacity', opacity);\n    }\n\n    return {\n      dataEach: data.hasItemOption ? dataEach : null\n    };\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Geo = require(\"./Geo\");\n\nvar layout = require(\"../../util/layout\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar geoSourceManager = require(\"./geoSourceManager\");\n\nvar mapDataStorage = require(\"./mapDataStorage\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Resize method bound to the geo\n * @param {module:echarts/coord/geo/GeoModel|module:echarts/chart/map/MapModel} geoModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction resizeGeo(geoModel, api) {\n  var boundingCoords = geoModel.get('boundingCoords');\n\n  if (boundingCoords != null) {\n    var leftTop = boundingCoords[0];\n    var rightBottom = boundingCoords[1];\n\n    if (isNaN(leftTop[0]) || isNaN(leftTop[1]) || isNaN(rightBottom[0]) || isNaN(rightBottom[1])) {} else {\n      this.setBoundingRect(leftTop[0], leftTop[1], rightBottom[0] - leftTop[0], rightBottom[1] - leftTop[1]);\n    }\n  }\n\n  var rect = this.getBoundingRect();\n  var boxLayoutOption;\n  var center = geoModel.get('layoutCenter');\n  var size = geoModel.get('layoutSize');\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  var aspect = rect.width / rect.height * this.aspectScale;\n  var useCenterAndSize = false;\n\n  if (center && size) {\n    center = [numberUtil.parsePercent(center[0], viewWidth), numberUtil.parsePercent(center[1], viewHeight)];\n    size = numberUtil.parsePercent(size, Math.min(viewWidth, viewHeight));\n\n    if (!isNaN(center[0]) && !isNaN(center[1]) && !isNaN(size)) {\n      useCenterAndSize = true;\n    } else {}\n  }\n\n  var viewRect;\n\n  if (useCenterAndSize) {\n    var viewRect = {};\n\n    if (aspect > 1) {\n      // Width is same with size\n      viewRect.width = size;\n      viewRect.height = size / aspect;\n    } else {\n      viewRect.height = size;\n      viewRect.width = size * aspect;\n    }\n\n    viewRect.y = center[1] - viewRect.height / 2;\n    viewRect.x = center[0] - viewRect.width / 2;\n  } else {\n    // Use left/top/width/height\n    boxLayoutOption = geoModel.getBoxLayoutParams(); // 0.75 rate\n\n    boxLayoutOption.aspect = aspect;\n    viewRect = layout.getLayoutRect(boxLayoutOption, {\n      width: viewWidth,\n      height: viewHeight\n    });\n  }\n\n  this.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\n  this.setCenter(geoModel.get('center'));\n  this.setZoom(geoModel.get('zoom'));\n}\n/**\n * @param {module:echarts/coord/Geo} geo\n * @param {module:echarts/model/Model} model\n * @inner\n */\n\n\nfunction setGeoCoords(geo, model) {\n  zrUtil.each(model.get('geoCoord'), function (geoCoord, name) {\n    geo.addGeoCoord(name, geoCoord);\n  });\n}\n\nvar geoCreator = {\n  // For deciding which dimensions to use when creating list data\n  dimensions: Geo.prototype.dimensions,\n  create: function (ecModel, api) {\n    var geoList = []; // FIXME Create each time may be slow\n\n    ecModel.eachComponent('geo', function (geoModel, idx) {\n      var name = geoModel.get('map');\n      var aspectScale = geoModel.get('aspectScale');\n      var invertLongitute = true;\n      var mapRecords = mapDataStorage.retrieveMap(name);\n\n      if (mapRecords && mapRecords[0] && mapRecords[0].type === 'svg') {\n        aspectScale == null && (aspectScale = 1);\n        invertLongitute = false;\n      } else {\n        aspectScale == null && (aspectScale = 0.75);\n      }\n\n      var geo = new Geo(name + idx, name, geoModel.get('nameMap'), invertLongitute);\n      geo.aspectScale = aspectScale;\n      geo.zoomLimit = geoModel.get('scaleLimit');\n      geoList.push(geo);\n      setGeoCoords(geo, geoModel);\n      geoModel.coordinateSystem = geo;\n      geo.model = geoModel; // Inject resize method\n\n      geo.resize = resizeGeo;\n      geo.resize(geoModel, api);\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      var coordSys = seriesModel.get('coordinateSystem');\n\n      if (coordSys === 'geo') {\n        var geoIndex = seriesModel.get('geoIndex') || 0;\n        seriesModel.coordinateSystem = geoList[geoIndex];\n      }\n    }); // If has map series\n\n    var mapModelGroupBySeries = {};\n    ecModel.eachSeriesByType('map', function (seriesModel) {\n      if (!seriesModel.getHostGeoModel()) {\n        var mapType = seriesModel.getMapType();\n        mapModelGroupBySeries[mapType] = mapModelGroupBySeries[mapType] || [];\n        mapModelGroupBySeries[mapType].push(seriesModel);\n      }\n    });\n    zrUtil.each(mapModelGroupBySeries, function (mapSeries, mapType) {\n      var nameMapList = zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('nameMap');\n      });\n      var geo = new Geo(mapType, mapType, zrUtil.mergeAll(nameMapList));\n      geo.zoomLimit = zrUtil.retrieve.apply(null, zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('scaleLimit');\n      }));\n      geoList.push(geo); // Inject resize method\n\n      geo.resize = resizeGeo;\n      geo.aspectScale = mapSeries[0].get('aspectScale');\n      geo.resize(mapSeries[0], api);\n      zrUtil.each(mapSeries, function (singleMapSeries) {\n        singleMapSeries.coordinateSystem = geo;\n        setGeoCoords(geo, singleMapSeries);\n      });\n    });\n    return geoList;\n  },\n\n  /**\n   * Fill given regions array\n   * @param  {Array.<Object>} originRegionArr\n   * @param  {string} mapName\n   * @param  {Object} [nameMap]\n   * @return {Array}\n   */\n  getFilledRegions: function (originRegionArr, mapName, nameMap) {\n    // Not use the original\n    var regionsArr = (originRegionArr || []).slice();\n    var dataNameMap = zrUtil.createHashMap();\n\n    for (var i = 0; i < regionsArr.length; i++) {\n      dataNameMap.set(regionsArr[i].name, regionsArr[i]);\n    }\n\n    var source = geoSourceManager.load(mapName, nameMap);\n    zrUtil.each(source.regions, function (region) {\n      var name = region.name;\n      !dataNameMap.get(name) && regionsArr.push({\n        name: name\n      });\n    });\n    return regionsArr;\n  }\n};\necharts.registerCoordinateSystem('geo', geoCreator);\nvar _default = geoCreator;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* Some formulas were originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment of the method \"step\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nvar scaleAndAdd = vec2.scaleAndAdd; // function adjacentNode(n, e) {\n//     return e.n1 === n ? e.n2 : e.n1;\n// }\n\nfunction forceLayout(nodes, edges, opts) {\n  var rect = opts.rect;\n  var width = rect.width;\n  var height = rect.height;\n  var center = [rect.x + width / 2, rect.y + height / 2]; // var scale = opts.scale || 1;\n\n  var gravity = opts.gravity == null ? 0.1 : opts.gravity; // for (var i = 0; i < edges.length; i++) {\n  //     var e = edges[i];\n  //     var n1 = e.n1;\n  //     var n2 = e.n2;\n  //     n1.edges = n1.edges || [];\n  //     n2.edges = n2.edges || [];\n  //     n1.edges.push(e);\n  //     n2.edges.push(e);\n  // }\n  // Init position\n\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n\n    if (!n.p) {\n      n.p = vec2.create(width * (Math.random() - 0.5) + center[0], height * (Math.random() - 0.5) + center[1]);\n    }\n\n    n.pp = vec2.clone(n.p);\n    n.edges = null;\n  } // Formula in 'Graph Drawing by Force-directed Placement'\n  // var k = scale * Math.sqrt(width * height / nodes.length);\n  // var k2 = k * k;\n\n\n  var initialFriction = opts.friction == null ? 0.6 : opts.friction;\n  var friction = initialFriction;\n  return {\n    warmUp: function () {\n      friction = initialFriction * 0.8;\n    },\n    setFixed: function (idx) {\n      nodes[idx].fixed = true;\n    },\n    setUnfixed: function (idx) {\n      nodes[idx].fixed = false;\n    },\n\n    /**\n     * Some formulas were originally copied from \"d3.js\"\n     * https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/layout/force.js\n     * with some modifications made for this project.\n     * See the license statement at the head of this file.\n     */\n    step: function (cb) {\n      var v12 = [];\n      var nLen = nodes.length;\n\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n\n        if (e.ignoreForceLayout) {\n          continue;\n        }\n\n        var n1 = e.n1;\n        var n2 = e.n2;\n        vec2.sub(v12, n2.p, n1.p);\n        var d = vec2.len(v12) - e.d;\n        var w = n2.w / (n1.w + n2.w);\n\n        if (isNaN(w)) {\n          w = 0;\n        }\n\n        vec2.normalize(v12, v12);\n        !n1.fixed && scaleAndAdd(n1.p, n1.p, v12, w * d * friction);\n        !n2.fixed && scaleAndAdd(n2.p, n2.p, v12, -(1 - w) * d * friction);\n      } // Gravity\n\n\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n\n        if (!n.fixed) {\n          vec2.sub(v12, center, n.p); // var d = vec2.len(v12);\n          // vec2.scale(v12, v12, 1 / d);\n          // var gravityFactor = gravity;\n\n          scaleAndAdd(n.p, n.p, v12, gravity * friction);\n        }\n      } // Repulsive\n      // PENDING\n\n\n      for (var i = 0; i < nLen; i++) {\n        var n1 = nodes[i];\n\n        for (var j = i + 1; j < nLen; j++) {\n          var n2 = nodes[j];\n          vec2.sub(v12, n2.p, n1.p);\n          var d = vec2.len(v12);\n\n          if (d === 0) {\n            // Random repulse\n            vec2.set(v12, Math.random() - 0.5, Math.random() - 0.5);\n            d = 1;\n          }\n\n          var repFact = (n1.rep + n2.rep) / d / d;\n          !n1.fixed && scaleAndAdd(n1.pp, n1.pp, v12, repFact);\n          !n2.fixed && scaleAndAdd(n2.pp, n2.pp, v12, -repFact);\n        }\n      }\n\n      var v = [];\n\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n\n        if (!n.fixed) {\n          vec2.sub(v, n.p, n.pp);\n          scaleAndAdd(n.p, n.p, v, friction);\n          vec2.copy(n.pp, n.p);\n        }\n      }\n\n      friction = friction * 0.992;\n      cb && cb(nodes, edges, friction < 0.01);\n    }\n  };\n}\n\nexports.forceLayout = forceLayout;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// var arrayDiff = require('zrender/src/core/arrayDiff');\n// 'zrender/src/core/arrayDiff' has been used before, but it did\n// not do well in performance when roam with fixed dataZoom window.\n// function convertToIntId(newIdList, oldIdList) {\n//     // Generate int id instead of string id.\n//     // Compare string maybe slow in score function of arrDiff\n//     // Assume id in idList are all unique\n//     var idIndicesMap = {};\n//     var idx = 0;\n//     for (var i = 0; i < newIdList.length; i++) {\n//         idIndicesMap[newIdList[i]] = idx;\n//         newIdList[i] = idx++;\n//     }\n//     for (var i = 0; i < oldIdList.length; i++) {\n//         var oldId = oldIdList[i];\n//         // Same with newIdList\n//         if (idIndicesMap[oldId]) {\n//             oldIdList[i] = idIndicesMap[oldId];\n//         }\n//         else {\n//             oldIdList[i] = idx++;\n//         }\n//     }\n// }\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nfunction _default(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n  // var oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin);\n  var oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        var currentPt = oldData.getItemLayout(diffItem.idx);\n        var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n        if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n          currentPt = nextPt.slice();\n        }\n\n        currPoints.push(currentPt);\n        nextPoints.push(nextPt);\n        currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n        nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var idx = diffItem.idx;\n        currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0], idx), newData.get(newDataOldCoordInfo.dataDimsForPoint[1], idx)]));\n        nextPoints.push(newData.getItemLayout(idx).slice());\n        currStackedPoints.push(getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, idx));\n        nextStackedPoints.push(newStackedOnPoints[idx]);\n        rawIndices.push(newData.getRawIndex(idx));\n        break;\n\n      case '-':\n        var idx = diffItem.idx;\n        var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n        // FIXME FIXME FIXME\n\n        if (rawIndex !== idx) {\n          currPoints.push(oldData.getItemLayout(idx));\n          nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0], idx), oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1], idx)]));\n          currStackedPoints.push(oldStackedOnPoints[idx]);\n          nextStackedPoints.push(getStackedOnPoint(oldDataNewCoordInfo, newCoordSys, oldData, idx));\n          rawIndices.push(rawIndex);\n        } else {\n          pointAdded = false;\n        }\n\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var sortedCurrPoints = [];\n  var sortedNextPoints = [];\n  var sortedCurrStackedPoints = [];\n  var sortedNextStackedPoints = [];\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    sortedCurrPoints[i] = currPoints[idx];\n    sortedNextPoints[i] = nextPoints[idx];\n    sortedCurrStackedPoints[i] = currStackedPoints[idx];\n    sortedNextStackedPoints[i] = nextStackedPoints[idx];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseAxisPointer = require(\"./BaseAxisPointer\");\n\nvar viewHelper = require(\"./viewHelper\");\n\nvar singleAxisHelper = require(\"../../coord/single/singleAxisHelper\");\n\nvar AxisView = require(\"../axis/AxisView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar XY = ['x', 'y'];\nvar WH = ['width', 'height'];\nvar SingleAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var otherExtent = getGlobalExtent(coordSys, 1 - getPointDimIndex(axis));\n    var pixelValue = coordSys.dataToPoint(value)[0];\n    var axisPointerType = axisPointerModel.get('type');\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var layoutInfo = singleAxisHelper.layout(axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  },\n\n  /**\n   * @override\n   */\n  getHandleTransform: function (value, axisModel, axisPointerModel) {\n    var layoutInfo = singleAxisHelper.layout(axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n    return {\n      position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  },\n\n  /**\n   * @override\n   */\n  updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var dimIndex = getPointDimIndex(axis);\n    var axisExtent = getGlobalExtent(coordSys, dimIndex);\n    var currPosition = transform.position;\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var otherExtent = getGlobalExtent(coordSys, 1 - dimIndex);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex];\n    return {\n      position: currPosition,\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: {\n        verticalAlign: 'middle'\n      }\n    };\n  }\n});\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getPointDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = axis.getBandWidth();\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getPointDimIndex(axis))\n    };\n  }\n};\n\nfunction getPointDimIndex(axis) {\n  return axis.isHorizontal() ? 0 : 1;\n}\n\nfunction getGlobalExtent(coordSys, dimIndex) {\n  var rect = coordSys.getRect();\n  return [rect[XY[dimIndex]], rect[XY[dimIndex]] + rect[WH[dimIndex]]];\n}\n\nAxisView.registerAxisPointerClass('SingleAxisPointer', SingleAxisPointer);\nvar _default = SingleAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar LegendModel = require(\"./LegendModel\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar mergeLayoutParam = _layout.mergeLayoutParam;\nvar getLayoutParams = _layout.getLayoutParams;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ScrollableLegendModel = LegendModel.extend({\n  type: 'legend.scroll',\n\n  /**\n   * @param {number} scrollDataIndex\n   */\n  setScrollDataIndex: function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  },\n  defaultOption: {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    // 'start' or 'end'\n    pageFormatter: '{current}/{total}',\n    // If null/undefined, do not show page.\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    // Can be [10, 3], which represents [width, height]\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel, extraOpt) {\n    var inputPositionParams = getLayoutParams(option);\n    ScrollableLegendModel.superCall(this, 'init', option, parentModel, ecModel, extraOpt);\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (option, extraOpt) {\n    ScrollableLegendModel.superCall(this, 'mergeOption', option, extraOpt);\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  }\n}); // Do not `ignoreSize` to enable setting {left: 10, right: 10}.\n\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\n\nvar _default = ScrollableLegendModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _bbox = require(\"zrender/lib/core/bbox\");\n\nvar fromPoints = _bbox.fromPoints;\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar SymbolClz = require(\"../helper/Symbol\");\n\nvar lineAnimationDiff = require(\"./lineAnimationDiff\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _poly = require(\"./poly\");\n\nvar Polyline = _poly.Polyline;\nvar Polygon = _poly.Polygon;\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createGridClipPath = _createClipPathFromCoordSys.createGridClipPath;\nvar createPolarClipPath = _createClipPathFromCoordSys.createPolarClipPath;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME step not support polar\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n\n  for (var i = 0; i < points1.length; i++) {\n    var p1 = points1[i];\n    var p2 = points2[i];\n\n    if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n      return;\n    }\n  }\n\n  return true;\n}\n\nfunction getBoundingDiff(points1, points2) {\n  var min1 = [];\n  var max1 = [];\n  var min2 = [];\n  var max2 = [];\n  fromPoints(points1, min1, max1);\n  fromPoints(points2, min2, max2); // Get a max value from each corner of two boundings.\n\n  return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n}\n\nfunction getSmooth(smooth) {\n  return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n}\n/**\n * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n * @param {module:echarts/data/List} data\n * @param {Object} dataCoordInfo\n * @param {Array.<Array.<number>>} points\n */\n\n\nfunction getStackedOnPoints(coordSys, data, dataCoordInfo) {\n  if (!dataCoordInfo.valueDim) {\n    return [];\n  }\n\n  var points = [];\n\n  for (var idx = 0, len = data.count(); idx < len; idx++) {\n    points.push(getStackedOnPoint(dataCoordInfo, coordSys, data, idx));\n  }\n\n  return points;\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n\n  for (var i = 0; i < points.length - 1; i++) {\n    var nextPt = points[i + 1];\n    var pt = points[i];\n    stepPoints.push(pt);\n    var stepPt = [];\n\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n        break;\n\n      case 'middle':\n        // default is start\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt);\n        stepPoints.push(stepPt2);\n        break;\n\n      default:\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n    }\n  } // Last points\n\n\n  points[i] && stepPoints.push(points[i]);\n  return stepPoints;\n}\n\nfunction getVisualGradient(data, coordSys) {\n  var visualMetaList = data.getVisual('visualMeta');\n\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n\n  if (coordSys.type !== 'cartesian2d') {\n    return;\n  }\n\n  var coordDim;\n  var visualMeta;\n\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    var dimIndex = visualMetaList[i].dimension;\n    var dimName = data.dimensions[dimIndex];\n    var dimInfo = data.getDimensionInfo(dimName);\n    coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n    if (coordDim === 'x' || coordDim === 'y') {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n\n  if (!visualMeta) {\n    return;\n  } // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n\n\n  var axis = coordSys.getAxis(coordDim); // dataToCoor mapping may not be linear, but must be monotonic.\n\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    return {\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n\n  var tinyExtent = 10; // Arbitrary value: 10px\n\n  var minCoord = colorStops[0].coord - tinyExtent;\n  var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n\n  zrUtil.each(colorStops, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStops.push({\n    offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStops.unshift({\n    // notice colorStops.length have been changed.\n    offset: stopLen ? colorStops[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  }); // zrUtil.each(colorStops, function (colorStop) {\n  //     // Make sure each offset has rounded px to avoid not sharp edge\n  //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n  // });\n\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n  gradient[coordDim] = minCoord;\n  gradient[coordDim + '2'] = maxCoord;\n  return gradient;\n}\n\nfunction getIsIgnoreFunc(seriesModel, data, coordSys) {\n  var showAllSymbol = seriesModel.get('showAllSymbol');\n  var isAuto = showAllSymbol === 'auto';\n\n  if (showAllSymbol && !isAuto) {\n    return;\n  }\n\n  var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n  if (!categoryAxis) {\n    return;\n  } // Note that category label interval strategy might bring some weird effect\n  // in some scenario: users may wonder why some of the symbols are not\n  // displayed. So we show all symbols as possible as we can.\n\n\n  if (isAuto // Simplify the logic, do not determine label overlap here.\n  && canShowAllSymbolForCategory(categoryAxis, data)) {\n    return;\n  } // Otherwise follow the label interval strategy on category axis.\n\n\n  var categoryDataDim = data.mapDimension(categoryAxis.dim);\n  var labelMap = {};\n  zrUtil.each(categoryAxis.getViewLabels(), function (labelItem) {\n    labelMap[labelItem.tickValue] = 1;\n  });\n  return function (dataIndex) {\n    return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n  };\n}\n\nfunction canShowAllSymbolForCategory(categoryAxis, data) {\n  // In mose cases, line is monotonous on category axis, and the label size\n  // is close with each other. So we check the symbol size and some of the\n  // label size alone with the category axis to estimate whether all symbol\n  // can be shown without overlap.\n  var axisExtent = categoryAxis.getExtent();\n  var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n  isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n  // Sampling some points, max 5.\n\n  var dataLen = data.count();\n  var step = Math.max(1, Math.round(dataLen / 5));\n\n  for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n    if (SymbolClz.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n    )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n    * 1.5 > availSize) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction createLineClipPath(coordSys, hasAnimation, seriesModel) {\n  if (coordSys.type === 'cartesian2d') {\n    var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n    var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel); // Expand clip shape to avoid clipping when line value exceeds axis\n\n    if (!seriesModel.get('clip', true)) {\n      var rectShape = clipPath.shape;\n      var expandSize = Math.max(rectShape.width, rectShape.height);\n\n      if (isHorizontal) {\n        rectShape.y -= expandSize;\n        rectShape.height += expandSize * 2;\n      } else {\n        rectShape.x -= expandSize;\n        rectShape.width += expandSize * 2;\n      }\n    }\n\n    return clipPath;\n  } else {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  }\n}\n\nvar _default = ChartView.extend({\n  type: 'line',\n  init: function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var areaStyleModel = seriesModel.getModel('areaStyle');\n    var points = data.mapArray(data.getItemLayout);\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var valueOrigin = areaStyleModel.get('origin');\n    var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);\n    var stackedOnPoints = getStackedOnPoints(coordSys, data, dataCoordInfo);\n    var showSymbol = seriesModel.get('showSymbol');\n    var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    }); // Remove previous created symbols if showSymbol changed to false\n\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n\n    group.add(lineGroup); // FIXME step not support polar\n\n    var step = !isCoordSysPolar && seriesModel.get('step');\n    var clipShapeForSymbol;\n\n    if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n      clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n      // See #7913 and `test/dataZoom-clip.html`.\n\n      if (clipShapeForSymbol.width != null) {\n        clipShapeForSymbol.x -= 0.1;\n        clipShapeForSymbol.y -= 0.1;\n        clipShapeForSymbol.width += 0.2;\n        clipShapeForSymbol.height += 0.2;\n      } else if (clipShapeForSymbol.r0) {\n        clipShapeForSymbol.r0 -= 0.5;\n        clipShapeForSymbol.r1 += 0.5;\n      }\n    }\n\n    this._clipShapeForSymbol = clipShapeForSymbol; // Initialization animation or coordinate system changed\n\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      });\n\n      if (step) {\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, coordSys, step);\n        stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n      }\n\n      polyline = this._newPolyline(points, coordSys, hasAnimation);\n\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      }\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      } // Update clipPath\n\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n      // because points are not changed\n\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      }); // Stop symbol animation and sync with line points\n      // FIXME performance?\n\n      data.eachItemGraphicEl(function (el) {\n        el.stopAnimation(true);\n      }); // In the case data zoom triggerred refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing\n\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._updateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, coordSys, step);\n            stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n          }\n\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n\n    var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n    polyline.useStyle(zrUtil.defaults( // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    var smooth = seriesModel.get('smooth');\n    smooth = getSmooth(seriesModel.get('smooth'));\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: seriesModel.get('smoothMonotone'),\n      connectNulls: seriesModel.get('connectNulls')\n    });\n\n    if (polygon) {\n      var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel'\n      }));\n\n      if (stackedOnSeries) {\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: seriesModel.get('smoothMonotone'),\n        connectNulls: seriesModel.get('connectNulls')\n      });\n    }\n\n    this._data = data; // Save the coordinate system for transition animation when data changed\n\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n    this._valueOrigin = valueOrigin;\n  },\n  dispose: function () {},\n  highlight: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var pt = data.getItemLayout(dataIndex);\n\n        if (!pt) {\n          // Null data\n          return;\n        } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(pt[0], pt[1])) {\n          return;\n        }\n\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.position = pt;\n        symbol.setZ(seriesModel.get('zlevel'), seriesModel.get('z'));\n        symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n  downplay: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolyline: function (points) {\n    var polyline = this._polyline; // Remove previous created polyline\n\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n\n    polyline = new Polyline({\n      shape: {\n        points: points\n      },\n      silent: true,\n      z2: 10\n    });\n\n    this._lineGroup.add(polyline);\n\n    this._polyline = polyline;\n    return polyline;\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} stackedOnPoints\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolygon: function (points, stackedOnPoints) {\n    var polygon = this._polygon; // Remove previous created polygon\n\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n\n    polygon = new Polygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      silent: true\n    });\n\n    this._lineGroup.add(polygon);\n\n    this._polygon = polygon;\n    return polygon;\n  },\n\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n  _updateAnimation: function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n\n    if (step) {\n      // TODO If stacked series is not step\n      current = turnPointsIntoStep(diff.current, coordSys, step);\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n      next = turnPointsIntoStep(diff.next, coordSys, step);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n    } // Don't apply animation if diff is large.\n    // For better result and avoid memory explosion problems like\n    // https://github.com/apache/incubator-echarts/issues/12229\n\n\n    if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n      polyline.setShape({\n        points: next\n      });\n\n      if (polygon) {\n        polygon.setShape({\n          points: next,\n          stackedOnPoints: stackedOnNext\n        });\n      }\n\n      return;\n    } // `diff.current` is subset of `current` (which should be ensured by\n    // turnPointsIntoStep), so points in `__points` can be updated when\n    // points in `current` are update during animation.\n\n\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    graphic.updateProps(polyline, {\n      shape: {\n        points: next\n      }\n    }, seriesModel);\n\n    if (polygon) {\n      polygon.setShape({\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      graphic.updateProps(polygon, {\n        shape: {\n          points: next,\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel);\n    }\n\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n\n          });\n        }\n      }\n    }\n\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n        }\n      });\n    }\n  },\n  remove: function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n\n    this._lineGroup.removeAll();\n\n    this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null;\n  }\n});\n\nmodule.exports = _default;","require(\"./graphic\");\n\nvar _zrender = require(\"../zrender\");\n\nvar registerPainter = _zrender.registerPainter;\n\nvar Painter = require(\"./Painter\");\n\nregisterPainter('vml', Painter);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar AxisView = require(\"./AxisView\");\n\nvar cartesianAxisHelper = require(\"../../coord/cartesian/cartesianAxisHelper\");\n\nvar _axisSplitHelper = require(\"./axisSplitHelper\");\n\nvar rectCoordAxisBuildSplitArea = _axisSplitHelper.rectCoordAxisBuildSplitArea;\nvar rectCoordAxisHandleRemove = _axisSplitHelper.rectCoordAxisHandleRemove;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitArea', 'splitLine', 'minorSplitLine'];\nvar CartesianAxisView = AxisView.extend({\n  type: 'cartesianAxis',\n  axisPointerClass: 'CartesianAxisPointer',\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n\n    if (!axisModel.get('show')) {\n      return;\n    }\n\n    var gridModel = axisModel.getCoordSysModel();\n    var layout = cartesianAxisHelper.layout(gridModel, axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n\n    this._axisGroup.add(axisBuilder.getGroup());\n\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get(name + '.show')) {\n        this['_' + name](axisModel, gridModel);\n      }\n    }, this);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    CartesianAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n  },\n  remove: function () {\n    rectCoordAxisHandleRemove(this);\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _splitLine: function (axisModel, gridModel) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    lineColors = zrUtil.isArray(lineColors) ? lineColors : [lineColors];\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel\n    });\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n\n      var colorIndex = lineCount++ % lineColors.length;\n      var tickValue = ticksCoords[i].tickValue;\n\n      this._axisGroup.add(new graphic.Line({\n        anid: tickValue != null ? 'line_' + ticksCoords[i].tickValue : null,\n        subPixelOptimize: true,\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: zrUtil.defaults({\n          stroke: lineColors[colorIndex]\n        }, lineStyle),\n        silent: true\n      }));\n    }\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _minorSplitLine: function (axisModel, gridModel) {\n    var axis = axisModel.axis;\n    var minorSplitLineModel = axisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var minorTicksCoords = axis.getMinorTicksCoords();\n\n    if (!minorTicksCoords.length) {\n      return;\n    }\n\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\n        var tickCoord = axis.toGlobalCoord(minorTicksCoords[i][k].coord);\n\n        if (isHorizontal) {\n          p1[0] = tickCoord;\n          p1[1] = gridRect.y;\n          p2[0] = tickCoord;\n          p2[1] = gridRect.y + gridRect.height;\n        } else {\n          p1[0] = gridRect.x;\n          p1[1] = tickCoord;\n          p2[0] = gridRect.x + gridRect.width;\n          p2[1] = tickCoord;\n        }\n\n        this._axisGroup.add(new graphic.Line({\n          anid: 'minor_line_' + minorTicksCoords[i][k].tickValue,\n          subPixelOptimize: true,\n          shape: {\n            x1: p1[0],\n            y1: p1[1],\n            x2: p2[0],\n            y2: p2[1]\n          },\n          style: lineStyle,\n          silent: true\n        }));\n      }\n    }\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _splitArea: function (axisModel, gridModel) {\n    rectCoordAxisBuildSplitArea(this, this._axisGroup, axisModel, gridModel);\n  }\n});\nCartesianAxisView.extend({\n  type: 'xAxis'\n});\nCartesianAxisView.extend({\n  type: 'yAxis'\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar throttleUtil = require(\"../util/throttle\");\n\nvar parallelPreprocessor = require(\"../coord/parallel/parallelPreprocessor\");\n\nrequire(\"../coord/parallel/parallelCreator\");\n\nrequire(\"../coord/parallel/ParallelModel\");\n\nrequire(\"./parallelAxis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar CLICK_THRESHOLD = 5; // > 4\n// Parallel view\n\necharts.extendComponentView({\n  type: 'parallel',\n  render: function (parallelModel, ecModel, api) {\n    this._model = parallelModel;\n    this._api = api;\n\n    if (!this._handlers) {\n      this._handlers = {};\n      zrUtil.each(handlers, function (handler, eventName) {\n        api.getZr().on(eventName, this._handlers[eventName] = zrUtil.bind(handler, this));\n      }, this);\n    }\n\n    throttleUtil.createOrUpdate(this, '_throttledDispatchExpand', parallelModel.get('axisExpandRate'), 'fixRate');\n  },\n  dispose: function (ecModel, api) {\n    zrUtil.each(this._handlers, function (handler, eventName) {\n      api.getZr().off(eventName, handler);\n    });\n    this._handlers = null;\n  },\n\n  /**\n   * @param {Object} [opt] If null, cancle the last action triggering for debounce.\n   */\n  _throttledDispatchExpand: function (opt) {\n    this._dispatchExpand(opt);\n  },\n  _dispatchExpand: function (opt) {\n    opt && this._api.dispatchAction(zrUtil.extend({\n      type: 'parallelAxisExpand'\n    }, opt));\n  }\n});\nvar handlers = {\n  mousedown: function (e) {\n    if (checkTrigger(this, 'click')) {\n      this._mouseDownPoint = [e.offsetX, e.offsetY];\n    }\n  },\n  mouseup: function (e) {\n    var mouseDownPoint = this._mouseDownPoint;\n\n    if (checkTrigger(this, 'click') && mouseDownPoint) {\n      var point = [e.offsetX, e.offsetY];\n      var dist = Math.pow(mouseDownPoint[0] - point[0], 2) + Math.pow(mouseDownPoint[1] - point[1], 2);\n\n      if (dist > CLICK_THRESHOLD) {\n        return;\n      }\n\n      var result = this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n\n      result.behavior !== 'none' && this._dispatchExpand({\n        axisExpandWindow: result.axisExpandWindow\n      });\n    }\n\n    this._mouseDownPoint = null;\n  },\n  mousemove: function (e) {\n    // Should do nothing when brushing.\n    if (this._mouseDownPoint || !checkTrigger(this, 'mousemove')) {\n      return;\n    }\n\n    var model = this._model;\n    var result = model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n    var behavior = result.behavior;\n    behavior === 'jump' && this._throttledDispatchExpand.debounceNextCall(model.get('axisExpandDebounce'));\n\n    this._throttledDispatchExpand(behavior === 'none' ? null // Cancle the last trigger, in case that mouse slide out of the area quickly.\n    : {\n      axisExpandWindow: result.axisExpandWindow,\n      // Jumping uses animation, and sliding suppresses animation.\n      animation: behavior === 'jump' ? null : false\n    });\n  }\n};\n\nfunction checkTrigger(view, triggerOn) {\n  var model = view._model;\n  return model.get('axisExpandable') && model.get('axisExpandTriggerOn') === triggerOn;\n}\n\necharts.registerPreprocessor(parallelPreprocessor);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar Model = require(\"../../model/Model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar DEFAULT_OUT_OF_BRUSH_COLOR = ['#ddd'];\nvar BrushModel = echarts.extendComponentModel({\n  type: 'brush',\n  dependencies: ['geo', 'grid', 'xAxis', 'yAxis', 'parallel', 'series'],\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    // inBrush: null,\n    // outOfBrush: null,\n    toolbox: null,\n    // Default value see preprocessor.\n    brushLink: null,\n    // Series indices array, broadcast using dataIndex.\n    // or 'all', which means all series. 'none' or null means no series.\n    seriesIndex: 'all',\n    // seriesIndex array, specify series controlled by this brush component.\n    geoIndex: null,\n    //\n    xAxisIndex: null,\n    yAxisIndex: null,\n    brushType: 'rect',\n    // Default brushType, see BrushController.\n    brushMode: 'single',\n    // Default brushMode, 'single' or 'multiple'\n    transformable: true,\n    // Default transformable.\n    brushStyle: {\n      // Default brushStyle\n      borderWidth: 1,\n      color: 'rgba(120,140,180,0.3)',\n      borderColor: 'rgba(120,140,180,0.8)'\n    },\n    throttleType: 'fixRate',\n    // Throttle in brushSelected event. 'fixRate' or 'debounce'.\n    // If null, no throttle. Valid only in the first brush component\n    throttleDelay: 0,\n    // Unit: ms, 0 means every event will be triggered.\n    // FIXME\n    // \n    removeOnClick: true,\n    z: 10000\n  },\n\n  /**\n   * @readOnly\n   * @type {Array.<Object>}\n   */\n  areas: [],\n\n  /**\n   * Current activated brush type.\n   * If null, brush is inactived.\n   * see module:echarts/component/helper/BrushController\n   * @readOnly\n   * @type {string}\n   */\n  brushType: null,\n\n  /**\n   * Current brush opt.\n   * see module:echarts/component/helper/BrushController\n   * @readOnly\n   * @type {Object}\n   */\n  brushOption: {},\n\n  /**\n   * @readOnly\n   * @type {Array.<Object>}\n   */\n  coordInfoList: [],\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, ['inBrush', 'outOfBrush']);\n    var inBrush = thisOption.inBrush = thisOption.inBrush || {}; // Always give default visual, consider setOption at the second time.\n\n    thisOption.outOfBrush = thisOption.outOfBrush || {\n      color: DEFAULT_OUT_OF_BRUSH_COLOR\n    };\n\n    if (!inBrush.hasOwnProperty('liftZ')) {\n      // Bigger than the highlight z lift, otherwise it will\n      // be effected by the highlight z when brush.\n      inBrush.liftZ = 5;\n    }\n  },\n\n  /**\n   * If ranges is null/undefined, range state remain.\n   *\n   * @param {Array.<Object>} [ranges]\n   */\n  setAreas: function (areas) {\n    // If ranges is null/undefined, range state remain.\n    // This helps user to dispatchAction({type: 'brush'}) with no areas\n    // set but just want to get the current brush select info from a `brush` event.\n    if (!areas) {\n      return;\n    }\n\n    this.areas = zrUtil.map(areas, function (area) {\n      return generateBrushOption(this.option, area);\n    }, this);\n  },\n\n  /**\n   * see module:echarts/component/helper/BrushController\n   * @param {Object} brushOption\n   */\n  setBrushOption: function (brushOption) {\n    this.brushOption = generateBrushOption(this.option, brushOption);\n    this.brushType = this.brushOption.brushType;\n  }\n});\n\nfunction generateBrushOption(option, brushOption) {\n  return zrUtil.merge({\n    brushType: option.brushType,\n    brushMode: option.brushMode,\n    transformable: option.transformable,\n    brushStyle: new Model(option.brushStyle).getItemStyle(),\n    removeOnClick: option.removeOnClick,\n    z: option.z\n  }, brushOption, true);\n}\n\nvar _default = BrushModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _number = require(\"../../util/number\");\n\nvar getPercentWithPrecision = _number.getPercentWithPrecision;\n\nvar dataSelectableMixin = require(\"../../component/helper/selectableMixin\");\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawAttr = _dataProvider.retrieveRawAttr;\n\nvar _sourceHelper = require(\"../../data/helper/sourceHelper\");\n\nvar makeSeriesEncodeForNameBased = _sourceHelper.makeSeriesEncodeForNameBased;\n\nvar LegendVisualProvider = require(\"../../visual/LegendVisualProvider\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PieSeries = echarts.extendSeriesModel({\n  type: 'series.pie',\n  // Overwrite\n  init: function (option) {\n    PieSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n    this.updateSelectedMap(this._createSelectableList());\n\n    this._defaultLabelLine(option);\n  },\n  // Overwrite\n  mergeOption: function (newOption) {\n    PieSeries.superCall(this, 'mergeOption', newOption);\n    this.updateSelectedMap(this._createSelectableList());\n  },\n  getInitialData: function (option, ecModel) {\n    return createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  },\n  _createSelectableList: function () {\n    var data = this.getRawData();\n    var valueDim = data.mapDimension('value');\n    var targetList = [];\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      targetList.push({\n        name: data.getName(i),\n        value: data.get(valueDim, i),\n        selected: retrieveRawAttr(data, i, 'selected')\n      });\n    }\n\n    return targetList;\n  },\n  // Overwrite\n  getDataParams: function (dataIndex) {\n    var data = this.getData();\n    var params = PieSeries.superCall(this, 'getDataParams', dataIndex); // FIXME toFixed?\n\n    var valueList = [];\n    data.each(data.mapDimension('value'), function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  },\n  _defaultLabelLine: function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // \n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // \n    clockwise: true,\n    startAngle: 90,\n    // 0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // \n    selectedOffset: 10,\n    // \n    hoverOffset: 10,\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // singlemultiple\n    // selectedMode: false,\n    // 'radius' | 'area'\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    label: {\n      // If rotate around circle\n      rotate: false,\n      show: true,\n      // 'outer', 'inside', 'center'\n      position: 'outer',\n      // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n      alignTo: 'none',\n      // Closest distance between label and chart edge.\n      // Works only position is 'outer' and alignTo is 'edge'.\n      margin: '25%',\n      // Works only position is 'outer' and alignTo is not 'edge'.\n      bleedMargin: 10,\n      // Distance between text and label line.\n      distanceToLabelLine: 5 // formatter: Tooltip.formatter\n      // TEXTSTYLE\n      // distance: positioninnerlabel()\n\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // \n      length: 15,\n      // \n      length2: 15,\n      smooth: false,\n      lineStyle: {\n        // color: ,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1\n    },\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasing: 'cubicOut'\n  }\n});\nzrUtil.mixin(PieSeries, dataSelectableMixin);\nvar _default = PieSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _cursorHelper = require(\"./cursorHelper\");\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphicUtil = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction makeRectPanelClipPath(rect) {\n  rect = normalizeRect(rect);\n  return function (localPoints, transform) {\n    return graphicUtil.clipPointsByRect(localPoints, rect);\n  };\n}\n\nfunction makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\n  rect = normalizeRect(rect);\n  return function (xyIndex) {\n    var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\n    var brushWidth = idx ? rect.width : rect.height;\n    var base = idx ? rect.x : rect.y;\n    return [base, base + (brushWidth || 0)];\n  };\n}\n\nfunction makeRectIsTargetByCursor(rect, api, targetModel) {\n  rect = normalizeRect(rect);\n  return function (e, localCursorPoint, transform) {\n    return rect.contain(localCursorPoint[0], localCursorPoint[1]) && !onIrrelevantElement(e, api, targetModel);\n  };\n} // Consider width/height is negative.\n\n\nfunction normalizeRect(rect) {\n  return BoundingRect.create(rect);\n}\n\nexports.makeRectPanelClipPath = makeRectPanelClipPath;\nexports.makeLinearBrushOtherExtent = makeLinearBrushOtherExtent;\nexports.makeRectIsTargetByCursor = makeRectIsTargetByCursor;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"../coord/polar/polarCreator\");\n\nrequire(\"./axis/AngleAxisView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar layout = require(\"../../util/layout\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _treeHelper = require(\"../helper/treeHelper\");\n\nvar wrapTreePathInfo = _treeHelper.wrapTreePathInfo;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar TEXT_PADDING = 8;\nvar ITEM_GAP = 8;\nvar ARRAY_LENGTH = 5;\n\nfunction Breadcrumb(containerGroup) {\n  /**\n   * @private\n   * @type {module:zrender/container/Group}\n   */\n  this.group = new graphic.Group();\n  containerGroup.add(this.group);\n}\n\nBreadcrumb.prototype = {\n  constructor: Breadcrumb,\n  render: function (seriesModel, api, targetNode, onSelect) {\n    var model = seriesModel.getModel('breadcrumb');\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n\n    if (!model.get('show') || !targetNode) {\n      return;\n    }\n\n    var normalStyleModel = model.getModel('itemStyle'); // var emphasisStyleModel = model.getModel('emphasis.itemStyle');\n\n    var textStyleModel = normalStyleModel.getModel('textStyle');\n    var layoutParam = {\n      pos: {\n        left: model.get('left'),\n        right: model.get('right'),\n        top: model.get('top'),\n        bottom: model.get('bottom')\n      },\n      box: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      emptyItemWidth: model.get('emptyItemWidth'),\n      totalWidth: 0,\n      renderList: []\n    };\n\n    this._prepare(targetNode, layoutParam, textStyleModel);\n\n    this._renderContent(seriesModel, layoutParam, normalStyleModel, textStyleModel, onSelect);\n\n    layout.positionElement(thisGroup, layoutParam.pos, layoutParam.box);\n  },\n\n  /**\n   * Prepare render list and total width\n   * @private\n   */\n  _prepare: function (targetNode, layoutParam, textStyleModel) {\n    for (var node = targetNode; node; node = node.parentNode) {\n      var text = node.getModel().get('name');\n      var textRect = textStyleModel.getTextRect(text);\n      var itemWidth = Math.max(textRect.width + TEXT_PADDING * 2, layoutParam.emptyItemWidth);\n      layoutParam.totalWidth += itemWidth + ITEM_GAP;\n      layoutParam.renderList.push({\n        node: node,\n        text: text,\n        width: itemWidth\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderContent: function (seriesModel, layoutParam, normalStyleModel, textStyleModel, onSelect) {\n    // Start rendering.\n    var lastX = 0;\n    var emptyItemWidth = layoutParam.emptyItemWidth;\n    var height = seriesModel.get('breadcrumb.height');\n    var availableSize = layout.getAvailableSize(layoutParam.pos, layoutParam.box);\n    var totalWidth = layoutParam.totalWidth;\n    var renderList = layoutParam.renderList;\n\n    for (var i = renderList.length - 1; i >= 0; i--) {\n      var item = renderList[i];\n      var itemNode = item.node;\n      var itemWidth = item.width;\n      var text = item.text; // Hdie text and shorten width if necessary.\n\n      if (totalWidth > availableSize.width) {\n        totalWidth -= itemWidth - emptyItemWidth;\n        itemWidth = emptyItemWidth;\n        text = null;\n      }\n\n      var el = new graphic.Polygon({\n        shape: {\n          points: makeItemPoints(lastX, 0, itemWidth, height, i === renderList.length - 1, i === 0)\n        },\n        style: zrUtil.defaults(normalStyleModel.getItemStyle(), {\n          lineJoin: 'bevel',\n          text: text,\n          textFill: textStyleModel.getTextColor(),\n          textFont: textStyleModel.getFont()\n        }),\n        z: 10,\n        onclick: zrUtil.curry(onSelect, itemNode)\n      });\n      this.group.add(el);\n      packEventData(el, seriesModel, itemNode);\n      lastX += itemWidth + ITEM_GAP;\n    }\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this.group.removeAll();\n  }\n};\n\nfunction makeItemPoints(x, y, itemWidth, itemHeight, head, tail) {\n  var points = [[head ? x : x - ARRAY_LENGTH, y], [x + itemWidth, y], [x + itemWidth, y + itemHeight], [head ? x : x - ARRAY_LENGTH, y + itemHeight]];\n  !tail && points.splice(2, 0, [x + itemWidth + ARRAY_LENGTH, y + itemHeight / 2]);\n  !head && points.push([x, y + itemHeight / 2]);\n  return points;\n} // Package custom mouse event.\n\n\nfunction packEventData(el, seriesModel, itemNode) {\n  el.eventData = {\n    componentType: 'series',\n    componentSubType: 'treemap',\n    componentIndex: seriesModel.componentIndex,\n    seriesIndex: seriesModel.componentIndex,\n    seriesName: seriesModel.name,\n    seriesType: 'treemap',\n    selfType: 'breadcrumb',\n    // Distinguish with click event on treemap node.\n    nodeData: {\n      dataIndex: itemNode && itemNode.dataIndex,\n      name: itemNode && itemNode.name\n    },\n    treePathInfo: itemNode && wrapTreePathInfo(itemNode, seriesModel)\n  };\n}\n\nvar _default = Breadcrumb;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME \n\n/**\n * @param {Array.<module:echarts/data/List>} datas\n * @param {string} statisticType 'average' 'sum'\n * @inner\n */\nfunction dataStatistics(datas, statisticType) {\n  var dataNameMap = {};\n  zrUtil.each(datas, function (data) {\n    data.each(data.mapDimension('value'), function (value, idx) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var mapKey = 'ec-' + data.getName(idx);\n      dataNameMap[mapKey] = dataNameMap[mapKey] || [];\n\n      if (!isNaN(value)) {\n        dataNameMap[mapKey].push(value);\n      }\n    });\n  });\n  return datas[0].map(datas[0].mapDimension('value'), function (value, idx) {\n    var mapKey = 'ec-' + datas[0].getName(idx);\n    var sum = 0;\n    var min = Infinity;\n    var max = -Infinity;\n    var len = dataNameMap[mapKey].length;\n\n    for (var i = 0; i < len; i++) {\n      min = Math.min(min, dataNameMap[mapKey][i]);\n      max = Math.max(max, dataNameMap[mapKey][i]);\n      sum += dataNameMap[mapKey][i];\n    }\n\n    var result;\n\n    if (statisticType === 'min') {\n      result = min;\n    } else if (statisticType === 'max') {\n      result = max;\n    } else if (statisticType === 'average') {\n      result = sum / len;\n    } else {\n      result = sum;\n    }\n\n    return len === 0 ? NaN : result;\n  });\n}\n\nfunction _default(ecModel) {\n  var seriesGroups = {};\n  ecModel.eachSeriesByType('map', function (seriesModel) {\n    var hostGeoModel = seriesModel.getHostGeoModel();\n    var key = hostGeoModel ? 'o' + hostGeoModel.id : 'i' + seriesModel.getMapType();\n    (seriesGroups[key] = seriesGroups[key] || []).push(seriesModel);\n  });\n  zrUtil.each(seriesGroups, function (seriesList, key) {\n    var data = dataStatistics(zrUtil.map(seriesList, function (seriesModel) {\n      return seriesModel.getData();\n    }), seriesList[0].get('mapValueCalculation'));\n\n    for (var i = 0; i < seriesList.length; i++) {\n      seriesList[i].originalData = seriesList[i].getData();\n    } // FIXME Put where?\n\n\n    for (var i = 0; i < seriesList.length; i++) {\n      seriesList[i].seriesGroup = seriesList;\n      seriesList[i].needsDrawMap = i === 0 && !seriesList[i].getHostGeoModel();\n      seriesList[i].setData(data.cloneShallow());\n      seriesList[i].mainSeries = seriesList[0];\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"./Symbol\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/SymbolDraw\n */\n\n/**\n * @constructor\n * @alias module:echarts/chart/helper/SymbolDraw\n * @param {module:zrender/graphic/Group} [symbolCtor]\n */\nfunction SymbolDraw(symbolCtor) {\n  this.group = new graphic.Group();\n  this._symbolCtor = symbolCtor || SymbolClz;\n}\n\nvar symbolDrawProto = SymbolDraw.prototype;\n\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.updateData = function (data, opt) {\n  opt = normalizeUpdateOpt(opt);\n  var group = this.group;\n  var seriesModel = data.hostModel;\n  var oldData = this._data;\n  var SymbolCtor = this._symbolCtor;\n  var seriesScope = makeSeriesScope(data); // There is no oldLineData only when first rendering or switching from\n  // stream mode to normal mode, where previous elements should be removed.\n\n  if (!oldData) {\n    group.removeAll();\n  }\n\n  data.diff(oldData).add(function (newIdx) {\n    var point = data.getItemLayout(newIdx);\n\n    if (symbolNeedsDraw(data, point, newIdx, opt)) {\n      var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n      symbolEl.attr('position', point);\n      data.setItemGraphicEl(newIdx, symbolEl);\n      group.add(symbolEl);\n    }\n  }).update(function (newIdx, oldIdx) {\n    var symbolEl = oldData.getItemGraphicEl(oldIdx);\n    var point = data.getItemLayout(newIdx);\n\n    if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n      group.remove(symbolEl);\n      return;\n    }\n\n    if (!symbolEl) {\n      symbolEl = new SymbolCtor(data, newIdx);\n      symbolEl.attr('position', point);\n    } else {\n      symbolEl.updateData(data, newIdx, seriesScope);\n      graphic.updateProps(symbolEl, {\n        position: point\n      }, seriesModel);\n    } // Add back\n\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(newIdx, symbolEl);\n  }).remove(function (oldIdx) {\n    var el = oldData.getItemGraphicEl(oldIdx);\n    el && el.fadeOut(function () {\n      group.remove(el);\n    });\n  }).execute();\n  this._data = data;\n};\n\nsymbolDrawProto.isPersistent = function () {\n  return true;\n};\n\nsymbolDrawProto.updateLayout = function () {\n  var data = this._data;\n\n  if (data) {\n    // Not use animation\n    data.eachItemGraphicEl(function (el, idx) {\n      var point = data.getItemLayout(idx);\n      el.attr('position', point);\n    });\n  }\n};\n\nsymbolDrawProto.incrementalPrepareUpdate = function (data) {\n  this._seriesScope = makeSeriesScope(data);\n  this._data = null;\n  this.group.removeAll();\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.incrementalUpdate = function (taskParams, data, opt) {\n  opt = normalizeUpdateOpt(opt);\n\n  function updateIncrementalAndHover(el) {\n    if (!el.isGroup) {\n      el.incremental = el.useHoverLayer = true;\n    }\n  }\n\n  for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n    var point = data.getItemLayout(idx);\n\n    if (symbolNeedsDraw(data, point, idx, opt)) {\n      var el = new this._symbolCtor(data, idx, this._seriesScope);\n      el.traverse(updateIncrementalAndHover);\n      el.attr('position', point);\n      this.group.add(el);\n      data.setItemGraphicEl(idx, el);\n    }\n  }\n};\n\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n\n  return opt || {};\n}\n\nsymbolDrawProto.remove = function (enableAnimation) {\n  var group = this.group;\n  var data = this._data; // Incremental model do not have this._data.\n\n  if (data && enableAnimation) {\n    data.eachItemGraphicEl(function (el) {\n      el.fadeOut(function () {\n        group.remove(el);\n      });\n    });\n  } else {\n    group.removeAll();\n  }\n};\n\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  return {\n    itemStyle: seriesModel.getModel('itemStyle').getItemStyle(['color']),\n    hoverItemStyle: seriesModel.getModel('emphasis.itemStyle').getItemStyle(),\n    symbolRotate: seriesModel.get('symbolRotate'),\n    symbolOffset: seriesModel.get('symbolOffset'),\n    hoverAnimation: seriesModel.get('hoverAnimation'),\n    labelModel: seriesModel.getModel('label'),\n    hoverLabelModel: seriesModel.getModel('emphasis.label'),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\n\nvar _default = SymbolDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapView = require(\"./VisualMapView\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar layout = require(\"../../util/layout\");\n\nvar helper = require(\"./helper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PiecewiseVisualMapView = VisualMapView.extend({\n  type: 'visualMap.piecewise',\n\n  /**\n   * @protected\n   * @override\n   */\n  doRender: function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var textStyleModel = visualMapModel.textStyleModel;\n    var textFont = textStyleModel.getFont();\n    var textFill = textStyleModel.getTextColor();\n\n    var itemAlign = this._getItemAlign();\n\n    var itemSize = visualMapModel.itemSize;\n\n    var viewData = this._getViewData();\n\n    var endsText = viewData.endsText;\n    var showLabel = zrUtil.retrieve(visualMapModel.get('showLabel', true), !endsText);\n    endsText && this._renderEndsText(thisGroup, endsText[0], itemSize, showLabel, itemAlign);\n    zrUtil.each(viewData.viewPieceList, renderItem, this);\n    endsText && this._renderEndsText(thisGroup, endsText[1], itemSize, showLabel, itemAlign);\n    layout.box(visualMapModel.get('orient'), thisGroup, visualMapModel.get('itemGap'));\n    this.renderBackground(thisGroup);\n    this.positionGroup(thisGroup);\n\n    function renderItem(item) {\n      var piece = item.piece;\n      var itemGroup = new graphic.Group();\n      itemGroup.onclick = zrUtil.bind(this._onItemClick, this, piece);\n\n      this._enableHoverLink(itemGroup, item.indexInModelPieceList);\n\n      var representValue = visualMapModel.getRepresentValue(piece);\n\n      this._createItemSymbol(itemGroup, representValue, [0, 0, itemSize[0], itemSize[1]]);\n\n      if (showLabel) {\n        var visualState = this.visualMapModel.getValueState(representValue);\n        itemGroup.add(new graphic.Text({\n          style: {\n            x: itemAlign === 'right' ? -textGap : itemSize[0] + textGap,\n            y: itemSize[1] / 2,\n            text: piece.text,\n            textVerticalAlign: 'middle',\n            textAlign: itemAlign,\n            textFont: textFont,\n            textFill: textFill,\n            opacity: visualState === 'outOfRange' ? 0.5 : 1\n          }\n        }));\n      }\n\n      thisGroup.add(itemGroup);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLink: function (itemGroup, pieceIndex) {\n    itemGroup.on('mouseover', zrUtil.bind(onHoverLink, this, 'highlight')).on('mouseout', zrUtil.bind(onHoverLink, this, 'downplay'));\n\n    function onHoverLink(method) {\n      var visualMapModel = this.visualMapModel;\n      visualMapModel.option.hoverLink && this.api.dispatchAction({\n        type: method,\n        batch: helper.makeHighDownBatch(visualMapModel.findTargetDataIndices(pieceIndex), visualMapModel)\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _getItemAlign: function () {\n    var visualMapModel = this.visualMapModel;\n    var modelOption = visualMapModel.option;\n\n    if (modelOption.orient === 'vertical') {\n      return helper.getItemAlign(visualMapModel, this.api, visualMapModel.itemSize);\n    } else {\n      // horizontal, most case left unless specifying right.\n      var align = modelOption.align;\n\n      if (!align || align === 'auto') {\n        align = 'left';\n      }\n\n      return align;\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderEndsText: function (group, text, itemSize, showLabel, itemAlign) {\n    if (!text) {\n      return;\n    }\n\n    var itemGroup = new graphic.Group();\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    itemGroup.add(new graphic.Text({\n      style: {\n        x: showLabel ? itemAlign === 'right' ? itemSize[0] : 0 : itemSize[0] / 2,\n        y: itemSize[1] / 2,\n        textVerticalAlign: 'middle',\n        textAlign: showLabel ? itemAlign : 'center',\n        text: text,\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    }));\n    group.add(itemGroup);\n  },\n\n  /**\n   * @private\n   * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.\n   */\n  _getViewData: function () {\n    var visualMapModel = this.visualMapModel;\n    var viewPieceList = zrUtil.map(visualMapModel.getPieceList(), function (piece, index) {\n      return {\n        piece: piece,\n        indexInModelPieceList: index\n      };\n    });\n    var endsText = visualMapModel.get('text'); // Consider orient and inverse.\n\n    var orient = visualMapModel.get('orient');\n    var inverse = visualMapModel.get('inverse'); // Order of model pieceList is always [low, ..., high]\n\n    if (orient === 'horizontal' ? inverse : !inverse) {\n      viewPieceList.reverse();\n    } // Origin order of endsText is [high, low]\n    else if (endsText) {\n        endsText = endsText.slice().reverse();\n      }\n\n    return {\n      viewPieceList: viewPieceList,\n      endsText: endsText\n    };\n  },\n\n  /**\n   * @private\n   */\n  _createItemSymbol: function (group, representValue, shapeParam) {\n    group.add(createSymbol(this.getControllerVisual(representValue, 'symbol'), shapeParam[0], shapeParam[1], shapeParam[2], shapeParam[3], this.getControllerVisual(representValue, 'color')));\n  },\n\n  /**\n   * @private\n   */\n  _onItemClick: function (piece) {\n    var visualMapModel = this.visualMapModel;\n    var option = visualMapModel.option;\n    var selected = zrUtil.clone(option.selected);\n    var newKey = visualMapModel.getSelectedMapKey(piece);\n\n    if (option.selectedMode === 'single') {\n      selected[newKey] = true;\n      zrUtil.each(selected, function (o, key) {\n        selected[key] = key === newKey;\n      });\n    } else {\n      selected[newKey] = !selected[newKey];\n    }\n\n    this.api.dispatchAction({\n      type: 'selectDataRange',\n      from: this.uid,\n      visualMapId: this.visualMapModel.id,\n      selected: selected\n    });\n  }\n});\nvar _default = PiecewiseVisualMapView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar createHashMap = _util.createHashMap;\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.parallel',\n  dependencies: ['parallel'],\n  visualColorAccessPath: 'lineStyle.color',\n  getInitialData: function (option, ecModel) {\n    var source = this.getSource();\n    setEncodeAndDimensions(source, this);\n    return createListFromArray(source, this);\n  },\n\n  /**\n   * User can get data raw indices on 'axisAreaSelected' event received.\n   *\n   * @public\n   * @param {string} activeState 'active' or 'inactive' or 'normal'\n   * @return {Array.<number>} Raw indices\n   */\n  getRawIndicesByActiveState: function (activeState) {\n    var coordSys = this.coordinateSystem;\n    var data = this.getData();\n    var indices = [];\n    coordSys.eachActiveState(data, function (theActiveState, dataIndex) {\n      if (activeState === theActiveState) {\n        indices.push(data.getRawIndex(dataIndex));\n      }\n    });\n    return indices;\n  },\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    coordinateSystem: 'parallel',\n    parallelIndex: 0,\n    label: {\n      show: false\n    },\n    inactiveOpacity: 0.05,\n    activeOpacity: 1,\n    lineStyle: {\n      width: 1,\n      opacity: 0.45,\n      type: 'solid'\n    },\n    emphasis: {\n      label: {\n        show: false\n      }\n    },\n    progressive: 500,\n    smooth: false,\n    // true | false | number\n    animationEasing: 'linear'\n  }\n});\n\nfunction setEncodeAndDimensions(source, seriesModel) {\n  // The mapping of parallelAxis dimension to data dimension can\n  // be specified in parallelAxis.option.dim. For example, if\n  // parallelAxis.option.dim is 'dim3', it mapping to the third\n  // dimension of data. But `data.encode` has higher priority.\n  // Moreover, parallelModel.dimension should not be regarded as data\n  // dimensions. Consider dimensions = ['dim4', 'dim2', 'dim6'];\n  if (source.encodeDefine) {\n    return;\n  }\n\n  var parallelModel = seriesModel.ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n\n  if (!parallelModel) {\n    return;\n  }\n\n  var encodeDefine = source.encodeDefine = createHashMap();\n  each(parallelModel.dimensions, function (axisDim) {\n    var dataDimIndex = convertDimNameToNumber(axisDim);\n    encodeDefine.set(axisDim, dataDimIndex);\n  });\n}\n\nfunction convertDimNameToNumber(dimName) {\n  return +dimName.replace('dim', '');\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./axisPointer\");\n\nrequire(\"./tooltip/TooltipModel\");\n\nrequire(\"./tooltip/TooltipView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Better way to pack data in graphic element\n\n/**\n * @action\n * @property {string} type\n * @property {number} seriesIndex\n * @property {number} dataIndex\n * @property {number} [x]\n * @property {number} [y]\n */\necharts.registerAction({\n  type: 'showTip',\n  event: 'showTip',\n  update: 'tooltip:manuallyShowTip'\n}, // noop\nfunction () {});\necharts.registerAction({\n  type: 'hideTip',\n  event: 'hideTip',\n  update: 'tooltip:manuallyHideTip'\n}, // noop\nfunction () {});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar _model = require(\"../../util/model\");\n\nvar defaultEmphasis = _model.defaultEmphasis;\n\nvar _sourceHelper = require(\"../../data/helper/sourceHelper\");\n\nvar makeSeriesEncodeForNameBased = _sourceHelper.makeSeriesEncodeForNameBased;\n\nvar LegendVisualProvider = require(\"../../visual/LegendVisualProvider\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar FunnelSeries = echarts.extendSeriesModel({\n  type: 'series.funnel',\n  init: function (option) {\n    FunnelSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this)); // Extend labelLine emphasis\n\n    this._defaultLabelLine(option);\n  },\n  getInitialData: function (option, ecModel) {\n    return createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  },\n  _defaultLabelLine: function (option) {\n    // Extend labelLine emphasis\n    defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  },\n  // Overwrite\n  getDataParams: function (dataIndex) {\n    var data = this.getData();\n    var params = FunnelSeries.superCall(this, 'getDataParams', dataIndex);\n    var valueDim = data.mapDimension('value');\n    var sum = data.getSum(valueDim); // Percent is 0 if sum is 0\n\n    params.percent = !sum ? 0 : +(data.get(valueDim, dataIndex) / sum * 100).toFixed(2);\n    params.$vars.push('percent');\n    return params;\n  },\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    legendHoverLink: true,\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 60,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    // \n    // min: 0,\n    // max: 100,\n    minSize: '0%',\n    maxSize: '100%',\n    sort: 'descending',\n    // 'ascending', 'descending'\n    orient: 'vertical',\n    gap: 0,\n    funnelAlign: 'center',\n    label: {\n      show: true,\n      position: 'outer' // formatter: Tooltip.formatter\n\n    },\n    labelLine: {\n      show: true,\n      length: 20,\n      lineStyle: {\n        // color: ,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      // color: ,\n      borderColor: '#fff',\n      borderWidth: 1\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  }\n});\nvar _default = FunnelSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction dataToCoordSize(dataSize, dataItem) {\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map([0, 1], function (dimIdx) {\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var p1 = [];\n    var p2 = [];\n    p1[dimIdx] = val - halfSize;\n    p2[dimIdx] = val + halfSize;\n    p1[1 - dimIdx] = p2[1 - dimIdx] = dataItem[1 - dimIdx];\n    return Math.abs(this.dataToPoint(p1)[dimIdx] - this.dataToPoint(p2)[dimIdx]);\n  }, this);\n}\n\nfunction _default(coordSys) {\n  var rect = coordSys.getBoundingRect();\n  return {\n    coordSys: {\n      type: 'geo',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      zoom: coordSys.getZoom()\n    },\n    api: {\n      coord: function (data) {\n        // do not provide \"out\" and noRoam param,\n        // Compatible with this usage:\n        // echarts.util.map(item.points, api.coord)\n        return coordSys.dataToPoint(data);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar View = require(\"../View\");\n\nvar geoSourceManager = require(\"./geoSourceManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * [Geo description]\n * For backward compatibility, the orginal interface:\n * `name, map, geoJson, specialAreas, nameMap` is kept.\n *\n * @param {string|Object} name\n * @param {string} map Map type\n *        Specify the positioned areas by left, top, width, height\n * @param {Object.<string, string>} [nameMap]\n *        Specify name alias\n * @param {boolean} [invertLongitute=true]\n */\nfunction Geo(name, map, nameMap, invertLongitute) {\n  View.call(this, name);\n  /**\n   * Map type\n   * @type {string}\n   */\n\n  this.map = map;\n  var source = geoSourceManager.load(map, nameMap);\n  this._nameCoordMap = source.nameCoordMap;\n  this._regionsMap = source.regionsMap;\n  this._invertLongitute = invertLongitute == null ? true : invertLongitute;\n  /**\n   * @readOnly\n   */\n\n  this.regions = source.regions;\n  /**\n   * @type {module:zrender/src/core/BoundingRect}\n   */\n\n  this._rect = source.boundingRect;\n}\n\nGeo.prototype = {\n  constructor: Geo,\n  type: 'geo',\n\n  /**\n   * @param {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['lng', 'lat'],\n\n  /**\n   * If contain given lng,lat coord\n   * @param {Array.<number>}\n   * @readOnly\n   */\n  containCoord: function (coord) {\n    var regions = this.regions;\n\n    for (var i = 0; i < regions.length; i++) {\n      if (regions[i].contain(coord)) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * @override\n   */\n  transformTo: function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var invertLongitute = this._invertLongitute;\n    rect = rect.clone();\n\n    if (invertLongitute) {\n      // Longitute is inverted\n      rect.y = -rect.y - rect.height;\n    }\n\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    rawTransformable.decomposeTransform();\n\n    if (invertLongitute) {\n      var scale = rawTransformable.scale;\n      scale[1] = -scale[1];\n    }\n\n    rawTransformable.updateTransform();\n\n    this._updateTransform();\n  },\n\n  /**\n   * @param {string} name\n   * @return {module:echarts/coord/geo/Region}\n   */\n  getRegion: function (name) {\n    return this._regionsMap.get(name);\n  },\n  getRegionByCoord: function (coord) {\n    var regions = this.regions;\n\n    for (var i = 0; i < regions.length; i++) {\n      if (regions[i].contain(coord)) {\n        return regions[i];\n      }\n    }\n  },\n\n  /**\n   * Add geoCoord for indexing by name\n   * @param {string} name\n   * @param {Array.<number>} geoCoord\n   */\n  addGeoCoord: function (name, geoCoord) {\n    this._nameCoordMap.set(name, geoCoord);\n  },\n\n  /**\n   * Get geoCoord by name\n   * @param {string} name\n   * @return {Array.<number>}\n   */\n  getGeoCoord: function (name) {\n    return this._nameCoordMap.get(name);\n  },\n\n  /**\n   * @override\n   */\n  getBoundingRect: function () {\n    return this._rect;\n  },\n\n  /**\n   * @param {string|Array.<number>} data\n   * @param {boolean} noRoam\n   * @param {Array.<number>} [out]\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, noRoam, out) {\n    if (typeof data === 'string') {\n      // Map area name to geoCoord\n      data = this.getGeoCoord(data);\n    }\n\n    if (data) {\n      return View.prototype.dataToPoint.call(this, data, noRoam, out);\n    }\n  },\n\n  /**\n   * @override\n   */\n  convertToPixel: zrUtil.curry(doConvert, 'dataToPoint'),\n\n  /**\n   * @override\n   */\n  convertFromPixel: zrUtil.curry(doConvert, 'pointToData')\n};\nzrUtil.mixin(Geo, View);\n\nfunction doConvert(methodName, ecModel, finder, value) {\n  var geoModel = finder.geoModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = geoModel ? geoModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem // For map.\n  || (seriesModel.getReferringComponents('geo')[0] || {}).coordinateSystem : null;\n  return coordSys === this ? coordSys[methodName](value) : null;\n}\n\nvar _default = Geo;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Can only be called after coordinate system creation stage.\n * (Can be called before coordinate system update stage).\n *\n * @param {Object} opt {labelInside}\n * @return {Object} {\n *  position, rotation, labelDirection, labelOffset,\n *  tickDirection, labelRotate, z2\n * }\n */\nfunction layout(gridModel, axisModel, opt) {\n  opt = opt || {};\n  var grid = gridModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n  var rawAxisPosition = axis.position;\n  var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n  var axisDim = axis.dim;\n  var rect = grid.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var idx = {\n    left: 0,\n    right: 1,\n    top: 0,\n    bottom: 1,\n    onZero: 2\n  };\n  var axisOffset = axisModel.get('offset') || 0;\n  var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n  if (otherAxisOnZeroOf) {\n    var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n    posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n  } // Axis position\n\n\n  layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\n\n  layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\n\n  var dirMap = {\n    top: -1,\n    bottom: 1,\n    left: -1,\n    right: 1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n  layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n\n  if (axisModel.get('axisTick.inside')) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n    layout.labelDirection = -layout.labelDirection;\n  } // Special label rotation\n\n\n  var labelRotate = axisModel.get('axisLabel.rotate');\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // Over splitLine and splitArea\n\n  layout.z2 = 1;\n  return layout;\n}\n\nexports.layout = layout;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n */\nfunction updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  var pos = target.position;\n  pos[0] += dx;\n  pos[1] += dy;\n  target.dirty();\n}\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n * @param {number} controllerHost.zoom\n * @param {number} controllerHost.zoomLimit like: {min: 1, max: 2}\n */\n\n\nfunction updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var pos = target.position;\n  var scale = target.scale;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n  }\n\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom; // Keep the mouse center when scaling\n\n  pos[0] -= (zoomX - pos[0]) * (zoomScale - 1);\n  pos[1] -= (zoomY - pos[1]) * (zoomScale - 1);\n  scale[0] *= zoomScale;\n  scale[1] *= zoomScale;\n  target.dirty();\n}\n\nexports.updateViewOnPan = updateViewOnPan;\nexports.updateViewOnZoom = updateViewOnZoom;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../util/graphic\");\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Grid view\necharts.extendComponentView({\n  type: 'grid',\n  render: function (gridModel, ecModel) {\n    this.group.removeAll();\n\n    if (gridModel.get('show')) {\n      this.group.add(new graphic.Rect({\n        shape: gridModel.coordinateSystem.getRect(),\n        style: zrUtil.defaults({\n          fill: gridModel.get('backgroundColor')\n        }, gridModel.getItemStyle()),\n        silent: true,\n        z2: -1\n      }));\n    }\n  }\n});\necharts.registerPreprocessor(function (option) {\n  // Only create grid when need\n  if (option.xAxis && option.yAxis && !option.grid) {\n    option.grid = {};\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./gauge/GaugeSeries\");\n\nrequire(\"./gauge/GaugeView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar zrColor = require(\"zrender/lib/tool/color\");\n\nvar eventUtil = require(\"zrender/lib/core/event\");\n\nvar domUtil = require(\"zrender/lib/core/dom\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar formatUtil = require(\"../../util/format\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar toCamelCase = formatUtil.toCamelCase;\nvar vendors = ['', '-webkit-', '-moz-', '-o-'];\nvar gCssText = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;';\n/**\n * @param {number} duration\n * @return {string}\n * @inner\n */\n\nfunction assembleTransition(duration) {\n  var transitionCurve = 'cubic-bezier(0.23, 1, 0.32, 1)';\n  var transitionText = 'left ' + duration + 's ' + transitionCurve + ',' + 'top ' + duration + 's ' + transitionCurve;\n  return zrUtil.map(vendors, function (vendorPrefix) {\n    return vendorPrefix + 'transition:' + transitionText;\n  }).join(';');\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\n\n\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  var lineHeight = textStyleModel.get('lineHeight');\n\n  if (lineHeight == null) {\n    lineHeight = Math.round(fontSize * 3 / 2);\n  }\n\n  fontSize && cssText.push('line-height:' + lineHeight + 'px');\n  var shadowColor = textStyleModel.get('textShadowColor');\n  var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n  var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n  var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n  shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\n/**\n * @param {Object} tooltipModel\n * @return {string}\n * @inner\n */\n\n\nfunction assembleCssText(tooltipModel) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = tooltipModel.get('padding'); // Animation transition. Do not animate when transitionDuration is 0.\n\n  transitionDuration && cssText.push(assembleTransition(transitionDuration));\n\n  if (backgroundColor) {\n    if (env.canvasSupported) {\n      cssText.push('background-Color:' + backgroundColor);\n    } else {\n      // for ie\n      cssText.push('background-Color:#' + zrColor.toHex(backgroundColor));\n      cssText.push('filter:alpha(opacity=70)');\n    }\n  } // Border style\n\n\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  }); // Text style\n\n  cssText.push(assembleFont(textStyleModel)); // Padding\n\n  if (padding != null) {\n    cssText.push('padding:' + formatUtil.normalizeCssArray(padding).join('px ') + 'px');\n  }\n\n  return cssText.join(';') + ';';\n} // If not able to make, do not modify the input `out`.\n\n\nfunction makeStyleCoord(out, zr, appendToBody, zrX, zrY) {\n  var zrPainter = zr && zr.painter;\n\n  if (appendToBody) {\n    var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n\n    if (zrViewportRoot) {\n      // Some APPs might use scale on body, so we support CSS transform here.\n      domUtil.transformLocalCoord(out, zrViewportRoot, document.body, zrX, zrY);\n    }\n  } else {\n    out[0] = zrX;\n    out[1] = zrY; // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n\n    var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n\n    if (viewportRootOffset) {\n      out[0] += viewportRootOffset.offsetLeft;\n      out[1] += viewportRootOffset.offsetTop;\n    }\n  }\n\n  out[2] = out[0] / zr.getWidth(); // The ratio of left to width\n\n  out[3] = out[1] / zr.getHeight(); // The ratio of top to height\n}\n/**\n * @alias module:echarts/component/tooltip/TooltipContent\n * @param {HTMLElement} container\n * @param {ExtensionAPI} api\n * @param {Object} [opt]\n * @param {boolean} [opt.appendToBody]\n *        `false`: the DOM element will be inside the container. Default value.\n *        `true`: the DOM element will be appended to HTML body, which avoid\n *                some overflow clip but intrude outside of the container.\n * @constructor\n */\n\n\nfunction TooltipContent(container, api, opt) {\n  if (env.wxa) {\n    return null;\n  }\n\n  var el = document.createElement('div');\n  el.domBelongToZr = true;\n  this.el = el;\n  var zr = this._zr = api.getZr();\n  var appendToBody = this._appendToBody = opt && opt.appendToBody;\n  this._styleCoord = [0, 0, 0, 0]; // [left, top, left/width, top/height]\n\n  makeStyleCoord(this._styleCoord, zr, appendToBody, api.getWidth() / 2, api.getHeight() / 2);\n\n  if (appendToBody) {\n    document.body.appendChild(el);\n  } else {\n    container.appendChild(el);\n  }\n\n  this._container = container;\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout; // FIXME\n  // Is it needed to trigger zr event manually if\n  // the browser do not support `pointer-events: none`.\n\n  var self = this;\n\n  el.onmouseenter = function () {\n    // clear the timeout in hideLater and keep showing tooltip\n    if (self._enterable) {\n      clearTimeout(self._hideTimeout);\n      self._show = true;\n    }\n\n    self._inContent = true;\n  };\n\n  el.onmousemove = function (e) {\n    e = e || window.event;\n\n    if (!self._enterable) {\n      // `pointer-events: none` is set to tooltip content div\n      // if `enterable` is set as `false`, and `el.onmousemove`\n      // can not be triggered. But in browser that do not\n      // support `pointer-events`, we need to do this:\n      // Try trigger zrender event to avoid mouse\n      // in and out shape too frequently\n      var handler = zr.handler;\n      var zrViewportRoot = zr.painter.getViewportRoot();\n      eventUtil.normalizeEvent(zrViewportRoot, e, true);\n      handler.dispatch('mousemove', e);\n    }\n  };\n\n  el.onmouseleave = function () {\n    if (self._enterable) {\n      if (self._show) {\n        self.hideLater(self._hideDelay);\n      }\n    }\n\n    self._inContent = false;\n  };\n}\n\nTooltipContent.prototype = {\n  constructor: TooltipContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function (tooltipModel) {\n    // FIXME\n    // Move this logic to ec main?\n    var container = this._container;\n    var stl = container.currentStyle || document.defaultView.getComputedStyle(container);\n    var domStyle = container.style;\n\n    if (domStyle.position !== 'absolute' && stl.position !== 'absolute') {\n      domStyle.position = 'relative';\n    }\n\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveTooltipIfResized(); // Hide the tooltip\n    // PENDING\n    // this.hide();\n  },\n\n  /**\n   * when `alwaysShowContent` is true,\n   * we should move the tooltip after chart resized\n   */\n  _moveTooltipIfResized: function () {\n    var ratioX = this._styleCoord[2]; // The ratio of left to width\n\n    var ratioY = this._styleCoord[3]; // The ratio of top to height\n\n    var realX = ratioX * this._zr.getWidth();\n\n    var realY = ratioY * this._zr.getHeight();\n\n    this.moveTo(realX, realY);\n  },\n  show: function (tooltipModel) {\n    clearTimeout(this._hideTimeout);\n    var el = this.el;\n    var styleCoord = this._styleCoord;\n    el.style.cssText = gCssText + assembleCssText(tooltipModel) // Because of the reason described in:\n    // http://stackoverflow.com/questions/21125587/css3-transition-not-working-in-chrome-anymore\n    // we should set initial value to `left` and `top`.\n    + ';left:' + styleCoord[0] + 'px;top:' + styleCoord[1] + 'px;' + (tooltipModel.get('extraCssText') || '');\n    el.style.display = el.innerHTML ? 'block' : 'none'; // If mouse occasionally move over the tooltip, a mouseout event will be\n    // triggered by canvas, and cause some unexpectable result like dragging\n    // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n    // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n    // scenario.\n\n    el.style.pointerEvents = this._enterable ? 'auto' : 'none';\n    this._show = true;\n  },\n  setContent: function (content) {\n    this.el.innerHTML = content == null ? '' : content;\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var el = this.el;\n    return [el.clientWidth, el.clientHeight];\n  },\n  moveTo: function (zrX, zrY) {\n    var styleCoord = this._styleCoord;\n    makeStyleCoord(styleCoord, this._zr, this._appendToBody, zrX, zrY);\n    var style = this.el.style;\n    style.left = styleCoord[0] + 'px';\n    style.top = styleCoord[1] + 'px';\n  },\n  hide: function () {\n    this.el.style.display = 'none';\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  },\n  dispose: function () {\n    this.el.parentNode.removeChild(this.el);\n  },\n  getOuterSize: function () {\n    var width = this.el.clientWidth;\n    var height = this.el.clientHeight; // Consider browser compatibility.\n    // IE8 does not support getComputedStyle.\n\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      var stl = document.defaultView.getComputedStyle(this.el);\n\n      if (stl) {\n        width += parseInt(stl.borderLeftWidth, 10) + parseInt(stl.borderRightWidth, 10);\n        height += parseInt(stl.borderTopWidth, 10) + parseInt(stl.borderBottomWidth, 10);\n      }\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n};\nvar _default = TooltipContent;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar linkList = require(\"./helper/linkList\");\n\nvar List = require(\"./List\");\n\nvar createDimensions = require(\"./helper/createDimensions\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Tree data structure\n *\n * @module echarts/data/Tree\n */\n\n/**\n * @constructor module:echarts/data/Tree~TreeNode\n * @param {string} name\n * @param {module:echarts/data/Tree} hostTree\n */\nvar TreeNode = function (name, hostTree) {\n  /**\n   * @type {string}\n   */\n  this.name = name || '';\n  /**\n   * Depth of node\n   *\n   * @type {number}\n   * @readOnly\n   */\n\n  this.depth = 0;\n  /**\n   * Height of the subtree rooted at this node.\n   * @type {number}\n   * @readOnly\n   */\n\n  this.height = 0;\n  /**\n   * @type {module:echarts/data/Tree~TreeNode}\n   * @readOnly\n   */\n\n  this.parentNode = null;\n  /**\n   * Reference to list item.\n   * Do not persistent dataIndex outside,\n   * besause it may be changed by list.\n   * If dataIndex -1,\n   * this node is logical deleted (filtered) in list.\n   *\n   * @type {Object}\n   * @readOnly\n   */\n\n  this.dataIndex = -1;\n  /**\n   * @type {Array.<module:echarts/data/Tree~TreeNode>}\n   * @readOnly\n   */\n\n  this.children = [];\n  /**\n   * @type {Array.<module:echarts/data/Tree~TreeNode>}\n   * @pubilc\n   */\n\n  this.viewChildren = [];\n  /**\n   * @type {moduel:echarts/data/Tree}\n   * @readOnly\n   */\n\n  this.hostTree = hostTree;\n};\n\nTreeNode.prototype = {\n  constructor: TreeNode,\n\n  /**\n   * The node is removed.\n   * @return {boolean} is removed.\n   */\n  isRemoved: function () {\n    return this.dataIndex < 0;\n  },\n\n  /**\n   * Travel this subtree (include this node).\n   * Usage:\n   *    node.eachNode(function () { ... }); // preorder\n   *    node.eachNode('preorder', function () { ... }); // preorder\n   *    node.eachNode('postorder', function () { ... }); // postorder\n   *    node.eachNode(\n   *        {order: 'postorder', attr: 'viewChildren'},\n   *        function () { ... }\n   *    ); // postorder\n   *\n   * @param {(Object|string)} options If string, means order.\n   * @param {string=} options.order 'preorder' or 'postorder'\n   * @param {string=} options.attr 'children' or 'viewChildren'\n   * @param {Function} cb If in preorder and return false,\n   *                      its subtree will not be visited.\n   * @param {Object} [context]\n   */\n  eachNode: function (options, cb, context) {\n    if (typeof options === 'function') {\n      context = cb;\n      cb = options;\n      options = null;\n    }\n\n    options = options || {};\n\n    if (zrUtil.isString(options)) {\n      options = {\n        order: options\n      };\n    }\n\n    var order = options.order || 'preorder';\n    var children = this[options.attr || 'children'];\n    var suppressVisitSub;\n    order === 'preorder' && (suppressVisitSub = cb.call(context, this));\n\n    for (var i = 0; !suppressVisitSub && i < children.length; i++) {\n      children[i].eachNode(options, cb, context);\n    }\n\n    order === 'postorder' && cb.call(context, this);\n  },\n\n  /**\n   * Update depth and height of this subtree.\n   *\n   * @param  {number} depth\n   */\n  updateDepthAndHeight: function (depth) {\n    var height = 0;\n    this.depth = depth;\n\n    for (var i = 0; i < this.children.length; i++) {\n      var child = this.children[i];\n      child.updateDepthAndHeight(depth + 1);\n\n      if (child.height > height) {\n        height = child.height;\n      }\n    }\n\n    this.height = height + 1;\n  },\n\n  /**\n   * @param  {string} id\n   * @return {module:echarts/data/Tree~TreeNode}\n   */\n  getNodeById: function (id) {\n    if (this.getId() === id) {\n      return this;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].getNodeById(id);\n\n      if (res) {\n        return res;\n      }\n    }\n  },\n\n  /**\n   * @param {module:echarts/data/Tree~TreeNode} node\n   * @return {boolean}\n   */\n  contains: function (node) {\n    if (node === this) {\n      return true;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].contains(node);\n\n      if (res) {\n        return res;\n      }\n    }\n  },\n\n  /**\n   * @param {boolean} includeSelf Default false.\n   * @return {Array.<module:echarts/data/Tree~TreeNode>} order: [root, child, grandchild, ...]\n   */\n  getAncestors: function (includeSelf) {\n    var ancestors = [];\n    var node = includeSelf ? this : this.parentNode;\n\n    while (node) {\n      ancestors.push(node);\n      node = node.parentNode;\n    }\n\n    ancestors.reverse();\n    return ancestors;\n  },\n\n  /**\n   * @param {string|Array=} [dimension='value'] Default 'value'. can be 0, 1, 2, 3\n   * @return {number} Value.\n   */\n  getValue: function (dimension) {\n    var data = this.hostTree.data;\n    return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n  },\n\n  /**\n   * @param {Object} layout\n   * @param {boolean=} [merge=false]\n   */\n  setLayout: function (layout, merge) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, layout, merge);\n  },\n\n  /**\n   * @return {Object} layout\n   */\n  getLayout: function () {\n    return this.hostTree.data.getItemLayout(this.dataIndex);\n  },\n\n  /**\n   * @param {string} [path]\n   * @return {module:echarts/model/Model}\n   */\n  getModel: function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var hostTree = this.hostTree;\n    var itemModel = hostTree.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  },\n\n  /**\n   * @example\n   *  setItemVisual('color', color);\n   *  setItemVisual({\n   *      'color': color\n   *  });\n   */\n  setVisual: function (key, value) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, key, value);\n  },\n\n  /**\n   * Get item visual\n   */\n  getVisual: function (key, ignoreParent) {\n    return this.hostTree.data.getItemVisual(this.dataIndex, key, ignoreParent);\n  },\n\n  /**\n   * @public\n   * @return {number}\n   */\n  getRawIndex: function () {\n    return this.hostTree.data.getRawIndex(this.dataIndex);\n  },\n\n  /**\n   * @public\n   * @return {string}\n   */\n  getId: function () {\n    return this.hostTree.data.getId(this.dataIndex);\n  },\n\n  /**\n   * if this is an ancestor of another node\n   *\n   * @public\n   * @param {TreeNode} node another node\n   * @return {boolean} if is ancestor\n   */\n  isAncestorOf: function (node) {\n    var parent = node.parentNode;\n\n    while (parent) {\n      if (parent === this) {\n        return true;\n      }\n\n      parent = parent.parentNode;\n    }\n\n    return false;\n  },\n\n  /**\n   * if this is an descendant of another node\n   *\n   * @public\n   * @param {TreeNode} node another node\n   * @return {boolean} if is descendant\n   */\n  isDescendantOf: function (node) {\n    return node !== this && node.isAncestorOf(this);\n  }\n};\n/**\n * @constructor\n * @alias module:echarts/data/Tree\n * @param {module:echarts/model/Model} hostModel\n */\n\nfunction Tree(hostModel) {\n  /**\n   * @type {module:echarts/data/Tree~TreeNode}\n   * @readOnly\n   */\n  this.root;\n  /**\n   * @type {module:echarts/data/List}\n   * @readOnly\n   */\n\n  this.data;\n  /**\n   * Index of each item is the same as the raw index of coresponding list item.\n   * @private\n   * @type {Array.<module:echarts/data/Tree~TreeNode}\n   */\n\n  this._nodes = [];\n  /**\n   * @private\n   * @readOnly\n   * @type {module:echarts/model/Model}\n   */\n\n  this.hostModel = hostModel;\n}\n\nTree.prototype = {\n  constructor: Tree,\n  type: 'tree',\n\n  /**\n   * Travel this subtree (include this node).\n   * Usage:\n   *    node.eachNode(function () { ... }); // preorder\n   *    node.eachNode('preorder', function () { ... }); // preorder\n   *    node.eachNode('postorder', function () { ... }); // postorder\n   *    node.eachNode(\n   *        {order: 'postorder', attr: 'viewChildren'},\n   *        function () { ... }\n   *    ); // postorder\n   *\n   * @param {(Object|string)} options If string, means order.\n   * @param {string=} options.order 'preorder' or 'postorder'\n   * @param {string=} options.attr 'children' or 'viewChildren'\n   * @param {Function} cb\n   * @param {Object}   [context]\n   */\n  eachNode: function (options, cb, context) {\n    this.root.eachNode(options, cb, context);\n  },\n\n  /**\n   * @param {number} dataIndex\n   * @return {module:echarts/data/Tree~TreeNode}\n   */\n  getNodeByDataIndex: function (dataIndex) {\n    var rawIndex = this.data.getRawIndex(dataIndex);\n    return this._nodes[rawIndex];\n  },\n\n  /**\n   * @param {string} name\n   * @return {module:echarts/data/Tree~TreeNode}\n   */\n  getNodeByName: function (name) {\n    return this.root.getNodeByName(name);\n  },\n\n  /**\n   * Update item available by list,\n   * when list has been performed options like 'filterSelf' or 'map'.\n   */\n  update: function () {\n    var data = this.data;\n    var nodes = this._nodes;\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n  },\n\n  /**\n   * Clear all layouts\n   */\n  clearLayouts: function () {\n    this.data.clearItemLayouts();\n  }\n};\n/**\n * data node format:\n * {\n *     name: ...\n *     value: ...\n *     children: [\n *         {\n *             name: ...\n *             value: ...\n *             children: ...\n *         },\n *         ...\n *     ]\n * }\n *\n * @static\n * @param {Object} dataRoot Root node.\n * @param {module:echarts/model/Model} hostModel\n * @return module:echarts/data/Tree\n */\n\nTree.createTree = function (dataRoot, hostModel, beforeLink) {\n  var tree = new Tree(hostModel);\n  var listData = [];\n  var dimMax = 1;\n  buildHierarchy(dataRoot);\n\n  function buildHierarchy(dataNode, parentNode) {\n    var value = dataNode.value;\n    dimMax = Math.max(dimMax, zrUtil.isArray(value) ? value.length : 1);\n    listData.push(dataNode);\n    var node = new TreeNode(dataNode.name, tree);\n    parentNode ? addChild(node, parentNode) : tree.root = node;\n\n    tree._nodes.push(node);\n\n    var children = dataNode.children;\n\n    if (children) {\n      for (var i = 0; i < children.length; i++) {\n        buildHierarchy(children[i], node);\n      }\n    }\n  }\n\n  tree.root.updateDepthAndHeight(0);\n  var dimensionsInfo = createDimensions(listData, {\n    coordDimensions: ['value'],\n    dimensionsCount: dimMax\n  });\n  var list = new List(dimensionsInfo, hostModel);\n  list.initData(listData);\n  beforeLink && beforeLink(list);\n  linkList({\n    mainData: list,\n    struct: tree,\n    structAttr: 'tree'\n  });\n  tree.update();\n  return tree;\n};\n/**\n * It is needed to consider the mess of 'list', 'hostModel' when creating a TreeNote,\n * so this function is not ready and not necessary to be public.\n *\n * @param {(module:echarts/data/Tree~TreeNode|Object)} child\n */\n\n\nfunction addChild(child, node) {\n  var children = node.children;\n\n  if (child.parentNode === node) {\n    return;\n  }\n\n  children.push(child);\n  child.parentNode = node;\n}\n\nvar _default = Tree;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapModel = require(\"./VisualMapModel\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar visualDefault = require(\"../../visual/visualDefault\");\n\nvar _number = require(\"../../util/number\");\n\nvar reformIntervals = _number.reformIntervals;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PiecewiseModel = VisualMapModel.extend({\n  type: 'visualMap.piecewise',\n\n  /**\n   * Order Rule:\n   *\n   * option.categories / option.pieces / option.text / option.selected:\n   *     If !option.inverse,\n   *     Order when vertical: ['top', ..., 'bottom'].\n   *     Order when horizontal: ['left', ..., 'right'].\n   *     If option.inverse, the meaning of\n   *     the order should be reversed.\n   *\n   * this._pieceList:\n   *     The order is always [low, ..., high].\n   *\n   * Mapping from location to low-high:\n   *     If !option.inverse\n   *     When vertical, top is high.\n   *     When horizontal, right is high.\n   *     If option.inverse, reverse.\n   */\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    selected: null,\n    // Object. If not specified, means selected.\n    // When pieces and splitNumber: {'0': true, '5': true}\n    // When categories: {'cate1': false, 'cate3': true}\n    // When selected === false, means all unselected.\n    minOpen: false,\n    // Whether include values that smaller than `min`.\n    maxOpen: false,\n    // Whether include values that bigger than `max`.\n    align: 'auto',\n    // 'auto', 'left', 'right'\n    itemWidth: 20,\n    // When put the controller vertically, it is the length of\n    // horizontal side of each item. Otherwise, vertical side.\n    itemHeight: 14,\n    // When put the controller vertically, it is the length of\n    // vertical side of each item. Otherwise, horizontal side.\n    itemSymbol: 'roundRect',\n    pieceList: null,\n    // Each item is Object, with some of those attrs:\n    // {min, max, lt, gt, lte, gte, value,\n    // color, colorSaturation, colorAlpha, opacity,\n    // symbol, symbolSize}, which customize the range or visual\n    // coding of the certain piece. Besides, see \"Order Rule\".\n    categories: null,\n    // category names, like: ['some1', 'some2', 'some3'].\n    // Attr min/max are ignored when categories set. See \"Order Rule\"\n    splitNumber: 5,\n    // If set to 5, auto split five pieces equally.\n    // If set to 0 and component type not set, component type will be\n    // determined as \"continuous\". (It is less reasonable but for ec2\n    // compatibility, see echarts/component/visualMap/typeDefaulter)\n    selectedMode: 'multiple',\n    // Can be 'multiple' or 'single'.\n    itemGap: 10,\n    // The gap between two items, in px.\n    hoverLink: true,\n    // Enable hover highlight.\n    showLabel: null // By default, when text is used, label will hide (the logic\n    // is remained for compatibility reason)\n\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    PiecewiseModel.superApply(this, 'optionUpdated', arguments);\n    /**\n     * The order is always [low, ..., high].\n     * [{text: string, interval: Array.<number>}, ...]\n     * @private\n     * @type {Array.<Object>}\n     */\n\n    this._pieceList = [];\n    this.resetExtent();\n    /**\n     * 'pieces', 'categories', 'splitNumber'\n     * @type {string}\n     */\n\n    var mode = this._mode = this._determineMode();\n\n    resetMethods[this._mode].call(this);\n\n    this._resetSelected(newOption, isInit);\n\n    var categories = this.option.categories;\n    this.resetVisual(function (mappingOption, state) {\n      if (mode === 'categories') {\n        mappingOption.mappingMethod = 'category';\n        mappingOption.categories = zrUtil.clone(categories);\n      } else {\n        mappingOption.dataExtent = this.getExtent();\n        mappingOption.mappingMethod = 'piecewise';\n        mappingOption.pieceList = zrUtil.map(this._pieceList, function (piece) {\n          var piece = zrUtil.clone(piece);\n\n          if (state !== 'inRange') {\n            // FIXME\n            // outOfRange do not support special visual in pieces.\n            piece.visual = null;\n          }\n\n          return piece;\n        });\n      }\n    });\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  completeVisualOption: function () {\n    // Consider this case:\n    // visualMap: {\n    //      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]\n    // }\n    // where no inRange/outOfRange set but only pieces. So we should make\n    // default inRange/outOfRange for this case, otherwise visuals that only\n    // appear in `pieces` will not be taken into account in visual encoding.\n    var option = this.option;\n    var visualTypesInPieces = {};\n    var visualTypes = VisualMapping.listVisualTypes();\n    var isCategory = this.isCategory();\n    zrUtil.each(option.pieces, function (piece) {\n      zrUtil.each(visualTypes, function (visualType) {\n        if (piece.hasOwnProperty(visualType)) {\n          visualTypesInPieces[visualType] = 1;\n        }\n      });\n    });\n    zrUtil.each(visualTypesInPieces, function (v, visualType) {\n      var exists = 0;\n      zrUtil.each(this.stateList, function (state) {\n        exists |= has(option, state, visualType) || has(option.target, state, visualType);\n      }, this);\n      !exists && zrUtil.each(this.stateList, function (state) {\n        (option[state] || (option[state] = {}))[visualType] = visualDefault.get(visualType, state === 'inRange' ? 'active' : 'inactive', isCategory);\n      });\n    }, this);\n\n    function has(obj, state, visualType) {\n      return obj && obj[state] && (zrUtil.isObject(obj[state]) ? obj[state].hasOwnProperty(visualType) : obj[state] === visualType // e.g., inRange: 'symbol'\n      );\n    }\n\n    VisualMapModel.prototype.completeVisualOption.apply(this, arguments);\n  },\n  _resetSelected: function (newOption, isInit) {\n    var thisOption = this.option;\n    var pieceList = this._pieceList; // Selected do not merge but all override.\n\n    var selected = (isInit ? thisOption : newOption).selected || {};\n    thisOption.selected = selected; // Consider 'not specified' means true.\n\n    zrUtil.each(pieceList, function (piece, index) {\n      var key = this.getSelectedMapKey(piece);\n\n      if (!selected.hasOwnProperty(key)) {\n        selected[key] = true;\n      }\n    }, this);\n\n    if (thisOption.selectedMode === 'single') {\n      // Ensure there is only one selected.\n      var hasSel = false;\n      zrUtil.each(pieceList, function (piece, index) {\n        var key = this.getSelectedMapKey(piece);\n\n        if (selected[key]) {\n          hasSel ? selected[key] = false : hasSel = true;\n        }\n      }, this);\n    } // thisOption.selectedMode === 'multiple', default: all selected.\n\n  },\n\n  /**\n   * @public\n   */\n  getSelectedMapKey: function (piece) {\n    return this._mode === 'categories' ? piece.value + '' : piece.index + '';\n  },\n\n  /**\n   * @public\n   */\n  getPieceList: function () {\n    return this._pieceList;\n  },\n\n  /**\n   * @private\n   * @return {string}\n   */\n  _determineMode: function () {\n    var option = this.option;\n    return option.pieces && option.pieces.length > 0 ? 'pieces' : this.option.categories ? 'categories' : 'splitNumber';\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  setSelected: function (selected) {\n    this.option.selected = zrUtil.clone(selected);\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  getValueState: function (value) {\n    var index = VisualMapping.findPieceIndex(value, this._pieceList);\n    return index != null ? this.option.selected[this.getSelectedMapKey(this._pieceList[index])] ? 'inRange' : 'outOfRange' : 'outOfRange';\n  },\n\n  /**\n   * @public\n   * @params {number} pieceIndex piece index in visualMapModel.getPieceList()\n   * @return {Array.<Object>} [{seriesId, dataIndex: <Array.<number>>}, ...]\n   */\n  findTargetDataIndices: function (pieceIndex) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimension(data), function (value, dataIndex) {\n        // Should always base on model pieceList, because it is order sensitive.\n        var pIdx = VisualMapping.findPieceIndex(value, this._pieceList);\n        pIdx === pieceIndex && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  },\n\n  /**\n   * @private\n   * @param {Object} piece piece.value or piece.interval is required.\n   * @return {number} Can be Infinity or -Infinity\n   */\n  getRepresentValue: function (piece) {\n    var representValue;\n\n    if (this.isCategory()) {\n      representValue = piece.value;\n    } else {\n      if (piece.value != null) {\n        representValue = piece.value;\n      } else {\n        var pieceInterval = piece.interval || [];\n        representValue = pieceInterval[0] === -Infinity && pieceInterval[1] === Infinity ? 0 : (pieceInterval[0] + pieceInterval[1]) / 2;\n      }\n    }\n\n    return representValue;\n  },\n  getVisualMeta: function (getColorVisual) {\n    // Do not support category. (category axis is ordinal, numerical)\n    if (this.isCategory()) {\n      return;\n    }\n\n    var stops = [];\n    var outerColors = [];\n    var visualMapModel = this;\n\n    function setStop(interval, valueState) {\n      var representValue = visualMapModel.getRepresentValue({\n        interval: interval\n      });\n\n      if (!valueState) {\n        valueState = visualMapModel.getValueState(representValue);\n      }\n\n      var color = getColorVisual(representValue, valueState);\n\n      if (interval[0] === -Infinity) {\n        outerColors[0] = color;\n      } else if (interval[1] === Infinity) {\n        outerColors[1] = color;\n      } else {\n        stops.push({\n          value: interval[0],\n          color: color\n        }, {\n          value: interval[1],\n          color: color\n        });\n      }\n    } // Suplement\n\n\n    var pieceList = this._pieceList.slice();\n\n    if (!pieceList.length) {\n      pieceList.push({\n        interval: [-Infinity, Infinity]\n      });\n    } else {\n      var edge = pieceList[0].interval[0];\n      edge !== -Infinity && pieceList.unshift({\n        interval: [-Infinity, edge]\n      });\n      edge = pieceList[pieceList.length - 1].interval[1];\n      edge !== Infinity && pieceList.push({\n        interval: [edge, Infinity]\n      });\n    }\n\n    var curr = -Infinity;\n    zrUtil.each(pieceList, function (piece) {\n      var interval = piece.interval;\n\n      if (interval) {\n        // Fulfill gap.\n        interval[0] > curr && setStop([curr, interval[0]], 'outOfRange');\n        setStop(interval.slice());\n        curr = interval[1];\n      }\n    }, this);\n    return {\n      stops: stops,\n      outerColors: outerColors\n    };\n  }\n});\n/**\n * Key is this._mode\n * @type {Object}\n * @this {module:echarts/component/viusalMap/PiecewiseMode}\n */\n\nvar resetMethods = {\n  splitNumber: function () {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    var precision = Math.min(thisOption.precision, 20);\n    var dataExtent = this.getExtent();\n    var splitNumber = thisOption.splitNumber;\n    splitNumber = Math.max(parseInt(splitNumber, 10), 1);\n    thisOption.splitNumber = splitNumber;\n    var splitStep = (dataExtent[1] - dataExtent[0]) / splitNumber; // Precision auto-adaption\n\n    while (+splitStep.toFixed(precision) !== splitStep && precision < 5) {\n      precision++;\n    }\n\n    thisOption.precision = precision;\n    splitStep = +splitStep.toFixed(precision);\n\n    if (thisOption.minOpen) {\n      pieceList.push({\n        interval: [-Infinity, dataExtent[0]],\n        close: [0, 0]\n      });\n    }\n\n    for (var index = 0, curr = dataExtent[0]; index < splitNumber; curr += splitStep, index++) {\n      var max = index === splitNumber - 1 ? dataExtent[1] : curr + splitStep;\n      pieceList.push({\n        interval: [curr, max],\n        close: [1, 1]\n      });\n    }\n\n    if (thisOption.maxOpen) {\n      pieceList.push({\n        interval: [dataExtent[1], Infinity],\n        close: [0, 0]\n      });\n    }\n\n    reformIntervals(pieceList);\n    zrUtil.each(pieceList, function (piece, index) {\n      piece.index = index;\n      piece.text = this.formatValueText(piece.interval);\n    }, this);\n  },\n  categories: function () {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.categories, function (cate) {\n      // FIXME categorypieceListvisualMappingpieceList\n      // \n      this._pieceList.push({\n        text: this.formatValueText(cate, true),\n        value: cate\n      });\n    }, this); // See \"Order Rule\".\n\n    normalizeReverse(thisOption, this._pieceList);\n  },\n  pieces: function () {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    zrUtil.each(thisOption.pieces, function (pieceListItem, index) {\n      if (!zrUtil.isObject(pieceListItem)) {\n        pieceListItem = {\n          value: pieceListItem\n        };\n      }\n\n      var item = {\n        text: '',\n        index: index\n      };\n\n      if (pieceListItem.label != null) {\n        item.text = pieceListItem.label;\n      }\n\n      if (pieceListItem.hasOwnProperty('value')) {\n        var value = item.value = pieceListItem.value;\n        item.interval = [value, value];\n        item.close = [1, 1];\n      } else {\n        // `min` `max` is legacy option.\n        // `lt` `gt` `lte` `gte` is recommanded.\n        var interval = item.interval = [];\n        var close = item.close = [0, 0];\n        var closeList = [1, 0, 1];\n        var infinityList = [-Infinity, Infinity];\n        var useMinMax = [];\n\n        for (var lg = 0; lg < 2; lg++) {\n          var names = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][lg];\n\n          for (var i = 0; i < 3 && interval[lg] == null; i++) {\n            interval[lg] = pieceListItem[names[i]];\n            close[lg] = closeList[i];\n            useMinMax[lg] = i === 2;\n          }\n\n          interval[lg] == null && (interval[lg] = infinityList[lg]);\n        }\n\n        useMinMax[0] && interval[1] === Infinity && (close[0] = 0);\n        useMinMax[1] && interval[0] === -Infinity && (close[1] = 0);\n\n        if (interval[0] === interval[1] && close[0] && close[1]) {\n          // Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],\n          // we use value to lift the priority when min === max\n          item.value = interval[0];\n        }\n      }\n\n      item.visual = VisualMapping.retrieveVisuals(pieceListItem);\n      pieceList.push(item);\n    }, this); // See \"Order Rule\".\n\n    normalizeReverse(thisOption, pieceList); // Only pieces\n\n    reformIntervals(pieceList);\n    zrUtil.each(pieceList, function (piece) {\n      var close = piece.close;\n      var edgeSymbols = [['<', ''][close[1]], ['>', ''][close[0]]];\n      piece.text = piece.text || this.formatValueText(piece.value != null ? piece.value : piece.interval, false, edgeSymbols);\n    }, this);\n  }\n};\n\nfunction normalizeReverse(thisOption, pieceList) {\n  var inverse = thisOption.inverse;\n\n  if (thisOption.orient === 'vertical' ? !inverse : inverse) {\n    pieceList.reverse();\n  }\n}\n\nvar _default = PiecewiseModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./legend\");\n\nrequire(\"./legend/ScrollableLegendModel\");\n\nrequire(\"./legend/ScrollableLegendView\");\n\nrequire(\"./legend/scrollableLegendAction\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"../component/parallel\");\n\nrequire(\"./parallel/ParallelSeries\");\n\nrequire(\"./parallel/ParallelView\");\n\nvar parallelVisual = require(\"./parallel/parallelVisual\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerVisual(parallelVisual);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./candlestick/CandlestickSeries\");\n\nrequire(\"./candlestick/CandlestickView\");\n\nvar preprocessor = require(\"./candlestick/preprocessor\");\n\nvar candlestickVisual = require(\"./candlestick/candlestickVisual\");\n\nvar candlestickLayout = require(\"./candlestick/candlestickLayout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerPreprocessor(preprocessor);\necharts.registerVisual(candlestickVisual);\necharts.registerLayout(candlestickLayout);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../../coord/Axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar TimelineAxis = function (dim, scale, coordExtent, axisType) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * Axis model\n   * @param {module:echarts/component/TimelineModel}\n   */\n\n  this.model = null;\n};\n\nTimelineAxis.prototype = {\n  constructor: TimelineAxis,\n\n  /**\n   * @override\n   */\n  getLabelModel: function () {\n    return this.model.getModel('label');\n  },\n\n  /**\n   * @override\n   */\n  isHorizontal: function () {\n    return this.model.get('orient') === 'horizontal';\n  }\n};\nzrUtil.inherits(TimelineAxis, Axis);\nvar _default = TimelineAxis;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _graphic = require(\"../../util/graphic\");\n\nvar subPixelOptimize = _graphic.subPixelOptimize;\n\nvar createRenderPlanner = require(\"../helper/createRenderPlanner\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar retrieve2 = _util.retrieve2;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nvar LargeArr = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar _default = {\n  seriesType: 'candlestick',\n  plan: createRenderPlanner(),\n  reset: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var candleWidth = calculateCandleWidth(seriesModel, data);\n    var cDimIdx = 0;\n    var vDimIdx = 1;\n    var coordDims = ['x', 'y'];\n    var cDim = data.mapDimension(coordDims[cDimIdx]);\n    var vDims = data.mapDimension(coordDims[vDimIdx], true);\n    var openDim = vDims[0];\n    var closeDim = vDims[1];\n    var lowestDim = vDims[2];\n    var highestDim = vDims[3];\n    data.setLayout({\n      candleWidth: candleWidth,\n      // The value is experimented visually.\n      isSimpleBox: candleWidth <= 1.3\n    });\n\n    if (cDim == null || vDims.length < 4) {\n      return;\n    }\n\n    return {\n      progress: seriesModel.pipelineContext.large ? largeProgress : normalProgress\n    };\n\n    function normalProgress(params, data) {\n      var dataIndex;\n\n      while ((dataIndex = params.next()) != null) {\n        var axisDimVal = data.get(cDim, dataIndex);\n        var openVal = data.get(openDim, dataIndex);\n        var closeVal = data.get(closeDim, dataIndex);\n        var lowestVal = data.get(lowestDim, dataIndex);\n        var highestVal = data.get(highestDim, dataIndex);\n        var ocLow = Math.min(openVal, closeVal);\n        var ocHigh = Math.max(openVal, closeVal);\n        var ocLowPoint = getPoint(ocLow, axisDimVal);\n        var ocHighPoint = getPoint(ocHigh, axisDimVal);\n        var lowestPoint = getPoint(lowestVal, axisDimVal);\n        var highestPoint = getPoint(highestVal, axisDimVal);\n        var ends = [];\n        addBodyEnd(ends, ocHighPoint, 0);\n        addBodyEnd(ends, ocLowPoint, 1);\n        ends.push(subPixelOptimizePoint(highestPoint), subPixelOptimizePoint(ocHighPoint), subPixelOptimizePoint(lowestPoint), subPixelOptimizePoint(ocLowPoint));\n        data.setItemLayout(dataIndex, {\n          sign: getSign(data, dataIndex, openVal, closeVal, closeDim),\n          initBaseline: openVal > closeVal ? ocHighPoint[vDimIdx] : ocLowPoint[vDimIdx],\n          // open point.\n          ends: ends,\n          brushRect: makeBrushRect(lowestVal, highestVal, axisDimVal)\n        });\n      }\n\n      function getPoint(val, axisDimVal) {\n        var p = [];\n        p[cDimIdx] = axisDimVal;\n        p[vDimIdx] = val;\n        return isNaN(axisDimVal) || isNaN(val) ? [NaN, NaN] : coordSys.dataToPoint(p);\n      }\n\n      function addBodyEnd(ends, point, start) {\n        var point1 = point.slice();\n        var point2 = point.slice();\n        point1[cDimIdx] = subPixelOptimize(point1[cDimIdx] + candleWidth / 2, 1, false);\n        point2[cDimIdx] = subPixelOptimize(point2[cDimIdx] - candleWidth / 2, 1, true);\n        start ? ends.push(point1, point2) : ends.push(point2, point1);\n      }\n\n      function makeBrushRect(lowestVal, highestVal, axisDimVal) {\n        var pmin = getPoint(lowestVal, axisDimVal);\n        var pmax = getPoint(highestVal, axisDimVal);\n        pmin[cDimIdx] -= candleWidth / 2;\n        pmax[cDimIdx] -= candleWidth / 2;\n        return {\n          x: pmin[0],\n          y: pmin[1],\n          width: vDimIdx ? candleWidth : pmax[0] - pmin[0],\n          height: vDimIdx ? pmax[1] - pmin[1] : candleWidth\n        };\n      }\n\n      function subPixelOptimizePoint(point) {\n        point[cDimIdx] = subPixelOptimize(point[cDimIdx], 1);\n        return point;\n      }\n    }\n\n    function largeProgress(params, data) {\n      // Structure: [sign, x, yhigh, ylow, sign, x, yhigh, ylow, ...]\n      var points = new LargeArr(params.count * 4);\n      var offset = 0;\n      var point;\n      var tmpIn = [];\n      var tmpOut = [];\n      var dataIndex;\n\n      while ((dataIndex = params.next()) != null) {\n        var axisDimVal = data.get(cDim, dataIndex);\n        var openVal = data.get(openDim, dataIndex);\n        var closeVal = data.get(closeDim, dataIndex);\n        var lowestVal = data.get(lowestDim, dataIndex);\n        var highestVal = data.get(highestDim, dataIndex);\n\n        if (isNaN(axisDimVal) || isNaN(lowestVal) || isNaN(highestVal)) {\n          points[offset++] = NaN;\n          offset += 3;\n          continue;\n        }\n\n        points[offset++] = getSign(data, dataIndex, openVal, closeVal, closeDim);\n        tmpIn[cDimIdx] = axisDimVal;\n        tmpIn[vDimIdx] = lowestVal;\n        point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n        points[offset++] = point ? point[0] : NaN;\n        points[offset++] = point ? point[1] : NaN;\n        tmpIn[vDimIdx] = highestVal;\n        point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n        points[offset++] = point ? point[1] : NaN;\n      }\n\n      data.setLayout('largePoints', points);\n    }\n  }\n};\n\nfunction getSign(data, dataIndex, openVal, closeVal, closeDim) {\n  var sign;\n\n  if (openVal > closeVal) {\n    sign = -1;\n  } else if (openVal < closeVal) {\n    sign = 1;\n  } else {\n    sign = dataIndex > 0 // If close === open, compare with close of last record\n    ? data.get(closeDim, dataIndex - 1) <= closeVal ? 1 : -1 : // No record of previous, set to be positive\n    1;\n  }\n\n  return sign;\n}\n\nfunction calculateCandleWidth(seriesModel, data) {\n  var baseAxis = seriesModel.getBaseAxis();\n  var extent;\n  var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : (extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / data.count());\n  var barMaxWidth = parsePercent(retrieve2(seriesModel.get('barMaxWidth'), bandWidth), bandWidth);\n  var barMinWidth = parsePercent(retrieve2(seriesModel.get('barMinWidth'), 1), bandWidth);\n  var barWidth = seriesModel.get('barWidth');\n  return barWidth != null ? parsePercent(barWidth, bandWidth) // Put max outer to ensure bar visible in spite of overlap.\n  : Math.max(Math.min(bandWidth / 2, barMaxWidth), barMinWidth);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./dataZoomSlider\");\n\nrequire(\"./dataZoomInside\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @constructor module:echarts/coord/parallel/ParallelAxis\n * @extends {module:echarts/coord/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n */\nvar ParallelAxis = function (dim, scale, coordExtent, axisType, axisIndex) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.axisIndex = axisIndex;\n};\n\nParallelAxis.prototype = {\n  constructor: ParallelAxis,\n\n  /**\n   * Axis model\n   * @param {module:echarts/coord/parallel/AxisModel}\n   */\n  model: null,\n\n  /**\n   * @override\n   */\n  isHorizontal: function () {\n    return this.coordinateSystem.getModel().get('layout') !== 'horizontal';\n  }\n};\nzrUtil.inherits(ParallelAxis, Axis);\nvar _default = ParallelAxis;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Line = require(\"./Line\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar curveUtil = require(\"zrender/lib/core/curve\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Provide effect for line\n * @module echarts/chart/helper/EffectLine\n */\n\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Line}\n */\nfunction EffectLine(lineData, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.add(this.createLine(lineData, idx, seriesScope));\n\n  this._updateEffectSymbol(lineData, idx);\n}\n\nvar effectLineProto = EffectLine.prototype;\n\neffectLineProto.createLine = function (lineData, idx, seriesScope) {\n  return new Line(lineData, idx, seriesScope);\n};\n\neffectLineProto._updateEffectSymbol = function (lineData, idx) {\n  var itemModel = lineData.getItemModel(idx);\n  var effectModel = itemModel.getModel('effect');\n  var size = effectModel.get('symbolSize');\n  var symbolType = effectModel.get('symbol');\n\n  if (!zrUtil.isArray(size)) {\n    size = [size, size];\n  }\n\n  var color = effectModel.get('color') || lineData.getItemVisual(idx, 'color');\n  var symbol = this.childAt(1);\n\n  if (this._symbolType !== symbolType) {\n    // Remove previous\n    this.remove(symbol);\n    symbol = createSymbol(symbolType, -0.5, -0.5, 1, 1, color);\n    symbol.z2 = 100;\n    symbol.culling = true;\n    this.add(symbol);\n  } // Symbol may be removed if loop is false\n\n\n  if (!symbol) {\n    return;\n  } // Shadow color is same with color in default\n\n\n  symbol.setStyle('shadowColor', color);\n  symbol.setStyle(effectModel.getItemStyle(['color']));\n  symbol.attr('scale', size);\n  symbol.setColor(color);\n  symbol.attr('scale', size);\n  this._symbolType = symbolType;\n  this._symbolScale = size;\n\n  this._updateEffectAnimation(lineData, effectModel, idx);\n};\n\neffectLineProto._updateEffectAnimation = function (lineData, effectModel, idx) {\n  var symbol = this.childAt(1);\n\n  if (!symbol) {\n    return;\n  }\n\n  var self = this;\n  var points = lineData.getItemLayout(idx);\n  var period = effectModel.get('period') * 1000;\n  var loop = effectModel.get('loop');\n  var constantSpeed = effectModel.get('constantSpeed');\n  var delayExpr = zrUtil.retrieve(effectModel.get('delay'), function (idx) {\n    return idx / lineData.count() * period / 3;\n  });\n  var isDelayFunc = typeof delayExpr === 'function'; // Ignore when updating\n\n  symbol.ignore = true;\n  this.updateAnimationPoints(symbol, points);\n\n  if (constantSpeed > 0) {\n    period = this.getLineLength(symbol) / constantSpeed * 1000;\n  }\n\n  if (period !== this._period || loop !== this._loop) {\n    symbol.stopAnimation();\n    var delay = delayExpr;\n\n    if (isDelayFunc) {\n      delay = delayExpr(idx);\n    }\n\n    if (symbol.__t > 0) {\n      delay = -period * symbol.__t;\n    }\n\n    symbol.__t = 0;\n    var animator = symbol.animate('', loop).when(period, {\n      __t: 1\n    }).delay(delay).during(function () {\n      self.updateSymbolPosition(symbol);\n    });\n\n    if (!loop) {\n      animator.done(function () {\n        self.remove(symbol);\n      });\n    }\n\n    animator.start();\n  }\n\n  this._period = period;\n  this._loop = loop;\n};\n\neffectLineProto.getLineLength = function (symbol) {\n  // Not so accurate\n  return vec2.dist(symbol.__p1, symbol.__cp1) + vec2.dist(symbol.__cp1, symbol.__p2);\n};\n\neffectLineProto.updateAnimationPoints = function (symbol, points) {\n  symbol.__p1 = points[0];\n  symbol.__p2 = points[1];\n  symbol.__cp1 = points[2] || [(points[0][0] + points[1][0]) / 2, (points[0][1] + points[1][1]) / 2];\n};\n\neffectLineProto.updateData = function (lineData, idx, seriesScope) {\n  this.childAt(0).updateData(lineData, idx, seriesScope);\n\n  this._updateEffectSymbol(lineData, idx);\n};\n\neffectLineProto.updateSymbolPosition = function (symbol) {\n  var p1 = symbol.__p1;\n  var p2 = symbol.__p2;\n  var cp1 = symbol.__cp1;\n  var t = symbol.__t;\n  var pos = symbol.position;\n  var lastPos = [pos[0], pos[1]];\n  var quadraticAt = curveUtil.quadraticAt;\n  var quadraticDerivativeAt = curveUtil.quadraticDerivativeAt;\n  pos[0] = quadraticAt(p1[0], cp1[0], p2[0], t);\n  pos[1] = quadraticAt(p1[1], cp1[1], p2[1], t); // Tangent\n\n  var tx = quadraticDerivativeAt(p1[0], cp1[0], p2[0], t);\n  var ty = quadraticDerivativeAt(p1[1], cp1[1], p2[1], t);\n  symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2; // enable continuity trail for 'line', 'rect', 'roundRect' symbolType\n\n  if (this._symbolType === 'line' || this._symbolType === 'rect' || this._symbolType === 'roundRect') {\n    if (symbol.__lastT !== undefined && symbol.__lastT < symbol.__t) {\n      var scaleY = vec2.dist(lastPos, pos) * 1.05;\n      symbol.attr('scale', [symbol.scale[0], scaleY]); // make sure the last segment render within endPoint\n\n      if (t === 1) {\n        pos[0] = lastPos[0] + (pos[0] - lastPos[0]) / 2;\n        pos[1] = lastPos[1] + (pos[1] - lastPos[1]) / 2;\n      }\n    } else if (symbol.__lastT === 1) {\n      // After first loop, symbol.__t does NOT start with 0, so connect p1 to pos directly.\n      var scaleY = 2 * vec2.dist(p1, pos);\n      symbol.attr('scale', [symbol.scale[0], scaleY]);\n    } else {\n      symbol.attr('scale', this._symbolScale);\n    }\n  }\n\n  symbol.__lastT = symbol.__t;\n  symbol.ignore = false;\n};\n\neffectLineProto.updateLayout = function (lineData, idx) {\n  this.childAt(0).updateLayout(lineData, idx);\n  var effectModel = lineData.getItemModel(idx).getModel('effect');\n\n  this._updateEffectAnimation(lineData, effectModel, idx);\n};\n\nzrUtil.inherits(EffectLine, graphic.Group);\nvar _default = EffectLine;\nmodule.exports = _default;","// Myers' Diff Algorithm\n// Modified from https://github.com/kpdecker/jsdiff/blob/master/src/diff/base.js\nfunction Diff() {}\n\nDiff.prototype = {\n  diff: function (oldArr, newArr, equals) {\n    if (!equals) {\n      equals = function (a, b) {\n        return a === b;\n      };\n    }\n\n    this.equals = equals;\n    var self = this;\n    oldArr = oldArr.slice();\n    newArr = newArr.slice(); // Allow subclasses to massage the input prior to running\n\n    var newLen = newArr.length;\n    var oldLen = oldArr.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n    var bestPath = [{\n      newPos: -1,\n      components: []\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var oldPos = this.extractCommon(bestPath[0], newArr, oldArr, 0);\n\n    if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n      var indices = [];\n\n      for (var i = 0; i < newArr.length; i++) {\n        indices.push(i);\n      } // Identity per the equality and tokenizer\n\n\n      return [{\n        indices: indices,\n        count: newArr.length\n      }];\n    } // Main worker method. checks all permutations of a given edit length for acceptance.\n\n\n    function execEditLength() {\n      for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n        var basePath;\n        var addPath = bestPath[diagonalPath - 1];\n        var removePath = bestPath[diagonalPath + 1];\n        var oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n\n        if (addPath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = addPath && addPath.newPos + 1 < newLen;\n        var canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the new string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n\n\n        if (!canAdd || canRemove && addPath.newPos < removePath.newPos) {\n          basePath = clonePath(removePath);\n          self.pushComponent(basePath.components, undefined, true);\n        } else {\n          basePath = addPath; // No need to clone, we've pulled it from the list\n\n          basePath.newPos++;\n          self.pushComponent(basePath.components, true, undefined);\n        }\n\n        oldPos = self.extractCommon(basePath, newArr, oldArr, diagonalPath); // If we have hit the end of both strings, then we are done\n\n        if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n          return buildValues(self, basePath.components, newArr, oldArr);\n        } else {\n          // Otherwise track this path as a potential candidate and continue.\n          bestPath[diagonalPath] = basePath;\n        }\n      }\n\n      editLength++;\n    }\n\n    while (editLength <= maxEditLength) {\n      var ret = execEditLength();\n\n      if (ret) {\n        return ret;\n      }\n    }\n  },\n  pushComponent: function (components, added, removed) {\n    var last = components[components.length - 1];\n\n    if (last && last.added === added && last.removed === removed) {\n      // We need to clone here as the component clone operation is just\n      // as shallow array clone\n      components[components.length - 1] = {\n        count: last.count + 1,\n        added: added,\n        removed: removed\n      };\n    } else {\n      components.push({\n        count: 1,\n        added: added,\n        removed: removed\n      });\n    }\n  },\n  extractCommon: function (basePath, newArr, oldArr, diagonalPath) {\n    var newLen = newArr.length;\n    var oldLen = oldArr.length;\n    var newPos = basePath.newPos;\n    var oldPos = newPos - diagonalPath;\n    var commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newArr[newPos + 1], oldArr[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.components.push({\n        count: commonCount\n      });\n    }\n\n    basePath.newPos = newPos;\n    return oldPos;\n  },\n  tokenize: function (value) {\n    return value.slice();\n  },\n  join: function (value) {\n    return value.slice();\n  }\n};\n\nfunction buildValues(diff, components, newArr, oldArr) {\n  var componentPos = 0;\n  var componentLen = components.length;\n  var newPos = 0;\n  var oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      var indices = [];\n\n      for (var i = newPos; i < newPos + component.count; i++) {\n        indices.push(i);\n      }\n\n      component.indices = indices;\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      var indices = [];\n\n      for (var i = oldPos; i < oldPos + component.count; i++) {\n        indices.push(i);\n      }\n\n      component.indices = indices;\n      oldPos += component.count;\n    }\n  }\n\n  return components;\n}\n\nfunction clonePath(path) {\n  return {\n    newPos: path.newPos,\n    components: path.components.slice(0)\n  };\n}\n\nvar arrayDiff = new Diff();\n\nfunction _default(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar KEY_DELIMITER = '-->';\n/**\n * params handler\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @returns {*}\n */\n\nvar getAutoCurvenessParams = function (seriesModel) {\n  return seriesModel.get('autoCurveness') || null;\n};\n/**\n * Generate a list of edge curvatures, 20 is the default\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param {number} appendLength\n * @return  20 => [0, -0.2, 0.2, -0.4, 0.4, -0.6, 0.6, -0.8, 0.8, -1, 1, -1.2, 1.2, -1.4, 1.4, -1.6, 1.6, -1.8, 1.8, -2]\n */\n\n\nvar createCurveness = function (seriesModel, appendLength) {\n  var autoCurvenessParmas = getAutoCurvenessParams(seriesModel);\n  var length = 20;\n  var curvenessList = []; // handler the function set\n\n  if (typeof autoCurvenessParmas === 'number') {\n    length = autoCurvenessParmas;\n  } else if (zrUtil.isArray(autoCurvenessParmas)) {\n    seriesModel.__curvenessList = autoCurvenessParmas;\n    return;\n  } // append length\n\n\n  if (appendLength > length) {\n    length = appendLength;\n  } // make sure the length is even\n\n\n  var len = length % 2 ? length + 2 : length + 3;\n  curvenessList = [];\n\n  for (var i = 0; i < len; i++) {\n    curvenessList.push((i % 2 ? i + 1 : i) / 10 * (i % 2 ? -1 : 1));\n  }\n\n  seriesModel.__curvenessList = curvenessList;\n};\n/**\n * Create different cache key data in the positive and negative directions, in order to set the curvature later\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @returns {string} key\n */\n\n\nvar getKeyOfEdges = function (n1, n2, seriesModel) {\n  var source = [n1.id, n1.dataIndex].join('.');\n  var target = [n2.id, n2.dataIndex].join('.');\n  return [seriesModel.uid, source, target].join(KEY_DELIMITER);\n};\n/**\n * get opposite key\n * @param {string} key\n * @returns {string}\n */\n\n\nvar getOppositeKey = function (key) {\n  var keys = key.split(KEY_DELIMITER);\n  return [keys[0], keys[2], keys[1]].join(KEY_DELIMITER);\n};\n/**\n * get edgeMap with key\n * @param edge\n * @param {module:echarts/model/SeriesModel} seriesModel\n */\n\n\nvar getEdgeFromMap = function (edge, seriesModel) {\n  var key = getKeyOfEdges(edge.node1, edge.node2, seriesModel);\n  return seriesModel.__edgeMap[key];\n};\n/**\n * calculate all cases total length\n * @param edge\n * @param seriesModel\n * @returns {number}\n */\n\n\nvar getTotalLengthBetweenNodes = function (edge, seriesModel) {\n  var len = getEdgeMapLengthWithKey(getKeyOfEdges(edge.node1, edge.node2, seriesModel), seriesModel);\n  var lenV = getEdgeMapLengthWithKey(getKeyOfEdges(edge.node2, edge.node1, seriesModel), seriesModel);\n  return len + lenV;\n};\n/**\n *\n * @param key\n */\n\n\nvar getEdgeMapLengthWithKey = function (key, seriesModel) {\n  var edgeMap = seriesModel.__edgeMap;\n  return edgeMap[key] ? edgeMap[key].length : 0;\n};\n/**\n * Count the number of edges between the same two points, used to obtain the curvature table and the parity of the edge\n * @see /graph/GraphSeries.js@getInitialData\n * @param {module:echarts/model/SeriesModel} seriesModel\n */\n\n\nfunction initCurvenessList(seriesModel) {\n  if (!getAutoCurvenessParams(seriesModel)) {\n    return;\n  }\n\n  seriesModel.__curvenessList = [];\n  seriesModel.__edgeMap = {}; // calc the array of curveness List\n\n  createCurveness(seriesModel);\n}\n/**\n * set edgeMap with key\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param {number} index\n */\n\n\nfunction createEdgeMapForCurveness(n1, n2, seriesModel, index) {\n  if (!getAutoCurvenessParams(seriesModel)) {\n    return;\n  }\n\n  var key = getKeyOfEdges(n1, n2, seriesModel);\n  var edgeMap = seriesModel.__edgeMap;\n  var oppositeEdges = edgeMap[getOppositeKey(key)]; // set direction\n\n  if (edgeMap[key] && !oppositeEdges) {\n    edgeMap[key].isForward = true;\n  } else if (oppositeEdges && edgeMap[key]) {\n    oppositeEdges.isForward = true;\n    edgeMap[key].isForward = false;\n  }\n\n  edgeMap[key] = edgeMap[key] || [];\n  edgeMap[key].push(index);\n}\n/**\n * get curvature for edge\n * @param edge\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param index\n */\n\n\nfunction getCurvenessForEdge(edge, seriesModel, index, needReverse) {\n  var autoCurvenessParams = getAutoCurvenessParams(seriesModel);\n  var isArrayParam = zrUtil.isArray(autoCurvenessParams);\n\n  if (!autoCurvenessParams) {\n    return null;\n  }\n\n  var edgeArray = getEdgeFromMap(edge, seriesModel);\n\n  if (!edgeArray) {\n    return null;\n  }\n\n  var edgeIndex = -1;\n\n  for (var i = 0; i < edgeArray.length; i++) {\n    if (edgeArray[i] === index) {\n      edgeIndex = i;\n      break;\n    }\n  } // if totalLen is Longer createCurveness\n\n\n  var totalLen = getTotalLengthBetweenNodes(edge, seriesModel);\n  createCurveness(seriesModel, totalLen);\n  edge.lineStyle = edge.lineStyle || {}; // if is opposite edge, must set curvenss to opposite number\n\n  var curKey = getKeyOfEdges(edge.node1, edge.node2, seriesModel);\n  var curvenessList = seriesModel.__curvenessList; // if pass array no need parity\n\n  var parityCorrection = isArrayParam ? 0 : totalLen % 2 ? 0 : 1;\n\n  if (!edgeArray.isForward) {\n    // the opposite edge show outside\n    var oppositeKey = getOppositeKey(curKey);\n    var len = getEdgeMapLengthWithKey(oppositeKey, seriesModel);\n    var resValue = curvenessList[edgeIndex + len + parityCorrection]; // isNeedReverse, simple, force type need reverse the curveness in the junction of the forword and the opposite\n\n    if (needReverse) {\n      // set as array may make the parity handle with the len of opposite\n      if (isArrayParam) {\n        if (autoCurvenessParams && autoCurvenessParams[0] === 0) {\n          return (len + parityCorrection) % 2 ? resValue : -resValue;\n        } else {\n          return ((len % 2 ? 0 : 1) + parityCorrection) % 2 ? resValue : -resValue;\n        }\n      } else {\n        return (len + parityCorrection) % 2 ? resValue : -resValue;\n      }\n    } else {\n      return curvenessList[edgeIndex + len + parityCorrection];\n    }\n  } else {\n    return curvenessList[parityCorrection + edgeIndex];\n  }\n}\n\nexports.initCurvenessList = initCurvenessList;\nexports.createEdgeMapForCurveness = createEdgeMapForCurveness;\nexports.getCurvenessForEdge = getCurvenessForEdge;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar RoamController = require(\"./RoamController\");\n\nvar roamHelper = require(\"../../component/helper/roamHelper\");\n\nvar _cursorHelper = require(\"../../component/helper/cursorHelper\");\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar geoSourceManager = require(\"../../coord/geo/geoSourceManager\");\n\nvar _component = require(\"../../util/component\");\n\nvar getUID = _component.getUID;\n\nvar Transformable = require(\"zrender/lib/mixin/Transformable\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction getFixedItemStyle(model) {\n  var itemStyle = model.getItemStyle();\n  var areaColor = model.get('areaColor'); // If user want the color not to be changed when hover,\n  // they should both set areaColor and color to be null.\n\n  if (areaColor != null) {\n    itemStyle.fill = areaColor;\n  }\n\n  return itemStyle;\n}\n\nfunction updateMapSelectHandler(mapDraw, mapOrGeoModel, regionsGroup, api, fromView) {\n  regionsGroup.off('click');\n  regionsGroup.off('mousedown');\n\n  if (mapOrGeoModel.get('selectedMode')) {\n    regionsGroup.on('mousedown', function () {\n      mapDraw._mouseDownFlag = true;\n    });\n    regionsGroup.on('click', function (e) {\n      if (!mapDraw._mouseDownFlag) {\n        return;\n      }\n\n      mapDraw._mouseDownFlag = false;\n      var el = e.target;\n\n      while (!el.__regions) {\n        el = el.parent;\n      }\n\n      if (!el) {\n        return;\n      }\n\n      var action = {\n        type: (mapOrGeoModel.mainType === 'geo' ? 'geo' : 'map') + 'ToggleSelect',\n        batch: zrUtil.map(el.__regions, function (region) {\n          return {\n            name: region.name,\n            from: fromView.uid\n          };\n        })\n      };\n      action[mapOrGeoModel.mainType + 'Id'] = mapOrGeoModel.id;\n      api.dispatchAction(action);\n      updateMapSelected(mapOrGeoModel, regionsGroup);\n    });\n  }\n}\n\nfunction updateMapSelected(mapOrGeoModel, regionsGroup) {\n  // FIXME\n  regionsGroup.eachChild(function (otherRegionEl) {\n    zrUtil.each(otherRegionEl.__regions, function (region) {\n      otherRegionEl.trigger(mapOrGeoModel.isSelected(region.name) ? 'emphasis' : 'normal');\n    });\n  });\n}\n/**\n * @alias module:echarts/component/helper/MapDraw\n * @param {module:echarts/ExtensionAPI} api\n * @param {boolean} updateGroup\n */\n\n\nfunction MapDraw(api, updateGroup) {\n  var group = new graphic.Group();\n  /**\n   * @type {string}\n   * @private\n   */\n\n  this.uid = getUID('ec_map_draw');\n  /**\n   * @type {module:echarts/component/helper/RoamController}\n   * @private\n   */\n\n  this._controller = new RoamController(api.getZr());\n  /**\n   * @type {Object} {target, zoom, zoomLimit}\n   * @private\n   */\n\n  this._controllerHost = {\n    target: updateGroup ? group : null\n  };\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n\n  this.group = group;\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._updateGroup = updateGroup;\n  /**\n   * This flag is used to make sure that only one among\n   * `pan`, `zoom`, `click` can occurs, otherwise 'selected'\n   * action may be triggered when `pan`, which is unexpected.\n   * @type {booelan}\n   */\n\n  this._mouseDownFlag;\n  /**\n   * @type {string}\n   */\n\n  this._mapName;\n  /**\n   * @type {boolean}\n   */\n\n  this._initialized;\n  /**\n   * @type {module:zrender/container/Group}\n   */\n\n  group.add(this._regionsGroup = new graphic.Group());\n  /**\n   * @type {module:zrender/container/Group}\n   */\n\n  group.add(this._backgroundGroup = new graphic.Group());\n}\n\nMapDraw.prototype = {\n  constructor: MapDraw,\n  draw: function (mapOrGeoModel, ecModel, api, fromView, payload) {\n    var isGeo = mapOrGeoModel.mainType === 'geo'; // Map series has data. GEO model that controlled by map series\n    // will be assigned with map data. Other GEO model has no data.\n\n    var data = mapOrGeoModel.getData && mapOrGeoModel.getData();\n    isGeo && ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'map'\n    }, function (mapSeries) {\n      if (!data && mapSeries.getHostGeoModel() === mapOrGeoModel) {\n        data = mapSeries.getData();\n      }\n    });\n    var geo = mapOrGeoModel.coordinateSystem;\n\n    this._updateBackground(geo);\n\n    var regionsGroup = this._regionsGroup;\n    var group = this.group;\n    var transformInfo = geo.getTransformInfo(); // No animation when first draw or in action\n\n    var isFirstDraw = !regionsGroup.childAt(0) || payload;\n    var targetScale;\n\n    if (isFirstDraw) {\n      group.transform = transformInfo.roamTransform;\n      group.decomposeTransform();\n      group.dirty();\n    } else {\n      var target = new Transformable();\n      target.transform = transformInfo.roamTransform;\n      target.decomposeTransform();\n      var props = {\n        scale: target.scale,\n        position: target.position\n      };\n      targetScale = target.scale;\n      graphic.updateProps(group, props, mapOrGeoModel);\n    }\n\n    var scale = transformInfo.rawScale;\n    var position = transformInfo.rawPosition;\n    regionsGroup.removeAll();\n    var itemStyleAccessPath = ['itemStyle'];\n    var hoverItemStyleAccessPath = ['emphasis', 'itemStyle'];\n    var labelAccessPath = ['label'];\n    var hoverLabelAccessPath = ['emphasis', 'label'];\n    var nameMap = zrUtil.createHashMap();\n    zrUtil.each(geo.regions, function (region) {\n      // Consider in GeoJson properties.name may be duplicated, for example,\n      // there is multiple region named \"United Kindom\" or \"France\" (so many\n      // colonies). And it is not appropriate to merge them in geo, which\n      // will make them share the same label and bring trouble in label\n      // location calculation.\n      var regionGroup = nameMap.get(region.name) || nameMap.set(region.name, new graphic.Group());\n      var compoundPath = new graphic.CompoundPath({\n        segmentIgnoreThreshold: 1,\n        shape: {\n          paths: []\n        }\n      });\n      regionGroup.add(compoundPath);\n      var regionModel = mapOrGeoModel.getRegionModel(region.name) || mapOrGeoModel;\n      var itemStyleModel = regionModel.getModel(itemStyleAccessPath);\n      var hoverItemStyleModel = regionModel.getModel(hoverItemStyleAccessPath);\n      var itemStyle = getFixedItemStyle(itemStyleModel);\n      var hoverItemStyle = getFixedItemStyle(hoverItemStyleModel);\n      var labelModel = regionModel.getModel(labelAccessPath);\n      var hoverLabelModel = regionModel.getModel(hoverLabelAccessPath);\n      var dataIdx; // Use the itemStyle in data if has data\n\n      if (data) {\n        dataIdx = data.indexOfName(region.name); // Only visual color of each item will be used. It can be encoded by dataRange\n        // But visual color of series is used in symbol drawing\n        //\n        // Visual color for each series is for the symbol draw\n\n        var visualColor = data.getItemVisual(dataIdx, 'color', true);\n\n        if (visualColor) {\n          itemStyle.fill = visualColor;\n        }\n      }\n\n      var transformPoint = function (point) {\n        return [point[0] * scale[0] + position[0], point[1] * scale[1] + position[1]];\n      };\n\n      zrUtil.each(region.geometries, function (geometry) {\n        if (geometry.type !== 'polygon') {\n          return;\n        }\n\n        var points = [];\n\n        for (var i = 0; i < geometry.exterior.length; ++i) {\n          points.push(transformPoint(geometry.exterior[i]));\n        }\n\n        compoundPath.shape.paths.push(new graphic.Polygon({\n          segmentIgnoreThreshold: 1,\n          shape: {\n            points: points\n          }\n        }));\n\n        for (var i = 0; i < (geometry.interiors ? geometry.interiors.length : 0); ++i) {\n          var interior = geometry.interiors[i];\n          var points = [];\n\n          for (var j = 0; j < interior.length; ++j) {\n            points.push(transformPoint(interior[j]));\n          }\n\n          compoundPath.shape.paths.push(new graphic.Polygon({\n            segmentIgnoreThreshold: 1,\n            shape: {\n              points: points\n            }\n          }));\n        }\n      });\n      compoundPath.setStyle(itemStyle);\n      compoundPath.style.strokeNoScale = true;\n      compoundPath.culling = true; // Label\n\n      var showLabel = labelModel.get('show');\n      var hoverShowLabel = hoverLabelModel.get('show');\n      var isDataNaN = data && isNaN(data.get(data.mapDimension('value'), dataIdx));\n      var itemLayout = data && data.getItemLayout(dataIdx); // In the following cases label will be drawn\n      // 1. In map series and data value is NaN\n      // 2. In geo component\n      // 4. Region has no series legendSymbol, which will be add a showLabel flag in mapSymbolLayout\n\n      if (isGeo || isDataNaN && (showLabel || hoverShowLabel) || itemLayout && itemLayout.showLabel) {\n        var query = !isGeo ? dataIdx : region.name;\n        var labelFetcher; // Consider dataIdx not found.\n\n        if (!data || dataIdx >= 0) {\n          labelFetcher = mapOrGeoModel;\n        }\n\n        var textEl = new graphic.Text({\n          position: transformPoint(region.center.slice()),\n          // FIXME\n          // label rotation is not support yet in geo or regions of series-map\n          // that has no data. The rotation will be effected by this `scale`.\n          // So needed to change to RectText?\n          scale: [1 / group.scale[0], 1 / group.scale[1]],\n          z2: 10,\n          silent: true\n        });\n        graphic.setLabelStyle(textEl.style, textEl.hoverStyle = {}, labelModel, hoverLabelModel, {\n          labelFetcher: labelFetcher,\n          labelDataIndex: query,\n          defaultText: region.name,\n          useInsideStyle: false\n        }, {\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        });\n\n        if (!isFirstDraw) {\n          // Text animation\n          var textScale = [1 / targetScale[0], 1 / targetScale[1]];\n          graphic.updateProps(textEl, {\n            scale: textScale\n          }, mapOrGeoModel);\n        }\n\n        regionGroup.add(textEl);\n      } // setItemGraphicEl, setHoverStyle after all polygons and labels\n      // are added to the rigionGroup\n\n\n      if (data) {\n        data.setItemGraphicEl(dataIdx, regionGroup);\n      } else {\n        var regionModel = mapOrGeoModel.getRegionModel(region.name); // Package custom mouse event for geo component\n\n        compoundPath.eventData = {\n          componentType: 'geo',\n          componentIndex: mapOrGeoModel.componentIndex,\n          geoIndex: mapOrGeoModel.componentIndex,\n          name: region.name,\n          region: regionModel && regionModel.option || {}\n        };\n      }\n\n      var groupRegions = regionGroup.__regions || (regionGroup.__regions = []);\n      groupRegions.push(region);\n      regionGroup.highDownSilentOnTouch = !!mapOrGeoModel.get('selectedMode');\n      graphic.setHoverStyle(regionGroup, hoverItemStyle);\n      regionsGroup.add(regionGroup);\n    });\n\n    this._updateController(mapOrGeoModel, ecModel, api);\n\n    updateMapSelectHandler(this, mapOrGeoModel, regionsGroup, api, fromView);\n    updateMapSelected(mapOrGeoModel, regionsGroup);\n  },\n  remove: function () {\n    this._regionsGroup.removeAll();\n\n    this._backgroundGroup.removeAll();\n\n    this._controller.dispose();\n\n    this._mapName && geoSourceManager.removeGraphic(this._mapName, this.uid);\n    this._mapName = null;\n    this._controllerHost = {};\n  },\n  _updateBackground: function (geo) {\n    var mapName = geo.map;\n\n    if (this._mapName !== mapName) {\n      zrUtil.each(geoSourceManager.makeGraphic(mapName, this.uid), function (root) {\n        this._backgroundGroup.add(root);\n      }, this);\n    }\n\n    this._mapName = mapName;\n  },\n  _updateController: function (mapOrGeoModel, ecModel, api) {\n    var geo = mapOrGeoModel.coordinateSystem;\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    controllerHost.zoomLimit = mapOrGeoModel.get('scaleLimit');\n    controllerHost.zoom = geo.getZoom(); // roamType is will be set default true if it is null\n\n    controller.enable(mapOrGeoModel.get('roam') || false);\n    var mainType = mapOrGeoModel.mainType;\n\n    function makeActionBase() {\n      var action = {\n        type: 'geoRoam',\n        componentType: mainType\n      };\n      action[mainType + 'Id'] = mapOrGeoModel.id;\n      return action;\n    }\n\n    controller.off('pan').on('pan', function (e) {\n      this._mouseDownFlag = false;\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\n        dx: e.dx,\n        dy: e.dy\n      }));\n    }, this);\n    controller.off('zoom').on('zoom', function (e) {\n      this._mouseDownFlag = false;\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      }));\n\n      if (this._updateGroup) {\n        var scale = this.group.scale;\n\n        this._regionsGroup.traverse(function (el) {\n          if (el.type === 'text') {\n            el.attr('scale', [1 / scale[0], 1 / scale[1]]);\n          }\n        });\n      }\n    }, this);\n    controller.setPointerChecker(function (e, x, y) {\n      return geo.getViewRectAfterRoam().contain(x, y) && !onIrrelevantElement(e, api, mapOrGeoModel);\n    });\n  }\n};\nvar _default = MapDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel, payload) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n\n    if (nodes.length) {\n      var minValue = Infinity;\n      var maxValue = -Infinity;\n      zrUtil.each(nodes, function (node) {\n        var nodeValue = node.getLayout().value;\n\n        if (nodeValue < minValue) {\n          minValue = nodeValue;\n        }\n\n        if (nodeValue > maxValue) {\n          maxValue = nodeValue;\n        }\n      });\n      zrUtil.each(nodes, function (node) {\n        var mapping = new VisualMapping({\n          type: 'color',\n          mappingMethod: 'linear',\n          dataExtent: [minValue, maxValue],\n          visual: seriesModel.get('color')\n        });\n        var mapValueToColor = mapping.mapValueToVisual(node.getLayout().value);\n        var customColor = node.getModel().get('itemStyle.color');\n        customColor != null ? node.setVisual('color', customColor) : node.setVisual('color', mapValueToColor);\n      });\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar layoutUtil = require(\"../../util/layout\");\n\nvar LegendView = require(\"./LegendView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\nvar ScrollableLegendView = LegendView.extend({\n  type: 'legend.scroll',\n  newlineDisabled: true,\n  init: function () {\n    ScrollableLegendView.superCall(this, 'init');\n    /**\n     * @private\n     * @type {number} For `scroll`.\n     */\n\n    this._currentIndex = 0;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this.group.add(this._containerGroup = new Group());\n\n    this._containerGroup.add(this.getContentGroup());\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n\n    this.group.add(this._controllerGroup = new Group());\n    /**\n     *\n     * @private\n     */\n\n    this._showController;\n  },\n\n  /**\n   * @override\n   */\n  resetInner: function () {\n    ScrollableLegendView.superCall(this, 'resetInner');\n\n    this._controllerGroup.removeAll();\n\n    this._containerGroup.removeClipPath();\n\n    this._containerGroup.__rectSize = null;\n  },\n\n  /**\n   * @override\n   */\n  renderInner: function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var me = this; // Render content items.\n\n    ScrollableLegendView.superCall(this, 'renderInner', itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n    var controllerGroup = this._controllerGroup; // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n\n    var pageIconSize = legendModel.get('pageIconSize', true);\n\n    if (!zrUtil.isArray(pageIconSize)) {\n      pageIconSize = [pageIconSize, pageIconSize];\n    }\n\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        textFill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        textVerticalAlign: 'middle',\n        textAlign: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(me._pageGo, me, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSize[0] / 2,\n        y: -pageIconSize[1] / 2,\n        width: pageIconSize[0],\n        height: pageIconSize[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  },\n\n  /**\n   * @override\n   */\n  layoutInner: function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx);\n\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.attr('position', selectorPos);\n    }\n\n    return mainRect;\n  },\n  _layoutContentAndController: function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup; // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box( // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh];\n    var contentPos = [-contentRect.x, -contentRect.y]; // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup.position[orientIdx];\n    } // Layout container group based on 0.\n\n\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true)); // Place containerGroup and controllerGroup and contentGroup.\n\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true); // controller is on the right / bottom.\n\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      } // controller is on the left / top.\n      else {\n          containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n        }\n    } // Always align controller to content as 'middle'.\n\n\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.attr('position', contentPos);\n    containerGroup.attr('position', containerPos);\n    controllerGroup.attr('position', controllerPos); // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n\n    var mainRect = {\n      x: 0,\n      y: 0\n    }; // Consider content may be overflow (should be clipped).\n\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]); // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      })); // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    } // Content translate animation.\n\n\n    var pageInfo = this._getPageInfo(legendModel);\n\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      position: pageInfo.contentPosition\n    }, // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : false);\n\n    this._updatePageInfoView(legendModel, pageInfo);\n\n    return mainRect;\n  },\n  _pageGo: function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  },\n  _updatePageInfoView: function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var canJump = pageInfo[name + 'DataIndex'] != null;\n      var icon = controllerGroup.childOfName(name);\n\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current).replace('{total}', total) : pageFormatter({\n      current: current,\n      total: total\n    }));\n  },\n\n  /**\n   * @param {module:echarts/model/Model} legendModel\n   * @return {Object} {\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n  _getPageInfo: function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: contentGroup.position.slice(),\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n\n    if (!targetItem) {\n      return result;\n    }\n\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s; // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize || // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n\n          ++result.pageCount;\n        }\n      }\n\n      winEndItemInfo = currItemInfo;\n    }\n\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)) && // e.g., when page size is smaller than item size.\n      winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n\n      winStartItemInfo = currItemInfo;\n    }\n\n    return result;\n\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el.position[orientIdx];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  },\n  _findTargetItemIndex: function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex; // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  }\n});\nvar _default = ScrollableLegendView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar selector = require(\"./selector\");\n\nvar throttleUtil = require(\"../../util/throttle\");\n\nvar BrushTargetManager = require(\"../helper/BrushTargetManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar STATE_LIST = ['inBrush', 'outOfBrush'];\nvar DISPATCH_METHOD = '__ecBrushSelect';\nvar DISPATCH_FLAG = '__ecInBrushSelectEvent';\nvar PRIORITY_BRUSH = echarts.PRIORITY.VISUAL.BRUSH;\n/**\n * Layout for visual, the priority higher than other layout, and before brush visual.\n */\n\necharts.registerLayout(PRIORITY_BRUSH, function (ecModel, api, payload) {\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    payload && payload.type === 'takeGlobalCursor' && brushModel.setBrushOption(payload.key === 'brush' ? payload.brushOption : {\n      brushType: false\n    });\n  });\n  layoutCovers(ecModel);\n});\n\nfunction layoutCovers(ecModel) {\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    var brushTargetManager = brushModel.brushTargetManager = new BrushTargetManager(brushModel.option, ecModel);\n    brushTargetManager.setInputRanges(brushModel.areas, ecModel);\n  });\n}\n/**\n * Register the visual encoding if this modules required.\n */\n\n\necharts.registerVisual(PRIORITY_BRUSH, function (ecModel, api, payload) {\n  var brushSelected = [];\n  var throttleType;\n  var throttleDelay;\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel, brushIndex) {\n    var thisBrushSelected = {\n      brushId: brushModel.id,\n      brushIndex: brushIndex,\n      brushName: brushModel.name,\n      areas: zrUtil.clone(brushModel.areas),\n      selected: []\n    }; // Every brush component exists in event params, convenient\n    // for user to find by index.\n\n    brushSelected.push(thisBrushSelected);\n    var brushOption = brushModel.option;\n    var brushLink = brushOption.brushLink;\n    var linkedSeriesMap = [];\n    var selectedDataIndexForLink = [];\n    var rangeInfoBySeries = [];\n    var hasBrushExists = 0;\n\n    if (!brushIndex) {\n      // Only the first throttle setting works.\n      throttleType = brushOption.throttleType;\n      throttleDelay = brushOption.throttleDelay;\n    } // Add boundingRect and selectors to range.\n\n\n    var areas = zrUtil.map(brushModel.areas, function (area) {\n      return bindSelector(zrUtil.defaults({\n        boundingRect: boundingRectBuilders[area.brushType](area)\n      }, area));\n    });\n    var visualMappings = visualSolution.createVisualMappings(brushModel.option, STATE_LIST, function (mappingOption) {\n      mappingOption.mappingMethod = 'fixed';\n    });\n    zrUtil.isArray(brushLink) && zrUtil.each(brushLink, function (seriesIndex) {\n      linkedSeriesMap[seriesIndex] = 1;\n    });\n\n    function linkOthers(seriesIndex) {\n      return brushLink === 'all' || linkedSeriesMap[seriesIndex];\n    } // If no supported brush or no brush on the series,\n    // all visuals should be in original state.\n\n\n    function brushed(rangeInfoList) {\n      return !!rangeInfoList.length;\n    }\n    /**\n     * Logic for each series: (If the logic has to be modified one day, do it carefully!)\n     *\n     * ( brushed  && hasBrushExist  && linkOthers  ) => StepA: record,  StepB: visualByRecord.\n     *   !brushed    hasBrushExist                             nothing,        visualByRecord.\n     *                !hasBrushExist                                              nothing.\n     * ( !brushed  && hasBrushExist  && linkOthers  ) => StepA:  nothing,  StepB: visualByRecord.\n     *                !hasBrushExist                                              nothing.\n     * ( brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB: visualByCheck.\n     *   !brushed                                                                  nothing.\n     * ( !brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB:  nothing.\n     */\n    // Step A\n\n\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var rangeInfoList = rangeInfoBySeries[seriesIndex] = [];\n      seriesModel.subType === 'parallel' ? stepAParallel(seriesModel, seriesIndex, rangeInfoList) : stepAOthers(seriesModel, seriesIndex, rangeInfoList);\n    });\n\n    function stepAParallel(seriesModel, seriesIndex) {\n      var coordSys = seriesModel.coordinateSystem;\n      hasBrushExists |= coordSys.hasAxisBrushed();\n      linkOthers(seriesIndex) && coordSys.eachActiveState(seriesModel.getData(), function (activeState, dataIndex) {\n        activeState === 'active' && (selectedDataIndexForLink[dataIndex] = 1);\n      });\n    }\n\n    function stepAOthers(seriesModel, seriesIndex, rangeInfoList) {\n      var selectorsByBrushType = getSelectorsByBrushType(seriesModel);\n\n      if (!selectorsByBrushType || brushModelNotControll(brushModel, seriesIndex)) {\n        return;\n      }\n\n      zrUtil.each(areas, function (area) {\n        selectorsByBrushType[area.brushType] && brushModel.brushTargetManager.controlSeries(area, seriesModel, ecModel) && rangeInfoList.push(area);\n        hasBrushExists |= brushed(rangeInfoList);\n      });\n\n      if (linkOthers(seriesIndex) && brushed(rangeInfoList)) {\n        var data = seriesModel.getData();\n        data.each(function (dataIndex) {\n          if (checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex)) {\n            selectedDataIndexForLink[dataIndex] = 1;\n          }\n        });\n      }\n    } // Step B\n\n\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var seriesBrushSelected = {\n        seriesId: seriesModel.id,\n        seriesIndex: seriesIndex,\n        seriesName: seriesModel.name,\n        dataIndex: []\n      }; // Every series exists in event params, convenient\n      // for user to find series by seriesIndex.\n\n      thisBrushSelected.selected.push(seriesBrushSelected);\n      var selectorsByBrushType = getSelectorsByBrushType(seriesModel);\n      var rangeInfoList = rangeInfoBySeries[seriesIndex];\n      var data = seriesModel.getData();\n      var getValueState = linkOthers(seriesIndex) ? function (dataIndex) {\n        return selectedDataIndexForLink[dataIndex] ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      } : function (dataIndex) {\n        return checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex) ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      }; // If no supported brush or no brush, all visuals are in original state.\n\n      (linkOthers(seriesIndex) ? hasBrushExists : brushed(rangeInfoList)) && visualSolution.applyVisual(STATE_LIST, visualMappings, data, getValueState);\n    });\n  });\n  dispatchAction(api, throttleType, throttleDelay, brushSelected, payload);\n});\n\nfunction dispatchAction(api, throttleType, throttleDelay, brushSelected, payload) {\n  // This event will not be triggered when `setOpion`, otherwise dead lock may\n  // triggered when do `setOption` in event listener, which we do not find\n  // satisfactory way to solve yet. Some considered resolutions:\n  // (a) Diff with prevoius selected data ant only trigger event when changed.\n  // But store previous data and diff precisely (i.e., not only by dataIndex, but\n  // also detect value changes in selected data) might bring complexity or fragility.\n  // (b) Use spectial param like `silent` to suppress event triggering.\n  // But such kind of volatile param may be weird in `setOption`.\n  if (!payload) {\n    return;\n  }\n\n  var zr = api.getZr();\n\n  if (zr[DISPATCH_FLAG]) {\n    return;\n  }\n\n  if (!zr[DISPATCH_METHOD]) {\n    zr[DISPATCH_METHOD] = doDispatch;\n  }\n\n  var fn = throttleUtil.createOrUpdate(zr, DISPATCH_METHOD, throttleDelay, throttleType);\n  fn(api, brushSelected);\n}\n\nfunction doDispatch(api, brushSelected) {\n  if (!api.isDisposed()) {\n    var zr = api.getZr();\n    zr[DISPATCH_FLAG] = true;\n    api.dispatchAction({\n      type: 'brushSelect',\n      batch: brushSelected\n    });\n    zr[DISPATCH_FLAG] = false;\n  }\n}\n\nfunction checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex) {\n  for (var i = 0, len = rangeInfoList.length; i < len; i++) {\n    var area = rangeInfoList[i];\n\n    if (selectorsByBrushType[area.brushType](dataIndex, data, area.selectors, area)) {\n      return true;\n    }\n  }\n}\n\nfunction getSelectorsByBrushType(seriesModel) {\n  var brushSelector = seriesModel.brushSelector;\n\n  if (zrUtil.isString(brushSelector)) {\n    var sels = [];\n    zrUtil.each(selector, function (selectorsByElementType, brushType) {\n      sels[brushType] = function (dataIndex, data, selectors, area) {\n        var itemLayout = data.getItemLayout(dataIndex);\n        return selectorsByElementType[brushSelector](itemLayout, selectors, area);\n      };\n    });\n    return sels;\n  } else if (zrUtil.isFunction(brushSelector)) {\n    var bSelector = {};\n    zrUtil.each(selector, function (sel, brushType) {\n      bSelector[brushType] = brushSelector;\n    });\n    return bSelector;\n  }\n\n  return brushSelector;\n}\n\nfunction brushModelNotControll(brushModel, seriesIndex) {\n  var seriesIndices = brushModel.option.seriesIndex;\n  return seriesIndices != null && seriesIndices !== 'all' && (zrUtil.isArray(seriesIndices) ? zrUtil.indexOf(seriesIndices, seriesIndex) < 0 : seriesIndex !== seriesIndices);\n}\n\nfunction bindSelector(area) {\n  var selectors = area.selectors = {};\n  zrUtil.each(selector[area.brushType], function (selFn, elType) {\n    // Do not use function binding or curry for performance.\n    selectors[elType] = function (itemLayout) {\n      return selFn(itemLayout, selectors, area);\n    };\n  });\n  return area;\n}\n\nvar boundingRectBuilders = {\n  lineX: zrUtil.noop,\n  lineY: zrUtil.noop,\n  rect: function (area) {\n    return getBoundingRectFromMinMax(area.range);\n  },\n  polygon: function (area) {\n    var minMax;\n    var range = area.range;\n\n    for (var i = 0, len = range.length; i < len; i++) {\n      minMax = minMax || [[Infinity, -Infinity], [Infinity, -Infinity]];\n      var rg = range[i];\n      rg[0] < minMax[0][0] && (minMax[0][0] = rg[0]);\n      rg[0] > minMax[0][1] && (minMax[0][1] = rg[0]);\n      rg[1] < minMax[1][0] && (minMax[1][0] = rg[1]);\n      rg[1] > minMax[1][1] && (minMax[1][1] = rg[1]);\n    }\n\n    return minMax && getBoundingRectFromMinMax(minMax);\n  }\n};\n\nfunction getBoundingRectFromMinMax(minMax) {\n  return new BoundingRect(minMax[0][0], minMax[1][0], minMax[0][1] - minMax[0][0], minMax[1][1] - minMax[1][0]);\n}\n\nexports.layoutCovers = layoutCovers;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./effectScatter/EffectScatterSeries\");\n\nrequire(\"./effectScatter/EffectScatterView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerVisual(visualSymbol('effectScatter', 'circle'));\necharts.registerLayout(layoutPoints('effectScatter'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} finder contains {seriesIndex, dataIndex, dataIndexInside}\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} {point: [x, y], el: ...} point Will not be null.\n */\nfunction _default(finder, ecModel) {\n  var point = [];\n  var seriesIndex = finder.seriesIndex;\n  var seriesModel;\n\n  if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n    return {\n      point: []\n    };\n  }\n\n  var data = seriesModel.getData();\n  var dataIndex = modelUtil.queryDataIndex(data, finder);\n\n  if (dataIndex == null || dataIndex < 0 || zrUtil.isArray(dataIndex)) {\n    return {\n      point: []\n    };\n  }\n\n  var el = data.getItemGraphicEl(dataIndex);\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (seriesModel.getTooltipPosition) {\n    point = seriesModel.getTooltipPosition(dataIndex) || [];\n  } else if (coordSys && coordSys.dataToPoint) {\n    point = coordSys.dataToPoint(data.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n      return data.mapDimension(dim);\n    }), dataIndex, true)) || [];\n  } else if (el) {\n    // Use graphic bounding rect\n    var rect = el.getBoundingRect().clone();\n    rect.applyTransform(el.transform);\n    point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  }\n\n  return {\n    point: point,\n    el: el\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisDefault = require(\"../axisDefault\");\n\nvar Model = require(\"../../model/Model\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar valueAxisDefault = axisDefault.valueAxis;\n\nfunction defaultsShow(opt, show) {\n  return zrUtil.defaults({\n    show: show\n  }, opt);\n}\n\nvar RadarModel = echarts.extendComponentModel({\n  type: 'radar',\n  optionUpdated: function () {\n    var boundaryGap = this.get('boundaryGap');\n    var splitNumber = this.get('splitNumber');\n    var scale = this.get('scale');\n    var axisLine = this.get('axisLine');\n    var axisTick = this.get('axisTick');\n    var axisType = this.get('axisType');\n    var axisLabel = this.get('axisLabel');\n    var nameTextStyle = this.get('name');\n    var showName = this.get('name.show');\n    var nameFormatter = this.get('name.formatter');\n    var nameGap = this.get('nameGap');\n    var triggerEvent = this.get('triggerEvent');\n    var indicatorModels = zrUtil.map(this.get('indicator') || [], function (indicatorOpt) {\n      // PENDING\n      if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\n        indicatorOpt.min = 0;\n      } else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\n        indicatorOpt.max = 0;\n      }\n\n      var iNameTextStyle = nameTextStyle;\n\n      if (indicatorOpt.color != null) {\n        iNameTextStyle = zrUtil.defaults({\n          color: indicatorOpt.color\n        }, nameTextStyle);\n      } // Use same configuration\n\n\n      indicatorOpt = zrUtil.merge(zrUtil.clone(indicatorOpt), {\n        boundaryGap: boundaryGap,\n        splitNumber: splitNumber,\n        scale: scale,\n        axisLine: axisLine,\n        axisTick: axisTick,\n        axisType: axisType,\n        axisLabel: axisLabel,\n        // Compatible with 2 and use text\n        name: indicatorOpt.text,\n        nameLocation: 'end',\n        nameGap: nameGap,\n        // min: 0,\n        nameTextStyle: iNameTextStyle,\n        triggerEvent: triggerEvent\n      }, false);\n\n      if (!showName) {\n        indicatorOpt.name = '';\n      }\n\n      if (typeof nameFormatter === 'string') {\n        var indName = indicatorOpt.name;\n        indicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\n      } else if (typeof nameFormatter === 'function') {\n        indicatorOpt.name = nameFormatter(indicatorOpt.name, indicatorOpt);\n      }\n\n      var model = zrUtil.extend(new Model(indicatorOpt, null, this.ecModel), axisModelCommonMixin); // For triggerEvent.\n\n      model.mainType = 'radar';\n      model.componentIndex = this.componentIndex;\n      return model;\n    }, this);\n\n    this.getIndicatorModels = function () {\n      return indicatorModels;\n    };\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '75%',\n    startAngle: 90,\n    name: {\n      show: true // formatter: null\n      // textStyle: {}\n\n    },\n    boundaryGap: [0, 0],\n    splitNumber: 5,\n    nameGap: 15,\n    scale: false,\n    // Polygon or circle\n    shape: 'polygon',\n    axisLine: zrUtil.merge({\n      lineStyle: {\n        color: '#bbb'\n      }\n    }, valueAxisDefault.axisLine),\n    axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\n    axisTick: defaultsShow(valueAxisDefault.axisTick, false),\n    axisType: 'interval',\n    splitLine: defaultsShow(valueAxisDefault.splitLine, true),\n    splitArea: defaultsShow(valueAxisDefault.splitArea, true),\n    // {text, min, max}\n    indicator: []\n  }\n});\nvar _default = RadarModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar coordsOffsetMap = {\n  '': [32, 80],\n  // \n  '': [0, -10],\n  '': [10, 5],\n  '': [-10, 10],\n  //'': [-10, 0],\n  '': [5, 5]\n};\n\nfunction _default(mapType, region) {\n  if (mapType === 'china') {\n    var coordFix = coordsOffsetMap[region.name];\n\n    if (coordFix) {\n      var cp = region.center;\n      cp[0] += coordFix[0] / 10.5;\n      cp[1] += -coordFix[1] / (10.5 / 0.75);\n    }\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseBarSeries = require(\"./BaseBarSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = BaseBarSeries.extend({\n  type: 'series.bar',\n  dependencies: ['grid', 'polar'],\n  brushSelector: 'rect',\n\n  /**\n   * @override\n   */\n  getProgressive: function () {\n    // Do not support progressive in normal mode.\n    return this.get('large') ? this.get('progressive') : false;\n  },\n\n  /**\n   * @override\n   */\n  getProgressiveThreshold: function () {\n    // Do not support progressive in normal mode.\n    var progressiveThreshold = this.get('progressiveThreshold');\n    var largeThreshold = this.get('largeThreshold');\n\n    if (largeThreshold > progressiveThreshold) {\n      progressiveThreshold = largeThreshold;\n    }\n\n    return progressiveThreshold;\n  },\n  defaultOption: {\n    // If clipped\n    // Only available on cartesian2d\n    clip: true,\n    // If use caps on two sides of bars\n    // Only available on tangential polar bar\n    roundCap: false,\n    showBackground: false,\n    backgroundStyle: {\n      color: 'rgba(180, 180, 180, 0.2)',\n      borderColor: null,\n      borderWidth: 0,\n      borderType: 'solid',\n      borderRadius: 0,\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\n\nfunction register(key, api, handler) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  inner(zr).records || (inner(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = inner(zr).records[key] || (inner(zr).records[key] = {});\n  record.handler = handler;\n}\n\nfunction initGlobalListeners(zr, api) {\n  if (inner(zr).initialized) {\n    return;\n  }\n\n  inner(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n  useHandler('globalout', onLeave);\n\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(inner(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\n\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\n\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\n\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\n\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  }; // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction unregister(key, api) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  var record = (inner(zr).records || {})[key];\n\n  if (record) {\n    inner(zr).records[key] = null;\n  }\n}\n\nexports.register = register;\nexports.unregister = unregister;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _labelHelper = require(\"./labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\nfunction SymbolClz(data, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz.prototype;\n/**\n * @public\n * @static\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {Array.<number>} [width, height]\n */\n\nvar getSymbolSize = SymbolClz.getSymbolSize = function (data, idx) {\n  var symbolSize = data.getItemVisual(idx, 'symbolSize');\n  return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n};\n\nfunction getScale(symbolSize) {\n  return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n  // Remove paths created before\n  this.removeAll();\n  var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n  //     symbolType, -0.5, -0.5, 1, 1, color\n  // );\n  // If width/height are set too small (e.g., set to 1) on ios10\n  // and macOS Sierra, a circle stroke become a rect, no matter what\n  // the scale is set. So we set width/height as 2. See #4150.\n\n  var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, color, keepAspect);\n  symbolPath.attr({\n    z2: 100,\n    culling: true,\n    scale: getScale(symbolSize)\n  }); // Rewrite drift method\n\n  symbolPath.drift = driftSymbol;\n  this._symbolType = symbolType;\n  this.add(symbolPath);\n};\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\n\n\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n  this.childAt(0).stopAnimation(toLastFrame);\n};\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\n\n\nsymbolProto.getSymbolPath = function () {\n  return this.childAt(0);\n};\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\n\n\nsymbolProto.getScale = function () {\n  return this.childAt(0).scale;\n};\n/**\n * Highlight symbol\n */\n\n\nsymbolProto.highlight = function () {\n  this.childAt(0).trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\nsymbolProto.downplay = function () {\n  this.childAt(0).trigger('normal');\n};\n/**\n * @param {number} zlevel\n * @param {number} z\n */\n\n\nsymbolProto.setZ = function (zlevel, z) {\n  var symbolPath = this.childAt(0);\n  symbolPath.zlevel = zlevel;\n  symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n  var symbolPath = this.childAt(0);\n  symbolPath.draggable = draggable;\n  symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n};\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\n\n\nsymbolProto.updateData = function (data, idx, seriesScope) {\n  this.silent = false;\n  var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n  var seriesModel = data.hostModel;\n  var symbolSize = getSymbolSize(data, idx);\n  var isInit = symbolType !== this._symbolType;\n\n  if (isInit) {\n    var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n    this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n  } else {\n    var symbolPath = this.childAt(0);\n    symbolPath.silent = false;\n    graphic.updateProps(symbolPath, {\n      scale: getScale(symbolSize)\n    }, seriesModel, idx);\n  }\n\n  this._updateCommon(data, idx, symbolSize, seriesScope);\n\n  if (isInit) {\n    var symbolPath = this.childAt(0);\n    var fadeIn = seriesScope && seriesScope.fadeIn;\n    var target = {\n      scale: symbolPath.scale.slice()\n    };\n    fadeIn && (target.style = {\n      opacity: symbolPath.style.opacity\n    });\n    symbolPath.scale = [0, 0];\n    fadeIn && (symbolPath.style.opacity = 0);\n    graphic.initProps(symbolPath, target, seriesModel, idx);\n  }\n\n  this._seriesModel = seriesModel;\n}; // Update common properties\n\n\nvar normalStyleAccessPath = ['itemStyle'];\nvar emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\nvar normalLabelAccessPath = ['label'];\nvar emphasisLabelAccessPath = ['emphasis', 'label'];\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\n\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n  var symbolPath = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var color = data.getItemVisual(idx, 'color'); // Reset style\n\n  if (symbolPath.type !== 'image') {\n    symbolPath.useStyle({\n      strokeNoScale: true\n    });\n  } else {\n    symbolPath.setStyle({\n      opacity: 1,\n      shadowBlur: null,\n      shadowOffsetX: null,\n      shadowOffsetY: null,\n      shadowColor: null\n    });\n  }\n\n  var itemStyle = seriesScope && seriesScope.itemStyle;\n  var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n  var symbolOffset = seriesScope && seriesScope.symbolOffset;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n  var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n  var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n  if (!seriesScope || data.hasItemOption) {\n    var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n\n    itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n    hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n    symbolOffset = itemModel.getShallow('symbolOffset');\n    labelModel = itemModel.getModel(normalLabelAccessPath);\n    hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n    hoverAnimation = itemModel.getShallow('hoverAnimation');\n    cursorStyle = itemModel.getShallow('cursor');\n  } else {\n    hoverItemStyle = zrUtil.extend({}, hoverItemStyle);\n  }\n\n  var elStyle = symbolPath.style;\n  var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n  symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n  if (symbolOffset) {\n    symbolPath.attr('position', [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])]);\n  }\n\n  cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n  symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n  symbolPath.setStyle(itemStyle);\n  var opacity = data.getItemVisual(idx, 'opacity');\n\n  if (opacity != null) {\n    elStyle.opacity = opacity;\n  }\n\n  var liftZ = data.getItemVisual(idx, 'liftZ');\n  var z2Origin = symbolPath.__z2Origin;\n\n  if (liftZ != null) {\n    if (z2Origin == null) {\n      symbolPath.__z2Origin = symbolPath.z2;\n      symbolPath.z2 += liftZ;\n    }\n  } else if (z2Origin != null) {\n    symbolPath.z2 = z2Origin;\n    symbolPath.__z2Origin = null;\n  }\n\n  var useNameLabel = seriesScope && seriesScope.useNameLabel;\n  graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: idx,\n    defaultText: getLabelDefaultText,\n    isRectText: true,\n    autoColor: color\n  }); // Do not execute util needed.\n\n  function getLabelDefaultText(idx, opt) {\n    return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n  }\n\n  symbolPath.__symbolOriginalScale = getScale(symbolSize);\n  symbolPath.hoverStyle = hoverItemStyle;\n  symbolPath.highDownOnUpdate = hoverAnimation && seriesModel.isAnimationEnabled() ? highDownOnUpdate : null;\n  graphic.setHoverStyle(symbolPath);\n};\n\nfunction highDownOnUpdate(fromState, toState) {\n  // Do not support this hover animation util some scenario required.\n  // Animation can only be supported in hover layer when using `el.incremetal`.\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  if (toState === 'emphasis') {\n    var scale = this.__symbolOriginalScale;\n    var ratio = scale[1] / scale[0];\n    var emphasisOpt = {\n      scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n    }; // FIXME\n    // modify it after support stop specified animation.\n    // toState === fromState\n    //     ? (this.stopAnimation(), this.attr(emphasisOpt))\n\n    this.animateTo(emphasisOpt, 400, 'elasticOut');\n  } else if (toState === 'normal') {\n    this.animateTo({\n      scale: this.__symbolOriginalScale\n    }, 400, 'elasticOut');\n  }\n}\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\n\n\nsymbolProto.fadeOut = function (cb, opt) {\n  var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n  this.silent = symbolPath.silent = true; // Not show text when animating\n\n  !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n  graphic.updateProps(symbolPath, {\n    style: {\n      opacity: 0\n    },\n    scale: [0, 0]\n  }, this._seriesModel, this.dataIndex, cb);\n};\n\nzrUtil.inherits(SymbolClz, graphic.Group);\nvar _default = SymbolClz;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar symbolUtil = require(\"../../util/symbol\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction normalizeSymbolSize(symbolSize) {\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n\n  return symbolSize;\n}\n\nvar _default = echarts.extendChartView({\n  type: 'radar',\n  render: function (seriesModel, ecModel, api) {\n    var polar = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n\n    function createSymbol(data, idx) {\n      var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n      var color = data.getItemVisual(idx, 'color');\n\n      if (symbolType === 'none') {\n        return;\n      }\n\n      var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n      var symbolPath = symbolUtil.createSymbol(symbolType, -1, -1, 2, 2, color);\n      var symbolRotate = data.getItemVisual(idx, 'symbolRotate') || 0;\n      symbolPath.attr({\n        style: {\n          strokeNoScale: true\n        },\n        z2: 100,\n        scale: [symbolSize[0] / 2, symbolSize[1] / 2],\n        rotation: symbolRotate * Math.PI / 180 || 0\n      });\n      return symbolPath;\n    }\n\n    function updateSymbols(oldPoints, newPoints, symbolGroup, data, idx, isInit) {\n      // Simply rerender all\n      symbolGroup.removeAll();\n\n      for (var i = 0; i < newPoints.length - 1; i++) {\n        var symbolPath = createSymbol(data, idx);\n\n        if (symbolPath) {\n          symbolPath.__dimIdx = i;\n\n          if (oldPoints[i]) {\n            symbolPath.attr('position', oldPoints[i]);\n            graphic[isInit ? 'initProps' : 'updateProps'](symbolPath, {\n              position: newPoints[i]\n            }, seriesModel, idx);\n          } else {\n            symbolPath.attr('position', newPoints[i]);\n          }\n\n          symbolGroup.add(symbolPath);\n        }\n      }\n    }\n\n    function getInitialPoints(points) {\n      return zrUtil.map(points, function (pt) {\n        return [polar.cx, polar.cy];\n      });\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var points = data.getItemLayout(idx);\n\n      if (!points) {\n        return;\n      }\n\n      var polygon = new graphic.Polygon();\n      var polyline = new graphic.Polyline();\n      var target = {\n        shape: {\n          points: points\n        }\n      };\n      polygon.shape.points = getInitialPoints(points);\n      polyline.shape.points = getInitialPoints(points);\n      graphic.initProps(polygon, target, seriesModel, idx);\n      graphic.initProps(polyline, target, seriesModel, idx);\n      var itemGroup = new graphic.Group();\n      var symbolGroup = new graphic.Group();\n      itemGroup.add(polyline);\n      itemGroup.add(polygon);\n      itemGroup.add(symbolGroup);\n      updateSymbols(polyline.shape.points, points, symbolGroup, data, idx, true);\n      data.setItemGraphicEl(idx, itemGroup);\n    }).update(function (newIdx, oldIdx) {\n      var itemGroup = oldData.getItemGraphicEl(oldIdx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2);\n      var target = {\n        shape: {\n          points: data.getItemLayout(newIdx)\n        }\n      };\n\n      if (!target.shape.points) {\n        return;\n      }\n\n      updateSymbols(polyline.shape.points, target.shape.points, symbolGroup, data, newIdx, false);\n      graphic.updateProps(polyline, target, seriesModel);\n      graphic.updateProps(polygon, target, seriesModel);\n      data.setItemGraphicEl(newIdx, itemGroup);\n    }).remove(function (idx) {\n      group.remove(oldData.getItemGraphicEl(idx));\n    }).execute();\n    data.eachItemGraphicEl(function (itemGroup, idx) {\n      var itemModel = data.getItemModel(idx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2);\n      var color = data.getItemVisual(idx, 'color');\n      group.add(itemGroup);\n      polyline.useStyle(zrUtil.defaults(itemModel.getModel('lineStyle').getLineStyle(), {\n        fill: 'none',\n        stroke: color\n      }));\n      polyline.hoverStyle = itemModel.getModel('emphasis.lineStyle').getLineStyle();\n      var areaStyleModel = itemModel.getModel('areaStyle');\n      var hoverAreaStyleModel = itemModel.getModel('emphasis.areaStyle');\n      var polygonIgnore = areaStyleModel.isEmpty() && areaStyleModel.parentModel.isEmpty();\n      var hoverPolygonIgnore = hoverAreaStyleModel.isEmpty() && hoverAreaStyleModel.parentModel.isEmpty();\n      hoverPolygonIgnore = hoverPolygonIgnore && polygonIgnore;\n      polygon.ignore = polygonIgnore;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: color,\n        opacity: 0.7\n      }));\n      polygon.hoverStyle = hoverAreaStyleModel.getAreaStyle();\n      var itemStyle = itemModel.getModel('itemStyle').getItemStyle(['color']);\n      var itemHoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n      var labelModel = itemModel.getModel('label');\n      var labelHoverModel = itemModel.getModel('emphasis.label');\n      symbolGroup.eachChild(function (symbolPath) {\n        symbolPath.setStyle(itemStyle);\n        symbolPath.hoverStyle = zrUtil.clone(itemHoverStyle);\n        var defaultText = data.get(data.dimensions[symbolPath.__dimIdx], idx);\n        (defaultText == null || isNaN(defaultText)) && (defaultText = '');\n        graphic.setLabelStyle(symbolPath.style, symbolPath.hoverStyle, labelModel, labelHoverModel, {\n          labelFetcher: data.hostModel,\n          labelDataIndex: idx,\n          labelDimIndex: symbolPath.__dimIdx,\n          defaultText: defaultText,\n          autoColor: color,\n          isRectText: true\n        });\n      });\n\n      itemGroup.highDownOnUpdate = function (fromState, toState) {\n        polygon.attr('ignore', toState === 'emphasis' ? hoverPolygonIgnore : polygonIgnore);\n      };\n\n      graphic.setHoverStyle(itemGroup);\n    });\n    this._data = data;\n  },\n  remove: function () {\n    this.group.removeAll();\n    this._data = null;\n  },\n  dispose: function () {}\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar AxisView = require(\"./AxisView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitLine', 'splitArea', 'minorSplitLine'];\n\nvar _default = AxisView.extend({\n  type: 'radiusAxis',\n  axisPointerClass: 'PolarAxisPointer',\n  render: function (radiusAxisModel, ecModel) {\n    this.group.removeAll();\n\n    if (!radiusAxisModel.get('show')) {\n      return;\n    }\n\n    var radiusAxis = radiusAxisModel.axis;\n    var polar = radiusAxis.polar;\n    var angleAxis = polar.getAngleAxis();\n    var ticksCoords = radiusAxis.getTicksCoords();\n    var minorTicksCoords = radiusAxis.getMinorTicksCoords();\n    var axisAngle = angleAxis.getExtent()[0];\n    var radiusExtent = radiusAxis.getExtent();\n    var layout = layoutAxis(polar, radiusAxisModel, axisAngle);\n    var axisBuilder = new AxisBuilder(radiusAxisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    this.group.add(axisBuilder.getGroup());\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (radiusAxisModel.get(name + '.show') && !radiusAxis.scale.isBlank()) {\n        this['_' + name](radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords, minorTicksCoords);\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _splitLine: function (radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    var splitLineModel = radiusAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Circle({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: ticksCoords[i].coord\n        }\n      }));\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitLines.length; i++) {\n      this.group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length],\n          fill: null\n        }, lineStyleModel.getLineStyle()),\n        silent: true\n      }));\n    }\n  },\n\n  /**\n   * @private\n   */\n  _minorSplitLine: function (radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords, minorTicksCoords) {\n    if (!minorTicksCoords.length) {\n      return;\n    }\n\n    var minorSplitLineModel = radiusAxisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var lines = [];\n\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\n        lines.push(new graphic.Circle({\n          shape: {\n            cx: polar.cx,\n            cy: polar.cy,\n            r: minorTicksCoords[i][k].coord\n          }\n        }));\n      }\n    }\n\n    this.group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults({\n        fill: null\n      }, lineStyleModel.getLineStyle()),\n      silent: true\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _splitArea: function (radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    if (!ticksCoords.length) {\n      return;\n    }\n\n    var splitAreaModel = radiusAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var prevRadius = ticksCoords[0].coord;\n\n    for (var i = 1; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: prevRadius,\n          r: ticksCoords[i].coord,\n          startAngle: 0,\n          endAngle: Math.PI * 2\n        },\n        silent: true\n      }));\n      prevRadius = ticksCoords[i].coord;\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitAreas.length; i++) {\n      this.group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n});\n/**\n * @inner\n */\n\n\nfunction layoutAxis(polar, radiusAxisModel, axisAngle) {\n  return {\n    position: [polar.cx, polar.cy],\n    rotation: axisAngle / 180 * Math.PI,\n    labelDirection: -1,\n    tickDirection: -1,\n    nameDirection: 1,\n    labelRotate: radiusAxisModel.getModel('axisLabel').get('rotate'),\n    // Over splitLine and splitArea\n    z2: 1\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./scatter/ScatterSeries\");\n\nrequire(\"./scatter/ScatterView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import * as zrUtil from 'zrender/src/core/util';\n// In case developer forget to include grid component\necharts.registerVisual(visualSymbol('scatter', 'circle'));\necharts.registerLayout(layoutPoints('scatter')); // echarts.registerProcessor(function (ecModel, api) {\n//     ecModel.eachSeriesByType('scatter', function (seriesModel) {\n//         var data = seriesModel.getData();\n//         var coordSys = seriesModel.coordinateSystem;\n//         if (coordSys.type !== 'geo') {\n//             return;\n//         }\n//         var startPt = coordSys.pointToData([0, 0]);\n//         var endPt = coordSys.pointToData([api.getWidth(), api.getHeight()]);\n//         var dims = zrUtil.map(coordSys.dimensions, function (dim) {\n//             return data.mapDimension(dim);\n//         });\n//         var range = {};\n//         range[dims[0]] = [Math.min(startPt[0], endPt[0]), Math.max(startPt[0], endPt[0])];\n//         range[dims[1]] = [Math.min(startPt[1], endPt[1]), Math.max(startPt[1], endPt[1])];\n//         data.selectRange(range);\n//     });\n// });","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar MarkerModel = require(\"./MarkerModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = MarkerModel.extend({\n  type: 'markLine',\n  defaultOption: {\n    zlevel: 0,\n    z: 5,\n    symbol: ['circle', 'arrow'],\n    symbolSize: [8, 16],\n    //symbolRotate: 0,\n    precision: 2,\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'end',\n      distance: 5\n    },\n    lineStyle: {\n      type: 'dashed'\n    },\n    emphasis: {\n      label: {\n        show: true\n      },\n      lineStyle: {\n        width: 3\n      }\n    },\n    animationEasing: 'linear'\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createClipPath = _createClipPathFromCoordSys.createClipPath;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar NORMAL_ITEM_STYLE_PATH = ['itemStyle'];\nvar EMPHASIS_ITEM_STYLE_PATH = ['emphasis', 'itemStyle'];\nvar SKIP_PROPS = ['color', 'color0', 'borderColor', 'borderColor0'];\nvar CandlestickView = ChartView.extend({\n  type: 'candlestick',\n  render: function (seriesModel, ecModel, api) {\n    // If there is clipPath created in large mode. Remove it.\n    this.group.removeClipPath();\n\n    this._updateDrawMode(seriesModel);\n\n    this._isLargeDraw ? this._renderLarge(seriesModel) : this._renderNormal(seriesModel);\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    this._updateDrawMode(seriesModel);\n  },\n  incrementalRender: function (params, seriesModel, ecModel, api) {\n    this._isLargeDraw ? this._incrementalRenderLarge(params, seriesModel) : this._incrementalRenderNormal(params, seriesModel);\n  },\n  _updateDrawMode: function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n\n    if (this._isLargeDraw == null || isLargeDraw ^ this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n\n      this._clear();\n    }\n  },\n  _renderNormal: function (seriesModel) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var isSimpleBox = data.getLayout('isSimpleBox');\n    var needsClip = seriesModel.get('clip', true);\n    var coord = seriesModel.coordinateSystem;\n    var clipArea = coord.getArea && coord.getArea(); // There is no old data only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!this._data) {\n      group.removeAll();\n    }\n\n    data.diff(oldData).add(function (newIdx) {\n      if (data.hasValue(newIdx)) {\n        var el;\n        var itemLayout = data.getItemLayout(newIdx);\n\n        if (needsClip && isNormalBoxClipped(clipArea, itemLayout)) {\n          return;\n        }\n\n        el = createNormalBox(itemLayout, newIdx, true);\n        graphic.initProps(el, {\n          shape: {\n            points: itemLayout.ends\n          }\n        }, seriesModel, newIdx);\n        setBoxCommon(el, data, newIdx, isSimpleBox);\n        group.add(el);\n        data.setItemGraphicEl(newIdx, el);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx); // Empty data\n\n      if (!data.hasValue(newIdx)) {\n        group.remove(el);\n        return;\n      }\n\n      var itemLayout = data.getItemLayout(newIdx);\n\n      if (needsClip && isNormalBoxClipped(clipArea, itemLayout)) {\n        group.remove(el);\n        return;\n      }\n\n      if (!el) {\n        el = createNormalBox(itemLayout, newIdx);\n      } else {\n        graphic.updateProps(el, {\n          shape: {\n            points: itemLayout.ends\n          }\n        }, seriesModel, newIdx);\n      }\n\n      setBoxCommon(el, data, newIdx, isSimpleBox);\n      group.add(el);\n      data.setItemGraphicEl(newIdx, el);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  },\n  _renderLarge: function (seriesModel) {\n    this._clear();\n\n    createLarge(seriesModel, this.group);\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  },\n  _incrementalRenderNormal: function (params, seriesModel) {\n    var data = seriesModel.getData();\n    var isSimpleBox = data.getLayout('isSimpleBox');\n    var dataIndex;\n\n    while ((dataIndex = params.next()) != null) {\n      var el;\n      var itemLayout = data.getItemLayout(dataIndex);\n      el = createNormalBox(itemLayout, dataIndex);\n      setBoxCommon(el, data, dataIndex, isSimpleBox);\n      el.incremental = true;\n      this.group.add(el);\n    }\n  },\n  _incrementalRenderLarge: function (params, seriesModel) {\n    createLarge(seriesModel, this.group, true);\n  },\n  remove: function (ecModel) {\n    this._clear();\n  },\n  _clear: function () {\n    this.group.removeAll();\n    this._data = null;\n  },\n  dispose: zrUtil.noop\n});\nvar NormalBoxPath = Path.extend({\n  type: 'normalCandlestickBox',\n  shape: {},\n  buildPath: function (ctx, shape) {\n    var ends = shape.points;\n\n    if (this.__simpleBox) {\n      ctx.moveTo(ends[4][0], ends[4][1]);\n      ctx.lineTo(ends[6][0], ends[6][1]);\n    } else {\n      ctx.moveTo(ends[0][0], ends[0][1]);\n      ctx.lineTo(ends[1][0], ends[1][1]);\n      ctx.lineTo(ends[2][0], ends[2][1]);\n      ctx.lineTo(ends[3][0], ends[3][1]);\n      ctx.closePath();\n      ctx.moveTo(ends[4][0], ends[4][1]);\n      ctx.lineTo(ends[5][0], ends[5][1]);\n      ctx.moveTo(ends[6][0], ends[6][1]);\n      ctx.lineTo(ends[7][0], ends[7][1]);\n    }\n  }\n});\n\nfunction createNormalBox(itemLayout, dataIndex, isInit) {\n  var ends = itemLayout.ends;\n  return new NormalBoxPath({\n    shape: {\n      points: isInit ? transInit(ends, itemLayout) : ends\n    },\n    z2: 100\n  });\n}\n\nfunction isNormalBoxClipped(clipArea, itemLayout) {\n  var clipped = true;\n\n  for (var i = 0; i < itemLayout.ends.length; i++) {\n    // If any point are in the region.\n    if (clipArea.contain(itemLayout.ends[i][0], itemLayout.ends[i][1])) {\n      clipped = false;\n      break;\n    }\n  }\n\n  return clipped;\n}\n\nfunction setBoxCommon(el, data, dataIndex, isSimpleBox) {\n  var itemModel = data.getItemModel(dataIndex);\n  var normalItemStyleModel = itemModel.getModel(NORMAL_ITEM_STYLE_PATH);\n  var color = data.getItemVisual(dataIndex, 'color');\n  var borderColor = data.getItemVisual(dataIndex, 'borderColor') || color; // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var itemStyle = normalItemStyleModel.getItemStyle(SKIP_PROPS);\n  el.useStyle(itemStyle);\n  el.style.strokeNoScale = true;\n  el.style.fill = color;\n  el.style.stroke = borderColor;\n  el.__simpleBox = isSimpleBox;\n  var hoverStyle = itemModel.getModel(EMPHASIS_ITEM_STYLE_PATH).getItemStyle();\n  graphic.setHoverStyle(el, hoverStyle);\n}\n\nfunction transInit(points, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[1] = itemLayout.initBaseline;\n    return point;\n  });\n}\n\nvar LargeBoxPath = Path.extend({\n  type: 'largeCandlestickBox',\n  shape: {},\n  buildPath: function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n\n    for (var i = 0; i < points.length;) {\n      if (this.__sign === points[i++]) {\n        var x = points[i++];\n        ctx.moveTo(x, points[i++]);\n        ctx.lineTo(x, points[i++]);\n      } else {\n        i += 3;\n      }\n    }\n  }\n});\n\nfunction createLarge(seriesModel, group, incremental) {\n  var data = seriesModel.getData();\n  var largePoints = data.getLayout('largePoints');\n  var elP = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: 1\n  });\n  group.add(elP);\n  var elN = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: -1\n  });\n  group.add(elN);\n  setLargeStyle(1, elP, seriesModel, data);\n  setLargeStyle(-1, elN, seriesModel, data);\n\n  if (incremental) {\n    elP.incremental = true;\n    elN.incremental = true;\n  }\n}\n\nfunction setLargeStyle(sign, el, seriesModel, data) {\n  var suffix = sign > 0 ? 'P' : 'N';\n  var borderColor = data.getVisual('borderColor' + suffix) || data.getVisual('color' + suffix); // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var itemStyle = seriesModel.getModel(NORMAL_ITEM_STYLE_PATH).getItemStyle(SKIP_PROPS);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor; // No different\n  // el.style.lineWidth = .5;\n}\n\nvar _default = CandlestickView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar ChartView = require(\"../../view/Chart\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Series} seriesModel\n * @param {boolean} hasAnimation\n * @inner\n */\nfunction updateDataSelected(uid, seriesModel, hasAnimation, api) {\n  var data = seriesModel.getData();\n  var dataIndex = this.dataIndex;\n  var name = data.getName(dataIndex);\n  var selectedOffset = seriesModel.get('selectedOffset');\n  api.dispatchAction({\n    type: 'pieToggleSelect',\n    from: uid,\n    name: name,\n    seriesId: seriesModel.id\n  });\n  data.each(function (idx) {\n    toggleItemSelected(data.getItemGraphicEl(idx), data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), selectedOffset, hasAnimation);\n  });\n}\n/**\n * @param {module:zrender/graphic/Sector} el\n * @param {Object} layout\n * @param {boolean} isSelected\n * @param {number} selectedOffset\n * @param {boolean} hasAnimation\n * @inner\n */\n\n\nfunction toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n  var midAngle = (layout.startAngle + layout.endAngle) / 2;\n  var dx = Math.cos(midAngle);\n  var dy = Math.sin(midAngle);\n  var offset = isSelected ? selectedOffset : 0;\n  var position = [dx * offset, dy * offset];\n  hasAnimation // animateTo will stop revious animation like update transition\n  ? el.animate().when(200, {\n    position: position\n  }).start('bounceOut') : el.attr('position', position);\n}\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction PiePiece(data, idx) {\n  graphic.Group.call(this);\n  var sector = new graphic.Sector({\n    z2: 2\n  });\n  var polyline = new graphic.Polyline();\n  var text = new graphic.Text();\n  this.add(sector);\n  this.add(polyline);\n  this.add(text);\n  this.updateData(data, idx, true);\n}\n\nvar piePieceProto = PiePiece.prototype;\n\npiePieceProto.updateData = function (data, idx, firstCreate) {\n  var sector = this.childAt(0);\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var sectorShape = zrUtil.extend({}, layout);\n  sectorShape.label = null;\n  var animationTypeUpdate = seriesModel.getShallow('animationTypeUpdate');\n\n  if (firstCreate) {\n    sector.setShape(sectorShape);\n    var animationType = seriesModel.getShallow('animationType');\n\n    if (animationType === 'scale') {\n      sector.shape.r = layout.r0;\n      graphic.initProps(sector, {\n        shape: {\n          r: layout.r\n        }\n      }, seriesModel, idx);\n    } // Expansion\n    else {\n        sector.shape.endAngle = layout.startAngle;\n        graphic.updateProps(sector, {\n          shape: {\n            endAngle: layout.endAngle\n          }\n        }, seriesModel, idx);\n      }\n  } else {\n    if (animationTypeUpdate === 'expansion') {\n      // Sectors are set to be target shape and an overlaying clipPath is used for animation\n      sector.setShape(sectorShape);\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n  } // Update common style\n\n\n  var visualColor = data.getItemVisual(idx, 'color');\n  sector.useStyle(zrUtil.defaults({\n    lineJoin: 'bevel',\n    fill: visualColor\n  }, itemModel.getModel('itemStyle').getItemStyle()));\n  sector.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && sector.attr('cursor', cursorStyle); // Toggle selected\n\n  toggleItemSelected(this, data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), seriesModel.get('selectedOffset'), seriesModel.get('animation')); // Label and text animation should be applied only for transition type animation when update\n\n  var withAnimation = !firstCreate && animationTypeUpdate === 'transition';\n\n  this._updateLabel(data, idx, withAnimation);\n\n  this.highDownOnUpdate = !seriesModel.get('silent') ? function (fromState, toState) {\n    var hasAnimation = seriesModel.isAnimationEnabled() && itemModel.get('hoverAnimation');\n\n    if (toState === 'emphasis') {\n      labelLine.ignore = labelLine.hoverIgnore;\n      labelText.ignore = labelText.hoverIgnore; // Sector may has animation of updating data. Force to move to the last frame\n      // Or it may stopped on the wrong shape\n\n      if (hasAnimation) {\n        sector.stopAnimation(true);\n        sector.animateTo({\n          shape: {\n            r: layout.r + seriesModel.get('hoverOffset')\n          }\n        }, 300, 'elasticOut');\n      }\n    } else {\n      labelLine.ignore = labelLine.normalIgnore;\n      labelText.ignore = labelText.normalIgnore;\n\n      if (hasAnimation) {\n        sector.stopAnimation(true);\n        sector.animateTo({\n          shape: {\n            r: layout.r\n          }\n        }, 300, 'elasticOut');\n      }\n    }\n  } : null;\n  graphic.setHoverStyle(this);\n};\n\npiePieceProto._updateLabel = function (data, idx, withAnimation) {\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var labelLayout = layout.label;\n  var visualColor = data.getItemVisual(idx, 'color');\n\n  if (!labelLayout || isNaN(labelLayout.x) || isNaN(labelLayout.y)) {\n    labelText.ignore = labelText.normalIgnore = labelText.hoverIgnore = labelLine.ignore = labelLine.normalIgnore = labelLine.hoverIgnore = true;\n    return;\n  }\n\n  var targetLineShape = {\n    points: labelLayout.linePoints || [[labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]]\n  };\n  var targetTextStyle = {\n    x: labelLayout.x,\n    y: labelLayout.y\n  };\n\n  if (withAnimation) {\n    graphic.updateProps(labelLine, {\n      shape: targetLineShape\n    }, seriesModel, idx);\n    graphic.updateProps(labelText, {\n      style: targetTextStyle\n    }, seriesModel, idx);\n  } else {\n    labelLine.attr({\n      shape: targetLineShape\n    });\n    labelText.attr({\n      style: targetTextStyle\n    });\n  }\n\n  labelText.attr({\n    rotation: labelLayout.rotation,\n    origin: [labelLayout.x, labelLayout.y],\n    z2: 10\n  });\n  var labelModel = itemModel.getModel('label');\n  var labelHoverModel = itemModel.getModel('emphasis.label');\n  var labelLineModel = itemModel.getModel('labelLine');\n  var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n    labelFetcher: data.hostModel,\n    labelDataIndex: idx,\n    defaultText: labelLayout.text,\n    autoColor: visualColor,\n    useInsideStyle: !!labelLayout.inside\n  }, {\n    textAlign: labelLayout.textAlign,\n    textVerticalAlign: labelLayout.verticalAlign,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n  labelText.hoverIgnore = !labelHoverModel.get('show');\n  labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n  labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n  labelLine.setStyle({\n    stroke: visualColor,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n  labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n  var smooth = labelLineModel.get('smooth');\n\n  if (smooth && smooth === true) {\n    smooth = 0.4;\n  }\n\n  labelLine.setShape({\n    smooth: smooth\n  });\n};\n\nzrUtil.inherits(PiePiece, graphic.Group); // Pie view\n\nvar PieView = ChartView.extend({\n  type: 'pie',\n  init: function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    if (payload && payload.from === this.uid) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var hasAnimation = ecModel.get('animation');\n    var isFirstRender = !oldData;\n    var animationType = seriesModel.get('animationType');\n    var animationTypeUpdate = seriesModel.get('animationTypeUpdate');\n    var onSectorClick = zrUtil.curry(updateDataSelected, this.uid, seriesModel, hasAnimation, api);\n    var selectedMode = seriesModel.get('selectedMode');\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx); // Default expansion animation\n\n      if (isFirstRender && animationType !== 'scale') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      selectedMode && piePiece.on('click', onSectorClick);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n      if (!isFirstRender && animationTypeUpdate !== 'transition') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      piePiece.updateData(data, newIdx);\n      piePiece.off('click');\n      selectedMode && piePiece.on('click', onSectorClick);\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      group.remove(piePiece);\n    }).execute();\n\n    if (hasAnimation && data.count() > 0 && (isFirstRender ? animationType !== 'scale' : animationTypeUpdate !== 'transition')) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n      var removeClipPath = zrUtil.bind(group.removeClipPath, group);\n      group.setClipPath(this._createClipPath(shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel, isFirstRender));\n    } else {\n      // clipPath is used in first-time animation, so remove it when otherwise. See: #8994\n      group.removeClipPath();\n    }\n\n    this._data = data;\n  },\n  dispose: function () {},\n  _createClipPath: function (cx, cy, r, startAngle, clockwise, cb, seriesModel, isFirstRender) {\n    var clipPath = new graphic.Sector({\n      shape: {\n        cx: cx,\n        cy: cy,\n        r0: 0,\n        r: r,\n        startAngle: startAngle,\n        endAngle: startAngle,\n        clockwise: clockwise\n      }\n    });\n    var initOrUpdate = isFirstRender ? graphic.initProps : graphic.updateProps;\n    initOrUpdate(clipPath, {\n      shape: {\n        endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n      }\n    }, seriesModel, cb);\n    return clipPath;\n  },\n\n  /**\n   * @implement\n   */\n  containPoint: function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  }\n});\nvar _default = PieView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _multipleGraphEdgeHelper = require(\"../helper/multipleGraphEdgeHelper\");\n\nvar getCurvenessForEdge = _multipleGraphEdgeHelper.getCurvenessForEdge;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction simpleLayout(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n\n  var graph = seriesModel.getGraph();\n  graph.eachNode(function (node) {\n    var model = node.getModel();\n    node.setLayout([+model.get('x'), +model.get('y')]);\n  });\n  simpleLayoutEdge(graph, seriesModel);\n}\n\nfunction simpleLayoutEdge(graph, seriesModel) {\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get('lineStyle.curveness'), -getCurvenessForEdge(edge, seriesModel, index, true), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var points = [p1, p2];\n\n    if (+curveness) {\n      points.push([(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * curveness]);\n    }\n\n    edge.setLayout(points);\n  });\n}\n\nexports.simpleLayout = simpleLayout;\nexports.simpleLayoutEdge = simpleLayoutEdge;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Polar = require(\"./Polar\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar createScaleByModel = _axisHelper.createScaleByModel;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar getStackedDimension = _dataStackHelper.getStackedDimension;\n\nrequire(\"./PolarModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Axis scale\n\n/**\n * Resize method bound to the polar\n * @param {module:echarts/coord/polar/PolarModel} polarModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction resizePolar(polar, polarModel, api) {\n  var center = polarModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  polar.cx = parsePercent(center[0], width);\n  polar.cy = parsePercent(center[1], height);\n  var radiusAxis = polar.getRadiusAxis();\n  var size = Math.min(width, height) / 2;\n  var radius = polarModel.get('radius');\n\n  if (radius == null) {\n    radius = [0, '100%'];\n  } else if (!zrUtil.isArray(radius)) {\n    // r0 = 0\n    radius = [0, radius];\n  }\n\n  radius = [parsePercent(radius[0], size), parsePercent(radius[1], size)];\n  radiusAxis.inverse ? radiusAxis.setExtent(radius[1], radius[0]) : radiusAxis.setExtent(radius[0], radius[1]);\n}\n/**\n * Update polar\n */\n\n\nfunction updatePolarScale(ecModel, api) {\n  var polar = this;\n  var angleAxis = polar.getAngleAxis();\n  var radiusAxis = polar.getRadiusAxis(); // Reset scale\n\n  angleAxis.scale.setExtent(Infinity, -Infinity);\n  radiusAxis.scale.setExtent(Infinity, -Infinity);\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.coordinateSystem === polar) {\n      var data = seriesModel.getData();\n      zrUtil.each(data.mapDimension('radius', true), function (dim) {\n        radiusAxis.scale.unionExtentFromData(data, getStackedDimension(data, dim));\n      });\n      zrUtil.each(data.mapDimension('angle', true), function (dim) {\n        angleAxis.scale.unionExtentFromData(data, getStackedDimension(data, dim));\n      });\n    }\n  });\n  niceScaleExtent(angleAxis.scale, angleAxis.model);\n  niceScaleExtent(radiusAxis.scale, radiusAxis.model); // Fix extent of category angle axis\n\n  if (angleAxis.type === 'category' && !angleAxis.onBand) {\n    var extent = angleAxis.getExtent();\n    var diff = 360 / angleAxis.scale.count();\n    angleAxis.inverse ? extent[1] += diff : extent[1] -= diff;\n    angleAxis.setExtent(extent[0], extent[1]);\n  }\n}\n/**\n * Set common axis properties\n * @param {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n * @param {module:echarts/coord/polar/AxisModel}\n * @inner\n */\n\n\nfunction setAxis(axis, axisModel) {\n  axis.type = axisModel.get('type');\n  axis.scale = createScaleByModel(axisModel);\n  axis.onBand = axisModel.get('boundaryGap') && axis.type === 'category';\n  axis.inverse = axisModel.get('inverse');\n\n  if (axisModel.mainType === 'angleAxis') {\n    axis.inverse ^= axisModel.get('clockwise');\n    var startAngle = axisModel.get('startAngle');\n    axis.setExtent(startAngle, startAngle + (axis.inverse ? -360 : 360));\n  } // Inject axis instance\n\n\n  axisModel.axis = axis;\n  axis.model = axisModel;\n}\n\nvar polarCreator = {\n  dimensions: Polar.prototype.dimensions,\n  create: function (ecModel, api) {\n    var polarList = [];\n    ecModel.eachComponent('polar', function (polarModel, idx) {\n      var polar = new Polar(idx); // Inject resize and update method\n\n      polar.update = updatePolarScale;\n      var radiusAxis = polar.getRadiusAxis();\n      var angleAxis = polar.getAngleAxis();\n      var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n      var angleAxisModel = polarModel.findAxisModel('angleAxis');\n      setAxis(radiusAxis, radiusAxisModel);\n      setAxis(angleAxis, angleAxisModel);\n      resizePolar(polar, polarModel, api);\n      polarList.push(polar);\n      polarModel.coordinateSystem = polar;\n      polar.model = polarModel;\n    }); // Inject coordinateSystem to series\n\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.get('coordinateSystem') === 'polar') {\n        var polarModel = ecModel.queryComponents({\n          mainType: 'polar',\n          index: seriesModel.get('polarIndex'),\n          id: seriesModel.get('polarId')\n        })[0];\n        seriesModel.coordinateSystem = polarModel.coordinateSystem;\n      }\n    });\n    return polarList;\n  }\n};\nCoordinateSystem.register('polar', polarCreator);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _number = require(\"../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _dataStackHelper = require(\"../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || '__ec_stack_' + seriesModel.seriesIndex;\n}\n\nfunction getAxisKey(polar, axis) {\n  return axis.dim + polar.model.componentIndex;\n}\n/**\n * @param {string} seriesType\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction barLayoutPolar(seriesType, ecModel, api) {\n  var lastStackCoords = {};\n  var barWidthAndOffset = calRadialBar(zrUtil.filter(ecModel.getSeriesByType(seriesType), function (seriesModel) {\n    return !ecModel.isSeriesFiltered(seriesModel) && seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'polar';\n  }));\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for polar only\n    if (seriesModel.coordinateSystem.type !== 'polar') {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var baseAxis = polar.getBaseAxis();\n    var axisKey = getAxisKey(polar, baseAxis);\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[axisKey][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    var valueAxis = polar.getOtherAxis(baseAxis);\n    var cx = seriesModel.coordinateSystem.cx;\n    var cy = seriesModel.coordinateSystem.cy;\n    var barMinHeight = seriesModel.get('barMinHeight') || 0;\n    var barMinAngle = seriesModel.get('barMinAngle') || 0;\n    lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n    var valueDim = data.mapDimension(valueAxis.dim);\n    var baseDim = data.mapDimension(baseAxis.dim);\n    var stacked = isDimensionStacked(data, valueDim\n    /*, baseDim*/\n    );\n    var clampLayout = baseAxis.dim !== 'radius' || !seriesModel.get('roundCap', true);\n    var valueAxisStart = valueAxis.dim === 'radius' ? valueAxis.dataToRadius(0) : valueAxis.dataToAngle(0);\n\n    for (var idx = 0, len = data.count(); idx < len; idx++) {\n      var value = data.get(valueDim, idx);\n      var baseValue = data.get(baseDim, idx);\n      var sign = value >= 0 ? 'p' : 'n';\n      var baseCoord = valueAxisStart; // Because of the barMinHeight, we can not use the value in\n      // stackResultDimension directly.\n      // Only ordinal axis can be stacked.\n\n      if (stacked) {\n        if (!lastStackCoords[stackId][baseValue]) {\n          lastStackCoords[stackId][baseValue] = {\n            p: valueAxisStart,\n            // Positive stack\n            n: valueAxisStart // Negative stack\n\n          };\n        } // Should also consider #4243\n\n\n        baseCoord = lastStackCoords[stackId][baseValue][sign];\n      }\n\n      var r0;\n      var r;\n      var startAngle;\n      var endAngle; // radial sector\n\n      if (valueAxis.dim === 'radius') {\n        var radiusSpan = valueAxis.dataToRadius(value) - valueAxisStart;\n        var angle = baseAxis.dataToAngle(baseValue);\n\n        if (Math.abs(radiusSpan) < barMinHeight) {\n          radiusSpan = (radiusSpan < 0 ? -1 : 1) * barMinHeight;\n        }\n\n        r0 = baseCoord;\n        r = baseCoord + radiusSpan;\n        startAngle = angle - columnOffset;\n        endAngle = startAngle - columnWidth;\n        stacked && (lastStackCoords[stackId][baseValue][sign] = r);\n      } // tangential sector\n      else {\n          var angleSpan = valueAxis.dataToAngle(value, clampLayout) - valueAxisStart;\n          var radius = baseAxis.dataToRadius(baseValue);\n\n          if (Math.abs(angleSpan) < barMinAngle) {\n            angleSpan = (angleSpan < 0 ? -1 : 1) * barMinAngle;\n          }\n\n          r0 = radius + columnOffset;\n          r = r0 + columnWidth;\n          startAngle = baseCoord;\n          endAngle = baseCoord + angleSpan; // if the previous stack is at the end of the ring,\n          // add a round to differentiate it from origin\n          // var extent = angleAxis.getExtent();\n          // var stackCoord = angle;\n          // if (stackCoord === extent[0] && value > 0) {\n          //     stackCoord = extent[1];\n          // }\n          // else if (stackCoord === extent[1] && value < 0) {\n          //     stackCoord = extent[0];\n          // }\n\n          stacked && (lastStackCoords[stackId][baseValue][sign] = endAngle);\n        }\n\n      data.setItemLayout(idx, {\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: r,\n        // Consider that positive angle is anti-clockwise,\n        // while positive radian of sector is clockwise\n        startAngle: -startAngle * Math.PI / 180,\n        endAngle: -endAngle * Math.PI / 180\n      });\n    }\n  }, this);\n}\n/**\n * Calculate bar width and offset for radial bar charts\n */\n\n\nfunction calRadialBar(barSeries, api) {\n  // Columns info on each category axis. Key is polar name\n  var columnsMap = {};\n  zrUtil.each(barSeries, function (seriesModel, idx) {\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var baseAxis = polar.getBaseAxis();\n    var axisKey = getAxisKey(polar, baseAxis);\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: '20%',\n      gap: '30%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = getSeriesStackId(seriesModel);\n\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    };\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n\n    if (barWidth && !stacks[stackId].width) {\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      stacks[stackId].width = barWidth;\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    barGap != null && (columnsOnAxis.gap = barGap);\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  zrUtil.each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGap = parsePercent(columnsOnAxis.categoryGap, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n    zrUtil.each(stacks, function (column, stack) {\n      var maxWidth = column.maxWidth;\n\n      if (maxWidth && maxWidth < autoWidth) {\n        maxWidth = Math.min(maxWidth, remainedWidth);\n\n        if (column.width) {\n          maxWidth = Math.min(maxWidth, column.width);\n        }\n\n        remainedWidth -= maxWidth;\n        column.width = maxWidth;\n        autoWidthCount--;\n      }\n    }); // Recalculate width again\n\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    zrUtil.each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n\n    var offset = -widthSum / 2;\n    zrUtil.each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\n\nvar _default = barLayoutPolar;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = Path.extend({\n  type: 'echartsGaugePointer',\n  shape: {\n    angle: 0,\n    width: 10,\n    r: 10,\n    x: 0,\n    y: 0\n  },\n  buildPath: function (ctx, shape) {\n    var mathCos = Math.cos;\n    var mathSin = Math.sin;\n    var r = shape.r;\n    var width = shape.width;\n    var angle = shape.angle;\n    var x = shape.x - mathCos(angle) * width * (width >= r / 3 ? 1 : 2);\n    var y = shape.y - mathSin(angle) * width * (width >= r / 3 ? 1 : 2);\n    angle = shape.angle - Math.PI / 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(shape.x + mathCos(angle) * width, shape.y + mathSin(angle) * width);\n    ctx.lineTo(shape.x + mathCos(shape.angle) * r, shape.y + mathSin(shape.angle) * r);\n    ctx.lineTo(shape.x - mathCos(angle) * width, shape.y - mathSin(angle) * width);\n    ctx.lineTo(x, y);\n    return;\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar Model = require(\"../../model/Model\");\n\nvar selectableMixin = require(\"../../component/helper/selectableMixin\");\n\nvar geoCreator = require(\"./geoCreator\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar GeoModel = ComponentModel.extend({\n  type: 'geo',\n\n  /**\n   * @type {module:echarts/coord/geo/Geo}\n   */\n  coordinateSystem: null,\n  layoutMode: 'box',\n  init: function (option) {\n    ComponentModel.prototype.init.apply(this, arguments); // Default label emphasis `show`\n\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n  },\n  optionUpdated: function () {\n    var option = this.option;\n    var self = this;\n    option.regions = geoCreator.getFilledRegions(option.regions, option.map, option.nameMap);\n    this._optionModelMap = zrUtil.reduce(option.regions || [], function (optionModelMap, regionOpt) {\n      if (regionOpt.name) {\n        optionModelMap.set(regionOpt.name, new Model(regionOpt, self));\n      }\n\n      return optionModelMap;\n    }, zrUtil.createHashMap());\n    this.updateSelectedMap(option.regions);\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    show: true,\n    left: 'center',\n    top: 'center',\n    // width:,\n    // height:,\n    // right\n    // bottom\n    // Aspect is width / height. Inited to be geoJson bbox aspect\n    // This parameter is used for scale this aspect\n    // If svg used, aspectScale is 1 by default.\n    // aspectScale: 0.75,\n    aspectScale: null,\n    ///// Layout with center and size\n    // If you wan't to put map in a fixed size box with right aspect ratio\n    // This two properties may more conveninet\n    // layoutCenter: [50%, 50%]\n    // layoutSize: 100\n    silent: false,\n    // Map type\n    map: '',\n    // Define left-top, right-bottom coords to control view\n    // For example, [ [180, 90], [-180, -90] ]\n    boundingCoords: null,\n    // Default on center of map\n    center: null,\n    zoom: 1,\n    scaleLimit: null,\n    // selectedMode: false\n    label: {\n      show: false,\n      color: '#000'\n    },\n    itemStyle: {\n      // color: ,\n      borderWidth: 0.5,\n      borderColor: '#444',\n      color: '#eee'\n    },\n    emphasis: {\n      label: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      },\n      itemStyle: {\n        color: 'rgba(255,215,0,0.8)'\n      }\n    },\n    regions: []\n  },\n\n  /**\n   * Get model of region\n   * @param  {string} name\n   * @return {module:echarts/model/Model}\n   */\n  getRegionModel: function (name) {\n    return this._optionModelMap.get(name) || new Model(null, this, this.ecModel);\n  },\n\n  /**\n   * Format label\n   * @param {string} name Region name\n   * @param {string} [status='normal'] 'normal' or 'emphasis'\n   * @return {string}\n   */\n  getFormattedLabel: function (name, status) {\n    status = status || 'normal';\n    var regionModel = this.getRegionModel(name);\n    var formatter = regionModel.get((status === 'normal' ? '' : status + '.') + 'label.formatter');\n    var params = {\n      name: name\n    };\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      return formatter.replace('{a}', name != null ? name : '');\n    }\n  },\n  setZoom: function (zoom) {\n    this.option.zoom = zoom;\n  },\n  setCenter: function (center) {\n    this.option.center = center;\n  }\n});\nzrUtil.mixin(GeoModel, selectableMixin);\nvar _default = GeoModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./graph/GraphSeries\");\n\nrequire(\"./graph/GraphView\");\n\nrequire(\"./graph/graphAction\");\n\nvar categoryFilter = require(\"./graph/categoryFilter\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar categoryVisual = require(\"./graph/categoryVisual\");\n\nvar edgeVisual = require(\"./graph/edgeVisual\");\n\nvar simpleLayout = require(\"./graph/simpleLayout\");\n\nvar circularLayout = require(\"./graph/circularLayout\");\n\nvar forceLayout = require(\"./graph/forceLayout\");\n\nvar createView = require(\"./graph/createView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerProcessor(categoryFilter);\necharts.registerVisual(visualSymbol('graph', 'circle', null));\necharts.registerVisual(categoryVisual);\necharts.registerVisual(edgeVisual);\necharts.registerLayout(simpleLayout);\necharts.registerLayout(echarts.PRIORITY.VISUAL.POST_CHART_LAYOUT, circularLayout);\necharts.registerLayout(forceLayout); // Graph view coordinate system\n\necharts.registerCoordinateSystem('graphView', {\n  create: createView\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar IndicatorAxis = require(\"./IndicatorAxis\");\n\nvar IntervalScale = require(\"../../scale/Interval\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar _axisHelper = require(\"../axisHelper\");\n\nvar getScaleExtent = _axisHelper.getScaleExtent;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar LogScale = require(\"../../scale/Log\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO clockwise\nfunction Radar(radarModel, ecModel, api) {\n  this._model = radarModel;\n  /**\n   * Radar dimensions\n   * @type {Array.<string>}\n   */\n\n  this.dimensions = [];\n  this._indicatorAxes = zrUtil.map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\n    var dim = 'indicator_' + idx;\n    var indicatorAxis = new IndicatorAxis(dim, indicatorModel.get('axisType') === 'log' ? new LogScale() : new IntervalScale());\n    indicatorAxis.name = indicatorModel.get('name'); // Inject model and axis\n\n    indicatorAxis.model = indicatorModel;\n    indicatorModel.axis = indicatorAxis;\n    this.dimensions.push(dim);\n    return indicatorAxis;\n  }, this);\n  this.resize(radarModel, api);\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.cx;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.cy;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.r;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.r0;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.startAngle;\n}\n\nRadar.prototype.getIndicatorAxes = function () {\n  return this._indicatorAxes;\n};\n\nRadar.prototype.dataToPoint = function (value, indicatorIndex) {\n  var indicatorAxis = this._indicatorAxes[indicatorIndex];\n  return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\n};\n\nRadar.prototype.coordToPoint = function (coord, indicatorIndex) {\n  var indicatorAxis = this._indicatorAxes[indicatorIndex];\n  var angle = indicatorAxis.angle;\n  var x = this.cx + coord * Math.cos(angle);\n  var y = this.cy - coord * Math.sin(angle);\n  return [x, y];\n};\n\nRadar.prototype.pointToData = function (pt) {\n  var dx = pt[0] - this.cx;\n  var dy = pt[1] - this.cy;\n  var radius = Math.sqrt(dx * dx + dy * dy);\n  dx /= radius;\n  dy /= radius;\n  var radian = Math.atan2(-dy, dx); // Find the closest angle\n  // FIXME index can calculated directly\n\n  var minRadianDiff = Infinity;\n  var closestAxis;\n  var closestAxisIdx = -1;\n\n  for (var i = 0; i < this._indicatorAxes.length; i++) {\n    var indicatorAxis = this._indicatorAxes[i];\n    var diff = Math.abs(radian - indicatorAxis.angle);\n\n    if (diff < minRadianDiff) {\n      closestAxis = indicatorAxis;\n      closestAxisIdx = i;\n      minRadianDiff = diff;\n    }\n  }\n\n  return [closestAxisIdx, +(closestAxis && closestAxis.coordToData(radius))];\n};\n\nRadar.prototype.resize = function (radarModel, api) {\n  var center = radarModel.get('center');\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  var viewSize = Math.min(viewWidth, viewHeight) / 2;\n  this.cx = numberUtil.parsePercent(center[0], viewWidth);\n  this.cy = numberUtil.parsePercent(center[1], viewHeight);\n  this.startAngle = radarModel.get('startAngle') * Math.PI / 180; // radius may be single value like `20`, `'80%'`, or array like `[10, '80%']`\n\n  var radius = radarModel.get('radius');\n\n  if (typeof radius === 'string' || typeof radius === 'number') {\n    radius = [0, radius];\n  }\n\n  this.r0 = numberUtil.parsePercent(radius[0], viewSize);\n  this.r = numberUtil.parsePercent(radius[1], viewSize);\n  zrUtil.each(this._indicatorAxes, function (indicatorAxis, idx) {\n    indicatorAxis.setExtent(this.r0, this.r);\n    var angle = this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length; // Normalize to [-PI, PI]\n\n    angle = Math.atan2(Math.sin(angle), Math.cos(angle));\n    indicatorAxis.angle = angle;\n  }, this);\n};\n\nRadar.prototype.update = function (ecModel, api) {\n  var indicatorAxes = this._indicatorAxes;\n  var radarModel = this._model;\n  zrUtil.each(indicatorAxes, function (indicatorAxis) {\n    indicatorAxis.scale.setExtent(Infinity, -Infinity);\n  });\n  ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\n    if (radarSeries.get('coordinateSystem') !== 'radar' || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel) {\n      return;\n    }\n\n    var data = radarSeries.getData();\n    zrUtil.each(indicatorAxes, function (indicatorAxis) {\n      indicatorAxis.scale.unionExtentFromData(data, data.mapDimension(indicatorAxis.dim));\n    });\n  }, this);\n  var splitNumber = radarModel.get('splitNumber');\n\n  function increaseInterval(interval) {\n    var exp10 = Math.pow(10, Math.floor(Math.log(interval) / Math.LN10)); // Increase interval\n\n    var f = interval / exp10;\n\n    if (f === 2) {\n      f = 5;\n    } else {\n      // f is 2 or 5\n      f *= 2;\n    }\n\n    return f * exp10;\n  } // Force all the axis fixing the maxSplitNumber.\n\n\n  zrUtil.each(indicatorAxes, function (indicatorAxis, idx) {\n    var rawExtent = getScaleExtent(indicatorAxis.scale, indicatorAxis.model).extent;\n    niceScaleExtent(indicatorAxis.scale, indicatorAxis.model);\n    var axisModel = indicatorAxis.model;\n    var scale = indicatorAxis.scale;\n    var fixedMin = axisModel.getMin();\n    var fixedMax = axisModel.getMax();\n    var interval = scale.getInterval();\n\n    if (fixedMin != null && fixedMax != null) {\n      // User set min, max, divide to get new interval\n      scale.setExtent(+fixedMin, +fixedMax);\n      scale.setInterval((fixedMax - fixedMin) / splitNumber);\n    } else if (fixedMin != null) {\n      var max; // User set min, expand extent on the other side\n\n      do {\n        max = fixedMin + interval * splitNumber;\n        scale.setExtent(+fixedMin, max); // Interval must been set after extent\n        // FIXME\n\n        scale.setInterval(interval);\n        interval = increaseInterval(interval);\n      } while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1]));\n    } else if (fixedMax != null) {\n      var min; // User set min, expand extent on the other side\n\n      do {\n        min = fixedMax - interval * splitNumber;\n        scale.setExtent(min, +fixedMax);\n        scale.setInterval(interval);\n        interval = increaseInterval(interval);\n      } while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0]));\n    } else {\n      var nicedSplitNumber = scale.getTicks().length - 1;\n\n      if (nicedSplitNumber > splitNumber) {\n        interval = increaseInterval(interval);\n      } // TODO\n\n\n      var max = Math.ceil(rawExtent[1] / interval) * interval;\n      var min = numberUtil.round(max - interval * splitNumber);\n      scale.setExtent(min, max);\n      scale.setInterval(interval);\n    }\n  });\n};\n/**\n * Radar dimensions is based on the data\n * @type {Array}\n */\n\n\nRadar.dimensions = [];\n\nRadar.create = function (ecModel, api) {\n  var radarList = [];\n  ecModel.eachComponent('radar', function (radarModel) {\n    var radar = new Radar(radarModel, ecModel, api);\n    radarList.push(radar);\n    radarModel.coordinateSystem = radar;\n  });\n  ecModel.eachSeriesByType('radar', function (radarSeries) {\n    if (radarSeries.get('coordinateSystem') === 'radar') {\n      // Inject coordinate system\n      radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\n    }\n  });\n  return radarList;\n};\n\nCoordinateSystem.register('radar', Radar);\nvar _default = Radar;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar List = require(\"../../data/List\");\n\nvar Graph = require(\"../../data/Graph\");\n\nvar linkList = require(\"../../data/helper/linkList\");\n\nvar createDimensions = require(\"../../data/helper/createDimensions\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar createListFromArray = require(\"./createListFromArray\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(nodes, edges, seriesModel, directed, beforeLink) {\n  // ??? TODO\n  // support dataset?\n  var graph = new Graph(directed);\n\n  for (var i = 0; i < nodes.length; i++) {\n    graph.addNode(zrUtil.retrieve( // Id, name, dataIndex\n    nodes[i].id, nodes[i].name, i), i);\n  }\n\n  var linkNameList = [];\n  var validEdges = [];\n  var linkCount = 0;\n\n  for (var i = 0; i < edges.length; i++) {\n    var link = edges[i];\n    var source = link.source;\n    var target = link.target; // addEdge may fail when source or target not exists\n\n    if (graph.addEdge(source, target, linkCount)) {\n      validEdges.push(link);\n      linkNameList.push(zrUtil.retrieve(link.id, source + ' > ' + target));\n      linkCount++;\n    }\n  }\n\n  var coordSys = seriesModel.get('coordinateSystem');\n  var nodeData;\n\n  if (coordSys === 'cartesian2d' || coordSys === 'polar') {\n    nodeData = createListFromArray(nodes, seriesModel);\n  } else {\n    var coordSysCtor = CoordinateSystem.get(coordSys);\n    var coordDimensions = coordSysCtor && coordSysCtor.type !== 'view' ? coordSysCtor.dimensions || [] : []; // FIXME: Some geo do not need `value` dimenson, whereas `calendar` needs\n    // `value` dimension, but graph need `value` dimension. It's better to\n    // uniform this behavior.\n\n    if (zrUtil.indexOf(coordDimensions, 'value') < 0) {\n      coordDimensions.concat(['value']);\n    }\n\n    var dimensionNames = createDimensions(nodes, {\n      coordDimensions: coordDimensions\n    });\n    nodeData = new List(dimensionNames, seriesModel);\n    nodeData.initData(nodes);\n  }\n\n  var edgeData = new List(['value'], seriesModel);\n  edgeData.initData(validEdges, linkNameList);\n  beforeLink && beforeLink(nodeData, edgeData);\n  linkList({\n    mainData: nodeData,\n    struct: graph,\n    structAttr: 'graph',\n    datas: {\n      node: nodeData,\n      edge: edgeData\n    },\n    datasAttr: {\n      node: 'data',\n      edge: 'edgeData'\n    }\n  }); // Update dataIndex of nodes and edges because invalid edge may be removed\n\n  graph.update();\n  return graph;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar features = {};\n\nfunction register(name, ctor) {\n  features[name] = ctor;\n}\n\nfunction get(name) {\n  return features[name];\n}\n\nexports.register = register;\nexports.get = get;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar Tree = require(\"../../data/Tree\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\nvar Model = require(\"../../model/Model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.tree',\n  layoutInfo: null,\n  // can support the position parameters 'left', 'top','right','bottom', 'width',\n  // 'height' in the setOption() with 'merge' mode normal.\n  layoutMode: 'box',\n\n  /**\n   * Init a tree data structure from data in option series\n   * @param  {Object} option  the object used to config echarts view\n   * @return {module:echarts/data/List} storage initial data\n   */\n  getInitialData: function (option) {\n    //create an virtual root\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    var leaves = option.leaves || {};\n    var leavesModel = new Model(leaves, this, this.ecModel);\n    var tree = Tree.createTree(root, this, beforeLink);\n\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n\n        if (!node.children.length || !node.isExpand) {\n          model.parentModel = leavesModel;\n        }\n\n        return model;\n      });\n    }\n\n    var treeDepth = 0;\n    tree.eachNode('preorder', function (node) {\n      if (node.depth > treeDepth) {\n        treeDepth = node.depth;\n      }\n    });\n    var expandAndCollapse = option.expandAndCollapse;\n    var expandTreeDepth = expandAndCollapse && option.initialTreeDepth >= 0 ? option.initialTreeDepth : treeDepth;\n    tree.root.eachNode('preorder', function (node) {\n      var item = node.hostTree.data.getRawDataItem(node.dataIndex); // Add item.collapsed != null, because users can collapse node original in the series.data.\n\n      node.isExpand = item && item.collapsed != null ? !item.collapsed : node.depth <= expandTreeDepth;\n    });\n    return tree.data;\n  },\n\n  /**\n   * Make the configuration 'orient' backward compatibly, with 'horizontal = LR', 'vertical = TB'.\n   * @returns {string} orient\n   */\n  getOrient: function () {\n    var orient = this.get('orient');\n\n    if (orient === 'horizontal') {\n      orient = 'LR';\n    } else if (orient === 'vertical') {\n      orient = 'TB';\n    }\n\n    return orient;\n  },\n  setZoom: function (zoom) {\n    this.option.zoom = zoom;\n  },\n  setCenter: function (center) {\n    this.option.center = center;\n  },\n\n  /**\n   * @override\n   * @param {number} dataIndex\n   */\n  formatTooltip: function (dataIndex) {\n    var tree = this.getData().tree;\n    var realRoot = tree.root.children[0];\n    var node = tree.getNodeByDataIndex(dataIndex);\n    var value = node.getValue();\n    var name = node.name;\n\n    while (node && node !== realRoot) {\n      name = node.parentNode.name + '.' + name;\n      node = node.parentNode;\n    }\n\n    return encodeHTML(name + (isNaN(value) || value == null ? '' : ' : ' + value));\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // the position of the whole view\n    left: '12%',\n    top: '12%',\n    right: '12%',\n    bottom: '12%',\n    // the layout of the tree, two value can be selected, 'orthogonal' or 'radial'\n    layout: 'orthogonal',\n    // value can be 'polyline'\n    edgeShape: 'curve',\n    edgeForkPosition: '50%',\n    // true | false | 'move' | 'scale', see module:component/helper/RoamController.\n    roam: false,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.4,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    // The orient of orthoginal layout, can be setted to 'LR', 'TB', 'RL', 'BT'.\n    // and the backward compatibility configuration 'horizontal = LR', 'vertical = TB'.\n    orient: 'LR',\n    symbol: 'emptyCircle',\n    symbolSize: 7,\n    expandAndCollapse: true,\n    initialTreeDepth: 2,\n    lineStyle: {\n      color: '#ccc',\n      width: 1.5,\n      curveness: 0.5\n    },\n    itemStyle: {\n      color: 'lightsteelblue',\n      borderColor: '#c23531',\n      borderWidth: 1.5\n    },\n    label: {\n      show: true,\n      color: '#555'\n    },\n    leaves: {\n      label: {\n        show: true\n      }\n    },\n    animationEasing: 'linear',\n    animationDuration: 700,\n    animationDurationUpdate: 1000\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.line',\n  dependencies: ['grid', 'polar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // stack: null\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // If clip the overflow value\n    clip: true,\n    // cursor: null,\n    label: {\n      position: 'top'\n    },\n    // itemStyle: {\n    // },\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    // areaStyle: {\n    // origin of areaStyle. Valid values:\n    // `'auto'/null/undefined`: from axisLine to data\n    // `'start'`: from min to data\n    // `'end'`: from data to max\n    // origin: 'auto'\n    // },\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    symbol: 'emptyCircle',\n    symbolSize: 4,\n    symbolRotate: null,\n    showSymbol: true,\n    // `false`: follow the label interval strategy.\n    // `true`: show all symbols.\n    // `'auto'`: If possible, show all symbols, otherwise\n    //           follow the label interval strategy.\n    showAllSymbol: 'auto',\n    // Whether to connect break point.\n    connectNulls: false,\n    // Sampling for large data. Can be: 'average', 'max', 'min', 'sum'.\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Component = require(\"../../model/Component\");\n\nrequire(\"./AxisModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = Component.extend({\n  type: 'parallel',\n  dependencies: ['parallelAxis'],\n\n  /**\n   * @type {module:echarts/coord/parallel/Parallel}\n   */\n  coordinateSystem: null,\n\n  /**\n   * Each item like: 'dim0', 'dim1', 'dim2', ...\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: null,\n\n  /**\n   * Coresponding to dimensions.\n   * @type {Array.<number>}\n   * @readOnly\n   */\n  parallelAxisIndex: null,\n  layoutMode: 'box',\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 60,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    layout: 'horizontal',\n    // 'horizontal' or 'vertical'\n    // FIXME\n    // naming?\n    axisExpandable: false,\n    axisExpandCenter: null,\n    axisExpandCount: 0,\n    axisExpandWidth: 50,\n    // FIXME '10%' ?\n    axisExpandRate: 17,\n    axisExpandDebounce: 50,\n    // [out, in, jumpTarget]. In percentage. If use [null, 0.05], null means full.\n    // Do not doc to user until necessary.\n    axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4],\n    axisExpandTriggerOn: 'click',\n    // 'mousemove' or 'click'\n    parallelAxisDefault: null\n  },\n\n  /**\n   * @override\n   */\n  init: function () {\n    Component.prototype.init.apply(this, arguments);\n    this.mergeOption({});\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (newOption) {\n    var thisOption = this.option;\n    newOption && zrUtil.merge(thisOption, newOption, true);\n\n    this._initDimensions();\n  },\n\n  /**\n   * Whether series or axis is in this coordinate system.\n   * @param {module:echarts/model/Series|module:echarts/coord/parallel/AxisModel} model\n   * @param {module:echarts/model/Global} ecModel\n   */\n  contains: function (model, ecModel) {\n    var parallelIndex = model.get('parallelIndex');\n    return parallelIndex != null && ecModel.getComponent('parallel', parallelIndex) === this;\n  },\n  setAxisExpand: function (opt) {\n    zrUtil.each(['axisExpandable', 'axisExpandCenter', 'axisExpandCount', 'axisExpandWidth', 'axisExpandWindow'], function (name) {\n      if (opt.hasOwnProperty(name)) {\n        this.option[name] = opt[name];\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _initDimensions: function () {\n    var dimensions = this.dimensions = [];\n    var parallelAxisIndex = this.parallelAxisIndex = [];\n    var axisModels = zrUtil.filter(this.dependentModels.parallelAxis, function (axisModel) {\n      // Can not use this.contains here, because\n      // initialization has not been completed yet.\n      return (axisModel.get('parallelIndex') || 0) === this.componentIndex;\n    }, this);\n    zrUtil.each(axisModels, function (axisModel) {\n      dimensions.push('dim' + axisModel.get('dim'));\n      parallelAxisIndex.push(axisModel.componentIndex);\n    });\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar layout = require(\"../../util/layout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* The tree layoutHelper implementation was originally copied from\n* \"d3.js\"(https://github.com/d3/d3-hierarchy) with\n* some modifications made for this project.\n* (see more details in the comment of the specific method below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the licence of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n\n/**\n * @file The layout algorithm of node-link tree diagrams. Here we using Reingold-Tilford algorithm to drawing\n *       the tree.\n */\n\n/**\n * Initialize all computational message for following algorithm.\n *\n * @param  {module:echarts/data/Tree~TreeNode} root   The virtual root of the tree.\n */\nfunction init(root) {\n  root.hierNode = {\n    defaultAncestor: null,\n    ancestor: root,\n    prelim: 0,\n    modifier: 0,\n    change: 0,\n    shift: 0,\n    i: 0,\n    thread: null\n  };\n  var nodes = [root];\n  var node;\n  var children;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    children = node.children;\n\n    if (node.isExpand && children.length) {\n      var n = children.length;\n\n      for (var i = n - 1; i >= 0; i--) {\n        var child = children[i];\n        child.hierNode = {\n          defaultAncestor: null,\n          ancestor: child,\n          prelim: 0,\n          modifier: 0,\n          change: 0,\n          shift: 0,\n          i: i,\n          thread: null\n        };\n        nodes.push(child);\n      }\n    }\n  }\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Computes a preliminary x coordinate for node. Before that, this function is\n * applied recursively to the children of node, as well as the function\n * apportion(). After spacing out the children by calling executeShifts(), the\n * node is placed to the midpoint of its outermost children.\n *\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @param {Function} separation\n */\n\n\nfunction firstWalk(node, separation) {\n  var children = node.isExpand ? node.children : [];\n  var siblings = node.parentNode.children;\n  var subtreeW = node.hierNode.i ? siblings[node.hierNode.i - 1] : null;\n\n  if (children.length) {\n    executeShifts(node);\n    var midPoint = (children[0].hierNode.prelim + children[children.length - 1].hierNode.prelim) / 2;\n\n    if (subtreeW) {\n      node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n      node.hierNode.modifier = node.hierNode.prelim - midPoint;\n    } else {\n      node.hierNode.prelim = midPoint;\n    }\n  } else if (subtreeW) {\n    node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n  }\n\n  node.parentNode.hierNode.defaultAncestor = apportion(node, subtreeW, node.parentNode.hierNode.defaultAncestor || siblings[0], separation);\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Computes all real x-coordinates by summing up the modifiers recursively.\n *\n * @param  {module:echarts/data/Tree~TreeNode} node\n */\n\n\nfunction secondWalk(node) {\n  var nodeX = node.hierNode.prelim + node.parentNode.hierNode.modifier;\n  node.setLayout({\n    x: nodeX\n  }, true);\n  node.hierNode.modifier += node.parentNode.hierNode.modifier;\n}\n\nfunction separation(cb) {\n  return arguments.length ? cb : defaultSeparation;\n}\n/**\n * Transform the common coordinate to radial coordinate.\n *\n * @param  {number} x\n * @param  {number} y\n * @return {Object}\n */\n\n\nfunction radialCoordinate(x, y) {\n  var radialCoor = {};\n  x -= Math.PI / 2;\n  radialCoor.x = y * Math.cos(x);\n  radialCoor.y = y * Math.sin(x);\n  return radialCoor;\n}\n/**\n * Get the layout position of the whole view.\n *\n * @param {module:echarts/model/Series} seriesModel  the model object of sankey series\n * @param {module:echarts/ExtensionAPI} api  provide the API list that the developer can call\n * @return {module:zrender/core/BoundingRect}  size of rect to draw the sankey view\n */\n\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n/**\n * All other shifts, applied to the smaller subtrees between w- and w+, are\n * performed by this function.\n *\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * @param  {module:echarts/data/Tree~TreeNode} node\n */\n\n\nfunction executeShifts(node) {\n  var children = node.children;\n  var n = children.length;\n  var shift = 0;\n  var change = 0;\n\n  while (--n >= 0) {\n    var child = children[n];\n    child.hierNode.prelim += shift;\n    child.hierNode.modifier += shift;\n    change += child.hierNode.change;\n    shift += child.hierNode.shift + change;\n  }\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * The core of the algorithm. Here, a new subtree is combined with the\n * previous subtrees. Threads are used to traverse the inside and outside\n * contours of the left and right subtree up to the highest common level.\n * Whenever two nodes of the inside contours conflict, we compute the left\n * one of the greatest uncommon ancestors using the function nextAncestor()\n * and call moveSubtree() to shift the subtree and prepare the shifts of\n * smaller subtrees. Finally, we add a new thread (if necessary).\n *\n * @param  {module:echarts/data/Tree~TreeNode} subtreeV\n * @param  {module:echarts/data/Tree~TreeNode} subtreeW\n * @param  {module:echarts/data/Tree~TreeNode} ancestor\n * @param  {Function} separation\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction apportion(subtreeV, subtreeW, ancestor, separation) {\n  if (subtreeW) {\n    var nodeOutRight = subtreeV;\n    var nodeInRight = subtreeV;\n    var nodeOutLeft = nodeInRight.parentNode.children[0];\n    var nodeInLeft = subtreeW;\n    var sumOutRight = nodeOutRight.hierNode.modifier;\n    var sumInRight = nodeInRight.hierNode.modifier;\n    var sumOutLeft = nodeOutLeft.hierNode.modifier;\n    var sumInLeft = nodeInLeft.hierNode.modifier;\n\n    while (nodeInLeft = nextRight(nodeInLeft), nodeInRight = nextLeft(nodeInRight), nodeInLeft && nodeInRight) {\n      nodeOutRight = nextRight(nodeOutRight);\n      nodeOutLeft = nextLeft(nodeOutLeft);\n      nodeOutRight.hierNode.ancestor = subtreeV;\n      var shift = nodeInLeft.hierNode.prelim + sumInLeft - nodeInRight.hierNode.prelim - sumInRight + separation(nodeInLeft, nodeInRight);\n\n      if (shift > 0) {\n        moveSubtree(nextAncestor(nodeInLeft, subtreeV, ancestor), subtreeV, shift);\n        sumInRight += shift;\n        sumOutRight += shift;\n      }\n\n      sumInLeft += nodeInLeft.hierNode.modifier;\n      sumInRight += nodeInRight.hierNode.modifier;\n      sumOutRight += nodeOutRight.hierNode.modifier;\n      sumOutLeft += nodeOutLeft.hierNode.modifier;\n    }\n\n    if (nodeInLeft && !nextRight(nodeOutRight)) {\n      nodeOutRight.hierNode.thread = nodeInLeft;\n      nodeOutRight.hierNode.modifier += sumInLeft - sumOutRight;\n    }\n\n    if (nodeInRight && !nextLeft(nodeOutLeft)) {\n      nodeOutLeft.hierNode.thread = nodeInRight;\n      nodeOutLeft.hierNode.modifier += sumInRight - sumOutLeft;\n      ancestor = subtreeV;\n    }\n  }\n\n  return ancestor;\n}\n/**\n * This function is used to traverse the right contour of a subtree.\n * It returns the rightmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n *\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction nextRight(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[children.length - 1] : node.hierNode.thread;\n}\n/**\n * This function is used to traverse the left contour of a subtree (or a subforest).\n * It returns the leftmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n *\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction nextLeft(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[0] : node.hierNode.thread;\n}\n/**\n * If nodeInLefts ancestor is a sibling of node, returns nodeInLefts ancestor.\n * Otherwise, returns the specified ancestor.\n *\n * @param  {module:echarts/data/Tree~TreeNode} nodeInLeft\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @param  {module:echarts/data/Tree~TreeNode} ancestor\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction nextAncestor(nodeInLeft, node, ancestor) {\n  return nodeInLeft.hierNode.ancestor.parentNode === node.parentNode ? nodeInLeft.hierNode.ancestor : ancestor;\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Shifts the current subtree rooted at wr.\n * This is done by increasing prelim(w+) and modifier(w+) by shift.\n *\n * @param  {module:echarts/data/Tree~TreeNode} wl\n * @param  {module:echarts/data/Tree~TreeNode} wr\n * @param  {number} shift [description]\n */\n\n\nfunction moveSubtree(wl, wr, shift) {\n  var change = shift / (wr.hierNode.i - wl.hierNode.i);\n  wr.hierNode.change -= change;\n  wr.hierNode.shift += shift;\n  wr.hierNode.modifier += shift;\n  wr.hierNode.prelim += shift;\n  wl.hierNode.change += change;\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\n\n\nfunction defaultSeparation(node1, node2) {\n  return node1.parentNode === node2.parentNode ? 1 : 2;\n}\n\nexports.init = init;\nexports.firstWalk = firstWalk;\nexports.secondWalk = secondWalk;\nexports.separation = separation;\nexports.radialCoordinate = radialCoordinate;\nexports.getViewRect = getViewRect;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar throttle = require(\"../../util/throttle\");\n\nvar DataZoomView = require(\"./DataZoomView\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar layout = require(\"../../util/layout\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar Rect = graphic.Rect;\nvar linearMap = numberUtil.linearMap;\nvar asc = numberUtil.asc;\nvar bind = zrUtil.bind;\nvar each = zrUtil.each; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar SliderZoomView = DataZoomView.extend({\n  type: 'dataZoom.slider',\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {Object}\n     */\n    this._displayables = {};\n    /**\n     * @private\n     * @type {string}\n     */\n\n    this._orient;\n    /**\n     * [0, 100]\n     * @private\n     */\n\n    this._range;\n    /**\n     * [coord of the first handle, coord of the second handle]\n     * @private\n     */\n\n    this._handleEnds;\n    /**\n     * [length, thick]\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._size;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._handleWidth;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._handleHeight;\n    /**\n     * @private\n     */\n\n    this._location;\n    /**\n     * @private\n     */\n\n    this._dragging;\n    /**\n     * @private\n     */\n\n    this._dataShadowInfo;\n    this.api = api;\n  },\n\n  /**\n   * @override\n   */\n  render: function (dataZoomModel, ecModel, api, payload) {\n    SliderZoomView.superApply(this, 'render', arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', this.dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.get('orient');\n\n    if (this.dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n\n    this._updateView();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    SliderZoomView.superApply(this, 'remove', arguments);\n    throttle.clear(this, '_dispatchZoomAction');\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    SliderZoomView.superApply(this, 'dispose', arguments);\n    throttle.clear(this, '_dispatchZoomAction');\n  },\n  _buildView: function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n\n    this._resetLocation();\n\n    this._resetInterval();\n\n    var barGroup = this._displayables.barGroup = new graphic.Group();\n\n    this._renderBackground();\n\n    this._renderHandle();\n\n    this._renderDataShadow();\n\n    thisGroup.add(barGroup);\n\n    this._positionGroup();\n  },\n\n  /**\n   * @private\n   */\n  _resetLocation: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      // vertical\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    zrUtil.each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize, dataZoomModel.padding);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  },\n\n  /**\n   * @private\n   */\n  _positionGroup: function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var barGroup = this._displayables.barGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    barGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scale: otherAxisInverse ? [1, 1] : [1, -1]\n    } : orient === HORIZONTAL && inverse ? {\n      scale: otherAxisInverse ? [-1, 1] : [-1, -1]\n    } : orient === VERTICAL && !inverse ? {\n      scale: otherAxisInverse ? [1, -1] : [1, 1],\n      rotation: Math.PI / 2 // Dont use Math.PI, considering shadow direction.\n\n    } : {\n      scale: otherAxisInverse ? [-1, -1] : [-1, 1],\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([barGroup]);\n    thisGroup.attr('position', [location.x - rect.x, location.y - rect.y]);\n  },\n\n  /**\n   * @private\n   */\n  _getViewExtent: function () {\n    return [0, this._size[0]];\n  },\n  _renderBackground: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.barGroup;\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    barGroup.add(new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: zrUtil.bind(this._onClickPanelClick, this)\n    }));\n  },\n  _renderDataShadow: function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n\n    if (!info) {\n      return;\n    }\n\n    var size = this._size;\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var otherDim = seriesModel.getShadowDim ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n\n    if (otherDim == null) {\n      return;\n    }\n\n    var otherDataExtent = data.getDataExtent(otherDim); // Nice extent.\n\n    var otherOffset = (otherDataExtent[1] - otherDataExtent[0]) * 0.3;\n    otherDataExtent = [otherDataExtent[0] - otherOffset, otherDataExtent[1] + otherOffset];\n    var otherShadowExtent = [0, size[1]];\n    var thisShadowExtent = [0, size[0]];\n    var areaPoints = [[size[0], 0], [0, 0]];\n    var linePoints = [];\n    var step = thisShadowExtent[1] / (data.count() - 1);\n    var thisCoord = 0; // Optimize for large data shadow\n\n    var stride = Math.round(data.count() / size[0]);\n    var lastIsEmpty;\n    data.each([otherDim], function (value, index) {\n      if (stride > 0 && index % stride) {\n        thisCoord += step;\n        return;\n      } // FIXME\n      // Should consider axis.min/axis.max when drawing dataShadow.\n      // FIXME\n      // list\n\n\n      var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n      var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent, otherShadowExtent, true); // Attempt to draw data shadow precisely when there are empty value.\n\n      if (isEmpty && !lastIsEmpty && index) {\n        areaPoints.push([areaPoints[areaPoints.length - 1][0], 0]);\n        linePoints.push([linePoints[linePoints.length - 1][0], 0]);\n      } else if (!isEmpty && lastIsEmpty) {\n        areaPoints.push([thisCoord, 0]);\n        linePoints.push([thisCoord, 0]);\n      }\n\n      areaPoints.push([thisCoord, otherCoord]);\n      linePoints.push([thisCoord, otherCoord]);\n      thisCoord += step;\n      lastIsEmpty = isEmpty;\n    });\n    var dataZoomModel = this.dataZoomModel; // var dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n    this._displayables.barGroup.add(new graphic.Polygon({\n      shape: {\n        points: areaPoints\n      },\n      style: zrUtil.defaults({\n        fill: dataZoomModel.get('dataBackgroundColor')\n      }, dataZoomModel.getModel('dataBackground.areaStyle').getAreaStyle()),\n      silent: true,\n      z2: -20\n    }));\n\n    this._displayables.barGroup.add(new graphic.Polyline({\n      shape: {\n        points: linePoints\n      },\n      style: dataZoomModel.getModel('dataBackground.lineStyle').getLineStyle(),\n      silent: true,\n      z2: -19\n    }));\n  },\n  _prepareDataShadowInfo: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(dimNames.name, axisIndex).getTargetSeriesModels();\n      zrUtil.each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n\n        if (showDataShadow !== true && zrUtil.indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n\n        var thisAxis = ecModel.getComponent(dimNames.axis, axisIndex).axis;\n        var otherDim = getOtherDim(dimNames.name);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: dimNames.name,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  },\n  _renderHandle: function () {\n    var displaybles = this._displayables;\n    var handles = displaybles.handles = [];\n    var handleLabels = displaybles.handleLabels = [];\n    var barGroup = this._displayables.barGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    barGroup.add(displaybles.filler = new Rect({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false),\n      style: {\n        fill: dataZoomModel.get('fillerColor'),\n        textPosition: 'inside'\n      }\n    })); // Frame border.\n\n    barGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    }));\n    each([0, 1], function (handleIndex) {\n      var path = graphic.createIcon(dataZoomModel.get('handleIcon'), {\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false)\n      }, {\n        x: -1,\n        y: 0,\n        width: 2,\n        height: 2\n      });\n      var bRect = path.getBoundingRect();\n      this._handleHeight = numberUtil.parsePercent(dataZoomModel.get('handleSize'), this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      var handleColor = dataZoomModel.get('handleColor'); // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n\n      barGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.textStyleModel;\n      this.group.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: {\n          x: 0,\n          y: 0,\n          text: '',\n          textVerticalAlign: 'middle',\n          textAlign: 'center',\n          textFill: textStyleModel.getTextColor(),\n          textFont: textStyleModel.getFont()\n        },\n        z2: 10\n      }));\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _resetInterval: function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n\n    var viewExtent = this._getViewExtent();\n\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  },\n\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} delta\n   * @return {boolean} changed\n   */\n  _updateInterval: function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n\n    var viewExtend = this._getViewExtent();\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  },\n\n  /**\n   * @private\n   */\n  _updateView: function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scale: [handleHeight / 2, handleHeight / 2],\n        position: [handleEnds[handleIndex], size[1] / 2 - handleHeight / 2]\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n\n    this._updateDataInfo(nonRealtime);\n  },\n\n  /**\n   * @private\n   */\n  _updateDataInfo: function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // dateformatterautoformatterec2 date.getAutoFormatter\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        textVerticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        textAlign: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _formatLabel: function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel(Math.round(value)) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return zrUtil.isFunction(labelFormatter) ? labelFormatter(value, valueStr) : zrUtil.isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  },\n\n  /**\n   * @private\n   * @param {boolean} showOrHide true: show, false: hide\n   */\n  _showDataInfo: function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var handleLabels = this._displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide);\n  },\n  _onDragMove: function (handleIndex, dx, dy, event) {\n    this._dragging = true; // For mobile device, prevent screen slider on the button.\n\n    eventTool.stop(event.event); // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.barGroup.getLocalTransform();\n\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n\n    var realtime = this.dataZoomModel.get('realtime');\n\n    this._updateView(!realtime); // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n\n\n    changed && realtime && this._dispatchZoomAction();\n  },\n  _onDragEnd: function () {\n    this._dragging = false;\n\n    this._showDataInfo(false); // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n\n\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction();\n  },\n  _onClickPanelClick: function (e) {\n    var size = this._size;\n\n    var localPoint = this._displayables.barGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n\n    var changed = this._updateInterval('all', localPoint[0] - center);\n\n    this._updateView();\n\n    changed && this._dispatchZoomAction();\n  },\n\n  /**\n   * This action will be throttled.\n   * @private\n   */\n  _dispatchZoomAction: function () {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      start: range[0],\n      end: range[1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _findCoordRect: function () {\n    // Find the grid coresponding to the first axis referred by dataZoom.\n    var rect;\n    each(this.getTargetCoordInfo(), function (coordInfoList) {\n      if (!rect && coordInfoList.length) {\n        var coordSys = coordInfoList[0].model.coordinateSystem;\n        rect = coordSys.getRect && coordSys.getRect();\n      }\n    });\n\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n\n    return rect;\n  }\n});\n\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // getOtherAxis\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nvar _default = SliderZoomView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar dataFormatMixin = require(\"../../model/mixin/dataFormat\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar addCommas = formatUtil.addCommas;\nvar encodeHTML = formatUtil.encodeHTML;\n\nfunction fillLabel(opt) {\n  modelUtil.defaultEmphasis(opt, 'label', ['show']);\n}\n\nvar MarkerModel = echarts.extendComponentModel({\n  type: 'marker',\n  dependencies: ['series', 'grid', 'polar', 'geo'],\n\n  /**\n   * @overrite\n   */\n  init: function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._mergeOption(option, ecModel, false, true);\n  },\n\n  /**\n   * @return {boolean}\n   */\n  isAnimationEnabled: function () {\n    if (env.node) {\n      return false;\n    }\n\n    var hostSeries = this.__hostSeries;\n    return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n  },\n\n  /**\n   * @overrite\n   */\n  mergeOption: function (newOpt, ecModel) {\n    this._mergeOption(newOpt, ecModel, false, false);\n  },\n  _mergeOption: function (newOpt, ecModel, createdBySelf, isInit) {\n    var MarkerModel = this.constructor;\n    var modelPropName = this.mainType + 'Model';\n\n    if (!createdBySelf) {\n      ecModel.eachSeries(function (seriesModel) {\n        var markerOpt = seriesModel.get(this.mainType, true);\n        var markerModel = seriesModel[modelPropName];\n\n        if (!markerOpt || !markerOpt.data) {\n          seriesModel[modelPropName] = null;\n          return;\n        }\n\n        if (!markerModel) {\n          if (isInit) {\n            // Default label emphasis `position` and `show`\n            fillLabel(markerOpt);\n          }\n\n          zrUtil.each(markerOpt.data, function (item) {\n            // FIXME Overwrite fillLabel method ?\n            if (item instanceof Array) {\n              fillLabel(item[0]);\n              fillLabel(item[1]);\n            } else {\n              fillLabel(item);\n            }\n          });\n          markerModel = new MarkerModel(markerOpt, this, ecModel);\n          zrUtil.extend(markerModel, {\n            mainType: this.mainType,\n            // Use the same series index and name\n            seriesIndex: seriesModel.seriesIndex,\n            name: seriesModel.name,\n            createdBySelf: true\n          });\n          markerModel.__hostSeries = seriesModel;\n        } else {\n          markerModel._mergeOption(markerOpt, ecModel, true);\n        }\n\n        seriesModel[modelPropName] = markerModel;\n      }, this);\n    }\n  },\n  formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? zrUtil.map(value, addCommas).join(', ') : addCommas(value);\n    var name = data.getName(dataIndex);\n    var html = encodeHTML(this.name);\n    var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n\n    if (value != null || name) {\n      html += newLine;\n    }\n\n    if (name) {\n      html += encodeHTML(name);\n\n      if (value != null) {\n        html += ' : ';\n      }\n    }\n\n    if (value != null) {\n      html += encodeHTML(formattedValue);\n    }\n\n    return html;\n  },\n  getData: function () {\n    return this._data;\n  },\n  setData: function (data) {\n    this._data = data;\n  }\n});\nzrUtil.mixin(MarkerModel, dataFormatMixin);\nvar _default = MarkerModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar layout = require(\"../../util/layout\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction getSortedIndices(data, sort) {\n  var valueDim = data.mapDimension('value');\n  var valueArr = data.mapArray(valueDim, function (val) {\n    return val;\n  });\n  var indices = [];\n  var isAscending = sort === 'ascending';\n\n  for (var i = 0, len = data.count(); i < len; i++) {\n    indices[i] = i;\n  } // Add custom sortable function & none sortable opetion by \"options.sort\"\n\n\n  if (typeof sort === 'function') {\n    indices.sort(sort);\n  } else if (sort !== 'none') {\n    indices.sort(function (a, b) {\n      return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n    });\n  }\n\n  return indices;\n}\n\nfunction labelLayout(data) {\n  data.each(function (idx) {\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label');\n    var labelPosition = labelModel.get('position');\n    var orient = itemModel.get('orient');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var layout = data.getItemLayout(idx);\n    var points = layout.points;\n    var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center' || labelPosition === 'insideLeft' || labelPosition === 'insideRight';\n    var textAlign;\n    var textX;\n    var textY;\n    var linePoints;\n\n    if (isLabelInside) {\n      if (labelPosition === 'insideLeft') {\n        textX = (points[0][0] + points[3][0]) / 2 + 5;\n        textY = (points[0][1] + points[3][1]) / 2;\n        textAlign = 'left';\n      } else if (labelPosition === 'insideRight') {\n        textX = (points[1][0] + points[2][0]) / 2 - 5;\n        textY = (points[1][1] + points[2][1]) / 2;\n        textAlign = 'right';\n      } else {\n        textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n        textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n        textAlign = 'center';\n      }\n\n      linePoints = [[textX, textY], [textX, textY]];\n    } else {\n      var x1;\n      var y1;\n      var x2;\n      var y2;\n      var labelLineLen = labelLineModel.get('length');\n\n      if (labelPosition === 'left') {\n        // Left side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else if (labelPosition === 'right') {\n        // Right side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'left';\n      } else if (labelPosition === 'top') {\n        // Top side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        y2 = y1 - labelLineLen;\n        textY = y2 - 5;\n        textAlign = 'center';\n      } else if (labelPosition === 'bottom') {\n        // Bottom side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        y2 = y1 + labelLineLen;\n        textY = y2 + 5;\n        textAlign = 'center';\n      } else if (labelPosition === 'rightTop') {\n        // RightTop side\n        x1 = orient === 'horizontal' ? points[3][0] : points[1][0];\n        y1 = orient === 'horizontal' ? points[3][1] : points[1][1];\n\n        if (orient === 'horizontal') {\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'top';\n        }\n      } else if (labelPosition === 'rightBottom') {\n        // RightBottom side\n        x1 = points[2][0];\n        y1 = points[2][1];\n\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'bottom';\n        }\n      } else if (labelPosition === 'leftTop') {\n        // LeftTop side\n        x1 = points[0][0];\n        y1 = orient === 'horizontal' ? points[0][1] : points[1][1];\n\n        if (orient === 'horizontal') {\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        }\n      } else if (labelPosition === 'leftBottom') {\n        // LeftBottom side\n        x1 = orient === 'horizontal' ? points[1][0] : points[3][0];\n        y1 = orient === 'horizontal' ? points[1][1] : points[2][1];\n\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        }\n      } else {\n        // Right side or Bottom side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'left';\n        }\n      }\n\n      if (orient === 'horizontal') {\n        x2 = x1;\n        textX = x2;\n      } else {\n        y2 = y1;\n        textY = y2;\n      }\n\n      linePoints = [[x1, y1], [x2, y2]];\n    }\n\n    layout.label = {\n      linePoints: linePoints,\n      x: textX,\n      y: textY,\n      verticalAlign: 'middle',\n      textAlign: textAlign,\n      inside: isLabelInside\n    };\n  });\n}\n\nfunction _default(ecModel, api, payload) {\n  ecModel.eachSeriesByType('funnel', function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var sort = seriesModel.get('sort');\n    var viewRect = getViewRect(seriesModel, api);\n    var indices = getSortedIndices(data, sort);\n    var orient = seriesModel.get('orient');\n    var viewWidth = viewRect.width;\n    var viewHeight = viewRect.height;\n    var x = viewRect.x;\n    var y = viewRect.y;\n    var sizeExtent = orient === 'horizontal' ? [parsePercent(seriesModel.get('minSize'), viewHeight), parsePercent(seriesModel.get('maxSize'), viewHeight)] : [parsePercent(seriesModel.get('minSize'), viewWidth), parsePercent(seriesModel.get('maxSize'), viewWidth)];\n    var dataExtent = data.getDataExtent(valueDim);\n    var min = seriesModel.get('min');\n    var max = seriesModel.get('max');\n\n    if (min == null) {\n      min = Math.min(dataExtent[0], 0);\n    }\n\n    if (max == null) {\n      max = dataExtent[1];\n    }\n\n    var funnelAlign = seriesModel.get('funnelAlign');\n    var gap = seriesModel.get('gap');\n    var viewSize = orient === 'horizontal' ? viewWidth : viewHeight;\n    var itemSize = (viewSize - gap * (data.count() - 1)) / data.count();\n\n    var getLinePoints = function (idx, offset) {\n      // End point index is data.count() and we assign it 0\n      if (orient === 'horizontal') {\n        var val = data.get(valueDim, idx) || 0;\n        var itemHeight = linearMap(val, [min, max], sizeExtent, true);\n        var y0;\n\n        switch (funnelAlign) {\n          case 'top':\n            y0 = y;\n            break;\n\n          case 'center':\n            y0 = y + (viewHeight - itemHeight) / 2;\n            break;\n\n          case 'bottom':\n            y0 = y + (viewHeight - itemHeight);\n            break;\n        }\n\n        return [[offset, y0], [offset, y0 + itemHeight]];\n      }\n\n      var val = data.get(valueDim, idx) || 0;\n      var itemWidth = linearMap(val, [min, max], sizeExtent, true);\n      var x0;\n\n      switch (funnelAlign) {\n        case 'left':\n          x0 = x;\n          break;\n\n        case 'center':\n          x0 = x + (viewWidth - itemWidth) / 2;\n          break;\n\n        case 'right':\n          x0 = x + viewWidth - itemWidth;\n          break;\n      }\n\n      return [[x0, offset], [x0 + itemWidth, offset]];\n    };\n\n    if (sort === 'ascending') {\n      // From bottom to top\n      itemSize = -itemSize;\n      gap = -gap;\n\n      if (orient === 'horizontal') {\n        x += viewWidth;\n      } else {\n        y += viewHeight;\n      }\n\n      indices = indices.reverse();\n    }\n\n    for (var i = 0; i < indices.length; i++) {\n      var idx = indices[i];\n      var nextIdx = indices[i + 1];\n      var itemModel = data.getItemModel(idx);\n\n      if (orient === 'horizontal') {\n        var width = itemModel.get('itemStyle.width');\n\n        if (width == null) {\n          width = itemSize;\n        } else {\n          width = parsePercent(width, viewWidth);\n\n          if (sort === 'ascending') {\n            width = -width;\n          }\n        }\n\n        var start = getLinePoints(idx, x);\n        var end = getLinePoints(nextIdx, x + width);\n        x += width + gap;\n        data.setItemLayout(idx, {\n          points: start.concat(end.slice().reverse())\n        });\n      } else {\n        var height = itemModel.get('itemStyle.height');\n\n        if (height == null) {\n          height = itemSize;\n        } else {\n          height = parsePercent(height, viewHeight);\n\n          if (sort === 'ascending') {\n            height = -height;\n          }\n        }\n\n        var start = orient === 'horizontal' ? getLinePoints(idx, x) : getLinePoints(idx, y);\n        var end = orient === 'horizontal' ? getLinePoints(nextIdx, x + width) : getLinePoints(nextIdx, y + height);\n        y += height + gap;\n        data.setItemLayout(idx, {\n          points: start.concat(end.slice().reverse())\n        });\n      }\n    }\n\n    labelLayout(data);\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar _poly = require(\"../line/poly\");\n\nvar Polygon = _poly.Polygon;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar bind = _util.bind;\nvar extend = _util.extend;\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendChartView({\n  type: 'themeRiver',\n  init: function () {\n    this._layers = [];\n  },\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var group = this.group;\n    var layerSeries = seriesModel.getLayerSeries();\n    var layoutInfo = data.getLayout('layoutInfo');\n    var rect = layoutInfo.rect;\n    var boundaryGap = layoutInfo.boundaryGap;\n    group.attr('position', [0, rect.y + boundaryGap[0]]);\n\n    function keyGetter(item) {\n      return item.name;\n    }\n\n    var dataDiffer = new DataDiffer(this._layersSeries || [], layerSeries, keyGetter, keyGetter);\n    var newLayersGroups = {};\n    dataDiffer.add(bind(process, this, 'add')).update(bind(process, this, 'update')).remove(bind(process, this, 'remove')).execute();\n\n    function process(status, idx, oldIdx) {\n      var oldLayersGroups = this._layers;\n\n      if (status === 'remove') {\n        group.remove(oldLayersGroups[idx]);\n        return;\n      }\n\n      var points0 = [];\n      var points1 = [];\n      var color;\n      var indices = layerSeries[idx].indices;\n\n      for (var j = 0; j < indices.length; j++) {\n        var layout = data.getItemLayout(indices[j]);\n        var x = layout.x;\n        var y0 = layout.y0;\n        var y = layout.y;\n        points0.push([x, y0]);\n        points1.push([x, y0 + y]);\n        color = data.getItemVisual(indices[j], 'color');\n      }\n\n      var polygon;\n      var text;\n      var textLayout = data.getItemLayout(indices[0]);\n      var itemModel = data.getItemModel(indices[j - 1]);\n      var labelModel = itemModel.getModel('label');\n      var margin = labelModel.get('margin');\n\n      if (status === 'add') {\n        var layerGroup = newLayersGroups[idx] = new graphic.Group();\n        polygon = new Polygon({\n          shape: {\n            points: points0,\n            stackedOnPoints: points1,\n            smooth: 0.4,\n            stackedOnSmooth: 0.4,\n            smoothConstraint: false\n          },\n          z2: 0\n        });\n        text = new graphic.Text({\n          style: {\n            x: textLayout.x - margin,\n            y: textLayout.y0 + textLayout.y / 2\n          }\n        });\n        layerGroup.add(polygon);\n        layerGroup.add(text);\n        group.add(layerGroup);\n        polygon.setClipPath(createGridClipShape(polygon.getBoundingRect(), seriesModel, function () {\n          polygon.removeClipPath();\n        }));\n      } else {\n        var layerGroup = oldLayersGroups[oldIdx];\n        polygon = layerGroup.childAt(0);\n        text = layerGroup.childAt(1);\n        group.add(layerGroup);\n        newLayersGroups[idx] = layerGroup;\n        graphic.updateProps(polygon, {\n          shape: {\n            points: points0,\n            stackedOnPoints: points1\n          }\n        }, seriesModel);\n        graphic.updateProps(text, {\n          style: {\n            x: textLayout.x - margin,\n            y: textLayout.y0 + textLayout.y / 2\n          }\n        }, seriesModel);\n      }\n\n      var hoverItemStyleModel = itemModel.getModel('emphasis.itemStyle');\n      var itemStyleModel = itemModel.getModel('itemStyle');\n      graphic.setTextStyle(text.style, labelModel, {\n        text: labelModel.get('show') ? seriesModel.getFormattedLabel(indices[j - 1], 'normal') || data.getName(indices[j - 1]) : null,\n        textVerticalAlign: 'middle'\n      });\n      polygon.setStyle(extend({\n        fill: color\n      }, itemStyleModel.getItemStyle(['color'])));\n      graphic.setHoverStyle(polygon, hoverItemStyleModel.getItemStyle());\n    }\n\n    this._layersSeries = layerSeries;\n    this._layers = newLayersGroups;\n  },\n  dispose: function () {}\n}); // add animation to the view\n\n\nfunction createGridClipShape(rect, seriesModel, cb) {\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x - 10,\n      y: rect.y - 10,\n      width: 0,\n      height: rect.height + 20\n    }\n  });\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width + 20,\n      height: rect.height + 20\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapping = require(\"./VisualMapping\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @file Visual solution, for consistent option specification.\n */\nvar each = zrUtil.each;\n\nfunction hasKeys(obj) {\n  if (obj) {\n    for (var name in obj) {\n      if (obj.hasOwnProperty(name)) {\n        return true;\n      }\n    }\n  }\n}\n/**\n * @param {Object} option\n * @param {Array.<string>} stateList\n * @param {Function} [supplementVisualOption]\n * @return {Object} visualMappings <state, <visualType, module:echarts/visual/VisualMapping>>\n */\n\n\nfunction createVisualMappings(option, stateList, supplementVisualOption) {\n  var visualMappings = {};\n  each(stateList, function (state) {\n    var mappings = visualMappings[state] = createMappings();\n    each(option[state], function (visualData, visualType) {\n      if (!VisualMapping.isValidType(visualType)) {\n        return;\n      }\n\n      var mappingOption = {\n        type: visualType,\n        visual: visualData\n      };\n      supplementVisualOption && supplementVisualOption(mappingOption, state);\n      mappings[visualType] = new VisualMapping(mappingOption); // Prepare a alpha for opacity, for some case that opacity\n      // is not supported, such as rendering using gradient color.\n\n      if (visualType === 'opacity') {\n        mappingOption = zrUtil.clone(mappingOption);\n        mappingOption.type = 'colorAlpha';\n        mappings.__hidden.__alphaForOpacity = new VisualMapping(mappingOption);\n      }\n    });\n  });\n  return visualMappings;\n\n  function createMappings() {\n    var Creater = function () {}; // Make sure hidden fields will not be visited by\n    // object iteration (with hasOwnProperty checking).\n\n\n    Creater.prototype.__hidden = Creater.prototype;\n    var obj = new Creater();\n    return obj;\n  }\n}\n/**\n * @param {Object} thisOption\n * @param {Object} newOption\n * @param {Array.<string>} keys\n */\n\n\nfunction replaceVisualOption(thisOption, newOption, keys) {\n  // Visual attributes merge is not supported, otherwise it\n  // brings overcomplicated merge logic. See #2853. So if\n  // newOption has anyone of these keys, all of these keys\n  // will be reset. Otherwise, all keys remain.\n  var has;\n  zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      has = true;\n    }\n  });\n  has && zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      thisOption[key] = zrUtil.clone(newOption[key]);\n    } else {\n      delete thisOption[key];\n    }\n  });\n}\n/**\n * @param {Array.<string>} stateList\n * @param {Object} visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\n * @param {module:echarts/data/List} list\n * @param {Function} getValueState param: valueOrIndex, return: state.\n * @param {object} [scope] Scope for getValueState\n * @param {string} [dimension] Concrete dimension, if used.\n */\n// ???! handle brush?\n\n\nfunction applyVisual(stateList, visualMappings, data, getValueState, scope, dimension) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  var dataIndex;\n\n  function getVisual(key) {\n    return data.getItemVisual(dataIndex, key);\n  }\n\n  function setVisual(key, value) {\n    data.setItemVisual(dataIndex, key, value);\n  }\n\n  if (dimension == null) {\n    data.each(eachItem);\n  } else {\n    data.each([dimension], eachItem);\n  }\n\n  function eachItem(valueOrIndex, index) {\n    dataIndex = dimension == null ? valueOrIndex : index;\n    var rawDataItem = data.getRawDataItem(dataIndex); // Consider performance\n\n    if (rawDataItem && rawDataItem.visualMap === false) {\n      return;\n    }\n\n    var valueState = getValueState.call(scope, valueOrIndex);\n    var mappings = visualMappings[valueState];\n    var visualTypes = visualTypesMap[valueState];\n\n    for (var i = 0, len = visualTypes.length; i < len; i++) {\n      var type = visualTypes[i];\n      mappings[type] && mappings[type].applyVisual(valueOrIndex, getVisual, setVisual);\n    }\n  }\n}\n/**\n * @param {module:echarts/data/List} data\n * @param {Array.<string>} stateList\n * @param {Object} visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\n * @param {Function} getValueState param: valueOrIndex, return: state.\n * @param {number} [dim] dimension or dimension index.\n */\n\n\nfunction incrementalApplyVisual(stateList, visualMappings, getValueState, dim) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n\n  function progress(params, data) {\n    if (dim != null) {\n      dim = data.getDimension(dim);\n    }\n\n    function getVisual(key) {\n      return data.getItemVisual(dataIndex, key);\n    }\n\n    function setVisual(key, value) {\n      data.setItemVisual(dataIndex, key, value);\n    }\n\n    var dataIndex;\n\n    while ((dataIndex = params.next()) != null) {\n      var rawDataItem = data.getRawDataItem(dataIndex); // Consider performance\n\n      if (rawDataItem && rawDataItem.visualMap === false) {\n        continue;\n      }\n\n      var value = dim != null ? data.get(dim, dataIndex, true) : dataIndex;\n      var valueState = getValueState(value);\n      var mappings = visualMappings[valueState];\n      var visualTypes = visualTypesMap[valueState];\n\n      for (var i = 0, len = visualTypes.length; i < len; i++) {\n        var type = visualTypes[i];\n        mappings[type] && mappings[type].applyVisual(value, getVisual, setVisual);\n      }\n    }\n  }\n\n  return {\n    progress: progress\n  };\n}\n\nexports.createVisualMappings = createVisualMappings;\nexports.replaceVisualOption = replaceVisualOption;\nexports.applyVisual = applyVisual;\nexports.incrementalApplyVisual = incrementalApplyVisual;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\nvar layout = require(\"../../util/layout\");\n\nvar labelLayout = require(\"./labelLayout\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction _default(seriesType, ecModel, api, payload) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var viewRect = getViewRect(seriesModel, api);\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = parsePercent(viewRect.width, api.getWidth());\n    var height = parsePercent(viewRect.height, api.getHeight());\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width) + viewRect.x;\n    var cy = parsePercent(center[1], height) + viewRect.y;\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.each(valueDim, function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r,\n          viewRect: viewRect\n        });\n        return;\n      } // FIXME  2.0  roseType  area \n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r,\n        viewRect: viewRect\n      });\n      currentAngle = endAngle;\n    }); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle = PI2 / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            layout.angle = angle;\n            layout.startAngle = startAngle + dir * idx * angle;\n            layout.endAngle = startAngle + dir * (idx + 1) * angle;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            var angle = layout.angle === minAngle ? minAngle : value * unitRadian;\n            layout.startAngle = currentAngle;\n            layout.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n\n    labelLayout(seriesModel, r, viewRect.width, viewRect.height, viewRect.x, viewRect.y);\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  var paletteScope = {};\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var categoriesData = seriesModel.getCategoriesData();\n    var data = seriesModel.getData();\n    var categoryNameIdxMap = {};\n    categoriesData.each(function (idx) {\n      var name = categoriesData.getName(idx); // Add prefix to avoid conflict with Object.prototype.\n\n      categoryNameIdxMap['ec-' + name] = idx;\n      var itemModel = categoriesData.getItemModel(idx);\n      var color = itemModel.get('itemStyle.color') || seriesModel.getColorFromPalette(name, paletteScope);\n      categoriesData.setItemVisual(idx, 'color', color);\n      var itemStyleList = ['opacity', 'symbol', 'symbolSize', 'symbolKeepAspect'];\n\n      for (var i = 0; i < itemStyleList.length; i++) {\n        var itemStyle = itemModel.getShallow(itemStyleList[i], true);\n\n        if (itemStyle != null) {\n          categoriesData.setItemVisual(idx, itemStyleList[i], itemStyle);\n        }\n      }\n    }); // Assign category color to visual\n\n    if (categoriesData.count()) {\n      data.each(function (idx) {\n        var model = data.getItemModel(idx);\n        var category = model.getShallow('category');\n\n        if (category != null) {\n          if (typeof category === 'string') {\n            category = categoryNameIdxMap['ec-' + category];\n          }\n\n          var itemStyleList = ['color', 'opacity', 'symbol', 'symbolSize', 'symbolKeepAspect'];\n\n          for (var i = 0; i < itemStyleList.length; i++) {\n            if (data.getItemVisual(idx, itemStyleList[i], true) == null) {\n              data.setItemVisual(idx, itemStyleList[i], categoriesData.getItemVisual(category, itemStyleList[i]));\n            }\n          }\n        }\n      });\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar preprocessor = require(\"./visualMap/preprocessor\");\n\nrequire(\"./visualMap/typeDefaulter\");\n\nrequire(\"./visualMap/visualEncoding\");\n\nrequire(\"./visualMap/PiecewiseModel\");\n\nrequire(\"./visualMap/PiecewiseView\");\n\nrequire(\"./visualMap/visualMapAction\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar barPolar = require(\"../layout/barPolar\");\n\nrequire(\"../coord/polar/polarCreator\");\n\nrequire(\"./angleAxis\");\n\nrequire(\"./radiusAxis\");\n\nrequire(\"./axisPointer\");\n\nrequire(\"./axisPointer/PolarAxisPointer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// For reducing size of echarts.min, barLayoutPolar is required by polar.\necharts.registerLayout(zrUtil.curry(barPolar, 'bar')); // Polar view\n\necharts.extendComponentView({\n  type: 'polar'\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar borderColorQuery = ['itemStyle', 'borderColor'];\n\nfunction _default(ecModel, api) {\n  var globalColors = ecModel.get('color');\n  ecModel.eachRawSeriesByType('boxplot', function (seriesModel) {\n    var defaulColor = globalColors[seriesModel.seriesIndex % globalColors.length];\n    var data = seriesModel.getData();\n    data.setVisual({\n      legendSymbol: 'roundRect',\n      // Use name 'color' but not 'borderColor' for legend usage and\n      // visual coding from other component like dataRange.\n      color: seriesModel.get(borderColorQuery) || defaulColor\n    }); // Only visible series has each data be visual encoded\n\n    if (!ecModel.isSeriesFiltered(seriesModel)) {\n      data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        data.setItemVisual(idx, {\n          color: itemModel.get(borderColorQuery, true)\n        });\n      });\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar each = _util.each;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerProcessor({\n  // `dataZoomProcessor` will only be performed in needed series. Consider if\n  // there is a line series and a pie series, it is better not to update the\n  // line series if only pie series is needed to be updated.\n  getTargetSeries: function (ecModel) {\n    var seriesModelMap = createHashMap();\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      dataZoomModel.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel) {\n        var axisProxy = dataZoomModel.getAxisProxy(dimNames.name, axisIndex);\n        each(axisProxy.getTargetSeriesModels(), function (seriesModel) {\n          seriesModelMap.set(seriesModel.uid, seriesModel);\n        });\n      });\n    });\n    return seriesModelMap;\n  },\n  modifyOutputEnd: true,\n  // Consider appendData, where filter should be performed. Because data process is\n  // in block mode currently, it is not need to worry about that the overallProgress\n  // execute every frame.\n  overallReset: function (ecModel, api) {\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // We calculate window and reset axis here but not in model\n      // init stage and not after action dispatch handler, because\n      // reset should be called after seriesData.restoreData.\n      dataZoomModel.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel) {\n        dataZoomModel.getAxisProxy(dimNames.name, axisIndex).reset(dataZoomModel, api);\n      }); // Caution: data zoom filtering is order sensitive when using\n      // percent range and no min/max/scale set on axis.\n      // For example, we have dataZoom definition:\n      // [\n      //      {xAxisIndex: 0, start: 30, end: 70},\n      //      {yAxisIndex: 0, start: 20, end: 80}\n      // ]\n      // In this case, [20, 80] of y-dataZoom should be based on data\n      // that have filtered by x-dataZoom using range of [30, 70],\n      // but should not be based on full raw data. Thus sliding\n      // x-dataZoom will change both ranges of xAxis and yAxis,\n      // while sliding y-dataZoom will only change the range of yAxis.\n      // So we should filter x-axis after reset x-axis immediately,\n      // and then reset y-axis and filter y-axis.\n\n      dataZoomModel.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel) {\n        dataZoomModel.getAxisProxy(dimNames.name, axisIndex).filterData(dataZoomModel, api);\n      });\n    });\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // Fullfill all of the range props so that user\n      // is able to get them from chart.getOption().\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      var percentRange = axisProxy.getDataPercentWindow();\n      var valueRange = axisProxy.getDataValueWindow();\n      dataZoomModel.setCalculatedRange({\n        start: percentRange[0],\n        end: percentRange[1],\n        startValue: valueRange[0],\n        endValue: valueRange[1]\n      });\n    });\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"../coord/single/singleCreator\");\n\nrequire(\"./axis/SingleAxisView\");\n\nrequire(\"../coord/single/AxisModel\");\n\nrequire(\"./axisPointer\");\n\nrequire(\"./axisPointer/SingleAxisPointer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.extendComponentView({\n  type: 'single'\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar preprocessor = require(\"./brush/preprocessor\");\n\nrequire(\"./brush/visualEncoding\");\n\nrequire(\"./brush/BrushModel\");\n\nrequire(\"./brush/BrushView\");\n\nrequire(\"./brush/brushAction\");\n\nrequire(\"./toolbox/feature/Brush\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Brush component entry\n */\necharts.registerPreprocessor(preprocessor);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.__base_bar__',\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  getMarkerPosition: function (value) {\n    var coordSys = this.coordinateSystem;\n\n    if (coordSys) {\n      // PENDING if clamp ?\n      var pt = coordSys.dataToPoint(coordSys.clampData(value));\n      var data = this.getData();\n      var offset = data.getLayout('offset');\n      var size = data.getLayout('size');\n      var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n      pt[offsetIndex] += offset + size / 2;\n      return pt;\n    }\n\n    return [NaN, NaN];\n  },\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // stack: null\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // 0\n    barMinHeight: 0,\n    // 0\n    barMinAngle: 0,\n    // cursor: null,\n    large: false,\n    largeThreshold: 400,\n    progressive: 3e3,\n    progressiveChunkMode: 'mod',\n    // barMaxWidth: null,\n    // In cartesian, the default value is 1. Otherwise null.\n    // barMinWidth: null,\n    // \n    // barWidth: null,\n    // 30%\n    // barGap: '30%',\n    // 20%\n    // barCategoryGap: '20%',\n    // label: {\n    //      show: false\n    // },\n    itemStyle: {},\n    emphasis: {}\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar List = require(\"../../data/List\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar markerHelper = require(\"./markerHelper\");\n\nvar LineDraw = require(\"../../chart/helper/LineDraw\");\n\nvar MarkerView = require(\"./MarkerView\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar getStackedDimension = _dataStackHelper.getStackedDimension;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n  var data = seriesModel.getData(); // Special type markLine like 'min', 'max', 'average', 'median'\n\n  var mlType = item.type;\n\n  if (!zrUtil.isArray(item) && (mlType === 'min' || mlType === 'max' || mlType === 'average' || mlType === 'median' // In case\n  // data: [{\n  //   yAxis: 10\n  // }]\n  || item.xAxis != null || item.yAxis != null)) {\n    var valueAxis;\n    var value;\n\n    if (item.yAxis != null || item.xAxis != null) {\n      valueAxis = coordSys.getAxis(item.yAxis != null ? 'y' : 'x');\n      value = zrUtil.retrieve(item.yAxis, item.xAxis);\n    } else {\n      var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n      valueAxis = axisInfo.valueAxis;\n      var valueDataDim = getStackedDimension(data, axisInfo.valueDataDim);\n      value = markerHelper.numCalculate(data, valueDataDim, mlType);\n    }\n\n    var valueIndex = valueAxis.dim === 'x' ? 0 : 1;\n    var baseIndex = 1 - valueIndex;\n    var mlFrom = zrUtil.clone(item);\n    var mlTo = {};\n    mlFrom.type = null;\n    mlFrom.coord = [];\n    mlTo.coord = [];\n    mlFrom.coord[baseIndex] = -Infinity;\n    mlTo.coord[baseIndex] = Infinity;\n    var precision = mlModel.get('precision');\n\n    if (precision >= 0 && typeof value === 'number') {\n      value = +value.toFixed(Math.min(precision, 20));\n    }\n\n    mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n    item = [mlFrom, mlTo, {\n      // Extra option for tooltip and label\n      type: mlType,\n      valueIndex: item.valueIndex,\n      // Force to use the value of calculated value.\n      value: value\n    }];\n  }\n\n  item = [markerHelper.dataTransform(seriesModel, item[0]), markerHelper.dataTransform(seriesModel, item[1]), zrUtil.extend({}, item[2])]; // Avoid line data type is extended by from(to) data type\n\n  item[2].type = item[2].type || ''; // Merge from option and to option into line option\n\n  zrUtil.merge(item[2], item[0]);\n  zrUtil.merge(item[2], item[1]);\n  return item;\n};\n\nfunction isInifinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markLine has one dim\n\n\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  var dimName = coordSys.dimensions[dimIndex];\n  return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n}\n\nfunction markLineFilter(coordSys, item) {\n  if (coordSys.type === 'cartesian2d') {\n    var fromCoord = item[0].coord;\n    var toCoord = item[1].coord; // In case\n    // {\n    //  markLine: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n\n  return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n}\n\nfunction updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPoisition\n      point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n    } else {\n      var dims = coordSys.dimensions;\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    } // Expand line to the edge of grid if value on one axis is Inifnity\n    // In case\n    //  markLine: {\n    //    data: [{\n    //      yAxis: 2\n    //      // or\n    //      type: 'average'\n    //    }]\n    //  }\n\n\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var dims = coordSys.dimensions;\n\n      if (isInifinity(data.get(dims[0], idx))) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n      } else if (isInifinity(data.get(dims[1], idx))) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n\n  data.setItemLayout(idx, point);\n}\n\nvar _default = MarkerView.extend({\n  type: 'markLine',\n  // updateLayout: function (markLineModel, ecModel, api) {\n  //     ecModel.eachSeries(function (seriesModel) {\n  //         var mlModel = seriesModel.markLineModel;\n  //         if (mlModel) {\n  //             var mlData = mlModel.getData();\n  //             var fromData = mlModel.__from;\n  //             var toData = mlModel.__to;\n  //             // Update visual and layout of from symbol and to symbol\n  //             fromData.each(function (idx) {\n  //                 updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n  //                 updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n  //             });\n  //             // Update layout of line\n  //             mlData.each(function (idx) {\n  //                 mlData.setItemLayout(idx, [\n  //                     fromData.getItemLayout(idx),\n  //                     toData.getItemLayout(idx)\n  //                 ]);\n  //             });\n  //             this.markerGroupMap.get(seriesModel.id).updateLayout();\n  //         }\n  //     }, this);\n  // },\n  updateTransform: function (markLineModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mlModel = seriesModel.markLineModel;\n\n      if (mlModel) {\n        var mlData = mlModel.getData();\n        var fromData = mlModel.__from;\n        var toData = mlModel.__to; // Update visual and layout of from symbol and to symbol\n\n        fromData.each(function (idx) {\n          updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n          updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n        }); // Update layout of line\n\n        mlData.each(function (idx) {\n          mlData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n        });\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, mlModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var lineDrawMap = this.markerGroupMap;\n    var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw());\n    this.group.add(lineDraw.group);\n    var mlData = createList(coordSys, seriesModel, mlModel);\n    var fromData = mlData.from;\n    var toData = mlData.to;\n    var lineData = mlData.line;\n    mlModel.__from = fromData;\n    mlModel.__to = toData; // Line data for tooltip and formatter\n\n    mlModel.setData(lineData);\n    var symbolType = mlModel.get('symbol');\n    var symbolSize = mlModel.get('symbolSize');\n\n    if (!zrUtil.isArray(symbolType)) {\n      symbolType = [symbolType, symbolType];\n    }\n\n    if (typeof symbolSize === 'number') {\n      symbolSize = [symbolSize, symbolSize];\n    } // Update visual and layout of from symbol and to symbol\n\n\n    mlData.from.each(function (idx) {\n      updateDataVisualAndLayout(fromData, idx, true);\n      updateDataVisualAndLayout(toData, idx, false);\n    }); // Update visual and layout of line\n\n    lineData.each(function (idx) {\n      var lineColor = lineData.getItemModel(idx).get('lineStyle.color');\n      lineData.setItemVisual(idx, {\n        color: lineColor || fromData.getItemVisual(idx, 'color')\n      });\n      lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n      lineData.setItemVisual(idx, {\n        'fromSymbolRotate': fromData.getItemVisual(idx, 'symbolRotate'),\n        'fromSymbolSize': fromData.getItemVisual(idx, 'symbolSize'),\n        'fromSymbol': fromData.getItemVisual(idx, 'symbol'),\n        'toSymbolRotate': toData.getItemVisual(idx, 'symbolRotate'),\n        'toSymbolSize': toData.getItemVisual(idx, 'symbolSize'),\n        'toSymbol': toData.getItemVisual(idx, 'symbol')\n      });\n    });\n    lineDraw.updateData(lineData); // Set host model for tooltip\n    // FIXME\n\n    mlData.line.eachItemGraphicEl(function (el, idx) {\n      el.traverse(function (child) {\n        child.dataModel = mlModel;\n      });\n    });\n\n    function updateDataVisualAndLayout(data, idx, isFrom) {\n      var itemModel = data.getItemModel(idx);\n      updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n      data.setItemVisual(idx, {\n        symbolRotate: itemModel.get('symbolRotate'),\n        symbolSize: itemModel.get('symbolSize') || symbolSize[isFrom ? 0 : 1],\n        symbol: itemModel.get('symbol', true) || symbolType[isFrom ? 0 : 1],\n        color: itemModel.get('itemStyle.color') || seriesData.getVisual('color')\n      });\n    }\n\n    lineDraw.__keep = true;\n    lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} coordSys\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\n\nfunction createList(coordSys, seriesModel, mlModel) {\n  var coordDimsInfos;\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      return zrUtil.defaults({\n        name: coordDim\n      }, info);\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n\n  var fromData = new List(coordDimsInfos, mlModel);\n  var toData = new List(coordDimsInfos, mlModel); // No dimensions\n\n  var lineData = new List([], mlModel);\n  var optData = zrUtil.map(mlModel.get('data'), zrUtil.curry(markLineTransform, seriesModel, coordSys, mlModel));\n\n  if (coordSys) {\n    optData = zrUtil.filter(optData, zrUtil.curry(markLineFilter, coordSys));\n  }\n\n  var dimValueGetter = coordSys ? markerHelper.dimValueGetter : function (item) {\n    return item.value;\n  };\n  fromData.initData(zrUtil.map(optData, function (item) {\n    return item[0];\n  }), null, dimValueGetter);\n  toData.initData(zrUtil.map(optData, function (item) {\n    return item[1];\n  }), null, dimValueGetter);\n  lineData.initData(zrUtil.map(optData, function (item) {\n    return item[2];\n  }));\n  lineData.hasItemOption = true;\n  return {\n    from: fromData,\n    to: toData,\n    line: lineData\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapModel = require(\"./VisualMapModel\");\n\nvar numberUtil = require(\"../../util/number\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Constant\nvar DEFAULT_BAR_BOUND = [20, 140];\nvar ContinuousModel = VisualMapModel.extend({\n  type: 'visualMap.continuous',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    align: 'auto',\n    // 'auto', 'left', 'right', 'top', 'bottom'\n    calculable: false,\n    // This prop effect default component type determine,\n    // See echarts/component/visualMap/typeDefaulter.\n    range: null,\n    // selected range. In default case `range` is [min, max]\n    // and can auto change along with modification of min max,\n    // util use specifid a range.\n    realtime: true,\n    // Whether realtime update.\n    itemHeight: null,\n    // The length of the range control edge.\n    itemWidth: null,\n    // The length of the other side.\n    hoverLink: true,\n    // Enable hover highlight.\n    hoverLinkDataSize: null,\n    // The size of hovered data.\n    hoverLinkOnHandle: null // Whether trigger hoverLink when hover handle.\n    // If not specified, follow the value of `realtime`.\n\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    ContinuousModel.superApply(this, 'optionUpdated', arguments);\n    this.resetExtent();\n    this.resetVisual(function (mappingOption) {\n      mappingOption.mappingMethod = 'linear';\n      mappingOption.dataExtent = this.getExtent();\n    });\n\n    this._resetRange();\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  resetItemSize: function () {\n    ContinuousModel.superApply(this, 'resetItemSize', arguments);\n    var itemSize = this.itemSize;\n    this._orient === 'horizontal' && itemSize.reverse();\n    (itemSize[0] == null || isNaN(itemSize[0])) && (itemSize[0] = DEFAULT_BAR_BOUND[0]);\n    (itemSize[1] == null || isNaN(itemSize[1])) && (itemSize[1] = DEFAULT_BAR_BOUND[1]);\n  },\n\n  /**\n   * @private\n   */\n  _resetRange: function () {\n    var dataExtent = this.getExtent();\n    var range = this.option.range;\n\n    if (!range || range.auto) {\n      // `range` should always be array (so we dont use other\n      // value like 'auto') for user-friend. (consider getOption).\n      dataExtent.auto = 1;\n      this.option.range = dataExtent;\n    } else if (zrUtil.isArray(range)) {\n      if (range[0] > range[1]) {\n        range.reverse();\n      }\n\n      range[0] = Math.max(range[0], dataExtent[0]);\n      range[1] = Math.min(range[1], dataExtent[1]);\n    }\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  completeVisualOption: function () {\n    VisualMapModel.prototype.completeVisualOption.apply(this, arguments);\n    zrUtil.each(this.stateList, function (state) {\n      var symbolSize = this.option.controller[state].symbolSize;\n\n      if (symbolSize && symbolSize[0] !== symbolSize[1]) {\n        symbolSize[0] = 0; // For good looking.\n      }\n    }, this);\n  },\n\n  /**\n   * @override\n   */\n  setSelected: function (selected) {\n    this.option.range = selected.slice();\n\n    this._resetRange();\n  },\n\n  /**\n   * @public\n   */\n  getSelected: function () {\n    var dataExtent = this.getExtent();\n    var dataInterval = numberUtil.asc((this.get('range') || []).slice()); // Clamp\n\n    dataInterval[0] > dataExtent[1] && (dataInterval[0] = dataExtent[1]);\n    dataInterval[1] > dataExtent[1] && (dataInterval[1] = dataExtent[1]);\n    dataInterval[0] < dataExtent[0] && (dataInterval[0] = dataExtent[0]);\n    dataInterval[1] < dataExtent[0] && (dataInterval[1] = dataExtent[0]);\n    return dataInterval;\n  },\n\n  /**\n   * @override\n   */\n  getValueState: function (value) {\n    var range = this.option.range;\n    var dataExtent = this.getExtent(); // When range[0] === dataExtent[0], any value larger than dataExtent[0] maps to 'inRange'.\n    // range[1] is processed likewise.\n\n    return (range[0] <= dataExtent[0] || range[0] <= value) && (range[1] >= dataExtent[1] || value <= range[1]) ? 'inRange' : 'outOfRange';\n  },\n\n  /**\n   * @params {Array.<number>} range target value: range[0] <= value && value <= range[1]\n   * @return {Array.<Object>} [{seriesId, dataIndices: <Array.<number>>}, ...]\n   */\n  findTargetDataIndices: function (range) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimension(data), function (value, dataIndex) {\n        range[0] <= value && value <= range[1] && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  },\n\n  /**\n   * @implement\n   */\n  getVisualMeta: function (getColorVisual) {\n    var oVals = getColorStopValues(this, 'outOfRange', this.getExtent());\n    var iVals = getColorStopValues(this, 'inRange', this.option.range.slice());\n    var stops = [];\n\n    function setStop(value, valueState) {\n      stops.push({\n        value: value,\n        color: getColorVisual(value, valueState)\n      });\n    } // Format to: outOfRange -- inRange -- outOfRange.\n\n\n    var iIdx = 0;\n    var oIdx = 0;\n    var iLen = iVals.length;\n    var oLen = oVals.length;\n\n    for (; oIdx < oLen && (!iVals.length || oVals[oIdx] <= iVals[0]); oIdx++) {\n      // If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.\n      if (oVals[oIdx] < iVals[iIdx]) {\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n\n    for (var first = 1; iIdx < iLen; iIdx++, first = 0) {\n      // If range is full, value beyond min, max will be clamped.\n      // make a singularity\n      first && stops.length && setStop(iVals[iIdx], 'outOfRange');\n      setStop(iVals[iIdx], 'inRange');\n    }\n\n    for (var first = 1; oIdx < oLen; oIdx++) {\n      if (!iVals.length || iVals[iVals.length - 1] < oVals[oIdx]) {\n        // make a singularity\n        if (first) {\n          stops.length && setStop(stops[stops.length - 1].value, 'outOfRange');\n          first = 0;\n        }\n\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n\n    var stopsLen = stops.length;\n    return {\n      stops: stops,\n      outerColors: [stopsLen ? stops[0].color : 'transparent', stopsLen ? stops[stopsLen - 1].color : 'transparent']\n    };\n  }\n});\n\nfunction getColorStopValues(visualMapModel, valueState, dataExtent) {\n  if (dataExtent[0] === dataExtent[1]) {\n    return dataExtent.slice();\n  } // When using colorHue mapping, it is not linear color any more.\n  // Moreover, canvas gradient seems not to be accurate linear.\n  // FIXME\n  // Should be arbitrary value 100? or based on pixel size?\n\n\n  var count = 200;\n  var step = (dataExtent[1] - dataExtent[0]) / count;\n  var value = dataExtent[0];\n  var stopValues = [];\n\n  for (var i = 0; i <= count && value < dataExtent[1]; i++) {\n    stopValues.push(value);\n    value += step;\n  }\n\n  stopValues.push(dataExtent[1]);\n  return stopValues;\n}\n\nvar _default = ContinuousModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  var axis = this.getAxis();\n  var val = dataItem instanceof Array ? dataItem[0] : dataItem;\n  var halfSize = (dataSize instanceof Array ? dataSize[0] : dataSize) / 2;\n  return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n}\n\nfunction _default(coordSys) {\n  var rect = coordSys.getRect();\n  return {\n    coordSys: {\n      type: 'singleAxis',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (val) {\n        // do not provide \"out\" param\n        return coordSys.dataToPoint(val);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./sankey/SankeySeries\");\n\nrequire(\"./sankey/SankeyView\");\n\nrequire(\"./sankey/sankeyAction\");\n\nvar sankeyLayout = require(\"./sankey/sankeyLayout\");\n\nvar sankeyVisual = require(\"./sankey/sankeyVisual\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerLayout(sankeyLayout);\necharts.registerVisual(sankeyVisual);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _echarts = require(\"./lib/echarts\");\n\n(function () {\n  for (var key in _echarts) {\n    if (_echarts == null || !_echarts.hasOwnProperty(key) || key === 'default' || key === '__esModule') return;\n    exports[key] = _echarts[key];\n  }\n})();\n\nvar _export = require(\"./lib/export\");\n\n(function () {\n  for (var key in _export) {\n    if (_export == null || !_export.hasOwnProperty(key) || key === 'default' || key === '__esModule') return;\n    exports[key] = _export[key];\n  }\n})();\n\nrequire(\"./lib/component/dataset\");\n\nrequire(\"./lib/chart/line\");\n\nrequire(\"./lib/chart/bar\");\n\nrequire(\"./lib/chart/pie\");\n\nrequire(\"./lib/chart/scatter\");\n\nrequire(\"./lib/chart/radar\");\n\nrequire(\"./lib/chart/map\");\n\nrequire(\"./lib/chart/tree\");\n\nrequire(\"./lib/chart/treemap\");\n\nrequire(\"./lib/chart/graph\");\n\nrequire(\"./lib/chart/gauge\");\n\nrequire(\"./lib/chart/funnel\");\n\nrequire(\"./lib/chart/parallel\");\n\nrequire(\"./lib/chart/sankey\");\n\nrequire(\"./lib/chart/boxplot\");\n\nrequire(\"./lib/chart/candlestick\");\n\nrequire(\"./lib/chart/effectScatter\");\n\nrequire(\"./lib/chart/lines\");\n\nrequire(\"./lib/chart/heatmap\");\n\nrequire(\"./lib/chart/pictorialBar\");\n\nrequire(\"./lib/chart/themeRiver\");\n\nrequire(\"./lib/chart/sunburst\");\n\nrequire(\"./lib/chart/custom\");\n\nrequire(\"./lib/component/grid\");\n\nrequire(\"./lib/component/polar\");\n\nrequire(\"./lib/component/geo\");\n\nrequire(\"./lib/component/singleAxis\");\n\nrequire(\"./lib/component/parallel\");\n\nrequire(\"./lib/component/calendar\");\n\nrequire(\"./lib/component/graphic\");\n\nrequire(\"./lib/component/toolbox\");\n\nrequire(\"./lib/component/tooltip\");\n\nrequire(\"./lib/component/axisPointer\");\n\nrequire(\"./lib/component/brush\");\n\nrequire(\"./lib/component/title\");\n\nrequire(\"./lib/component/timeline\");\n\nrequire(\"./lib/component/markPoint\");\n\nrequire(\"./lib/component/markLine\");\n\nrequire(\"./lib/component/markArea\");\n\nrequire(\"./lib/component/legendScroll\");\n\nrequire(\"./lib/component/legend\");\n\nrequire(\"./lib/component/dataZoom\");\n\nrequire(\"./lib/component/dataZoomInside\");\n\nrequire(\"./lib/component/dataZoomSlider\");\n\nrequire(\"./lib/component/visualMap\");\n\nrequire(\"./lib/component/visualMapContinuous\");\n\nrequire(\"./lib/component/visualMapPiecewise\");\n\nrequire(\"zrender/lib/vml/vml\");\n\nrequire(\"zrender/lib/svg/svg\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Link lists and struct (graph or tree)\n */\nvar each = zrUtil.each;\nvar DATAS = '\\0__link_datas';\nvar MAIN_DATA = '\\0__link_mainData'; // Caution:\n// In most case, either list or its shallow clones (see list.cloneShallow)\n// is active in echarts process. So considering heap memory consumption,\n// we do not clone tree or graph, but share them among list and its shallow clones.\n// But in some rare case, we have to keep old list (like do animation in chart). So\n// please take care that both the old list and the new list share the same tree/graph.\n\n/**\n * @param {Object} opt\n * @param {module:echarts/data/List} opt.mainData\n * @param {Object} [opt.struct] For example, instance of Graph or Tree.\n * @param {string} [opt.structAttr] designation: list[structAttr] = struct;\n * @param {Object} [opt.datas] {dataType: data},\n *                 like: {node: nodeList, edge: edgeList}.\n *                 Should contain mainData.\n * @param {Object} [opt.datasAttr] {dataType: attr},\n *                 designation: struct[datasAttr[dataType]] = list;\n */\n\nfunction linkList(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt); // Porxy data original methods.\n\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, zrUtil.curry(transferInjection, opt));\n    });\n  }); // Beyond transfer, additional features should be added to `cloneShallow`.\n\n  mainData.wrapMethod('cloneShallow', zrUtil.curry(cloneShallowInjection, opt)); // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, zrUtil.curry(changeInjection, opt));\n  }); // Make sure datas contains mainData.\n\n  zrUtil.assert(datas[mainData.dataType] === mainData);\n}\n\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = zrUtil.extend({}, this[DATAS]);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, this[MAIN_DATA], opt);\n  }\n\n  return res;\n}\n\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update(this);\n  return res;\n}\n\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(res[DATAS], function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param {string} [dataType] If not specified, return mainData.\n * @return {module:echarts/data/List}\n */\n\n\nfunction getLinkedData(dataType) {\n  var mainData = this[MAIN_DATA];\n  return dataType == null || mainData == null ? mainData : mainData[DATAS][dataType];\n}\n\nfunction isMainData(data) {\n  return data[MAIN_DATA] === data;\n}\n\nfunction linkAll(mainData, datas, opt) {\n  mainData[DATAS] = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\n\nfunction linkSingle(data, dataType, mainData, opt) {\n  mainData[DATAS][dataType] = data;\n  data[MAIN_DATA] = mainData;\n  data.dataType = dataType;\n\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  } // Supplement method.\n\n\n  data.getLinkedData = getLinkedData;\n}\n\nvar _default = linkList;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Region = require(\"../Region\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Fix for \nvar geoCoord = [126, 25];\nvar points = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]];\n\nfor (var i = 0; i < points.length; i++) {\n  for (var k = 0; k < points[i].length; k++) {\n    points[i][k][0] /= 10.5;\n    points[i][k][1] /= -10.5 / 0.75;\n    points[i][k][0] += geoCoord[0];\n    points[i][k][1] += geoCoord[1];\n  }\n}\n\nfunction _default(mapType, regions) {\n  if (mapType === 'china') {\n    regions.push(new Region('', zrUtil.map(points, function (exterior) {\n      return {\n        type: 'polygon',\n        exterior: exterior\n      };\n    }), geoCoord));\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar DataZoomView = require(\"./DataZoomView\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\nvar roams = require(\"./roams\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar bind = zrUtil.bind;\nvar InsideZoomView = DataZoomView.extend({\n  type: 'dataZoom.inside',\n\n  /**\n   * @override\n   */\n  init: function (ecModel, api) {\n    /**\n     * 'throttle' is used in this.dispatchAction, so we save range\n     * to avoid missing some 'pan' info.\n     * @private\n     * @type {Array.<number>}\n     */\n    this._range;\n  },\n\n  /**\n   * @override\n   */\n  render: function (dataZoomModel, ecModel, api, payload) {\n    InsideZoomView.superApply(this, 'render', arguments); // Hence the `throttle` util ensures to preserve command order,\n    // here simply updating range all the time will not cause missing\n    // any of the the roam change.\n\n    this._range = dataZoomModel.getPercentRange(); // Reset controllers.\n\n    zrUtil.each(this.getTargetCoordInfo(), function (coordInfoList, coordSysName) {\n      var allCoordIds = zrUtil.map(coordInfoList, function (coordInfo) {\n        return roams.generateCoordId(coordInfo.model);\n      });\n      zrUtil.each(coordInfoList, function (coordInfo) {\n        var coordModel = coordInfo.model;\n        var getRange = {};\n        zrUtil.each(['pan', 'zoom', 'scrollMove'], function (eventName) {\n          getRange[eventName] = bind(roamHandlers[eventName], this, coordInfo, coordSysName);\n        }, this);\n        roams.register(api, {\n          coordId: roams.generateCoordId(coordModel),\n          allCoordIds: allCoordIds,\n          containsPoint: function (e, x, y) {\n            return coordModel.coordinateSystem.containPoint([x, y]);\n          },\n          dataZoomId: dataZoomModel.id,\n          dataZoomModel: dataZoomModel,\n          getRange: getRange\n        });\n      }, this);\n    }, this);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    roams.unregister(this.api, this.dataZoomModel.id);\n    InsideZoomView.superApply(this, 'dispose', arguments);\n    this._range = null;\n  }\n});\nvar roamHandlers = {\n  /**\n   * @this {module:echarts/component/dataZoom/InsideZoomView}\n   */\n  zoom: function (coordInfo, coordSysName, controller, e) {\n    var lastRange = this._range;\n    var range = lastRange.slice(); // Calculate transform by the first axis.\n\n    var axisModel = coordInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var directionInfo = getDirectionInfo[coordSysName](null, [e.originX, e.originY], axisModel, controller, coordInfo);\n    var percentPoint = (directionInfo.signal > 0 ? directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel : directionInfo.pixel - directionInfo.pixelStart) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n    var scale = Math.max(1 / e.scale, 0);\n    range[0] = (range[0] - percentPoint) * scale + percentPoint;\n    range[1] = (range[1] - percentPoint) * scale + percentPoint; // Restrict range.\n\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n    this._range = range;\n\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  },\n\n  /**\n   * @this {module:echarts/component/dataZoom/InsideZoomView}\n   */\n  pan: makeMover(function (range, axisModel, coordInfo, coordSysName, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysName]([e.oldX, e.oldY], [e.newX, e.newY], axisModel, controller, coordInfo);\n    return directionInfo.signal * (range[1] - range[0]) * directionInfo.pixel / directionInfo.pixelLength;\n  }),\n\n  /**\n   * @this {module:echarts/component/dataZoom/InsideZoomView}\n   */\n  scrollMove: makeMover(function (range, axisModel, coordInfo, coordSysName, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysName]([0, 0], [e.scrollDelta, e.scrollDelta], axisModel, controller, coordInfo);\n    return directionInfo.signal * (range[1] - range[0]) * e.scrollDelta;\n  })\n};\n\nfunction makeMover(getPercentDelta) {\n  return function (coordInfo, coordSysName, controller, e) {\n    var lastRange = this._range;\n    var range = lastRange.slice(); // Calculate transform by the first axis.\n\n    var axisModel = coordInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var percentDelta = getPercentDelta(range, axisModel, coordInfo, coordSysName, controller, e);\n    sliderMove(percentDelta, range, [0, 100], 'all');\n    this._range = range;\n\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  };\n}\n\nvar getDirectionInfo = {\n  grid: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var rect = coordInfo.model.coordinateSystem.getRect();\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.dim === 'x') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // axis.dim === 'y'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  polar: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var polar = coordInfo.model.coordinateSystem;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var angleExtent = polar.getAngleAxis().getExtent();\n    oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n    newPoint = polar.pointToCoord(newPoint);\n\n    if (axisModel.mainType === 'radiusAxis') {\n      ret.pixel = newPoint[0] - oldPoint[0]; // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n      // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n\n      ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n      ret.pixelStart = radiusExtent[0];\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'angleAxis'\n      ret.pixel = newPoint[1] - oldPoint[1]; // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n      // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n\n      ret.pixelLength = angleExtent[1] - angleExtent[0];\n      ret.pixelStart = angleExtent[0];\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  singleAxis: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n    var axis = axisModel.axis;\n    var rect = coordInfo.model.coordinateSystem.getRect();\n    var ret = {};\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.orient === 'horizontal') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'vertical'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  }\n};\nvar _default = InsideZoomView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar isNumeric = _number.isNumeric;\n\nvar _helper = require(\"./helper\");\n\nvar setLabel = _helper.setLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'borderWidth']; // index: +isHorizontal\n\nvar LAYOUT_ATTRS = [{\n  xy: 'x',\n  wh: 'width',\n  index: 0,\n  posDesc: ['left', 'right']\n}, {\n  xy: 'y',\n  wh: 'height',\n  index: 1,\n  posDesc: ['top', 'bottom']\n}];\nvar pathForLineWidth = new graphic.Circle();\nvar BarView = echarts.extendChartView({\n  type: 'pictorialBar',\n  render: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var isHorizontal = !!baseAxis.isHorizontal();\n    var coordSysRect = cartesian.grid.getRect();\n    var opt = {\n      ecSize: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      seriesModel: seriesModel,\n      coordSys: cartesian,\n      coordSysExtent: [[coordSysRect.x, coordSysRect.x + coordSysRect.width], [coordSysRect.y, coordSysRect.y + coordSysRect.height]],\n      isHorizontal: isHorizontal,\n      valueDim: LAYOUT_ATTRS[+isHorizontal],\n      categoryDim: LAYOUT_ATTRS[1 - isHorizontal]\n    };\n    data.diff(oldData).add(function (dataIndex) {\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      var itemModel = getItemModel(data, dataIndex);\n      var symbolMeta = getSymbolMeta(data, dataIndex, itemModel, opt);\n      var bar = createBar(data, opt, symbolMeta);\n      data.setItemGraphicEl(dataIndex, bar);\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).update(function (newIndex, oldIndex) {\n      var bar = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(bar);\n        return;\n      }\n\n      var itemModel = getItemModel(data, newIndex);\n      var symbolMeta = getSymbolMeta(data, newIndex, itemModel, opt);\n      var pictorialShapeStr = getShapeStr(data, symbolMeta);\n\n      if (bar && pictorialShapeStr !== bar.__pictorialShapeStr) {\n        group.remove(bar);\n        data.setItemGraphicEl(newIndex, null);\n        bar = null;\n      }\n\n      if (bar) {\n        updateBar(bar, opt, symbolMeta);\n      } else {\n        bar = createBar(data, opt, symbolMeta, true);\n      }\n\n      data.setItemGraphicEl(newIndex, bar);\n      bar.__pictorialSymbolMeta = symbolMeta; // Add back\n\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).remove(function (dataIndex) {\n      var bar = oldData.getItemGraphicEl(dataIndex);\n      bar && removeBar(oldData, dataIndex, bar.__pictorialSymbolMeta.animationModel, bar);\n    }).execute();\n    this._data = data;\n    return this.group;\n  },\n  dispose: zrUtil.noop,\n  remove: function (ecModel, api) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel.get('animation')) {\n      if (data) {\n        data.eachItemGraphicEl(function (bar) {\n          removeBar(data, bar.dataIndex, ecModel, bar);\n        });\n      }\n    } else {\n      group.removeAll();\n    }\n  }\n}); // Set or calculate default value about symbol, and calculate layout info.\n\nfunction getSymbolMeta(data, dataIndex, itemModel, opt) {\n  var layout = data.getItemLayout(dataIndex);\n  var symbolRepeat = itemModel.get('symbolRepeat');\n  var symbolClip = itemModel.get('symbolClip');\n  var symbolPosition = itemModel.get('symbolPosition') || 'start';\n  var symbolRotate = itemModel.get('symbolRotate');\n  var rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  var symbolPatternSize = itemModel.get('symbolPatternSize') || 2;\n  var isAnimationEnabled = itemModel.isAnimationEnabled();\n  var symbolMeta = {\n    dataIndex: dataIndex,\n    layout: layout,\n    itemModel: itemModel,\n    symbolType: data.getItemVisual(dataIndex, 'symbol') || 'circle',\n    color: data.getItemVisual(dataIndex, 'color'),\n    symbolClip: symbolClip,\n    symbolRepeat: symbolRepeat,\n    symbolRepeatDirection: itemModel.get('symbolRepeatDirection'),\n    symbolPatternSize: symbolPatternSize,\n    rotation: rotation,\n    animationModel: isAnimationEnabled ? itemModel : null,\n    hoverAnimation: isAnimationEnabled && itemModel.get('hoverAnimation'),\n    z2: itemModel.getShallow('z', true) || 0\n  };\n  prepareBarLength(itemModel, symbolRepeat, layout, opt, symbolMeta);\n  prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, symbolMeta.boundingLength, symbolMeta.pxSign, symbolPatternSize, opt, symbolMeta);\n  prepareLineWidth(itemModel, symbolMeta.symbolScale, rotation, opt, symbolMeta);\n  var symbolSize = symbolMeta.symbolSize;\n  var symbolOffset = itemModel.get('symbolOffset');\n\n  if (zrUtil.isArray(symbolOffset)) {\n    symbolOffset = [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])];\n  }\n\n  prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, symbolMeta.valueLineWidth, symbolMeta.boundingLength, symbolMeta.repeatCutLength, opt, symbolMeta);\n  return symbolMeta;\n} // bar length can be negative.\n\n\nfunction prepareBarLength(itemModel, symbolRepeat, layout, opt, output) {\n  var valueDim = opt.valueDim;\n  var symbolBoundingData = itemModel.get('symbolBoundingData');\n  var valueAxis = opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis());\n  var zeroPx = valueAxis.toGlobalCoord(valueAxis.dataToCoord(0));\n  var pxSignIdx = 1 - +(layout[valueDim.wh] <= 0);\n  var boundingLength;\n\n  if (zrUtil.isArray(symbolBoundingData)) {\n    var symbolBoundingExtent = [convertToCoordOnAxis(valueAxis, symbolBoundingData[0]) - zeroPx, convertToCoordOnAxis(valueAxis, symbolBoundingData[1]) - zeroPx];\n    symbolBoundingExtent[1] < symbolBoundingExtent[0] && symbolBoundingExtent.reverse();\n    boundingLength = symbolBoundingExtent[pxSignIdx];\n  } else if (symbolBoundingData != null) {\n    boundingLength = convertToCoordOnAxis(valueAxis, symbolBoundingData) - zeroPx;\n  } else if (symbolRepeat) {\n    boundingLength = opt.coordSysExtent[valueDim.index][pxSignIdx] - zeroPx;\n  } else {\n    boundingLength = layout[valueDim.wh];\n  }\n\n  output.boundingLength = boundingLength;\n\n  if (symbolRepeat) {\n    output.repeatCutLength = layout[valueDim.wh];\n  }\n\n  output.pxSign = boundingLength > 0 ? 1 : boundingLength < 0 ? -1 : 0;\n}\n\nfunction convertToCoordOnAxis(axis, value) {\n  return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)));\n} // Support ['100%', '100%']\n\n\nfunction prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, boundingLength, pxSign, symbolPatternSize, opt, output) {\n  var valueDim = opt.valueDim;\n  var categoryDim = opt.categoryDim;\n  var categorySize = Math.abs(layout[categoryDim.wh]);\n  var symbolSize = data.getItemVisual(dataIndex, 'symbolSize');\n\n  if (zrUtil.isArray(symbolSize)) {\n    symbolSize = symbolSize.slice();\n  } else {\n    if (symbolSize == null) {\n      symbolSize = '100%';\n    }\n\n    symbolSize = [symbolSize, symbolSize];\n  } // Note: percentage symbolSize (like '100%') do not consider lineWidth, because it is\n  // to complicated to calculate real percent value if considering scaled lineWidth.\n  // So the actual size will bigger than layout size if lineWidth is bigger than zero,\n  // which can be tolerated in pictorial chart.\n\n\n  symbolSize[categoryDim.index] = parsePercent(symbolSize[categoryDim.index], categorySize);\n  symbolSize[valueDim.index] = parsePercent(symbolSize[valueDim.index], symbolRepeat ? categorySize : Math.abs(boundingLength));\n  output.symbolSize = symbolSize; // If x or y is less than zero, show reversed shape.\n\n  var symbolScale = output.symbolScale = [symbolSize[0] / symbolPatternSize, symbolSize[1] / symbolPatternSize]; // Follow convention, 'right' and 'top' is the normal scale.\n\n  symbolScale[valueDim.index] *= (opt.isHorizontal ? -1 : 1) * pxSign;\n}\n\nfunction prepareLineWidth(itemModel, symbolScale, rotation, opt, output) {\n  // In symbols are drawn with scale, so do not need to care about the case that width\n  // or height are too small. But symbol use strokeNoScale, where acture lineWidth should\n  // be calculated.\n  var valueLineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n\n  if (valueLineWidth) {\n    pathForLineWidth.attr({\n      scale: symbolScale.slice(),\n      rotation: rotation\n    });\n    pathForLineWidth.updateTransform();\n    valueLineWidth /= pathForLineWidth.getLineScale();\n    valueLineWidth *= symbolScale[opt.valueDim.index];\n  }\n\n  output.valueLineWidth = valueLineWidth;\n}\n\nfunction prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, valueLineWidth, boundingLength, repeatCutLength, opt, output) {\n  var categoryDim = opt.categoryDim;\n  var valueDim = opt.valueDim;\n  var pxSign = output.pxSign;\n  var unitLength = Math.max(symbolSize[valueDim.index] + valueLineWidth, 0);\n  var pathLen = unitLength; // Note: rotation will not effect the layout of symbols, because user may\n  // want symbols to rotate on its center, which should not be translated\n  // when rotating.\n\n  if (symbolRepeat) {\n    var absBoundingLength = Math.abs(boundingLength);\n    var symbolMargin = zrUtil.retrieve(itemModel.get('symbolMargin'), '15%') + '';\n    var hasEndGap = false;\n\n    if (symbolMargin.lastIndexOf('!') === symbolMargin.length - 1) {\n      hasEndGap = true;\n      symbolMargin = symbolMargin.slice(0, symbolMargin.length - 1);\n    }\n\n    symbolMargin = parsePercent(symbolMargin, symbolSize[valueDim.index]);\n    var uLenWithMargin = Math.max(unitLength + symbolMargin * 2, 0); // When symbol margin is less than 0, margin at both ends will be subtracted\n    // to ensure that all of the symbols will not be overflow the given area.\n\n    var endFix = hasEndGap ? 0 : symbolMargin * 2; // Both final repeatTimes and final symbolMargin area calculated based on\n    // boundingLength.\n\n    var repeatSpecified = isNumeric(symbolRepeat);\n    var repeatTimes = repeatSpecified ? symbolRepeat : toIntTimes((absBoundingLength + endFix) / uLenWithMargin); // Adjust calculate margin, to ensure each symbol is displayed\n    // entirely in the given layout area.\n\n    var mDiff = absBoundingLength - repeatTimes * unitLength;\n    symbolMargin = mDiff / 2 / (hasEndGap ? repeatTimes : repeatTimes - 1);\n    uLenWithMargin = unitLength + symbolMargin * 2;\n    endFix = hasEndGap ? 0 : symbolMargin * 2; // Update repeatTimes when not all symbol will be shown.\n\n    if (!repeatSpecified && symbolRepeat !== 'fixed') {\n      repeatTimes = repeatCutLength ? toIntTimes((Math.abs(repeatCutLength) + endFix) / uLenWithMargin) : 0;\n    }\n\n    pathLen = repeatTimes * uLenWithMargin - endFix;\n    output.repeatTimes = repeatTimes;\n    output.symbolMargin = symbolMargin;\n  }\n\n  var sizeFix = pxSign * (pathLen / 2);\n  var pathPosition = output.pathPosition = [];\n  pathPosition[categoryDim.index] = layout[categoryDim.wh] / 2;\n  pathPosition[valueDim.index] = symbolPosition === 'start' ? sizeFix : symbolPosition === 'end' ? boundingLength - sizeFix : boundingLength / 2; // 'center'\n\n  if (symbolOffset) {\n    pathPosition[0] += symbolOffset[0];\n    pathPosition[1] += symbolOffset[1];\n  }\n\n  var bundlePosition = output.bundlePosition = [];\n  bundlePosition[categoryDim.index] = layout[categoryDim.xy];\n  bundlePosition[valueDim.index] = layout[valueDim.xy];\n  var barRectShape = output.barRectShape = zrUtil.extend({}, layout);\n  barRectShape[valueDim.wh] = pxSign * Math.max(Math.abs(layout[valueDim.wh]), Math.abs(pathPosition[valueDim.index] + sizeFix));\n  barRectShape[categoryDim.wh] = layout[categoryDim.wh];\n  var clipShape = output.clipShape = {}; // Consider that symbol may be overflow layout rect.\n\n  clipShape[categoryDim.xy] = -layout[categoryDim.xy];\n  clipShape[categoryDim.wh] = opt.ecSize[categoryDim.wh];\n  clipShape[valueDim.xy] = 0;\n  clipShape[valueDim.wh] = layout[valueDim.wh];\n}\n\nfunction createPath(symbolMeta) {\n  var symbolPatternSize = symbolMeta.symbolPatternSize;\n  var path = createSymbol( // Consider texture img, make a big size.\n  symbolMeta.symbolType, -symbolPatternSize / 2, -symbolPatternSize / 2, symbolPatternSize, symbolPatternSize, symbolMeta.color);\n  path.attr({\n    culling: true\n  });\n  path.type !== 'image' && path.setStyle({\n    strokeNoScale: true\n  });\n  return path;\n}\n\nfunction createOrUpdateRepeatSymbols(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var symbolSize = symbolMeta.symbolSize;\n  var valueLineWidth = symbolMeta.valueLineWidth;\n  var pathPosition = symbolMeta.pathPosition;\n  var valueDim = opt.valueDim;\n  var repeatTimes = symbolMeta.repeatTimes || 0;\n  var index = 0;\n  var unit = symbolSize[opt.valueDim.index] + valueLineWidth + symbolMeta.symbolMargin * 2;\n  eachPath(bar, function (path) {\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n\n    if (index < repeatTimes) {\n      updateAttr(path, null, makeTarget(index), symbolMeta, isUpdate);\n    } else {\n      updateAttr(path, null, {\n        scale: [0, 0]\n      }, symbolMeta, isUpdate, function () {\n        bundle.remove(path);\n      });\n    }\n\n    updateHoverAnimation(path, symbolMeta);\n    index++;\n  });\n\n  for (; index < repeatTimes; index++) {\n    var path = createPath(symbolMeta);\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n    bundle.add(path);\n    var target = makeTarget(index);\n    updateAttr(path, {\n      position: target.position,\n      scale: [0, 0]\n    }, {\n      scale: target.scale,\n      rotation: target.rotation\n    }, symbolMeta, isUpdate); // FIXME\n    // If all emphasis/normal through action.\n\n    path.on('mouseover', onMouseOver).on('mouseout', onMouseOut);\n    updateHoverAnimation(path, symbolMeta);\n  }\n\n  function makeTarget(index) {\n    var position = pathPosition.slice(); // (start && pxSign > 0) || (end && pxSign < 0): i = repeatTimes - index\n    // Otherwise: i = index;\n\n    var pxSign = symbolMeta.pxSign;\n    var i = index;\n\n    if (symbolMeta.symbolRepeatDirection === 'start' ? pxSign > 0 : pxSign < 0) {\n      i = repeatTimes - 1 - index;\n    }\n\n    position[valueDim.index] = unit * (i - repeatTimes / 2 + 0.5) + pathPosition[valueDim.index];\n    return {\n      position: position,\n      scale: symbolMeta.symbolScale.slice(),\n      rotation: symbolMeta.rotation\n    };\n  }\n\n  function onMouseOver() {\n    eachPath(bar, function (path) {\n      path.trigger('emphasis');\n    });\n  }\n\n  function onMouseOut() {\n    eachPath(bar, function (path) {\n      path.trigger('normal');\n    });\n  }\n}\n\nfunction createOrUpdateSingleSymbol(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var mainPath = bar.__pictorialMainPath;\n\n  if (!mainPath) {\n    mainPath = bar.__pictorialMainPath = createPath(symbolMeta);\n    bundle.add(mainPath);\n    updateAttr(mainPath, {\n      position: symbolMeta.pathPosition.slice(),\n      scale: [0, 0],\n      rotation: symbolMeta.rotation\n    }, {\n      scale: symbolMeta.symbolScale.slice()\n    }, symbolMeta, isUpdate);\n    mainPath.on('mouseover', onMouseOver).on('mouseout', onMouseOut);\n  } else {\n    updateAttr(mainPath, null, {\n      position: symbolMeta.pathPosition.slice(),\n      scale: symbolMeta.symbolScale.slice(),\n      rotation: symbolMeta.rotation\n    }, symbolMeta, isUpdate);\n  }\n\n  updateHoverAnimation(mainPath, symbolMeta);\n\n  function onMouseOver() {\n    this.trigger('emphasis');\n  }\n\n  function onMouseOut() {\n    this.trigger('normal');\n  }\n} // bar rect is used for label.\n\n\nfunction createOrUpdateBarRect(bar, symbolMeta, isUpdate) {\n  var rectShape = zrUtil.extend({}, symbolMeta.barRectShape);\n  var barRect = bar.__pictorialBarRect;\n\n  if (!barRect) {\n    barRect = bar.__pictorialBarRect = new graphic.Rect({\n      z2: 2,\n      shape: rectShape,\n      silent: true,\n      style: {\n        stroke: 'transparent',\n        fill: 'transparent',\n        lineWidth: 0\n      }\n    });\n    bar.add(barRect);\n  } else {\n    updateAttr(barRect, null, {\n      shape: rectShape\n    }, symbolMeta, isUpdate);\n  }\n}\n\nfunction createOrUpdateClip(bar, opt, symbolMeta, isUpdate) {\n  // If not clip, symbol will be remove and rebuilt.\n  if (symbolMeta.symbolClip) {\n    var clipPath = bar.__pictorialClipPath;\n    var clipShape = zrUtil.extend({}, symbolMeta.clipShape);\n    var valueDim = opt.valueDim;\n    var animationModel = symbolMeta.animationModel;\n    var dataIndex = symbolMeta.dataIndex;\n\n    if (clipPath) {\n      graphic.updateProps(clipPath, {\n        shape: clipShape\n      }, animationModel, dataIndex);\n    } else {\n      clipShape[valueDim.wh] = 0;\n      clipPath = new graphic.Rect({\n        shape: clipShape\n      });\n\n      bar.__pictorialBundle.setClipPath(clipPath);\n\n      bar.__pictorialClipPath = clipPath;\n      var target = {};\n      target[valueDim.wh] = symbolMeta.clipShape[valueDim.wh];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](clipPath, {\n        shape: target\n      }, animationModel, dataIndex);\n    }\n  }\n}\n\nfunction getItemModel(data, dataIndex) {\n  var itemModel = data.getItemModel(dataIndex);\n  itemModel.getAnimationDelayParams = getAnimationDelayParams;\n  itemModel.isAnimationEnabled = isAnimationEnabled;\n  return itemModel;\n}\n\nfunction getAnimationDelayParams(path) {\n  // The order is the same as the z-order, see `symbolRepeatDiretion`.\n  return {\n    index: path.__pictorialAnimationIndex,\n    count: path.__pictorialRepeatTimes\n  };\n}\n\nfunction isAnimationEnabled() {\n  // `animation` prop can be set on itemModel in pictorial bar chart.\n  return this.parentModel.isAnimationEnabled() && !!this.getShallow('animation');\n}\n\nfunction updateHoverAnimation(path, symbolMeta) {\n  path.off('emphasis').off('normal');\n  var scale = symbolMeta.symbolScale.slice();\n  symbolMeta.hoverAnimation && path.on('emphasis', function () {\n    this.animateTo({\n      scale: [scale[0] * 1.1, scale[1] * 1.1]\n    }, 400, 'elasticOut');\n  }).on('normal', function () {\n    this.animateTo({\n      scale: scale.slice()\n    }, 400, 'elasticOut');\n  });\n}\n\nfunction createBar(data, opt, symbolMeta, isUpdate) {\n  // bar is the main element for each data.\n  var bar = new graphic.Group(); // bundle is used for location and clip.\n\n  var bundle = new graphic.Group();\n  bar.add(bundle);\n  bar.__pictorialBundle = bundle;\n  bundle.attr('position', symbolMeta.bundlePosition.slice());\n\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta);\n  }\n\n  createOrUpdateBarRect(bar, symbolMeta, isUpdate);\n  createOrUpdateClip(bar, opt, symbolMeta, isUpdate);\n  bar.__pictorialShapeStr = getShapeStr(data, symbolMeta);\n  bar.__pictorialSymbolMeta = symbolMeta;\n  return bar;\n}\n\nfunction updateBar(bar, opt, symbolMeta) {\n  var animationModel = symbolMeta.animationModel;\n  var dataIndex = symbolMeta.dataIndex;\n  var bundle = bar.__pictorialBundle;\n  graphic.updateProps(bundle, {\n    position: symbolMeta.bundlePosition.slice()\n  }, animationModel, dataIndex);\n\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta, true);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta, true);\n  }\n\n  createOrUpdateBarRect(bar, symbolMeta, true);\n  createOrUpdateClip(bar, opt, symbolMeta, true);\n}\n\nfunction removeBar(data, dataIndex, animationModel, bar) {\n  // Not show text when animating\n  var labelRect = bar.__pictorialBarRect;\n  labelRect && (labelRect.style.text = null);\n  var pathes = [];\n  eachPath(bar, function (path) {\n    pathes.push(path);\n  });\n  bar.__pictorialMainPath && pathes.push(bar.__pictorialMainPath); // I do not find proper remove animation for clip yet.\n\n  bar.__pictorialClipPath && (animationModel = null);\n  zrUtil.each(pathes, function (path) {\n    graphic.updateProps(path, {\n      scale: [0, 0]\n    }, animationModel, dataIndex, function () {\n      bar.parent && bar.parent.remove(bar);\n    });\n  });\n  data.setItemGraphicEl(dataIndex, null);\n}\n\nfunction getShapeStr(data, symbolMeta) {\n  return [data.getItemVisual(symbolMeta.dataIndex, 'symbol') || 'none', !!symbolMeta.symbolRepeat, !!symbolMeta.symbolClip].join(':');\n}\n\nfunction eachPath(bar, cb, context) {\n  // Do not use Group#eachChild, because it do not support remove.\n  zrUtil.each(bar.__pictorialBundle.children(), function (el) {\n    el !== bar.__pictorialBarRect && cb.call(context, el);\n  });\n}\n\nfunction updateAttr(el, immediateAttrs, animationAttrs, symbolMeta, isUpdate, cb) {\n  immediateAttrs && el.attr(immediateAttrs); // when symbolCip used, only clip path has init animation, otherwise it would be weird effect.\n\n  if (symbolMeta.symbolClip && !isUpdate) {\n    animationAttrs && el.attr(animationAttrs);\n  } else {\n    animationAttrs && graphic[isUpdate ? 'updateProps' : 'initProps'](el, animationAttrs, symbolMeta.animationModel, symbolMeta.dataIndex, cb);\n  }\n}\n\nfunction updateCommon(bar, opt, symbolMeta) {\n  var color = symbolMeta.color;\n  var dataIndex = symbolMeta.dataIndex;\n  var itemModel = symbolMeta.itemModel; // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var normalStyle = itemModel.getModel('itemStyle').getItemStyle(['color']);\n  var hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  eachPath(bar, function (path) {\n    // PENDING setColor should be before setStyle!!!\n    path.setColor(color);\n    path.setStyle(zrUtil.defaults({\n      fill: color,\n      opacity: symbolMeta.opacity\n    }, normalStyle));\n    graphic.setHoverStyle(path, hoverStyle);\n    cursorStyle && (path.cursor = cursorStyle);\n    path.z2 = symbolMeta.z2;\n  });\n  var barRectHoverStyle = {};\n  var barPositionOutside = opt.valueDim.posDesc[+(symbolMeta.boundingLength > 0)];\n  var barRect = bar.__pictorialBarRect;\n  setLabel(barRect.style, barRectHoverStyle, itemModel, color, opt.seriesModel, dataIndex, barPositionOutside);\n  graphic.setHoverStyle(barRect, barRectHoverStyle);\n}\n\nfunction toIntTimes(times) {\n  var roundedTimes = Math.round(times); // Escapse accurate error\n\n  return Math.abs(times - roundedTimes) < 1e-4 ? roundedTimes : Math.ceil(times);\n}\n\nvar _default = BarView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DataZoomModel = require(\"./DataZoomModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar SliderZoomModel = DataZoomModel.extend({\n  type: 'dataZoom.slider',\n  layoutMode: 'box',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    show: true,\n    // ph => placeholder. Using placehoder here because\n    // deault value can only be drived in view stage.\n    right: 'ph',\n    // Default align to grid rect.\n    top: 'ph',\n    // Default align to grid rect.\n    width: 'ph',\n    // Default align to grid rect.\n    height: 'ph',\n    // Default align to grid rect.\n    left: null,\n    // Default align to grid rect.\n    bottom: null,\n    // Default align to grid rect.\n    backgroundColor: 'rgba(47,69,84,0)',\n    // Background of slider zoom component.\n    // dataBackgroundColor: '#ddd',         // Background coor of data shadow and border of box,\n    // highest priority, remain for compatibility of\n    // previous version, but not recommended any more.\n    dataBackground: {\n      lineStyle: {\n        color: '#2f4554',\n        width: 0.5,\n        opacity: 0.3\n      },\n      areaStyle: {\n        color: 'rgba(47,69,84,0.3)',\n        opacity: 0.3\n      }\n    },\n    borderColor: '#ddd',\n    // border color of the box. For compatibility,\n    // if dataBackgroundColor is set, borderColor\n    // is ignored.\n    fillerColor: 'rgba(167,183,204,0.4)',\n    // Color of selected area.\n    // handleColor: 'rgba(89,170,216,0.95)',     // Color of handle.\n    // handleIcon: 'path://M4.9,17.8c0-1.4,4.5-10.5,5.5-12.4c0-0.1,0.6-1.1,0.9-1.1c0.4,0,0.9,1,0.9,1.1c1.1,2.2,5.4,11,5.4,12.4v17.8c0,1.5-0.6,2.1-1.3,2.1H6.1c-0.7,0-1.3-0.6-1.3-2.1V17.8z',\n\n    /* eslint-disable */\n    handleIcon: 'M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z',\n\n    /* eslint-enable */\n    // Percent of the slider height\n    handleSize: '100%',\n    handleStyle: {\n      color: '#a7b7cc'\n    },\n    labelPrecision: null,\n    labelFormatter: null,\n    showDetail: true,\n    showDataShadow: 'auto',\n    // Default auto decision.\n    realtime: true,\n    zoomLock: false,\n    // Whether disable zoom.\n    textStyle: {\n      color: '#333'\n    }\n  }\n});\nvar _default = SliderZoomModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar SunburstPiece = require(\"./SunburstPiece\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\nvar _format = require(\"../../util/format\");\n\nvar windowOpen = _format.windowOpen;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ROOT_TO_NODE_ACTION = 'sunburstRootToNode';\nvar SunburstView = ChartView.extend({\n  type: 'sunburst',\n  init: function () {},\n  render: function (seriesModel, ecModel, api, payload) {\n    var that = this;\n    this.seriesModel = seriesModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    var data = seriesModel.getData();\n    var virtualRoot = data.tree.root;\n    var newRoot = seriesModel.getViewRoot();\n    var group = this.group;\n    var renderLabelForZeroData = seriesModel.get('renderLabelForZeroData');\n    var newChildren = [];\n    newRoot.eachNode(function (node) {\n      newChildren.push(node);\n    });\n    var oldChildren = this._oldChildren || [];\n    dualTravel(newChildren, oldChildren);\n    renderRollUp(virtualRoot, newRoot);\n\n    if (payload && payload.highlight && payload.highlight.piece) {\n      var highlightPolicy = seriesModel.getShallow('highlightPolicy');\n      payload.highlight.piece.onEmphasis(highlightPolicy);\n    } else if (payload && payload.unhighlight) {\n      var piece = this.virtualPiece;\n\n      if (!piece && virtualRoot.children.length) {\n        piece = virtualRoot.children[0].piece;\n      }\n\n      if (piece) {\n        piece.onNormal();\n      }\n    }\n\n    this._initEvents();\n\n    this._oldChildren = newChildren;\n\n    function dualTravel(newChildren, oldChildren) {\n      if (newChildren.length === 0 && oldChildren.length === 0) {\n        return;\n      }\n\n      new DataDiffer(oldChildren, newChildren, getKey, getKey).add(processNode).update(processNode).remove(zrUtil.curry(processNode, null)).execute();\n\n      function getKey(node) {\n        return node.getId();\n      }\n\n      function processNode(newId, oldId) {\n        var newNode = newId == null ? null : newChildren[newId];\n        var oldNode = oldId == null ? null : oldChildren[oldId];\n        doRenderNode(newNode, oldNode);\n      }\n    }\n\n    function doRenderNode(newNode, oldNode) {\n      if (!renderLabelForZeroData && newNode && !newNode.getValue()) {\n        // Not render data with value 0\n        newNode = null;\n      }\n\n      if (newNode !== virtualRoot && oldNode !== virtualRoot) {\n        if (oldNode && oldNode.piece) {\n          if (newNode) {\n            // Update\n            oldNode.piece.updateData(false, newNode, 'normal', seriesModel, ecModel); // For tooltip\n\n            data.setItemGraphicEl(newNode.dataIndex, oldNode.piece);\n          } else {\n            // Remove\n            removeNode(oldNode);\n          }\n        } else if (newNode) {\n          // Add\n          var piece = new SunburstPiece(newNode, seriesModel, ecModel);\n          group.add(piece); // For tooltip\n\n          data.setItemGraphicEl(newNode.dataIndex, piece);\n        }\n      }\n    }\n\n    function removeNode(node) {\n      if (!node) {\n        return;\n      }\n\n      if (node.piece) {\n        group.remove(node.piece);\n        node.piece = null;\n      }\n    }\n\n    function renderRollUp(virtualRoot, viewRoot) {\n      if (viewRoot.depth > 0) {\n        // Render\n        if (that.virtualPiece) {\n          // Update\n          that.virtualPiece.updateData(false, virtualRoot, 'normal', seriesModel, ecModel);\n        } else {\n          // Add\n          that.virtualPiece = new SunburstPiece(virtualRoot, seriesModel, ecModel);\n          group.add(that.virtualPiece);\n        }\n\n        if (viewRoot.piece._onclickEvent) {\n          viewRoot.piece.off('click', viewRoot.piece._onclickEvent);\n        }\n\n        var event = function (e) {\n          that._rootToNode(viewRoot.parentNode);\n        };\n\n        viewRoot.piece._onclickEvent = event;\n        that.virtualPiece.on('click', event);\n      } else if (that.virtualPiece) {\n        // Remove\n        group.remove(that.virtualPiece);\n        that.virtualPiece = null;\n      }\n    }\n  },\n  dispose: function () {},\n\n  /**\n   * @private\n   */\n  _initEvents: function () {\n    var that = this;\n\n    var event = function (e) {\n      var targetFound = false;\n      var viewRoot = that.seriesModel.getViewRoot();\n      viewRoot.eachNode(function (node) {\n        if (!targetFound && node.piece && node.piece.childAt(0) === e.target) {\n          var nodeClick = node.getModel().get('nodeClick');\n\n          if (nodeClick === 'rootToNode') {\n            that._rootToNode(node);\n          } else if (nodeClick === 'link') {\n            var itemModel = node.getModel();\n            var link = itemModel.get('link');\n\n            if (link) {\n              var linkTarget = itemModel.get('target', true) || '_blank';\n              windowOpen(link, linkTarget);\n            }\n          }\n\n          targetFound = true;\n        }\n      });\n    };\n\n    if (this.group._onclickEvent) {\n      this.group.off('click', this.group._onclickEvent);\n    }\n\n    this.group.on('click', event);\n    this.group._onclickEvent = event;\n  },\n\n  /**\n   * @private\n   */\n  _rootToNode: function (node) {\n    if (node !== this.seriesModel.getViewRoot()) {\n      this.api.dispatchAction({\n        type: ROOT_TO_NODE_ACTION,\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        targetNode: node\n      });\n    }\n  },\n\n  /**\n   * @implement\n   */\n  containPoint: function (point, seriesModel) {\n    var treeRoot = seriesModel.getData();\n    var itemLayout = treeRoot.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  }\n});\nvar _default = SunburstView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar layout = require(\"../../util/layout\");\n\nvar TimelineView = require(\"./TimelineView\");\n\nvar TimelineAxis = require(\"./TimelineAxis\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar bind = zrUtil.bind;\nvar each = zrUtil.each;\nvar PI = Math.PI;\n\nvar _default = TimelineView.extend({\n  type: 'timeline.slider',\n  init: function (ecModel, api) {\n    this.api = api;\n    /**\n     * @private\n     * @type {module:echarts/component/timeline/TimelineAxis}\n     */\n\n    this._axis;\n    /**\n     * @private\n     * @type {module:zrender/core/BoundingRect}\n     */\n\n    this._viewRect;\n    /**\n     * @type {number}\n     */\n\n    this._timer;\n    /**\n     * @type {module:zrender/Element}\n     */\n\n    this._currentPointer;\n    /**\n     * @type {module:zrender/container/Group}\n     */\n\n    this._mainGroup;\n    /**\n     * @type {module:zrender/container/Group}\n     */\n\n    this._labelGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function (timelineModel, ecModel, api, payload) {\n    this.model = timelineModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    this.group.removeAll();\n\n    if (timelineModel.get('show', true)) {\n      var layoutInfo = this._layout(timelineModel, api);\n\n      var mainGroup = this._createGroup('mainGroup');\n\n      var labelGroup = this._createGroup('labelGroup');\n      /**\n       * @private\n       * @type {module:echarts/component/timeline/TimelineAxis}\n       */\n\n\n      var axis = this._axis = this._createAxis(layoutInfo, timelineModel);\n\n      timelineModel.formatTooltip = function (dataIndex) {\n        return encodeHTML(axis.scale.getLabel(dataIndex));\n      };\n\n      each(['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'], function (name) {\n        this['_render' + name](layoutInfo, mainGroup, axis, timelineModel);\n      }, this);\n\n      this._renderAxisLabel(layoutInfo, labelGroup, axis, timelineModel);\n\n      this._position(layoutInfo, timelineModel);\n    }\n\n    this._doPlayStop();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._clearTimer();\n\n    this.group.removeAll();\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._clearTimer();\n  },\n  _layout: function (timelineModel, api) {\n    var labelPosOpt = timelineModel.get('label.position');\n    var orient = timelineModel.get('orient');\n    var viewRect = getViewRect(timelineModel, api); // Auto label offset.\n\n    if (labelPosOpt == null || labelPosOpt === 'auto') {\n      labelPosOpt = orient === 'horizontal' ? viewRect.y + viewRect.height / 2 < api.getHeight() / 2 ? '-' : '+' : viewRect.x + viewRect.width / 2 < api.getWidth() / 2 ? '+' : '-';\n    } else if (isNaN(labelPosOpt)) {\n      labelPosOpt = {\n        horizontal: {\n          top: '-',\n          bottom: '+'\n        },\n        vertical: {\n          left: '-',\n          right: '+'\n        }\n      }[orient][labelPosOpt];\n    }\n\n    var labelAlignMap = {\n      horizontal: 'center',\n      vertical: labelPosOpt >= 0 || labelPosOpt === '+' ? 'left' : 'right'\n    };\n    var labelBaselineMap = {\n      horizontal: labelPosOpt >= 0 || labelPosOpt === '+' ? 'top' : 'bottom',\n      vertical: 'middle'\n    };\n    var rotationMap = {\n      horizontal: 0,\n      vertical: PI / 2\n    }; // Position\n\n    var mainLength = orient === 'vertical' ? viewRect.height : viewRect.width;\n    var controlModel = timelineModel.getModel('controlStyle');\n    var showControl = controlModel.get('show', true);\n    var controlSize = showControl ? controlModel.get('itemSize') : 0;\n    var controlGap = showControl ? controlModel.get('itemGap') : 0;\n    var sizePlusGap = controlSize + controlGap; // Special label rotate.\n\n    var labelRotation = timelineModel.get('label.rotate') || 0;\n    labelRotation = labelRotation * PI / 180; // To radian.\n\n    var playPosition;\n    var prevBtnPosition;\n    var nextBtnPosition;\n    var axisExtent;\n    var controlPosition = controlModel.get('position', true);\n    var showPlayBtn = showControl && controlModel.get('showPlayBtn', true);\n    var showPrevBtn = showControl && controlModel.get('showPrevBtn', true);\n    var showNextBtn = showControl && controlModel.get('showNextBtn', true);\n    var xLeft = 0;\n    var xRight = mainLength; // position[0] means left, position[1] means middle.\n\n    if (controlPosition === 'left' || controlPosition === 'bottom') {\n      showPlayBtn && (playPosition = [0, 0], xLeft += sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [xLeft, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    } else {\n      // 'top' 'right'\n      showPlayBtn && (playPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [0, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    }\n\n    axisExtent = [xLeft, xRight];\n\n    if (timelineModel.get('inverse')) {\n      axisExtent.reverse();\n    }\n\n    return {\n      viewRect: viewRect,\n      mainLength: mainLength,\n      orient: orient,\n      rotation: rotationMap[orient],\n      labelRotation: labelRotation,\n      labelPosOpt: labelPosOpt,\n      labelAlign: timelineModel.get('label.align') || labelAlignMap[orient],\n      labelBaseline: timelineModel.get('label.verticalAlign') || timelineModel.get('label.baseline') || labelBaselineMap[orient],\n      // Based on mainGroup.\n      playPosition: playPosition,\n      prevBtnPosition: prevBtnPosition,\n      nextBtnPosition: nextBtnPosition,\n      axisExtent: axisExtent,\n      controlSize: controlSize,\n      controlGap: controlGap\n    };\n  },\n  _position: function (layoutInfo, timelineModel) {\n    // Position is be called finally, because bounding rect is needed for\n    // adapt content to fill viewRect (auto adapt offset).\n    // Timeline may be not all in the viewRect when 'offset' is specified\n    // as a number, because it is more appropriate that label aligns at\n    // 'offset' but not the other edge defined by viewRect.\n    var mainGroup = this._mainGroup;\n    var labelGroup = this._labelGroup;\n    var viewRect = layoutInfo.viewRect;\n\n    if (layoutInfo.orient === 'vertical') {\n      // transform to horizontal, inverse rotate by left-top point.\n      var m = matrix.create();\n      var rotateOriginX = viewRect.x;\n      var rotateOriginY = viewRect.y + viewRect.height;\n      matrix.translate(m, m, [-rotateOriginX, -rotateOriginY]);\n      matrix.rotate(m, m, -PI / 2);\n      matrix.translate(m, m, [rotateOriginX, rotateOriginY]);\n      viewRect = viewRect.clone();\n      viewRect.applyTransform(m);\n    }\n\n    var viewBound = getBound(viewRect);\n    var mainBound = getBound(mainGroup.getBoundingRect());\n    var labelBound = getBound(labelGroup.getBoundingRect());\n    var mainPosition = mainGroup.position;\n    var labelsPosition = labelGroup.position;\n    labelsPosition[0] = mainPosition[0] = viewBound[0][0];\n    var labelPosOpt = layoutInfo.labelPosOpt;\n\n    if (isNaN(labelPosOpt)) {\n      // '+' or '-'\n      var mainBoundIdx = labelPosOpt === '+' ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      toBound(labelsPosition, labelBound, viewBound, 1, 1 - mainBoundIdx);\n    } else {\n      var mainBoundIdx = labelPosOpt >= 0 ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      labelsPosition[1] = mainPosition[1] + labelPosOpt;\n    }\n\n    mainGroup.attr('position', mainPosition);\n    labelGroup.attr('position', labelsPosition);\n    mainGroup.rotation = labelGroup.rotation = layoutInfo.rotation;\n    setOrigin(mainGroup);\n    setOrigin(labelGroup);\n\n    function setOrigin(targetGroup) {\n      var pos = targetGroup.position;\n      targetGroup.origin = [viewBound[0][0] - pos[0], viewBound[1][0] - pos[1]];\n    }\n\n    function getBound(rect) {\n      // [[xmin, xmax], [ymin, ymax]]\n      return [[rect.x, rect.x + rect.width], [rect.y, rect.y + rect.height]];\n    }\n\n    function toBound(fromPos, from, to, dimIdx, boundIdx) {\n      fromPos[dimIdx] += to[dimIdx][boundIdx] - from[dimIdx][boundIdx];\n    }\n  },\n  _createAxis: function (layoutInfo, timelineModel) {\n    var data = timelineModel.getData();\n    var axisType = timelineModel.get('axisType');\n    var scale = axisHelper.createScaleByModel(timelineModel, axisType); // Customize scale. The `tickValue` is `dataIndex`.\n\n    scale.getTicks = function () {\n      return data.mapArray(['value'], function (value) {\n        return value;\n      });\n    };\n\n    var dataExtent = data.getDataExtent('value');\n    scale.setExtent(dataExtent[0], dataExtent[1]);\n    scale.niceTicks();\n    var axis = new TimelineAxis('value', scale, layoutInfo.axisExtent, axisType);\n    axis.model = timelineModel;\n    return axis;\n  },\n  _createGroup: function (name) {\n    var newGroup = this['_' + name] = new graphic.Group();\n    this.group.add(newGroup);\n    return newGroup;\n  },\n  _renderAxisLine: function (layoutInfo, group, axis, timelineModel) {\n    var axisExtent = axis.getExtent();\n\n    if (!timelineModel.get('lineStyle.show')) {\n      return;\n    }\n\n    group.add(new graphic.Line({\n      shape: {\n        x1: axisExtent[0],\n        y1: 0,\n        x2: axisExtent[1],\n        y2: 0\n      },\n      style: zrUtil.extend({\n        lineCap: 'round'\n      }, timelineModel.getModel('lineStyle').getLineStyle()),\n      silent: true,\n      z2: 1\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _renderAxisTick: function (layoutInfo, group, axis, timelineModel) {\n    var data = timelineModel.getData(); // Show all ticks, despite ignoring strategy.\n\n    var ticks = axis.scale.getTicks(); // The value is dataIndex, see the costomized scale.\n\n    each(ticks, function (value) {\n      var tickCoord = axis.dataToCoord(value);\n      var itemModel = data.getItemModel(value);\n      var itemStyleModel = itemModel.getModel('itemStyle');\n      var hoverStyleModel = itemModel.getModel('emphasis.itemStyle');\n      var symbolOpt = {\n        position: [tickCoord, 0],\n        onclick: bind(this._changeTimeline, this, value)\n      };\n      var el = giveSymbol(itemModel, itemStyleModel, group, symbolOpt);\n      graphic.setHoverStyle(el, hoverStyleModel.getItemStyle());\n\n      if (itemModel.get('tooltip')) {\n        el.dataIndex = value;\n        el.dataModel = timelineModel;\n      } else {\n        el.dataIndex = el.dataModel = null;\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _renderAxisLabel: function (layoutInfo, group, axis, timelineModel) {\n    var labelModel = axis.getLabelModel();\n\n    if (!labelModel.get('show')) {\n      return;\n    }\n\n    var data = timelineModel.getData();\n    var labels = axis.getViewLabels();\n    each(labels, function (labelItem) {\n      // The tickValue is dataIndex, see the costomized scale.\n      var dataIndex = labelItem.tickValue;\n      var itemModel = data.getItemModel(dataIndex);\n      var normalLabelModel = itemModel.getModel('label');\n      var hoverLabelModel = itemModel.getModel('emphasis.label');\n      var tickCoord = axis.dataToCoord(labelItem.tickValue);\n      var textEl = new graphic.Text({\n        position: [tickCoord, 0],\n        rotation: layoutInfo.labelRotation - layoutInfo.rotation,\n        onclick: bind(this._changeTimeline, this, dataIndex),\n        silent: false\n      });\n      graphic.setTextStyle(textEl.style, normalLabelModel, {\n        text: labelItem.formattedLabel,\n        textAlign: layoutInfo.labelAlign,\n        textVerticalAlign: layoutInfo.labelBaseline\n      });\n      group.add(textEl);\n      graphic.setHoverStyle(textEl, graphic.setTextStyle({}, hoverLabelModel));\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _renderControl: function (layoutInfo, group, axis, timelineModel) {\n    var controlSize = layoutInfo.controlSize;\n    var rotation = layoutInfo.rotation;\n    var itemStyle = timelineModel.getModel('controlStyle').getItemStyle();\n    var hoverStyle = timelineModel.getModel('emphasis.controlStyle').getItemStyle();\n    var rect = [0, -controlSize / 2, controlSize, controlSize];\n    var playState = timelineModel.getPlayState();\n    var inverse = timelineModel.get('inverse', true);\n    makeBtn(layoutInfo.nextBtnPosition, 'controlStyle.nextIcon', bind(this._changeTimeline, this, inverse ? '-' : '+'));\n    makeBtn(layoutInfo.prevBtnPosition, 'controlStyle.prevIcon', bind(this._changeTimeline, this, inverse ? '+' : '-'));\n    makeBtn(layoutInfo.playPosition, 'controlStyle.' + (playState ? 'stopIcon' : 'playIcon'), bind(this._handlePlayClick, this, !playState), true);\n\n    function makeBtn(position, iconPath, onclick, willRotate) {\n      if (!position) {\n        return;\n      }\n\n      var opt = {\n        position: position,\n        origin: [controlSize / 2, 0],\n        rotation: willRotate ? -rotation : 0,\n        rectHover: true,\n        style: itemStyle,\n        onclick: onclick\n      };\n      var btn = makeIcon(timelineModel, iconPath, rect, opt);\n      group.add(btn);\n      graphic.setHoverStyle(btn, hoverStyle);\n    }\n  },\n  _renderCurrentPointer: function (layoutInfo, group, axis, timelineModel) {\n    var data = timelineModel.getData();\n    var currentIndex = timelineModel.getCurrentIndex();\n    var pointerModel = data.getItemModel(currentIndex).getModel('checkpointStyle');\n    var me = this;\n    var callback = {\n      onCreate: function (pointer) {\n        pointer.draggable = true;\n        pointer.drift = bind(me._handlePointerDrag, me);\n        pointer.ondragend = bind(me._handlePointerDragend, me);\n        pointerMoveTo(pointer, currentIndex, axis, timelineModel, true);\n      },\n      onUpdate: function (pointer) {\n        pointerMoveTo(pointer, currentIndex, axis, timelineModel);\n      }\n    }; // Reuse when exists, for animation and drag.\n\n    this._currentPointer = giveSymbol(pointerModel, pointerModel, this._mainGroup, {}, this._currentPointer, callback);\n  },\n  _handlePlayClick: function (nextState) {\n    this._clearTimer();\n\n    this.api.dispatchAction({\n      type: 'timelinePlayChange',\n      playState: nextState,\n      from: this.uid\n    });\n  },\n  _handlePointerDrag: function (dx, dy, e) {\n    this._clearTimer();\n\n    this._pointerChangeTimeline([e.offsetX, e.offsetY]);\n  },\n  _handlePointerDragend: function (e) {\n    this._pointerChangeTimeline([e.offsetX, e.offsetY], true);\n  },\n  _pointerChangeTimeline: function (mousePos, trigger) {\n    var toCoord = this._toAxisCoord(mousePos)[0];\n\n    var axis = this._axis;\n    var axisExtent = numberUtil.asc(axis.getExtent().slice());\n    toCoord > axisExtent[1] && (toCoord = axisExtent[1]);\n    toCoord < axisExtent[0] && (toCoord = axisExtent[0]);\n    this._currentPointer.position[0] = toCoord;\n\n    this._currentPointer.dirty();\n\n    var targetDataIndex = this._findNearestTick(toCoord);\n\n    var timelineModel = this.model;\n\n    if (trigger || targetDataIndex !== timelineModel.getCurrentIndex() && timelineModel.get('realtime')) {\n      this._changeTimeline(targetDataIndex);\n    }\n  },\n  _doPlayStop: function () {\n    this._clearTimer();\n\n    if (this.model.getPlayState()) {\n      this._timer = setTimeout(bind(handleFrame, this), this.model.get('playInterval'));\n    }\n\n    function handleFrame() {\n      // Do not cache\n      var timelineModel = this.model;\n\n      this._changeTimeline(timelineModel.getCurrentIndex() + (timelineModel.get('rewind', true) ? -1 : 1));\n    }\n  },\n  _toAxisCoord: function (vertex) {\n    var trans = this._mainGroup.getLocalTransform();\n\n    return graphic.applyTransform(vertex, trans, true);\n  },\n  _findNearestTick: function (axisCoord) {\n    var data = this.model.getData();\n    var dist = Infinity;\n    var targetDataIndex;\n    var axis = this._axis;\n    data.each(['value'], function (value, dataIndex) {\n      var coord = axis.dataToCoord(value);\n      var d = Math.abs(coord - axisCoord);\n\n      if (d < dist) {\n        dist = d;\n        targetDataIndex = dataIndex;\n      }\n    });\n    return targetDataIndex;\n  },\n  _clearTimer: function () {\n    if (this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  },\n  _changeTimeline: function (nextIndex) {\n    var currentIndex = this.model.getCurrentIndex();\n\n    if (nextIndex === '+') {\n      nextIndex = currentIndex + 1;\n    } else if (nextIndex === '-') {\n      nextIndex = currentIndex - 1;\n    }\n\n    this.api.dispatchAction({\n      type: 'timelineChange',\n      currentIndex: nextIndex,\n      from: this.uid\n    });\n  }\n});\n\nfunction getViewRect(model, api) {\n  return layout.getLayoutRect(model.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  }, model.get('padding'));\n}\n\nfunction makeIcon(timelineModel, objPath, rect, opts) {\n  var style = opts.style;\n  var icon = graphic.createIcon(timelineModel.get(objPath), opts || {}, new BoundingRect(rect[0], rect[1], rect[2], rect[3])); // TODO createIcon won't use style in opt.\n\n  if (style) {\n    icon.setStyle(style);\n  }\n\n  return icon;\n}\n/**\n * Create symbol or update symbol\n * opt: basic position and event handlers\n */\n\n\nfunction giveSymbol(hostModel, itemStyleModel, group, opt, symbol, callback) {\n  var color = itemStyleModel.get('color');\n\n  if (!symbol) {\n    var symbolType = hostModel.get('symbol');\n    symbol = createSymbol(symbolType, -1, -1, 2, 2, color);\n    symbol.setStyle('strokeNoScale', true);\n    group.add(symbol);\n    callback && callback.onCreate(symbol);\n  } else {\n    symbol.setColor(color);\n    group.add(symbol); // Group may be new, also need to add.\n\n    callback && callback.onUpdate(symbol);\n  } // Style\n\n\n  var itemStyle = itemStyleModel.getItemStyle(['color', 'symbol', 'symbolSize']);\n  symbol.setStyle(itemStyle); // Transform and events.\n\n  opt = zrUtil.merge({\n    rectHover: true,\n    z2: 100\n  }, opt, true);\n  var symbolSize = hostModel.get('symbolSize');\n  symbolSize = symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n  symbolSize[0] /= 2;\n  symbolSize[1] /= 2;\n  opt.scale = symbolSize;\n  var symbolOffset = hostModel.get('symbolOffset');\n\n  if (symbolOffset) {\n    var pos = opt.position = opt.position || [0, 0];\n    pos[0] += numberUtil.parsePercent(symbolOffset[0], symbolSize[0]);\n    pos[1] += numberUtil.parsePercent(symbolOffset[1], symbolSize[1]);\n  }\n\n  var symbolRotate = hostModel.get('symbolRotate');\n  opt.rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  symbol.attr(opt); // FIXME\n  // (1) When symbol.style.strokeNoScale is true and updateTransform is not performed,\n  // getBoundingRect will return wrong result.\n  // (This is supposed to be resolved in zrender, but it is a little difficult to\n  // leverage performance and auto updateTransform)\n  // (2) All of ancesters of symbol do not scale, so we can just updateTransform symbol.\n\n  symbol.updateTransform();\n  return symbol;\n}\n\nfunction pointerMoveTo(pointer, dataIndex, axis, timelineModel, noAnimation) {\n  if (pointer.dragging) {\n    return;\n  }\n\n  var pointerModel = timelineModel.getModel('checkpointStyle');\n  var toCoord = axis.dataToCoord(timelineModel.getData().get(['value'], dataIndex));\n\n  if (noAnimation || !pointerModel.get('animation', true)) {\n    pointer.attr({\n      position: [toCoord, 0]\n    });\n  } else {\n    pointer.stopAnimation(true);\n    pointer.animateTo({\n      position: [toCoord, 0]\n    }, pointerModel.get('animationDuration', true), pointerModel.get('animationEasing', true));\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerAction({\n  type: 'timelineChange',\n  event: 'timelineChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var timelineModel = ecModel.getComponent('timeline');\n\n  if (timelineModel && payload.currentIndex != null) {\n    timelineModel.setCurrentIndex(payload.currentIndex);\n\n    if (!timelineModel.get('loop', true) && timelineModel.isIndexMax()) {\n      timelineModel.setPlayState(false);\n    }\n  } // Set normalized currentIndex to payload.\n\n\n  ecModel.resetOption('timeline');\n  return zrUtil.defaults({\n    currentIndex: timelineModel.option.currentIndex\n  }, payload);\n});\necharts.registerAction({\n  type: 'timelinePlayChange',\n  event: 'timelinePlayChanged',\n  update: 'update'\n}, function (payload, ecModel) {\n  var timelineModel = ecModel.getComponent('timeline');\n\n  if (timelineModel && payload.playState != null) {\n    timelineModel.setPlayState(payload.playState);\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.heatmap',\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      generateCoord: 'value'\n    });\n  },\n  preventIncremental: function () {\n    var coordSysCreator = CoordinateSystem.get(this.get('coordinateSystem'));\n\n    if (coordSysCreator && coordSysCreator.dimensions) {\n      return coordSysCreator.dimensions[0] === 'lng' && coordSysCreator.dimensions[1] === 'lat';\n    }\n  },\n  defaultOption: {\n    // Cartesian2D or geo\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Geo coordinate system\n    geoIndex: 0,\n    blurSize: 30,\n    pointSize: 20,\n    maxOpacity: 1,\n    minOpacity: 0\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar helper = require(\"./helper\");\n\nvar AxisProxy = require(\"./AxisProxy\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar eachAxisDim = helper.eachAxisDim;\nvar DataZoomModel = echarts.extendComponentModel({\n  type: 'dataZoom',\n  dependencies: ['xAxis', 'yAxis', 'zAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series'],\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    zlevel: 0,\n    z: 4,\n    // Higher than normal component (z: 2).\n    orient: null,\n    // Default auto by axisIndex. Possible value: 'horizontal', 'vertical'.\n    xAxisIndex: null,\n    // Default the first horizontal category axis.\n    yAxisIndex: null,\n    // Default the first vertical category axis.\n    filterMode: 'filter',\n    // Possible values: 'filter' or 'empty' or 'weakFilter'.\n    // 'filter': data items which are out of window will be removed. This option is\n    //          applicable when filtering outliers. For each data item, it will be\n    //          filtered if one of the relevant dimensions is out of the window.\n    // 'weakFilter': data items which are out of window will be removed. This option\n    //          is applicable when filtering outliers. For each data item, it will be\n    //          filtered only if all  of the relevant dimensions are out of the same\n    //          side of the window.\n    // 'empty': data items which are out of window will be set to empty.\n    //          This option is applicable when user should not neglect\n    //          that there are some data items out of window.\n    // 'none': Do not filter.\n    // Taking line chart as an example, line will be broken in\n    // the filtered points when filterModel is set to 'empty', but\n    // be connected when set to 'filter'.\n    throttle: null,\n    // Dispatch action by the fixed rate, avoid frequency.\n    // default 100. Do not throttle when use null/undefined.\n    // If animation === true and animationDurationUpdate > 0,\n    // default value is 100, otherwise 20.\n    start: 0,\n    // Start percent. 0 ~ 100\n    end: 100,\n    // End percent. 0 ~ 100\n    startValue: null,\n    // Start value. If startValue specified, start is ignored.\n    endValue: null,\n    // End value. If endValue specified, end is ignored.\n    minSpan: null,\n    // 0 ~ 100\n    maxSpan: null,\n    // 0 ~ 100\n    minValueSpan: null,\n    // The range of dataZoom can not be smaller than that.\n    maxValueSpan: null,\n    // The range of dataZoom can not be larger than that.\n    rangeMode: null // Array, can be 'value' or 'percent'.\n\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * key like x_0, y_1\n     * @private\n     * @type {Object}\n     */\n    this._dataIntervalByAxis = {};\n    /**\n     * @private\n     */\n\n    this._dataInfo = {};\n    /**\n     * key like x_0, y_1\n     * @private\n     */\n\n    this._axisProxies = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * @private\n     */\n\n    this._autoThrottle = true;\n    /**\n     * It is `[rangeModeForMin, rangeModeForMax]`.\n     * The optional values for `rangeMode`:\n     * + `'value'` mode: the axis extent will always be determined by\n     *     `dataZoom.startValue` and `dataZoom.endValue`, despite\n     *     how data like and how `axis.min` and `axis.max` are.\n     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,\n     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,\n     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.\n     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.\n     *\n     * For example, when users are using dynamic data (update data periodically via `setOption`),\n     * if in `'value`' mode, the window will be kept in a fixed value range despite how\n     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with\n     * the appended data (suppose `axis.min` and `axis.max` are not specified).\n     *\n     * @private\n     */\n\n    this._rangePropMode = ['percent', 'percent'];\n    var inputRawOption = retrieveRawOption(option);\n    /**\n     * Suppose a \"main process\" start at the point that model prepared (that is,\n     * model initialized or merged or method called in `action`).\n     * We should keep the `main process` idempotent, that is, given a set of values\n     * on `option`, we get the same result.\n     *\n     * But sometimes, values on `option` will be updated for providing users\n     * a \"final calculated value\" (`dataZoomProcessor` will do that). Those value\n     * should not be the base/input of the `main process`.\n     *\n     * So in that case we should save and keep the input of the `main process`\n     * separately, called `settledOption`.\n     *\n     * For example, consider the case:\n     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,\n     *     where the original input `option.startValue`, `option.endValue` are earsed by\n     *     calculated value.\n     * (Step)2) click the legend to hide and show a series,\n     *     where the new range is calculated by the earsed `startValue` and `endValue`,\n     *     which brings incorrect result.\n     *\n     * @readOnly\n     */\n\n    this.settledOption = inputRawOption;\n    this.mergeDefaultAndTheme(option, ecModel);\n    this.doInit(inputRawOption);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (newOption) {\n    var inputRawOption = retrieveRawOption(newOption); //FIX #2591\n\n    zrUtil.merge(this.option, newOption, true);\n    zrUtil.merge(this.settledOption, inputRawOption, true);\n    this.doInit(inputRawOption);\n  },\n\n  /**\n   * @protected\n   */\n  doInit: function (inputRawOption) {\n    var thisOption = this.option; // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n\n    this._setDefaultThrottle(inputRawOption);\n\n    updateRangeUse(this, inputRawOption);\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = settledOption[names[0]] = null;\n      } // Otherwise do nothing and use the merge result.\n\n    }, this);\n    this.textStyleModel = this.getModel('textStyle');\n\n    this._resetTarget();\n\n    this._giveAxisProxies();\n  },\n\n  /**\n   * @private\n   */\n  _giveAxisProxies: function () {\n    var axisProxies = this._axisProxies;\n    this.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel, ecModel) {\n      var axisModel = this.dependentModels[dimNames.axis][axisIndex]; // If exists, share axisProxy with other dataZoomModels.\n\n      var axisProxy = axisModel.__dzAxisProxy || ( // Use the first dataZoomModel as the main model of axisProxy.\n      axisModel.__dzAxisProxy = new AxisProxy(dimNames.name, axisIndex, this, ecModel)); // FIXME\n      // dispose __dzAxisProxy\n\n      axisProxies[dimNames.name + '_' + axisIndex] = axisProxy;\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _resetTarget: function () {\n    var thisOption = this.option;\n\n    var autoMode = this._judgeAutoMode();\n\n    eachAxisDim(function (dimNames) {\n      var axisIndexName = dimNames.axisIndex;\n      thisOption[axisIndexName] = modelUtil.normalizeToArray(thisOption[axisIndexName]);\n    }, this);\n\n    if (autoMode === 'axisIndex') {\n      this._autoSetAxisIndex();\n    } else if (autoMode === 'orient') {\n      this._autoSetOrient();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _judgeAutoMode: function () {\n    // Auto set only works for setOption at the first time.\n    // The following is user's reponsibility. So using merged\n    // option is OK.\n    var thisOption = this.option;\n    var hasIndexSpecified = false;\n    eachAxisDim(function (dimNames) {\n      // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occured.\n      if (thisOption[dimNames.axisIndex] != null) {\n        hasIndexSpecified = true;\n      }\n    }, this);\n    var orient = thisOption.orient;\n\n    if (orient == null && hasIndexSpecified) {\n      return 'orient';\n    } else if (!hasIndexSpecified) {\n      if (orient == null) {\n        thisOption.orient = 'horizontal';\n      }\n\n      return 'axisIndex';\n    }\n  },\n\n  /**\n   * @private\n   */\n  _autoSetAxisIndex: function () {\n    var autoAxisIndex = true;\n    var orient = this.get('orient', true);\n    var thisOption = this.option;\n    var dependentModels = this.dependentModels;\n\n    if (autoAxisIndex) {\n      // Find axis that parallel to dataZoom as default.\n      var dimName = orient === 'vertical' ? 'y' : 'x';\n\n      if (dependentModels[dimName + 'Axis'].length) {\n        thisOption[dimName + 'AxisIndex'] = [0];\n        autoAxisIndex = false;\n      } else {\n        each(dependentModels.singleAxis, function (singleAxisModel) {\n          if (autoAxisIndex && singleAxisModel.get('orient', true) === orient) {\n            thisOption.singleAxisIndex = [singleAxisModel.componentIndex];\n            autoAxisIndex = false;\n          }\n        });\n      }\n    }\n\n    if (autoAxisIndex) {\n      // Find the first category axis as default. (consider polar)\n      eachAxisDim(function (dimNames) {\n        if (!autoAxisIndex) {\n          return;\n        }\n\n        var axisIndices = [];\n        var axisModels = this.dependentModels[dimNames.axis];\n\n        if (axisModels.length && !axisIndices.length) {\n          for (var i = 0, len = axisModels.length; i < len; i++) {\n            if (axisModels[i].get('type') === 'category') {\n              axisIndices.push(i);\n            }\n          }\n        }\n\n        thisOption[dimNames.axisIndex] = axisIndices;\n\n        if (axisIndices.length) {\n          autoAxisIndex = false;\n        }\n      }, this);\n    }\n\n    if (autoAxisIndex) {\n      // FIXME\n      // ec2xAxisIndexyAxisIndexscatterdataZoom\n      // Grid.js#getScaleByOptiontimelogaxis type\n      // If both dataZoom.xAxisIndex and dataZoom.yAxisIndex is not specified,\n      // dataZoom component auto adopts series that reference to\n      // both xAxis and yAxis which type is 'value'.\n      this.ecModel.eachSeries(function (seriesModel) {\n        if (this._isSeriesHasAllAxesTypeOf(seriesModel, 'value')) {\n          eachAxisDim(function (dimNames) {\n            var axisIndices = thisOption[dimNames.axisIndex];\n            var axisIndex = seriesModel.get(dimNames.axisIndex);\n            var axisId = seriesModel.get(dimNames.axisId);\n            var axisModel = seriesModel.ecModel.queryComponents({\n              mainType: dimNames.axis,\n              index: axisIndex,\n              id: axisId\n            })[0];\n            axisIndex = axisModel.componentIndex;\n\n            if (zrUtil.indexOf(axisIndices, axisIndex) < 0) {\n              axisIndices.push(axisIndex);\n            }\n          });\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _autoSetOrient: function () {\n    var dim; // Find the first axis\n\n    this.eachTargetAxis(function (dimNames) {\n      !dim && (dim = dimNames.name);\n    }, this);\n    this.option.orient = dim === 'y' ? 'vertical' : 'horizontal';\n  },\n\n  /**\n   * @private\n   */\n  _isSeriesHasAllAxesTypeOf: function (seriesModel, axisType) {\n    // FIXME\n    // seriesxAxisIndexyAxisIndex\n    // series.type === scatter\n    var is = true;\n    eachAxisDim(function (dimNames) {\n      var seriesAxisIndex = seriesModel.get(dimNames.axisIndex);\n      var axisModel = this.dependentModels[dimNames.axis][seriesAxisIndex];\n\n      if (!axisModel || axisModel.get('type') !== axisType) {\n        is = false;\n      }\n    }, this);\n    return is;\n  },\n\n  /**\n   * @private\n   */\n  _setDefaultThrottle: function (inputRawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (inputRawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  },\n\n  /**\n   * @public\n   */\n  getFirstTargetAxisModel: function () {\n    var firstAxisModel;\n    eachAxisDim(function (dimNames) {\n      if (firstAxisModel == null) {\n        var indices = this.get(dimNames.axisIndex);\n\n        if (indices.length) {\n          firstAxisModel = this.dependentModels[dimNames.axis][indices[0]];\n        }\n      }\n    }, this);\n    return firstAxisModel;\n  },\n\n  /**\n   * @public\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n  eachTargetAxis: function (callback, context) {\n    var ecModel = this.ecModel;\n    eachAxisDim(function (dimNames) {\n      each(this.get(dimNames.axisIndex), function (axisIndex) {\n        callback.call(context, dimNames, axisIndex, this, ecModel);\n      }, this);\n    }, this);\n  },\n\n  /**\n   * @param {string} dimName\n   * @param {number} axisIndex\n   * @return {module:echarts/component/dataZoom/AxisProxy} If not found, return null/undefined.\n   */\n  getAxisProxy: function (dimName, axisIndex) {\n    return this._axisProxies[dimName + '_' + axisIndex];\n  },\n\n  /**\n   * @param {string} dimName\n   * @param {number} axisIndex\n   * @return {module:echarts/model/Model} If not found, return null/undefined.\n   */\n  getAxisModel: function (dimName, axisIndex) {\n    var axisProxy = this.getAxisProxy(dimName, axisIndex);\n    return axisProxy && axisProxy.getAxisModel();\n  },\n\n  /**\n   * If not specified, set to undefined.\n   *\n   * @public\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  setRawRange: function (opt) {\n    var thisOption = this.option;\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // Consider the pair <start, startValue>:\n      // If one has value and the other one is `null/undefined`, we both set them\n      // to `settledOption`. This strategy enables the feature to clear the original\n      // value in `settledOption` to `null/undefined`.\n      // But if both of them are `null/undefined`, we do not set them to `settledOption`\n      // and keep `settledOption` with the original value. This strategy enables users to\n      // only set <end or endValue> but not set <start or startValue> when calling\n      // `dispatchAction`.\n      // The pair <end, endValue> is treated in the same way.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        thisOption[names[0]] = settledOption[names[0]] = opt[names[0]];\n        thisOption[names[1]] = settledOption[names[1]] = opt[names[1]];\n      }\n    }, this);\n    updateRangeUse(this, opt);\n  },\n\n  /**\n   * @public\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  setCalculatedRange: function (opt) {\n    var option = this.option;\n    each(['start', 'startValue', 'end', 'endValue'], function (name) {\n      option[name] = opt[name];\n    });\n  },\n\n  /**\n   * @public\n   * @return {Array.<number>} [startPercent, endPercent]\n   */\n  getPercentRange: function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  },\n\n  /**\n   * @public\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @param {string} [axisDimName]\n   * @param {number} [axisIndex]\n   * @return {Array.<number>} [startValue, endValue] value can only be '-' or finite number.\n   */\n  getValueRange: function (axisDimName, axisIndex) {\n    if (axisDimName == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDimName, axisIndex).getDataValueWindow();\n    }\n  },\n\n  /**\n   * @public\n   * @param {module:echarts/model/Model} [axisModel] If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   * @return {module:echarts/component/dataZoom/AxisProxy}\n   */\n  findRepresentativeAxisProxy: function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    } // Find the first hosted axisProxy\n\n\n    var axisProxies = this._axisProxies;\n\n    for (var key in axisProxies) {\n      if (axisProxies.hasOwnProperty(key) && axisProxies[key].hostedBy(this)) {\n        return axisProxies[key];\n      }\n    } // If no hosted axis find not hosted axisProxy.\n    // Consider this case: dataZoomModel1 and dataZoomModel2 control the same axis,\n    // and the option.start or option.end settings are different. The percentRange\n    // should follow axisProxy.\n    // (We encounter this problem in toolbox data zoom.)\n\n\n    for (var key in axisProxies) {\n      if (axisProxies.hasOwnProperty(key) && !axisProxies[key].hostedBy(this)) {\n        return axisProxies[key];\n      }\n    }\n  },\n\n  /**\n   * @return {Array.<string>}\n   */\n  getRangePropMode: function () {\n    return this._rangePropMode.slice();\n  }\n});\n/**\n * Retrieve the those raw params from option, which will be cached separately.\n * becasue they will be overwritten by normalized/calculated values in the main\n * process.\n */\n\nfunction retrieveRawOption(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\n\nfunction updateRangeUse(dataZoomModel, inputRawOption) {\n  var rangePropMode = dataZoomModel._rangePropMode;\n  var rangeModeInOption = dataZoomModel.get('rangeMode');\n  each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n    var percentSpecified = inputRawOption[names[0]] != null;\n    var valueSpecified = inputRawOption[names[1]] != null;\n\n    if (percentSpecified && !valueSpecified) {\n      rangePropMode[index] = 'percent';\n    } else if (!percentSpecified && valueSpecified) {\n      rangePropMode[index] = 'value';\n    } else if (rangeModeInOption) {\n      rangePropMode[index] = rangeModeInOption[index];\n    } else if (percentSpecified) {\n      // percentSpecified && valueSpecified\n      rangePropMode[index] = 'percent';\n    } // else remain its original setting.\n\n  });\n}\n\nvar _default = DataZoomModel;\nmodule.exports = _default;","var _core = require(\"./core\");\n\nvar createElement = _core.createElement;\n\nvar PathProxy = require(\"../core/PathProxy\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\nvar matrix = require(\"../core/matrix\");\n\nvar textContain = require(\"../contain/text\");\n\nvar textHelper = require(\"../graphic/helper/text\");\n\nvar Text = require(\"../graphic/Text\");\n\n// TODO\n// 1. shadow\n// 2. Image: sx, sy, sw, sh\nvar CMD = PathProxy.CMD;\nvar arrayJoin = Array.prototype.join;\nvar NONE = 'none';\nvar mathRound = Math.round;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nvar PI2 = Math.PI * 2;\nvar degree = 180 / PI;\nvar EPSILON = 1e-4;\n\nfunction round4(val) {\n  return mathRound(val * 1e4) / 1e4;\n}\n\nfunction isAroundZero(val) {\n  return val < EPSILON && val > -EPSILON;\n}\n\nfunction pathHasFill(style, isText) {\n  var fill = isText ? style.textFill : style.fill;\n  return fill != null && fill !== NONE;\n}\n\nfunction pathHasStroke(style, isText) {\n  var stroke = isText ? style.textStroke : style.stroke;\n  return stroke != null && stroke !== NONE;\n}\n\nfunction setTransform(svgEl, m) {\n  if (m) {\n    attr(svgEl, 'transform', 'matrix(' + arrayJoin.call(m, ',') + ')');\n  }\n}\n\nfunction attr(el, key, val) {\n  if (!val || val.type !== 'linear' && val.type !== 'radial') {\n    // Don't set attribute for gradient, since it need new dom nodes\n    el.setAttribute(key, val);\n  }\n}\n\nfunction attrXLink(el, key, val) {\n  el.setAttributeNS('http://www.w3.org/1999/xlink', key, val);\n}\n\nfunction bindStyle(svgEl, style, isText, el) {\n  if (pathHasFill(style, isText)) {\n    var fill = isText ? style.textFill : style.fill;\n    fill = fill === 'transparent' ? NONE : fill;\n    attr(svgEl, 'fill', fill);\n    attr(svgEl, 'fill-opacity', style.fillOpacity != null ? style.fillOpacity * style.opacity : style.opacity);\n  } else {\n    attr(svgEl, 'fill', NONE);\n  }\n\n  if (pathHasStroke(style, isText)) {\n    var stroke = isText ? style.textStroke : style.stroke;\n    stroke = stroke === 'transparent' ? NONE : stroke;\n    attr(svgEl, 'stroke', stroke);\n    var strokeWidth = isText ? style.textStrokeWidth : style.lineWidth;\n    var strokeScale = !isText && style.strokeNoScale ? el.getLineScale() : 1;\n    attr(svgEl, 'stroke-width', strokeWidth / strokeScale); // stroke then fill for text; fill then stroke for others\n\n    attr(svgEl, 'paint-order', isText ? 'stroke' : 'fill');\n    attr(svgEl, 'stroke-opacity', style.strokeOpacity != null ? style.strokeOpacity : style.opacity);\n    var lineDash = style.lineDash;\n\n    if (lineDash) {\n      attr(svgEl, 'stroke-dasharray', style.lineDash.join(','));\n      attr(svgEl, 'stroke-dashoffset', mathRound(style.lineDashOffset || 0));\n    } else {\n      attr(svgEl, 'stroke-dasharray', '');\n    } // PENDING\n\n\n    style.lineCap && attr(svgEl, 'stroke-linecap', style.lineCap);\n    style.lineJoin && attr(svgEl, 'stroke-linejoin', style.lineJoin);\n    style.miterLimit && attr(svgEl, 'stroke-miterlimit', style.miterLimit);\n  } else {\n    attr(svgEl, 'stroke', NONE);\n  }\n}\n/***************************************************\n * PATH\n **************************************************/\n\n\nfunction pathDataToString(path) {\n  var str = [];\n  var data = path.data;\n  var dataLength = path.len();\n\n  for (var i = 0; i < dataLength;) {\n    var cmd = data[i++];\n    var cmdStr = '';\n    var nData = 0;\n\n    switch (cmd) {\n      case CMD.M:\n        cmdStr = 'M';\n        nData = 2;\n        break;\n\n      case CMD.L:\n        cmdStr = 'L';\n        nData = 2;\n        break;\n\n      case CMD.Q:\n        cmdStr = 'Q';\n        nData = 4;\n        break;\n\n      case CMD.C:\n        cmdStr = 'C';\n        nData = 6;\n        break;\n\n      case CMD.A:\n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++];\n        var psi = data[i++];\n        var clockwise = data[i++];\n        var dThetaPositive = Math.abs(dTheta);\n        var isCircle = isAroundZero(dThetaPositive - PI2) || (clockwise ? dTheta >= PI2 : -dTheta >= PI2); // Mapping to 0~2PI\n\n        var unifiedTheta = dTheta > 0 ? dTheta % PI2 : dTheta % PI2 + PI2;\n        var large = false;\n\n        if (isCircle) {\n          large = true;\n        } else if (isAroundZero(dThetaPositive)) {\n          large = false;\n        } else {\n          large = unifiedTheta >= PI === !!clockwise;\n        }\n\n        var x0 = round4(cx + rx * mathCos(theta));\n        var y0 = round4(cy + ry * mathSin(theta)); // It will not draw if start point and end point are exactly the same\n        // We need to shift the end point with a small value\n        // FIXME A better way to draw circle ?\n\n        if (isCircle) {\n          if (clockwise) {\n            dTheta = PI2 - 1e-4;\n          } else {\n            dTheta = -PI2 + 1e-4;\n          }\n\n          large = true;\n\n          if (i === 9) {\n            // Move to (x0, y0) only when CMD.A comes at the\n            // first position of a shape.\n            // For instance, when drawing a ring, CMD.A comes\n            // after CMD.M, so it's unnecessary to move to\n            // (x0, y0).\n            str.push('M', x0, y0);\n          }\n        }\n\n        var x = round4(cx + rx * mathCos(theta + dTheta));\n        var y = round4(cy + ry * mathSin(theta + dTheta)); // FIXME Ellipse\n\n        str.push('A', round4(rx), round4(ry), mathRound(psi * degree), +large, +clockwise, x, y);\n        break;\n\n      case CMD.Z:\n        cmdStr = 'Z';\n        break;\n\n      case CMD.R:\n        var x = round4(data[i++]);\n        var y = round4(data[i++]);\n        var w = round4(data[i++]);\n        var h = round4(data[i++]);\n        str.push('M', x, y, 'L', x + w, y, 'L', x + w, y + h, 'L', x, y + h, 'L', x, y);\n        break;\n    }\n\n    cmdStr && str.push(cmdStr);\n\n    for (var j = 0; j < nData; j++) {\n      // PENDING With scale\n      str.push(round4(data[i++]));\n    }\n  }\n\n  return str.join(' ');\n}\n\nvar svgPath = {};\n\nsvgPath.brush = function (el) {\n  var style = el.style;\n  var svgEl = el.__svgEl;\n\n  if (!svgEl) {\n    svgEl = createElement('path');\n    el.__svgEl = svgEl;\n  }\n\n  if (!el.path) {\n    el.createPathProxy();\n  }\n\n  var path = el.path;\n\n  if (el.__dirtyPath) {\n    path.beginPath();\n    path.subPixelOptimize = false;\n    el.buildPath(path, el.shape);\n    el.__dirtyPath = false;\n    var pathStr = pathDataToString(path);\n\n    if (pathStr.indexOf('NaN') < 0) {\n      // Ignore illegal path, which may happen such in out-of-range\n      // data in Calendar series.\n      attr(svgEl, 'd', pathStr);\n    }\n  }\n\n  bindStyle(svgEl, style, false, el);\n  setTransform(svgEl, el.transform);\n\n  if (style.text != null) {\n    svgTextDrawRectText(el, el.getBoundingRect());\n  } else {\n    removeOldTextNode(el);\n  }\n};\n/***************************************************\n * IMAGE\n **************************************************/\n\n\nvar svgImage = {};\n\nsvgImage.brush = function (el) {\n  var style = el.style;\n  var image = style.image;\n\n  if (image instanceof HTMLImageElement) {\n    var src = image.src;\n    image = src;\n  }\n\n  if (!image) {\n    return;\n  }\n\n  var x = style.x || 0;\n  var y = style.y || 0;\n  var dw = style.width;\n  var dh = style.height;\n  var svgEl = el.__svgEl;\n\n  if (!svgEl) {\n    svgEl = createElement('image');\n    el.__svgEl = svgEl;\n  }\n\n  if (image !== el.__imageSrc) {\n    attrXLink(svgEl, 'href', image); // Caching image src\n\n    el.__imageSrc = image;\n  }\n\n  attr(svgEl, 'width', dw);\n  attr(svgEl, 'height', dh);\n  attr(svgEl, 'x', x);\n  attr(svgEl, 'y', y);\n  setTransform(svgEl, el.transform);\n\n  if (style.text != null) {\n    svgTextDrawRectText(el, el.getBoundingRect());\n  } else {\n    removeOldTextNode(el);\n  }\n};\n/***************************************************\n * TEXT\n **************************************************/\n\n\nvar svgText = {};\n\nvar _tmpTextHostRect = new BoundingRect();\n\nvar _tmpTextBoxPos = {};\nvar _tmpTextTransform = [];\nvar TEXT_ALIGN_TO_ANCHRO = {\n  left: 'start',\n  right: 'end',\n  center: 'middle',\n  middle: 'middle'\n};\n/**\n * @param {module:zrender/Element} el\n * @param {Object|boolean} [hostRect] {x, y, width, height}\n *        If set false, rect text is not used.\n */\n\nvar svgTextDrawRectText = function (el, hostRect) {\n  var style = el.style;\n  var elTransform = el.transform;\n  var needTransformTextByHostEl = el instanceof Text || style.transformText;\n  el.__dirty && textHelper.normalizeTextStyle(style, true);\n  var text = style.text; // Convert to string\n\n  text != null && (text += '');\n\n  if (!textHelper.needDrawText(text, style)) {\n    return;\n  } // render empty text for svg if no text but need draw text.\n\n\n  text == null && (text = ''); // Follow the setting in the canvas renderer, if not transform the\n  // text, transform the hostRect, by which the text is located.\n\n  if (!needTransformTextByHostEl && elTransform) {\n    _tmpTextHostRect.copy(hostRect);\n\n    _tmpTextHostRect.applyTransform(elTransform);\n\n    hostRect = _tmpTextHostRect;\n  }\n\n  var textSvgEl = el.__textSvgEl;\n\n  if (!textSvgEl) {\n    textSvgEl = createElement('text');\n    el.__textSvgEl = textSvgEl;\n  } // style.font has been normalized by `normalizeTextStyle`.\n\n\n  var textSvgElStyle = textSvgEl.style;\n  var font = style.font || textContain.DEFAULT_FONT;\n  var computedFont = textSvgEl.__computedFont;\n\n  if (font !== textSvgEl.__styleFont) {\n    textSvgElStyle.font = textSvgEl.__styleFont = font; // The computedFont might not be the orginal font if it is illegal font.\n\n    computedFont = textSvgEl.__computedFont = textSvgElStyle.font;\n  }\n\n  var textPadding = style.textPadding;\n  var textLineHeight = style.textLineHeight;\n  var contentBlock = el.__textCotentBlock;\n\n  if (!contentBlock || el.__dirtyText) {\n    contentBlock = el.__textCotentBlock = textContain.parsePlainText(text, computedFont, textPadding, textLineHeight, style.truncate);\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var lineHeight = contentBlock.lineHeight;\n  textHelper.getBoxPosition(_tmpTextBoxPos, el, style, hostRect);\n  var baseX = _tmpTextBoxPos.baseX;\n  var baseY = _tmpTextBoxPos.baseY;\n  var textAlign = _tmpTextBoxPos.textAlign || 'left';\n  var textVerticalAlign = _tmpTextBoxPos.textVerticalAlign;\n  setTextTransform(textSvgEl, needTransformTextByHostEl, elTransform, style, hostRect, baseX, baseY);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var textX = baseX;\n  var textY = boxY; // TODO needDrawBg\n\n  if (textPadding) {\n    textX = getTextXForPadding(baseX, textAlign, textPadding);\n    textY += textPadding[0];\n  } // `textBaseline` is set as 'middle'.\n\n\n  textY += lineHeight / 2;\n  bindStyle(textSvgEl, style, true, el); // FIXME\n  // Add a <style> to reset all of the text font as inherit?\n  // otherwise the outer <style> may set the unexpected style.\n  // Font may affect position of each tspan elements\n\n  var canCacheByTextString = contentBlock.canCacheByTextString;\n  var tspanList = el.__tspanList || (el.__tspanList = []);\n  var tspanOriginLen = tspanList.length; // Optimize for most cases, just compare text string to determine change.\n\n  if (canCacheByTextString && el.__canCacheByTextString && el.__text === text) {\n    if (el.__dirtyText && tspanOriginLen) {\n      for (var idx = 0; idx < tspanOriginLen; ++idx) {\n        updateTextLocation(tspanList[idx], textAlign, textX, textY + idx * lineHeight);\n      }\n    }\n  } else {\n    el.__text = text;\n    el.__canCacheByTextString = canCacheByTextString;\n    var textLines = contentBlock.lines;\n    var nTextLines = textLines.length;\n    var idx = 0;\n\n    for (; idx < nTextLines; idx++) {\n      // Using cached tspan elements\n      var tspan = tspanList[idx];\n      var singleLineText = textLines[idx];\n\n      if (!tspan) {\n        tspan = tspanList[idx] = createElement('tspan');\n        textSvgEl.appendChild(tspan);\n        tspan.appendChild(document.createTextNode(singleLineText));\n      } else if (tspan.__zrText !== singleLineText) {\n        tspan.innerHTML = '';\n        tspan.appendChild(document.createTextNode(singleLineText));\n      }\n\n      updateTextLocation(tspan, textAlign, textX, textY + idx * lineHeight);\n    } // Remove unused tspan elements\n\n\n    if (tspanOriginLen > nTextLines) {\n      for (; idx < tspanOriginLen; idx++) {\n        textSvgEl.removeChild(tspanList[idx]);\n      }\n\n      tspanList.length = nTextLines;\n    }\n  }\n};\n\nfunction setTextTransform(textSvgEl, needTransformTextByHostEl, elTransform, style, hostRect, baseX, baseY) {\n  matrix.identity(_tmpTextTransform);\n\n  if (needTransformTextByHostEl && elTransform) {\n    matrix.copy(_tmpTextTransform, elTransform);\n  } // textRotation only apply in RectText.\n\n\n  var textRotation = style.textRotation;\n\n  if (hostRect && textRotation) {\n    var origin = style.textOrigin;\n\n    if (origin === 'center') {\n      baseX = hostRect.width / 2 + hostRect.x;\n      baseY = hostRect.height / 2 + hostRect.y;\n    } else if (origin) {\n      baseX = origin[0] + hostRect.x;\n      baseY = origin[1] + hostRect.y;\n    }\n\n    _tmpTextTransform[4] -= baseX;\n    _tmpTextTransform[5] -= baseY; // Positive: anticlockwise\n\n    matrix.rotate(_tmpTextTransform, _tmpTextTransform, textRotation);\n    _tmpTextTransform[4] += baseX;\n    _tmpTextTransform[5] += baseY;\n  } // See the definition in `Style.js#textOrigin`, the default\n  // origin is from the result of `getBoxPosition`.\n\n\n  setTransform(textSvgEl, _tmpTextTransform);\n} // FIXME merge the same code with `helper/text.js#getTextXForPadding`;\n\n\nfunction getTextXForPadding(x, textAlign, textPadding) {\n  return textAlign === 'right' ? x - textPadding[1] : textAlign === 'center' ? x + textPadding[3] / 2 - textPadding[1] / 2 : x + textPadding[3];\n}\n\nfunction updateTextLocation(tspan, textAlign, x, y) {\n  // Consider different font display differently in vertial align, we always\n  // set vertialAlign as 'middle', and use 'y' to locate text vertically.\n  attr(tspan, 'dominant-baseline', 'middle');\n  attr(tspan, 'text-anchor', TEXT_ALIGN_TO_ANCHRO[textAlign]);\n  attr(tspan, 'x', x);\n  attr(tspan, 'y', y);\n}\n\nfunction removeOldTextNode(el) {\n  if (el && el.__textSvgEl) {\n    // textSvgEl may has no parentNode if el has been removed temporary.\n    if (el.__textSvgEl.parentNode) {\n      el.__textSvgEl.parentNode.removeChild(el.__textSvgEl);\n    }\n\n    el.__textSvgEl = null;\n    el.__tspanList = [];\n    el.__text = null;\n  }\n}\n\nsvgText.drawRectText = svgTextDrawRectText;\n\nsvgText.brush = function (el) {\n  var style = el.style;\n\n  if (style.text != null) {\n    svgTextDrawRectText(el, false);\n  } else {\n    removeOldTextNode(el);\n  }\n};\n\nexports.path = svgPath;\nexports.image = svgImage;\nexports.text = svgText;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar LinearGradient = require(\"zrender/lib/graphic/LinearGradient\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar VisualMapView = require(\"./VisualMapView\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\nvar helper = require(\"./helper\");\n\nvar modelUtil = require(\"../../util/model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar linearMap = numberUtil.linearMap;\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max; // Arbitrary value\n\nvar HOVER_LINK_SIZE = 12;\nvar HOVER_LINK_OUT = 6; // Notice:\n// Any \"interval\" should be by the order of [low, high].\n// \"handle0\" (handleIndex === 0) maps to\n// low data value: this._dataInterval[0] and has low coord.\n// \"handle1\" (handleIndex === 1) maps to\n// high data value: this._dataInterval[1] and has high coord.\n// The logic of transform is implemented in this._createBarGroup.\n\nvar ContinuousView = VisualMapView.extend({\n  type: 'visualMap.continuous',\n\n  /**\n   * @override\n   */\n  init: function () {\n    ContinuousView.superApply(this, 'init', arguments);\n    /**\n     * @private\n     */\n\n    this._shapes = {};\n    /**\n     * @private\n     */\n\n    this._dataInterval = [];\n    /**\n     * @private\n     */\n\n    this._handleEnds = [];\n    /**\n     * @private\n     */\n\n    this._orient;\n    /**\n     * @private\n     */\n\n    this._useHandle;\n    /**\n     * @private\n     */\n\n    this._hoverLinkDataIndices = [];\n    /**\n     * @private\n     */\n\n    this._dragging;\n    /**\n     * @private\n     */\n\n    this._hovering;\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  doRender: function (visualMapModel, ecModel, api, payload) {\n    if (!payload || payload.type !== 'selectDataRange' || payload.from !== this.uid) {\n      this._buildView();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _buildView: function () {\n    this.group.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var thisGroup = this.group;\n    this._orient = visualMapModel.get('orient');\n    this._useHandle = visualMapModel.get('calculable');\n\n    this._resetInterval();\n\n    this._renderBar(thisGroup);\n\n    var dataRangeText = visualMapModel.get('text');\n\n    this._renderEndsText(thisGroup, dataRangeText, 0);\n\n    this._renderEndsText(thisGroup, dataRangeText, 1); // Do this for background size calculation.\n\n\n    this._updateView(true); // After updating view, inner shapes is built completely,\n    // and then background can be rendered.\n\n\n    this.renderBackground(thisGroup); // Real update view\n\n    this._updateView();\n\n    this._enableHoverLinkToSeries();\n\n    this._enableHoverLinkFromSeries();\n\n    this.positionGroup(thisGroup);\n  },\n\n  /**\n   * @private\n   */\n  _renderEndsText: function (group, dataRangeText, endsIndex) {\n    if (!dataRangeText) {\n      return;\n    } // Compatible with ec2, text[0] map to high value, text[1] map low value.\n\n\n    var text = dataRangeText[1 - endsIndex];\n    text = text != null ? text + '' : '';\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var itemSize = visualMapModel.itemSize;\n    var barGroup = this._shapes.barGroup;\n\n    var position = this._applyTransform([itemSize[0] / 2, endsIndex === 0 ? -textGap : itemSize[1] + textGap], barGroup);\n\n    var align = this._applyTransform(endsIndex === 0 ? 'bottom' : 'top', barGroup);\n\n    var orient = this._orient;\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    this.group.add(new graphic.Text({\n      style: {\n        x: position[0],\n        y: position[1],\n        textVerticalAlign: orient === 'horizontal' ? 'middle' : align,\n        textAlign: orient === 'horizontal' ? align : 'center',\n        text: text,\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _renderBar: function (targetGroup) {\n    var visualMapModel = this.visualMapModel;\n    var shapes = this._shapes;\n    var itemSize = visualMapModel.itemSize;\n    var orient = this._orient;\n    var useHandle = this._useHandle;\n    var itemAlign = helper.getItemAlign(visualMapModel, this.api, itemSize);\n\n    var barGroup = shapes.barGroup = this._createBarGroup(itemAlign); // Bar\n\n\n    barGroup.add(shapes.outOfRange = createPolygon());\n    barGroup.add(shapes.inRange = createPolygon(null, useHandle ? getCursor(this._orient) : null, zrUtil.bind(this._dragHandle, this, 'all', false), zrUtil.bind(this._dragHandle, this, 'all', true)));\n    var textRect = visualMapModel.textStyleModel.getTextRect('');\n    var textSize = mathMax(textRect.width, textRect.height); // Handle\n\n    if (useHandle) {\n      shapes.handleThumbs = [];\n      shapes.handleLabels = [];\n      shapes.handleLabelPoints = [];\n\n      this._createHandle(barGroup, 0, itemSize, textSize, orient, itemAlign);\n\n      this._createHandle(barGroup, 1, itemSize, textSize, orient, itemAlign);\n    }\n\n    this._createIndicator(barGroup, itemSize, textSize, orient);\n\n    targetGroup.add(barGroup);\n  },\n\n  /**\n   * @private\n   */\n  _createHandle: function (barGroup, handleIndex, itemSize, textSize, orient) {\n    var onDrift = zrUtil.bind(this._dragHandle, this, handleIndex, false);\n    var onDragEnd = zrUtil.bind(this._dragHandle, this, handleIndex, true);\n    var handleThumb = createPolygon(createHandlePoints(handleIndex, textSize), getCursor(this._orient), onDrift, onDragEnd);\n    handleThumb.position[0] = itemSize[0];\n    barGroup.add(handleThumb); // Text is always horizontal layout but should not be effected by\n    // transform (orient/inverse). So label is built separately but not\n    // use zrender/graphic/helper/RectText, and is located based on view\n    // group (according to handleLabelPoint) but not barGroup.\n\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var handleLabel = new graphic.Text({\n      draggable: true,\n      drift: onDrift,\n      onmousemove: function (e) {\n        // Fot mobile devicem, prevent screen slider on the button.\n        eventTool.stop(e.event);\n      },\n      ondragend: onDragEnd,\n      style: {\n        x: 0,\n        y: 0,\n        text: '',\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    });\n    this.group.add(handleLabel);\n    var handleLabelPoint = [orient === 'horizontal' ? textSize / 2 : textSize * 1.5, orient === 'horizontal' ? handleIndex === 0 ? -(textSize * 1.5) : textSize * 1.5 : handleIndex === 0 ? -textSize / 2 : textSize / 2];\n    var shapes = this._shapes;\n    shapes.handleThumbs[handleIndex] = handleThumb;\n    shapes.handleLabelPoints[handleIndex] = handleLabelPoint;\n    shapes.handleLabels[handleIndex] = handleLabel;\n  },\n\n  /**\n   * @private\n   */\n  _createIndicator: function (barGroup, itemSize, textSize, orient) {\n    var indicator = createPolygon([[0, 0]], 'move');\n    indicator.position[0] = itemSize[0];\n    indicator.attr({\n      invisible: true,\n      silent: true\n    });\n    barGroup.add(indicator);\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var indicatorLabel = new graphic.Text({\n      silent: true,\n      invisible: true,\n      style: {\n        x: 0,\n        y: 0,\n        text: '',\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    });\n    this.group.add(indicatorLabel);\n    var indicatorLabelPoint = [orient === 'horizontal' ? textSize / 2 : HOVER_LINK_OUT + 3, 0];\n    var shapes = this._shapes;\n    shapes.indicator = indicator;\n    shapes.indicatorLabel = indicatorLabel;\n    shapes.indicatorLabelPoint = indicatorLabelPoint;\n  },\n\n  /**\n   * @private\n   */\n  _dragHandle: function (handleIndex, isEnd, dx, dy) {\n    if (!this._useHandle) {\n      return;\n    }\n\n    this._dragging = !isEnd;\n\n    if (!isEnd) {\n      // Transform dx, dy to bar coordination.\n      var vertex = this._applyTransform([dx, dy], this._shapes.barGroup, true);\n\n      this._updateInterval(handleIndex, vertex[1]); // Considering realtime, update view should be executed\n      // before dispatch action.\n\n\n      this._updateView();\n    } // dragEnd do not dispatch action when realtime.\n\n\n    if (isEnd === !this.visualMapModel.get('realtime')) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'selectDataRange',\n        from: this.uid,\n        visualMapId: this.visualMapModel.id,\n        selected: this._dataInterval.slice()\n      });\n    }\n\n    if (isEnd) {\n      !this._hovering && this._clearHoverLinkToSeries();\n    } else if (useHoverLinkOnHandle(this.visualMapModel)) {\n      this._doHoverLinkToSeries(this._handleEnds[handleIndex], false);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _resetInterval: function () {\n    var visualMapModel = this.visualMapModel;\n    var dataInterval = this._dataInterval = visualMapModel.getSelected();\n    var dataExtent = visualMapModel.getExtent();\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    this._handleEnds = [linearMap(dataInterval[0], dataExtent, sizeExtent, true), linearMap(dataInterval[1], dataExtent, sizeExtent, true)];\n  },\n\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} dx\n   * @param {number} dy\n   */\n  _updateInterval: function (handleIndex, delta) {\n    delta = delta || 0;\n    var visualMapModel = this.visualMapModel;\n    var handleEnds = this._handleEnds;\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    sliderMove(delta, handleEnds, sizeExtent, handleIndex, // cross is forbiden\n    0);\n    var dataExtent = visualMapModel.getExtent(); // Update data interval.\n\n    this._dataInterval = [linearMap(handleEnds[0], sizeExtent, dataExtent, true), linearMap(handleEnds[1], sizeExtent, dataExtent, true)];\n  },\n\n  /**\n   * @private\n   */\n  _updateView: function (forSketch) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var shapes = this._shapes;\n    var outOfRangeHandleEnds = [0, visualMapModel.itemSize[1]];\n    var inRangeHandleEnds = forSketch ? outOfRangeHandleEnds : this._handleEnds;\n\n    var visualInRange = this._createBarVisual(this._dataInterval, dataExtent, inRangeHandleEnds, 'inRange');\n\n    var visualOutOfRange = this._createBarVisual(dataExtent, dataExtent, outOfRangeHandleEnds, 'outOfRange');\n\n    shapes.inRange.setStyle({\n      fill: visualInRange.barColor,\n      opacity: visualInRange.opacity\n    }).setShape('points', visualInRange.barPoints);\n    shapes.outOfRange.setStyle({\n      fill: visualOutOfRange.barColor,\n      opacity: visualOutOfRange.opacity\n    }).setShape('points', visualOutOfRange.barPoints);\n\n    this._updateHandle(inRangeHandleEnds, visualInRange);\n  },\n\n  /**\n   * @private\n   */\n  _createBarVisual: function (dataInterval, dataExtent, handleEnds, forceState) {\n    var opts = {\n      forceState: forceState,\n      convertOpacityToAlpha: true\n    };\n\n    var colorStops = this._makeColorGradient(dataInterval, opts);\n\n    var symbolSizes = [this.getControllerVisual(dataInterval[0], 'symbolSize', opts), this.getControllerVisual(dataInterval[1], 'symbolSize', opts)];\n\n    var barPoints = this._createBarPoints(handleEnds, symbolSizes);\n\n    return {\n      barColor: new LinearGradient(0, 0, 0, 1, colorStops),\n      barPoints: barPoints,\n      handlesColor: [colorStops[0].color, colorStops[colorStops.length - 1].color]\n    };\n  },\n\n  /**\n   * @private\n   */\n  _makeColorGradient: function (dataInterval, opts) {\n    // Considering colorHue, which is not linear, so we have to sample\n    // to calculate gradient color stops, but not only caculate head\n    // and tail.\n    var sampleNumber = 100; // Arbitrary value.\n\n    var colorStops = [];\n    var step = (dataInterval[1] - dataInterval[0]) / sampleNumber;\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[0], 'color', opts),\n      offset: 0\n    });\n\n    for (var i = 1; i < sampleNumber; i++) {\n      var currValue = dataInterval[0] + step * i;\n\n      if (currValue > dataInterval[1]) {\n        break;\n      }\n\n      colorStops.push({\n        color: this.getControllerVisual(currValue, 'color', opts),\n        offset: i / sampleNumber\n      });\n    }\n\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[1], 'color', opts),\n      offset: 1\n    });\n    return colorStops;\n  },\n\n  /**\n   * @private\n   */\n  _createBarPoints: function (handleEnds, symbolSizes) {\n    var itemSize = this.visualMapModel.itemSize;\n    return [[itemSize[0] - symbolSizes[0], handleEnds[0]], [itemSize[0], handleEnds[0]], [itemSize[0], handleEnds[1]], [itemSize[0] - symbolSizes[1], handleEnds[1]]];\n  },\n\n  /**\n   * @private\n   */\n  _createBarGroup: function (itemAlign) {\n    var orient = this._orient;\n    var inverse = this.visualMapModel.get('inverse');\n    return new graphic.Group(orient === 'horizontal' && !inverse ? {\n      scale: itemAlign === 'bottom' ? [1, 1] : [-1, 1],\n      rotation: Math.PI / 2\n    } : orient === 'horizontal' && inverse ? {\n      scale: itemAlign === 'bottom' ? [-1, 1] : [1, 1],\n      rotation: -Math.PI / 2\n    } : orient === 'vertical' && !inverse ? {\n      scale: itemAlign === 'left' ? [1, -1] : [-1, -1]\n    } : {\n      scale: itemAlign === 'left' ? [1, 1] : [-1, 1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _updateHandle: function (handleEnds, visualInRange) {\n    if (!this._useHandle) {\n      return;\n    }\n\n    var shapes = this._shapes;\n    var visualMapModel = this.visualMapModel;\n    var handleThumbs = shapes.handleThumbs;\n    var handleLabels = shapes.handleLabels;\n    each([0, 1], function (handleIndex) {\n      var handleThumb = handleThumbs[handleIndex];\n      handleThumb.setStyle('fill', visualInRange.handlesColor[handleIndex]);\n      handleThumb.position[1] = handleEnds[handleIndex]; // Update handle label position.\n\n      var textPoint = graphic.applyTransform(shapes.handleLabelPoints[handleIndex], graphic.getTransform(handleThumb, this.group));\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        text: visualMapModel.formatValueText(this._dataInterval[handleIndex]),\n        textVerticalAlign: 'middle',\n        textAlign: this._applyTransform(this._orient === 'horizontal' ? handleIndex === 0 ? 'bottom' : 'top' : 'left', shapes.barGroup)\n      });\n    }, this);\n  },\n\n  /**\n   * @private\n   * @param {number} cursorValue\n   * @param {number} textValue\n   * @param {string} [rangeSymbol]\n   * @param {number} [halfHoverLinkSize]\n   */\n  _showIndicator: function (cursorValue, textValue, rangeSymbol, halfHoverLinkSize) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var itemSize = visualMapModel.itemSize;\n    var sizeExtent = [0, itemSize[1]];\n    var pos = linearMap(cursorValue, dataExtent, sizeExtent, true);\n    var shapes = this._shapes;\n    var indicator = shapes.indicator;\n\n    if (!indicator) {\n      return;\n    }\n\n    indicator.position[1] = pos;\n    indicator.attr('invisible', false);\n    indicator.setShape('points', createIndicatorPoints(!!rangeSymbol, halfHoverLinkSize, pos, itemSize[1]));\n    var opts = {\n      convertOpacityToAlpha: true\n    };\n    var color = this.getControllerVisual(cursorValue, 'color', opts);\n    indicator.setStyle('fill', color); // Update handle label position.\n\n    var textPoint = graphic.applyTransform(shapes.indicatorLabelPoint, graphic.getTransform(indicator, this.group));\n    var indicatorLabel = shapes.indicatorLabel;\n    indicatorLabel.attr('invisible', false);\n\n    var align = this._applyTransform('left', shapes.barGroup);\n\n    var orient = this._orient;\n    indicatorLabel.setStyle({\n      text: (rangeSymbol ? rangeSymbol : '') + visualMapModel.formatValueText(textValue),\n      textVerticalAlign: orient === 'horizontal' ? align : 'middle',\n      textAlign: orient === 'horizontal' ? 'center' : align,\n      x: textPoint[0],\n      y: textPoint[1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLinkToSeries: function () {\n    var self = this;\n\n    this._shapes.barGroup.on('mousemove', function (e) {\n      self._hovering = true;\n\n      if (!self._dragging) {\n        var itemSize = self.visualMapModel.itemSize;\n\n        var pos = self._applyTransform([e.offsetX, e.offsetY], self._shapes.barGroup, true, true); // For hover link show when hover handle, which might be\n        // below or upper than sizeExtent.\n\n\n        pos[1] = mathMin(mathMax(0, pos[1]), itemSize[1]);\n\n        self._doHoverLinkToSeries(pos[1], 0 <= pos[0] && pos[0] <= itemSize[0]);\n      }\n    }).on('mouseout', function () {\n      // When mouse is out of handle, hoverLink still need\n      // to be displayed when realtime is set as false.\n      self._hovering = false;\n      !self._dragging && self._clearHoverLinkToSeries();\n    });\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLinkFromSeries: function () {\n    var zr = this.api.getZr();\n\n    if (this.visualMapModel.option.hoverLink) {\n      zr.on('mouseover', this._hoverLinkFromSeriesMouseOver, this);\n      zr.on('mouseout', this._hideIndicator, this);\n    } else {\n      this._clearHoverLinkFromSeries();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _doHoverLinkToSeries: function (cursorPos, hoverOnBar) {\n    var visualMapModel = this.visualMapModel;\n    var itemSize = visualMapModel.itemSize;\n\n    if (!visualMapModel.option.hoverLink) {\n      return;\n    }\n\n    var sizeExtent = [0, itemSize[1]];\n    var dataExtent = visualMapModel.getExtent(); // For hover link show when hover handle, which might be below or upper than sizeExtent.\n\n    cursorPos = mathMin(mathMax(sizeExtent[0], cursorPos), sizeExtent[1]);\n    var halfHoverLinkSize = getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent);\n    var hoverRange = [cursorPos - halfHoverLinkSize, cursorPos + halfHoverLinkSize];\n    var cursorValue = linearMap(cursorPos, sizeExtent, dataExtent, true);\n    var valueRange = [linearMap(hoverRange[0], sizeExtent, dataExtent, true), linearMap(hoverRange[1], sizeExtent, dataExtent, true)]; // Consider data range is out of visualMap range, see test/visualMap-continuous.html,\n    // where china and india has very large population.\n\n    hoverRange[0] < sizeExtent[0] && (valueRange[0] = -Infinity);\n    hoverRange[1] > sizeExtent[1] && (valueRange[1] = Infinity); // Do not show indicator when mouse is over handle,\n    // otherwise labels overlap, especially when dragging.\n\n    if (hoverOnBar) {\n      if (valueRange[0] === -Infinity) {\n        this._showIndicator(cursorValue, valueRange[1], '< ', halfHoverLinkSize);\n      } else if (valueRange[1] === Infinity) {\n        this._showIndicator(cursorValue, valueRange[0], '> ', halfHoverLinkSize);\n      } else {\n        this._showIndicator(cursorValue, cursorValue, ' ', halfHoverLinkSize);\n      }\n    } // When realtime is set as false, handles, which are in barGroup,\n    // also trigger hoverLink, which help user to realize where they\n    // focus on when dragging. (see test/heatmap-large.html)\n    // When realtime is set as true, highlight will not show when hover\n    // handle, because the label on handle, which displays a exact value\n    // but not range, might mislead users.\n\n\n    var oldBatch = this._hoverLinkDataIndices;\n    var newBatch = [];\n\n    if (hoverOnBar || useHoverLinkOnHandle(visualMapModel)) {\n      newBatch = this._hoverLinkDataIndices = visualMapModel.findTargetDataIndices(valueRange);\n    }\n\n    var resultBatches = modelUtil.compressBatches(oldBatch, newBatch);\n\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(resultBatches[0], visualMapModel));\n\n    this._dispatchHighDown('highlight', helper.makeHighDownBatch(resultBatches[1], visualMapModel));\n  },\n\n  /**\n   * @private\n   */\n  _hoverLinkFromSeriesMouseOver: function (e) {\n    var el = e.target;\n    var visualMapModel = this.visualMapModel;\n\n    if (!el || el.dataIndex == null) {\n      return;\n    }\n\n    var dataModel = this.ecModel.getSeriesByIndex(el.seriesIndex);\n\n    if (!visualMapModel.isTargetSeries(dataModel)) {\n      return;\n    }\n\n    var data = dataModel.getData(el.dataType);\n    var value = data.get(visualMapModel.getDataDimension(data), el.dataIndex, true);\n\n    if (!isNaN(value)) {\n      this._showIndicator(value, value);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _hideIndicator: function () {\n    var shapes = this._shapes;\n    shapes.indicator && shapes.indicator.attr('invisible', true);\n    shapes.indicatorLabel && shapes.indicatorLabel.attr('invisible', true);\n  },\n\n  /**\n   * @private\n   */\n  _clearHoverLinkToSeries: function () {\n    this._hideIndicator();\n\n    var indices = this._hoverLinkDataIndices;\n\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(indices, this.visualMapModel));\n\n    indices.length = 0;\n  },\n\n  /**\n   * @private\n   */\n  _clearHoverLinkFromSeries: function () {\n    this._hideIndicator();\n\n    var zr = this.api.getZr();\n    zr.off('mouseover', this._hoverLinkFromSeriesMouseOver);\n    zr.off('mouseout', this._hideIndicator);\n  },\n\n  /**\n   * @private\n   */\n  _applyTransform: function (vertex, element, inverse, global) {\n    var transform = graphic.getTransform(element, global ? null : this.group);\n    return graphic[zrUtil.isArray(vertex) ? 'applyTransform' : 'transformDirection'](vertex, transform, inverse);\n  },\n\n  /**\n   * @private\n   */\n  _dispatchHighDown: function (type, batch) {\n    batch && batch.length && this.api.dispatchAction({\n      type: type,\n      batch: batch\n    });\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._clearHoverLinkFromSeries();\n\n    this._clearHoverLinkToSeries();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._clearHoverLinkFromSeries();\n\n    this._clearHoverLinkToSeries();\n  }\n});\n\nfunction createPolygon(points, cursor, onDrift, onDragEnd) {\n  return new graphic.Polygon({\n    shape: {\n      points: points\n    },\n    draggable: !!onDrift,\n    cursor: cursor,\n    drift: onDrift,\n    onmousemove: function (e) {\n      // Fot mobile devicem, prevent screen slider on the button.\n      eventTool.stop(e.event);\n    },\n    ondragend: onDragEnd\n  });\n}\n\nfunction createHandlePoints(handleIndex, textSize) {\n  return handleIndex === 0 ? [[0, 0], [textSize, 0], [textSize, -textSize]] : [[0, 0], [textSize, 0], [textSize, textSize]];\n}\n\nfunction createIndicatorPoints(isRange, halfHoverLinkSize, pos, extentMax) {\n  return isRange ? [// indicate range\n  [0, -mathMin(halfHoverLinkSize, mathMax(pos, 0))], [HOVER_LINK_OUT, 0], [0, mathMin(halfHoverLinkSize, mathMax(extentMax - pos, 0))]] : [// indicate single value\n  [0, 0], [5, -5], [5, 5]];\n}\n\nfunction getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent) {\n  var halfHoverLinkSize = HOVER_LINK_SIZE / 2;\n  var hoverLinkDataSize = visualMapModel.get('hoverLinkDataSize');\n\n  if (hoverLinkDataSize) {\n    halfHoverLinkSize = linearMap(hoverLinkDataSize, dataExtent, sizeExtent, true) / 2;\n  }\n\n  return halfHoverLinkSize;\n}\n\nfunction useHoverLinkOnHandle(visualMapModel) {\n  var hoverLinkOnHandle = visualMapModel.get('hoverLinkOnHandle');\n  return !!(hoverLinkOnHandle == null ? visualMapModel.get('realtime') : hoverLinkOnHandle);\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nvar _default = ContinuousView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar MarkerModel = require(\"./MarkerModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = MarkerModel.extend({\n  type: 'markArea',\n  defaultOption: {\n    zlevel: 0,\n    // PENDING\n    z: 1,\n    tooltip: {\n      trigger: 'item'\n    },\n    // markArea should fixed on the coordinate system\n    animation: false,\n    label: {\n      show: true,\n      position: 'top'\n    },\n    itemStyle: {\n      // color and borderColor default to use color from series\n      // color: 'auto'\n      // borderColor: 'auto'\n      borderWidth: 0\n    },\n    emphasis: {\n      label: {\n        show: true,\n        position: 'top'\n      }\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DataZoomModel = require(\"./DataZoomModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = DataZoomModel.extend({\n  type: 'dataZoom.select'\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar TooltipContent = require(\"./TooltipContent\");\n\nvar TooltipRichContent = require(\"./TooltipRichContent\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar findPointFromSeries = require(\"../axisPointer/findPointFromSeries\");\n\nvar layoutUtil = require(\"../../util/layout\");\n\nvar Model = require(\"../../model/Model\");\n\nvar globalListener = require(\"../axisPointer/globalListener\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar axisPointerViewHelper = require(\"../axisPointer/viewHelper\");\n\nvar _model = require(\"../../util/model\");\n\nvar getTooltipRenderMode = _model.getTooltipRenderMode;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar bind = zrUtil.bind;\nvar each = zrUtil.each;\nvar parsePercent = numberUtil.parsePercent;\nvar proxyRect = new graphic.Rect({\n  shape: {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  }\n});\n\nvar _default = echarts.extendComponentView({\n  type: 'tooltip',\n  init: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    var tooltipModel = ecModel.getComponent('tooltip');\n    var renderMode = tooltipModel.get('renderMode');\n    this._renderMode = getTooltipRenderMode(renderMode);\n    var tooltipContent;\n\n    if (this._renderMode === 'html') {\n      tooltipContent = new TooltipContent(api.getDom(), api, {\n        appendToBody: tooltipModel.get('appendToBody', true)\n      });\n      this._newLine = '<br/>';\n    } else {\n      tooltipContent = new TooltipRichContent(api);\n      this._newLine = '\\n';\n    }\n\n    this._tooltipContent = tooltipContent;\n  },\n  render: function (tooltipModel, ecModel, api) {\n    if (env.node) {\n      return;\n    } // Reset\n\n\n    this.group.removeAll();\n    /**\n     * @private\n     * @type {module:echarts/component/tooltip/TooltipModel}\n     */\n\n    this._tooltipModel = tooltipModel;\n    /**\n     * @private\n     * @type {module:echarts/model/Global}\n     */\n\n    this._ecModel = ecModel;\n    /**\n     * @private\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this._api = api;\n    /**\n     * Should be cleaned when render.\n     * @private\n     * @type {Array.<Array.<Object>>}\n     */\n\n    this._lastDataByCoordSys = null;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.update(tooltipModel);\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n    this._initGlobalListener();\n\n    this._keepShow();\n  },\n  _initGlobalListener: function () {\n    var tooltipModel = this._tooltipModel;\n    var triggerOn = tooltipModel.get('triggerOn');\n    globalListener.register('itemTooltip', this._api, bind(function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none') {\n        if (triggerOn.indexOf(currTrigger) >= 0) {\n          this._tryShow(e, dispatchAction);\n        } else if (currTrigger === 'leave') {\n          this._hide(dispatchAction);\n        }\n      }\n    }, this));\n  },\n  _keepShow: function () {\n    var tooltipModel = this._tooltipModel;\n    var ecModel = this._ecModel;\n    var api = this._api; // Try to keep the tooltip show when refreshing\n\n    if (this._lastX != null && this._lastY != null // When user is willing to control tooltip totally using API,\n    // self.manuallyShowTip({x, y}) might cause tooltip hide,\n    // which is not expected.\n    && tooltipModel.get('triggerOn') !== 'none') {\n      var self = this;\n      clearTimeout(this._refreshUpdateTimeout);\n      this._refreshUpdateTimeout = setTimeout(function () {\n        // Show tip next tick after other charts are rendered\n        // In case highlight action has wrong result\n        // FIXME\n        !api.isDisposed() && self.manuallyShowTip(tooltipModel, ecModel, api, {\n          x: self._lastX,\n          y: self._lastY\n        });\n      });\n    }\n  },\n\n  /**\n   * Show tip manually by\n   * dispatchAction({\n   *     type: 'showTip',\n   *     x: 10,\n   *     y: 10\n   * });\n   * Or\n   * dispatchAction({\n   *      type: 'showTip',\n   *      seriesIndex: 0,\n   *      dataIndex or dataIndexInside or name\n   * });\n   *\n   *  TODO Batch\n   */\n  manuallyShowTip: function (tooltipModel, ecModel, api, payload) {\n    if (payload.from === this.uid || env.node) {\n      return;\n    }\n\n    var dispatchAction = makeDispatchAction(payload, api); // Reset ticket\n\n    this._ticket = ''; // When triggered from axisPointer.\n\n    var dataByCoordSys = payload.dataByCoordSys;\n\n    if (payload.tooltip && payload.x != null && payload.y != null) {\n      var el = proxyRect;\n      el.position = [payload.x, payload.y];\n      el.update();\n      el.tooltip = payload.tooltip; // Manually show tooltip while view is not using zrender elements.\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        target: el\n      }, dispatchAction);\n    } else if (dataByCoordSys) {\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        dataByCoordSys: payload.dataByCoordSys,\n        tooltipOption: payload.tooltipOption\n      }, dispatchAction);\n    } else if (payload.seriesIndex != null) {\n      if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n        return;\n      }\n\n      var pointInfo = findPointFromSeries(payload, ecModel);\n      var cx = pointInfo.point[0];\n      var cy = pointInfo.point[1];\n\n      if (cx != null && cy != null) {\n        this._tryShow({\n          offsetX: cx,\n          offsetY: cy,\n          position: payload.position,\n          target: pointInfo.el\n        }, dispatchAction);\n      }\n    } else if (payload.x != null && payload.y != null) {\n      // FIXME\n      // should wrap dispatchAction like `axisPointer/globalListener` ?\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payload.x,\n        y: payload.y\n      });\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        target: api.getZr().findHover(payload.x, payload.y).target\n      }, dispatchAction);\n    }\n  },\n  manuallyHideTip: function (tooltipModel, ecModel, api, payload) {\n    var tooltipContent = this._tooltipContent;\n\n    if (!this._alwaysShowContent && this._tooltipModel) {\n      tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n    }\n\n    this._lastX = this._lastY = null;\n\n    if (payload.from !== this.uid) {\n      this._hide(makeDispatchAction(payload, api));\n    }\n  },\n  // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n  // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n  // and tooltip.\n  _manuallyAxisShowTip: function (tooltipModel, ecModel, api, payload) {\n    var seriesIndex = payload.seriesIndex;\n    var dataIndex = payload.dataIndex;\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n    if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n      return;\n    }\n\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (!seriesModel) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model, tooltipModel]);\n\n    if (tooltipModel.get('trigger') !== 'axis') {\n      return;\n    }\n\n    api.dispatchAction({\n      type: 'updateAxisPointer',\n      seriesIndex: seriesIndex,\n      dataIndex: dataIndex,\n      position: payload.position\n    });\n    return true;\n  },\n  _tryShow: function (e, dispatchAction) {\n    var el = e.target;\n    var tooltipModel = this._tooltipModel;\n\n    if (!tooltipModel) {\n      return;\n    } // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n\n\n    this._lastX = e.offsetX;\n    this._lastY = e.offsetY;\n    var dataByCoordSys = e.dataByCoordSys;\n\n    if (dataByCoordSys && dataByCoordSys.length) {\n      this._showAxisTooltip(dataByCoordSys, e);\n    } // Always show item tooltip if mouse is on the element with dataIndex\n    else if (el && el.dataIndex != null) {\n        this._lastDataByCoordSys = null;\n\n        this._showSeriesItemTooltip(e, el, dispatchAction);\n      } // Tooltip provided directly. Like legend.\n      else if (el && el.tooltip) {\n          this._lastDataByCoordSys = null;\n\n          this._showComponentItemTooltip(e, el, dispatchAction);\n        } else {\n          this._lastDataByCoordSys = null;\n\n          this._hide(dispatchAction);\n        }\n  },\n  _showOrMove: function (tooltipModel, cb) {\n    // showDelay is used in this case: tooltip.enterable is set\n    // as true. User intent to move mouse into tooltip and click\n    // something. `showDelay` makes it easier to enter the content\n    // but tooltip do not move immediately.\n    var delay = tooltipModel.get('showDelay');\n    cb = zrUtil.bind(cb, this);\n    clearTimeout(this._showTimout);\n    delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n  },\n  _showAxisTooltip: function (dataByCoordSys, e) {\n    var ecModel = this._ecModel;\n    var globalTooltipModel = this._tooltipModel;\n    var point = [e.offsetX, e.offsetY];\n    var singleDefaultHTML = [];\n    var singleParamsList = [];\n    var singleTooltipModel = buildTooltipModel([e.tooltipOption, globalTooltipModel]);\n    var renderMode = this._renderMode;\n    var newLine = this._newLine;\n    var markers = {};\n    each(dataByCoordSys, function (itemCoordSys) {\n      // var coordParamList = [];\n      // var coordDefaultHTML = [];\n      // var coordTooltipModel = buildTooltipModel([\n      //     e.tooltipOption,\n      //     itemCoordSys.tooltipOption,\n      //     ecModel.getComponent(itemCoordSys.coordSysMainType, itemCoordSys.coordSysIndex),\n      //     globalTooltipModel\n      // ]);\n      // var displayMode = coordTooltipModel.get('displayMode');\n      // var paramsList = displayMode === 'single' ? singleParamsList : [];\n      each(itemCoordSys.dataByAxis, function (item) {\n        var axisModel = ecModel.getComponent(item.axisDim + 'Axis', item.axisIndex);\n        var axisValue = item.value;\n        var seriesDefaultHTML = [];\n\n        if (!axisModel || axisValue == null) {\n          return;\n        }\n\n        var valueLabel = axisPointerViewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, item.seriesDataIndices, item.valueLabelOpt);\n        zrUtil.each(item.seriesDataIndices, function (idxItem) {\n          var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n          var dataIndex = idxItem.dataIndexInside;\n          var dataParams = series && series.getDataParams(dataIndex);\n          dataParams.axisDim = item.axisDim;\n          dataParams.axisIndex = item.axisIndex;\n          dataParams.axisType = item.axisType;\n          dataParams.axisId = item.axisId;\n          dataParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, axisValue);\n          dataParams.axisValueLabel = valueLabel;\n\n          if (dataParams) {\n            singleParamsList.push(dataParams);\n            var seriesTooltip = series.formatTooltip(dataIndex, true, null, renderMode);\n            var html;\n\n            if (zrUtil.isObject(seriesTooltip)) {\n              html = seriesTooltip.html;\n              var newMarkers = seriesTooltip.markers;\n              zrUtil.merge(markers, newMarkers);\n            } else {\n              html = seriesTooltip;\n            }\n\n            seriesDefaultHTML.push(html);\n          }\n        }); // Default tooltip content\n        // FIXME\n        // (1) should be the first data which has name?\n        // (2) themeRiver, firstDataIndex is array, and first line is unnecessary.\n\n        var firstLine = valueLabel;\n\n        if (renderMode !== 'html') {\n          singleDefaultHTML.push(seriesDefaultHTML.join(newLine));\n        } else {\n          singleDefaultHTML.push((firstLine ? formatUtil.encodeHTML(firstLine) + newLine : '') + seriesDefaultHTML.join(newLine));\n        }\n      });\n    }, this); // In most case, the second axis is shown upper than the first one.\n\n    singleDefaultHTML.reverse();\n    singleDefaultHTML = singleDefaultHTML.join(this._newLine + this._newLine);\n    var positionExpr = e.position;\n\n    this._showOrMove(singleTooltipModel, function () {\n      if (this._updateContentNotChangedOnAxis(dataByCoordSys)) {\n        this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, singleParamsList);\n      } else {\n        this._showTooltipContent(singleTooltipModel, singleDefaultHTML, singleParamsList, Math.random(), point[0], point[1], positionExpr, undefined, markers);\n      }\n    }); // Do not trigger events here, because this branch only be entered\n    // from dispatchAction.\n\n  },\n  _showSeriesItemTooltip: function (e, el, dispatchAction) {\n    var ecModel = this._ecModel; // Use dataModel in element if possible\n    // Used when mouseover on a element like markPoint or edge\n    // In which case, the data is not main data in series.\n\n    var seriesIndex = el.seriesIndex;\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex); // For example, graph link.\n\n    var dataModel = el.dataModel || seriesModel;\n    var dataIndex = el.dataIndex;\n    var dataType = el.dataType;\n    var data = dataModel.getData(dataType);\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model, this._tooltipModel]);\n    var tooltipTrigger = tooltipModel.get('trigger');\n\n    if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n      return;\n    }\n\n    var params = dataModel.getDataParams(dataIndex, dataType);\n    var seriesTooltip = dataModel.formatTooltip(dataIndex, false, dataType, this._renderMode);\n    var defaultHtml;\n    var markers;\n\n    if (zrUtil.isObject(seriesTooltip)) {\n      defaultHtml = seriesTooltip.html;\n      markers = seriesTooltip.markers;\n    } else {\n      defaultHtml = seriesTooltip;\n      markers = null;\n    }\n\n    var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n    this._showOrMove(tooltipModel, function () {\n      this._showTooltipContent(tooltipModel, defaultHtml, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markers);\n    }); // FIXME\n    // duplicated showtip if manuallyShowTip is called from dispatchAction.\n\n\n    dispatchAction({\n      type: 'showTip',\n      dataIndexInside: dataIndex,\n      dataIndex: data.getRawIndex(dataIndex),\n      seriesIndex: seriesIndex,\n      from: this.uid\n    });\n  },\n  _showComponentItemTooltip: function (e, el, dispatchAction) {\n    var tooltipOpt = el.tooltip;\n\n    if (typeof tooltipOpt === 'string') {\n      var content = tooltipOpt;\n      tooltipOpt = {\n        content: content,\n        // Fixed formatter\n        formatter: content\n      };\n    }\n\n    var subTooltipModel = new Model(tooltipOpt, this._tooltipModel, this._ecModel);\n    var defaultHtml = subTooltipModel.get('content');\n    var asyncTicket = Math.random(); // Do not check whether `trigger` is 'none' here, because `trigger`\n    // only works on coordinate system. In fact, we have not found case\n    // that requires setting `trigger` nothing on component yet.\n\n    this._showOrMove(subTooltipModel, function () {\n      this._showTooltipContent(subTooltipModel, defaultHtml, subTooltipModel.get('formatterParams') || {}, asyncTicket, e.offsetX, e.offsetY, e.position, el);\n    }); // If not dispatch showTip, tip may be hide triggered by axis.\n\n\n    dispatchAction({\n      type: 'showTip',\n      from: this.uid\n    });\n  },\n  _showTooltipContent: function (tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markers) {\n    // Reset ticket\n    this._ticket = '';\n\n    if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n      return;\n    }\n\n    var tooltipContent = this._tooltipContent;\n    var formatter = tooltipModel.get('formatter');\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var html = defaultHtml;\n\n    if (formatter && typeof formatter === 'string') {\n      html = formatUtil.formatTpl(formatter, params, true);\n    } else if (typeof formatter === 'function') {\n      var callback = bind(function (cbTicket, html) {\n        if (cbTicket === this._ticket) {\n          tooltipContent.setContent(html, markers, tooltipModel);\n\n          this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n        }\n      }, this);\n      this._ticket = asyncTicket;\n      html = formatter(params, asyncTicket, callback);\n    }\n\n    tooltipContent.setContent(html, markers, tooltipModel);\n    tooltipContent.show(tooltipModel);\n\n    this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n  },\n\n  /**\n   * @param  {string|Function|Array.<number>|Object} positionExpr\n   * @param  {number} x Mouse x\n   * @param  {number} y Mouse y\n   * @param  {boolean} confine Whether confine tooltip content in view rect.\n   * @param  {Object|<Array.<Object>} params\n   * @param  {module:zrender/Element} el target element\n   * @param  {module:echarts/ExtensionAPI} api\n   * @return {Array.<number>}\n   */\n  _updatePosition: function (tooltipModel, positionExpr, x, y, content, params, el) {\n    var viewWidth = this._api.getWidth();\n\n    var viewHeight = this._api.getHeight();\n\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var contentSize = content.getSize();\n    var align = tooltipModel.get('align');\n    var vAlign = tooltipModel.get('verticalAlign');\n    var rect = el && el.getBoundingRect().clone();\n    el && rect.applyTransform(el.transform);\n\n    if (typeof positionExpr === 'function') {\n      // Callback of position can be an array or a string specify the position\n      positionExpr = positionExpr([x, y], params, content.el, rect, {\n        viewSize: [viewWidth, viewHeight],\n        contentSize: contentSize.slice()\n      });\n    }\n\n    if (zrUtil.isArray(positionExpr)) {\n      x = parsePercent(positionExpr[0], viewWidth);\n      y = parsePercent(positionExpr[1], viewHeight);\n    } else if (zrUtil.isObject(positionExpr)) {\n      positionExpr.width = contentSize[0];\n      positionExpr.height = contentSize[1];\n      var layoutRect = layoutUtil.getLayoutRect(positionExpr, {\n        width: viewWidth,\n        height: viewHeight\n      });\n      x = layoutRect.x;\n      y = layoutRect.y;\n      align = null; // When positionExpr is left/top/right/bottom,\n      // align and verticalAlign will not work.\n\n      vAlign = null;\n    } // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n    else if (typeof positionExpr === 'string' && el) {\n        var pos = calcTooltipPosition(positionExpr, rect, contentSize);\n        x = pos[0];\n        y = pos[1];\n      } else {\n        var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n        x = pos[0];\n        y = pos[1];\n      }\n\n    align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n    vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n    if (tooltipModel.get('confine')) {\n      var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n      x = pos[0];\n      y = pos[1];\n    }\n\n    content.moveTo(x, y);\n  },\n  // FIXME\n  // Should we remove this but leave this to user?\n  _updateContentNotChangedOnAxis: function (dataByCoordSys) {\n    var lastCoordSys = this._lastDataByCoordSys;\n    var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n    contentNotChanged && each(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n      var lastDataByAxis = lastItemCoordSys.dataByAxis || {};\n      var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n      var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n      contentNotChanged &= lastDataByAxis.length === thisDataByAxis.length;\n      contentNotChanged && each(lastDataByAxis, function (lastItem, indexAxis) {\n        var thisItem = thisDataByAxis[indexAxis] || {};\n        var lastIndices = lastItem.seriesDataIndices || [];\n        var newIndices = thisItem.seriesDataIndices || [];\n        contentNotChanged &= lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n        contentNotChanged && each(lastIndices, function (lastIdxItem, j) {\n          var newIdxItem = newIndices[j];\n          contentNotChanged &= lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n        });\n      });\n    });\n    this._lastDataByCoordSys = dataByCoordSys;\n    return !!contentNotChanged;\n  },\n  _hide: function (dispatchAction) {\n    // Do not directly hideLater here, because this behavior may be prevented\n    // in dispatchAction when showTip is dispatched.\n    // FIXME\n    // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n    this._lastDataByCoordSys = null;\n    dispatchAction({\n      type: 'hideTip',\n      from: this.uid\n    });\n  },\n  dispose: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    this._tooltipContent.dispose();\n\n    globalListener.unregister('itemTooltip', api);\n  }\n});\n/**\n * @param {Array.<Object|module:echarts/model/Model>} modelCascade\n * From top to bottom. (the last one should be globalTooltipModel);\n */\n\n\nfunction buildTooltipModel(modelCascade) {\n  var resultModel = modelCascade.pop();\n\n  while (modelCascade.length) {\n    var tooltipOpt = modelCascade.pop();\n\n    if (tooltipOpt) {\n      if (Model.isInstance(tooltipOpt)) {\n        tooltipOpt = tooltipOpt.get('tooltip', true);\n      } // In each data item tooltip can be simply write:\n      // {\n      //  value: 10,\n      //  tooltip: 'Something you need to know'\n      // }\n\n\n      if (typeof tooltipOpt === 'string') {\n        tooltipOpt = {\n          formatter: tooltipOpt\n        };\n      }\n\n      resultModel = new Model(tooltipOpt, resultModel, resultModel.ecModel);\n    }\n  }\n\n  return resultModel;\n}\n\nfunction makeDispatchAction(payload, api) {\n  return payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n}\n\nfunction refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n  var size = content.getOuterSize();\n  var width = size.width;\n  var height = size.height;\n\n  if (gapH != null) {\n    if (x + width + gapH > viewWidth) {\n      x -= width + gapH;\n    } else {\n      x += gapH;\n    }\n  }\n\n  if (gapV != null) {\n    if (y + height + gapV > viewHeight) {\n      y -= height + gapV;\n    } else {\n      y += gapV;\n    }\n  }\n\n  return [x, y];\n}\n\nfunction confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n  var size = content.getOuterSize();\n  var width = size.width;\n  var height = size.height;\n  x = Math.min(x + width, viewWidth) - width;\n  y = Math.min(y + height, viewHeight) - height;\n  x = Math.max(x, 0);\n  y = Math.max(y, 0);\n  return [x, y];\n}\n\nfunction calcTooltipPosition(position, rect, contentSize) {\n  var domWidth = contentSize[0];\n  var domHeight = contentSize[1];\n  var gap = 5;\n  var x = 0;\n  var y = 0;\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n\n  switch (position) {\n    case 'inside':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'top':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y - domHeight - gap;\n      break;\n\n    case 'bottom':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight + gap;\n      break;\n\n    case 'left':\n      x = rect.x - domWidth - gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'right':\n      x = rect.x + rectWidth + gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n  }\n\n  return [x, y];\n}\n\nfunction isCenterAlign(align) {\n  return align === 'center' || align === 'middle';\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Single = require(\"./Single\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Single coordinate system creator.\n */\n\n/**\n * Create single coordinate system and inject it into seriesModel.\n *\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Array.<module:echarts/coord/single/Single>}\n */\nfunction create(ecModel, api) {\n  var singles = [];\n  ecModel.eachComponent('singleAxis', function (axisModel, idx) {\n    var single = new Single(axisModel, ecModel, api);\n    single.name = 'single_' + idx;\n    single.resize(axisModel, api);\n    axisModel.coordinateSystem = single;\n    singles.push(single);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'singleAxis') {\n      var singleAxisModel = ecModel.queryComponents({\n        mainType: 'singleAxis',\n        index: seriesModel.get('singleAxisIndex'),\n        id: seriesModel.get('singleAxisId')\n      })[0];\n      seriesModel.coordinateSystem = singleAxisModel && singleAxisModel.coordinateSystem;\n    }\n  });\n  return singles;\n}\n\nCoordinateSystem.register('single', {\n  create: create,\n  dimensions: Single.prototype.dimensions\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar EffectSymbol = require(\"../helper/EffectSymbol\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar pointsLayout = require(\"../../layout/points\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendChartView({\n  type: 'effectScatter',\n  init: function () {\n    this._symbolDraw = new SymbolDraw(EffectSymbol);\n  },\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var effectSymbolDraw = this._symbolDraw;\n    effectSymbolDraw.updateData(data);\n    this.group.add(effectSymbolDraw.group);\n  },\n  updateTransform: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    this.group.dirty();\n    var res = pointsLayout().reset(seriesModel);\n\n    if (res.progress) {\n      res.progress({\n        start: 0,\n        end: data.count()\n      }, data);\n    }\n\n    this._symbolDraw.updateLayout(data);\n  },\n  _updateGroupTransform: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.getRoamTransform) {\n      this.group.transform = matrix.clone(coordSys.getRoamTransform());\n      this.group.decomposeTransform();\n    }\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(api);\n  },\n  dispose: function () {}\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar helper = require(\"../helper/treeHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @file Treemap action\n */\nvar noop = function () {};\n\nvar actionTypes = ['treemapZoomToNode', 'treemapRender', 'treemapMove'];\n\nfor (var i = 0; i < actionTypes.length; i++) {\n  echarts.registerAction({\n    type: actionTypes[i],\n    update: 'updateView'\n  }, noop);\n}\n\necharts.registerAction({\n  type: 'treemapRootToNode',\n  update: 'updateView'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'treemap',\n    query: payload\n  }, handleRootToNode);\n\n  function handleRootToNode(model, index) {\n    var types = ['treemapZoomToNode', 'treemapRootToNode'];\n    var targetInfo = helper.retrieveTargetInfo(payload, types, model);\n\n    if (targetInfo) {\n      var originViewRoot = model.getViewRoot();\n\n      if (originViewRoot) {\n        payload.direction = helper.aboveViewRoot(originViewRoot, targetInfo.node) ? 'rollUp' : 'drillDown';\n      }\n\n      model.resetViewRoot(targetInfo.node);\n    }\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar helper = require(\"../helper/treeHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @file Sunburst action\n */\nvar ROOT_TO_NODE_ACTION = 'sunburstRootToNode';\necharts.registerAction({\n  type: ROOT_TO_NODE_ACTION,\n  update: 'updateView'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'sunburst',\n    query: payload\n  }, handleRootToNode);\n\n  function handleRootToNode(model, index) {\n    var targetInfo = helper.retrieveTargetInfo(payload, [ROOT_TO_NODE_ACTION], model);\n\n    if (targetInfo) {\n      var originViewRoot = model.getViewRoot();\n\n      if (originViewRoot) {\n        payload.direction = helper.aboveViewRoot(originViewRoot, targetInfo.node) ? 'rollUp' : 'drillDown';\n      }\n\n      model.resetViewRoot(targetInfo.node);\n    }\n  }\n});\nvar HIGHLIGHT_ACTION = 'sunburstHighlight';\necharts.registerAction({\n  type: HIGHLIGHT_ACTION,\n  update: 'updateView'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'sunburst',\n    query: payload\n  }, handleHighlight);\n\n  function handleHighlight(model, index) {\n    var targetInfo = helper.retrieveTargetInfo(payload, [HIGHLIGHT_ACTION], model);\n\n    if (targetInfo) {\n      payload.highlight = targetInfo.node;\n    }\n  }\n});\nvar UNHIGHLIGHT_ACTION = 'sunburstUnhighlight';\necharts.registerAction({\n  type: UNHIGHLIGHT_ACTION,\n  update: 'updateView'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'sunburst',\n    query: payload\n  }, handleUnhighlight);\n\n  function handleUnhighlight(model, index) {\n    payload.unhighlight = true;\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Line\n */\n\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Polyline}\n */\nfunction Polyline(lineData, idx, seriesScope) {\n  graphic.Group.call(this);\n\n  this._createPolyline(lineData, idx, seriesScope);\n}\n\nvar polylineProto = Polyline.prototype;\n\npolylineProto._createPolyline = function (lineData, idx, seriesScope) {\n  // var seriesModel = lineData.hostModel;\n  var points = lineData.getItemLayout(idx);\n  var line = new graphic.Polyline({\n    shape: {\n      points: points\n    }\n  });\n  this.add(line);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\npolylineProto.updateData = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childAt(0);\n  var target = {\n    shape: {\n      points: lineData.getItemLayout(idx)\n    }\n  };\n  graphic.updateProps(line, target, seriesModel, idx);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\npolylineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n  var line = this.childAt(0);\n  var itemModel = lineData.getItemModel(idx);\n  var visualColor = lineData.getItemVisual(idx, 'color');\n  var lineStyle = seriesScope && seriesScope.lineStyle;\n  var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n\n  if (!seriesScope || lineData.hasItemOption) {\n    lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n    hoverLineStyle = itemModel.getModel('emphasis.lineStyle').getLineStyle();\n  }\n\n  line.useStyle(zrUtil.defaults({\n    strokeNoScale: true,\n    fill: 'none',\n    stroke: visualColor\n  }, lineStyle));\n  line.hoverStyle = hoverLineStyle;\n  graphic.setHoverStyle(this);\n};\n\npolylineProto.updateLayout = function (lineData, idx) {\n  var polyline = this.childAt(0);\n  polyline.setShape('points', lineData.getItemLayout(idx));\n};\n\nzrUtil.inherits(Polyline, graphic.Group);\nvar _default = Polyline;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n\n    var legendData = legendModel.getData();\n    zrUtil.each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n\n      var isItemSelected = legendModel.isSelected(name);\n\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\n/**\n * @event legendToggleSelect\n * @type {Object}\n * @property {string} type 'legendToggleSelect'\n * @property {string} [from]\n * @property {string} name Series name or data item name\n */\n\n\necharts.registerAction('legendToggleSelect', 'legendselectchanged', zrUtil.curry(legendSelectActionHandler, 'toggleSelected'));\necharts.registerAction('legendAllSelect', 'legendselectall', zrUtil.curry(legendSelectActionHandler, 'allSelect'));\necharts.registerAction('legendInverseSelect', 'legendinverseselect', zrUtil.curry(legendSelectActionHandler, 'inverseSelect'));\n/**\n * @event legendSelect\n * @type {Object}\n * @property {string} type 'legendSelect'\n * @property {string} name Series name or data item name\n */\n\necharts.registerAction('legendSelect', 'legendselected', zrUtil.curry(legendSelectActionHandler, 'select'));\n/**\n * @event legendUnSelect\n * @type {Object}\n * @property {string} type 'legendUnSelect'\n * @property {string} name Series name or data item name\n */\n\necharts.registerAction('legendUnSelect', 'legendunselected', zrUtil.curry(legendSelectActionHandler, 'unSelect'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(coordSys) {\n  var rect = coordSys.getRect();\n  var rangeInfo = coordSys.getRangeInfo();\n  return {\n    coordSys: {\n      type: 'calendar',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      cellWidth: coordSys.getCellWidth(),\n      cellHeight: coordSys.getCellHeight(),\n      rangeInfo: {\n        start: rangeInfo.start,\n        end: rangeInfo.end,\n        weeks: rangeInfo.weeks,\n        dayCount: rangeInfo.allDay\n      }\n    },\n    api: {\n      coord: function (data, clamp) {\n        return coordSys.dataToPoint(data, clamp);\n      }\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SingleAxis = require(\"./SingleAxis\");\n\nvar axisHelper = require(\"../axisHelper\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Single coordinates system.\n */\n\n/**\n * Create a single coordinates system.\n *\n * @param {module:echarts/coord/single/AxisModel} axisModel\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction Single(axisModel, ecModel, api) {\n  /**\n   * @type {string}\n   * @readOnly\n   */\n  this.dimension = 'single';\n  /**\n   * Add it just for draw tooltip.\n   *\n   * @type {Array.<string>}\n   * @readOnly\n   */\n\n  this.dimensions = ['single'];\n  /**\n   * @private\n   * @type {module:echarts/coord/single/SingleAxis}.\n   */\n\n  this._axis = null;\n  /**\n   * @private\n   * @type {module:zrender/core/BoundingRect}\n   */\n\n  this._rect;\n\n  this._init(axisModel, ecModel, api);\n  /**\n   * @type {module:echarts/coord/single/AxisModel}\n   */\n\n\n  this.model = axisModel;\n}\n\nSingle.prototype = {\n  type: 'singleAxis',\n  axisPointerEnabled: true,\n  constructor: Single,\n\n  /**\n   * Initialize single coordinate system.\n   *\n   * @param  {module:echarts/coord/single/AxisModel} axisModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @private\n   */\n  _init: function (axisModel, ecModel, api) {\n    var dim = this.dimension;\n    var axis = new SingleAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisModel.get('position'));\n    var isCategory = axis.type === 'category';\n    axis.onBand = isCategory && axisModel.get('boundaryGap');\n    axis.inverse = axisModel.get('inverse');\n    axis.orient = axisModel.get('orient');\n    axisModel.axis = axis;\n    axis.model = axisModel;\n    axis.coordinateSystem = this;\n    this._axis = axis;\n  },\n\n  /**\n   * Update axis scale after data processed\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  update: function (ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.coordinateSystem === this) {\n        var data = seriesModel.getData();\n        each(data.mapDimension(this.dimension, true), function (dim) {\n          this._axis.scale.unionExtentFromData(data, dim);\n        }, this);\n        axisHelper.niceScaleExtent(this._axis.scale, this._axis.model);\n      }\n    }, this);\n  },\n\n  /**\n   * Resize the single coordinate system.\n   *\n   * @param  {module:echarts/coord/single/AxisModel} axisModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  resize: function (axisModel, api) {\n    this._rect = getLayoutRect({\n      left: axisModel.get('left'),\n      top: axisModel.get('top'),\n      right: axisModel.get('right'),\n      bottom: axisModel.get('bottom'),\n      width: axisModel.get('width'),\n      height: axisModel.get('height')\n    }, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n\n    this._adjustAxis();\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getRect: function () {\n    return this._rect;\n  },\n\n  /**\n   * @private\n   */\n  _adjustAxis: function () {\n    var rect = this._rect;\n    var axis = this._axis;\n    var isHorizontal = axis.isHorizontal();\n    var extent = isHorizontal ? [0, rect.width] : [0, rect.height];\n    var idx = axis.reverse ? 1 : 0;\n    axis.setExtent(extent[idx], extent[1 - idx]);\n\n    this._updateAxisTransform(axis, isHorizontal ? rect.x : rect.y);\n  },\n\n  /**\n   * @param  {module:echarts/coord/single/SingleAxis} axis\n   * @param  {number} coordBase\n   */\n  _updateAxisTransform: function (axis, coordBase) {\n    var axisExtent = axis.getExtent();\n    var extentSum = axisExtent[0] + axisExtent[1];\n    var isHorizontal = axis.isHorizontal();\n    axis.toGlobalCoord = isHorizontal ? function (coord) {\n      return coord + coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n    axis.toLocalCoord = isHorizontal ? function (coord) {\n      return coord - coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n  },\n\n  /**\n   * Get axis.\n   *\n   * @return {module:echarts/coord/single/SingleAxis}\n   */\n  getAxis: function () {\n    return this._axis;\n  },\n\n  /**\n   * Get axis, add it just for draw tooltip.\n   *\n   * @return {[type]} [description]\n   */\n  getBaseAxis: function () {\n    return this._axis;\n  },\n\n  /**\n   * @return {Array.<module:echarts/coord/Axis>}\n   */\n  getAxes: function () {\n    return [this._axis];\n  },\n\n  /**\n   * @return {Object} {baseAxes: [], otherAxes: []}\n   */\n  getTooltipAxes: function () {\n    return {\n      baseAxes: [this.getAxis()]\n    };\n  },\n\n  /**\n   * If contain point.\n   *\n   * @param  {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var rect = this.getRect();\n    var axis = this.getAxis();\n    var orient = axis.orient;\n\n    if (orient === 'horizontal') {\n      return axis.contain(axis.toLocalCoord(point[0])) && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n    } else {\n      return axis.contain(axis.toLocalCoord(point[1])) && point[0] >= rect.y && point[0] <= rect.y + rect.height;\n    }\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @return {Array.<number>}\n   */\n  pointToData: function (point) {\n    var axis = this.getAxis();\n    return [axis.coordToData(axis.toLocalCoord(point[axis.orient === 'horizontal' ? 0 : 1]))];\n  },\n\n  /**\n   * Convert the series data to concrete point.\n   *\n   * @param  {number|Array.<number>} val\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (val) {\n    var axis = this.getAxis();\n    var rect = this.getRect();\n    var pt = [];\n    var idx = axis.orient === 'horizontal' ? 0 : 1;\n\n    if (val instanceof Array) {\n      val = val[0];\n    }\n\n    pt[idx] = axis.toGlobalCoord(axis.dataToCoord(+val));\n    pt[1 - idx] = idx === 0 ? rect.y + rect.height / 2 : rect.x + rect.width / 2;\n    return pt;\n  }\n};\nvar _default = Single;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar HeatmapLayer = require(\"./HeatmapLayer\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction getIsInPiecewiseRange(dataExtent, pieceList, selected) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  pieceList = zrUtil.map(pieceList, function (piece) {\n    return {\n      interval: [(piece.interval[0] - dataExtent[0]) / dataSpan, (piece.interval[1] - dataExtent[0]) / dataSpan]\n    };\n  });\n  var len = pieceList.length;\n  var lastIndex = 0;\n  return function (val) {\n    // Try to find in the location of the last found\n    for (var i = lastIndex; i < len; i++) {\n      var interval = pieceList[i].interval;\n\n      if (interval[0] <= val && val <= interval[1]) {\n        lastIndex = i;\n        break;\n      }\n    }\n\n    if (i === len) {\n      // Not found, back interation\n      for (var i = lastIndex - 1; i >= 0; i--) {\n        var interval = pieceList[i].interval;\n\n        if (interval[0] <= val && val <= interval[1]) {\n          lastIndex = i;\n          break;\n        }\n      }\n    }\n\n    return i >= 0 && i < len && selected[i];\n  };\n}\n\nfunction getIsInContinuousRange(dataExtent, range) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  range = [(range[0] - dataExtent[0]) / dataSpan, (range[1] - dataExtent[0]) / dataSpan];\n  return function (val) {\n    return val >= range[0] && val <= range[1];\n  };\n}\n\nfunction isGeoCoordSys(coordSys) {\n  var dimensions = coordSys.dimensions; // Not use coorSys.type === 'geo' because coordSys maybe extended\n\n  return dimensions[0] === 'lng' && dimensions[1] === 'lat';\n}\n\nvar _default = echarts.extendChartView({\n  type: 'heatmap',\n  render: function (seriesModel, ecModel, api) {\n    var visualMapOfThisSeries;\n    ecModel.eachComponent('visualMap', function (visualMap) {\n      visualMap.eachTargetSeries(function (targetSeries) {\n        if (targetSeries === seriesModel) {\n          visualMapOfThisSeries = visualMap;\n        }\n      });\n    });\n    this.group.removeAll();\n    this._incrementalDisplayable = null;\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys.type === 'cartesian2d' || coordSys.type === 'calendar') {\n      this._renderOnCartesianAndCalendar(seriesModel, api, 0, seriesModel.getData().count());\n    } else if (isGeoCoordSys(coordSys)) {\n      this._renderOnGeo(coordSys, seriesModel, visualMapOfThisSeries, api);\n    }\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n  },\n  incrementalRender: function (params, seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys) {\n      this._renderOnCartesianAndCalendar(seriesModel, api, params.start, params.end, true);\n    }\n  },\n  _renderOnCartesianAndCalendar: function (seriesModel, api, start, end, incremental) {\n    var coordSys = seriesModel.coordinateSystem;\n    var width;\n    var height;\n\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      width = xAxis.getBandWidth();\n      height = yAxis.getBandWidth();\n    }\n\n    var group = this.group;\n    var data = seriesModel.getData();\n    var itemStyleQuery = 'itemStyle';\n    var hoverItemStyleQuery = 'emphasis.itemStyle';\n    var labelQuery = 'label';\n    var hoverLabelQuery = 'emphasis.label';\n    var style = seriesModel.getModel(itemStyleQuery).getItemStyle(['color']);\n    var hoverStl = seriesModel.getModel(hoverItemStyleQuery).getItemStyle();\n    var labelModel = seriesModel.getModel(labelQuery);\n    var hoverLabelModel = seriesModel.getModel(hoverLabelQuery);\n    var coordSysType = coordSys.type;\n    var dataDims = coordSysType === 'cartesian2d' ? [data.mapDimension('x'), data.mapDimension('y'), data.mapDimension('value')] : [data.mapDimension('time'), data.mapDimension('value')];\n\n    for (var idx = start; idx < end; idx++) {\n      var rect;\n\n      if (coordSysType === 'cartesian2d') {\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[2], idx))) {\n          continue;\n        }\n\n        var point = coordSys.dataToPoint([data.get(dataDims[0], idx), data.get(dataDims[1], idx)]);\n        rect = new graphic.Rect({\n          shape: {\n            x: Math.floor(Math.round(point[0]) - width / 2),\n            y: Math.floor(Math.round(point[1]) - height / 2),\n            width: Math.ceil(width),\n            height: Math.ceil(height)\n          },\n          style: {\n            fill: data.getItemVisual(idx, 'color'),\n            opacity: data.getItemVisual(idx, 'opacity')\n          }\n        });\n      } else {\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[1], idx))) {\n          continue;\n        }\n\n        rect = new graphic.Rect({\n          z2: 1,\n          shape: coordSys.dataToRect([data.get(dataDims[0], idx)]).contentShape,\n          style: {\n            fill: data.getItemVisual(idx, 'color'),\n            opacity: data.getItemVisual(idx, 'opacity')\n          }\n        });\n      }\n\n      var itemModel = data.getItemModel(idx); // Optimization for large datset\n\n      if (data.hasItemOption) {\n        style = itemModel.getModel(itemStyleQuery).getItemStyle(['color']);\n        hoverStl = itemModel.getModel(hoverItemStyleQuery).getItemStyle();\n        labelModel = itemModel.getModel(labelQuery);\n        hoverLabelModel = itemModel.getModel(hoverLabelQuery);\n      }\n\n      var rawValue = seriesModel.getRawValue(idx);\n      var defaultText = '-';\n\n      if (rawValue && rawValue[2] != null) {\n        defaultText = rawValue[2];\n      }\n\n      graphic.setLabelStyle(style, hoverStl, labelModel, hoverLabelModel, {\n        labelFetcher: seriesModel,\n        labelDataIndex: idx,\n        defaultText: defaultText,\n        isRectText: true\n      });\n      rect.setStyle(style);\n      graphic.setHoverStyle(rect, data.hasItemOption ? hoverStl : zrUtil.extend({}, hoverStl));\n      rect.incremental = incremental; // PENDING\n\n      if (incremental) {\n        // Rect must use hover layer if it's incremental.\n        rect.useHoverLayer = true;\n      }\n\n      group.add(rect);\n      data.setItemGraphicEl(idx, rect);\n    }\n  },\n  _renderOnGeo: function (geo, seriesModel, visualMapModel, api) {\n    var inRangeVisuals = visualMapModel.targetVisuals.inRange;\n    var outOfRangeVisuals = visualMapModel.targetVisuals.outOfRange; // if (!visualMapping) {\n    //     throw new Error('Data range must have color visuals');\n    // }\n\n    var data = seriesModel.getData();\n    var hmLayer = this._hmLayer || this._hmLayer || new HeatmapLayer();\n    hmLayer.blurSize = seriesModel.get('blurSize');\n    hmLayer.pointSize = seriesModel.get('pointSize');\n    hmLayer.minOpacity = seriesModel.get('minOpacity');\n    hmLayer.maxOpacity = seriesModel.get('maxOpacity');\n    var rect = geo.getViewRect().clone();\n    var roamTransform = geo.getRoamTransform();\n    rect.applyTransform(roamTransform); // Clamp on viewport\n\n    var x = Math.max(rect.x, 0);\n    var y = Math.max(rect.y, 0);\n    var x2 = Math.min(rect.width + rect.x, api.getWidth());\n    var y2 = Math.min(rect.height + rect.y, api.getHeight());\n    var width = x2 - x;\n    var height = y2 - y;\n    var dims = [data.mapDimension('lng'), data.mapDimension('lat'), data.mapDimension('value')];\n    var points = data.mapArray(dims, function (lng, lat, value) {\n      var pt = geo.dataToPoint([lng, lat]);\n      pt[0] -= x;\n      pt[1] -= y;\n      pt.push(value);\n      return pt;\n    });\n    var dataExtent = visualMapModel.getExtent();\n    var isInRange = visualMapModel.type === 'visualMap.continuous' ? getIsInContinuousRange(dataExtent, visualMapModel.option.range) : getIsInPiecewiseRange(dataExtent, visualMapModel.getPieceList(), visualMapModel.option.selected);\n    hmLayer.update(points, width, height, inRangeVisuals.color.getNormalizer(), {\n      inRange: inRangeVisuals.color.getColorMapper(),\n      outOfRange: outOfRangeVisuals.color.getColorMapper()\n    }, isInRange);\n    var img = new graphic.Image({\n      style: {\n        width: width,\n        height: height,\n        x: x,\n        y: y,\n        image: hmLayer.canvas\n      },\n      silent: true\n    });\n    this.group.add(img);\n  },\n  dispose: function () {}\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar curveTool = require(\"zrender/lib/core/curve\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar _graphHelper = require(\"./graphHelper\");\n\nvar getSymbolSize = _graphHelper.getSymbolSize;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar v1 = [];\nvar v2 = [];\nvar v3 = [];\nvar quadraticAt = curveTool.quadraticAt;\nvar v2DistSquare = vec2.distSquare;\nvar mathAbs = Math.abs;\n\nfunction intersectCurveCircle(curvePoints, center, radius) {\n  var p0 = curvePoints[0];\n  var p1 = curvePoints[1];\n  var p2 = curvePoints[2];\n  var d = Infinity;\n  var t;\n  var radiusSquare = radius * radius;\n  var interval = 0.1;\n\n  for (var _t = 0.1; _t <= 0.9; _t += 0.1) {\n    v1[0] = quadraticAt(p0[0], p1[0], p2[0], _t);\n    v1[1] = quadraticAt(p0[1], p1[1], p2[1], _t);\n    var diff = mathAbs(v2DistSquare(v1, center) - radiusSquare);\n\n    if (diff < d) {\n      d = diff;\n      t = _t;\n    }\n  } // Assume the segment is monotoneFind root through Bisection method\n  // At most 32 iteration\n\n\n  for (var i = 0; i < 32; i++) {\n    // var prev = t - interval;\n    var next = t + interval; // v1[0] = quadraticAt(p0[0], p1[0], p2[0], prev);\n    // v1[1] = quadraticAt(p0[1], p1[1], p2[1], prev);\n\n    v2[0] = quadraticAt(p0[0], p1[0], p2[0], t);\n    v2[1] = quadraticAt(p0[1], p1[1], p2[1], t);\n    v3[0] = quadraticAt(p0[0], p1[0], p2[0], next);\n    v3[1] = quadraticAt(p0[1], p1[1], p2[1], next);\n    var diff = v2DistSquare(v2, center) - radiusSquare;\n\n    if (mathAbs(diff) < 1e-2) {\n      break;\n    } // var prevDiff = v2DistSquare(v1, center) - radiusSquare;\n\n\n    var nextDiff = v2DistSquare(v3, center) - radiusSquare;\n    interval /= 2;\n\n    if (diff < 0) {\n      if (nextDiff >= 0) {\n        t = t + interval;\n      } else {\n        t = t - interval;\n      }\n    } else {\n      if (nextDiff >= 0) {\n        t = t - interval;\n      } else {\n        t = t + interval;\n      }\n    }\n  }\n\n  return t;\n} // Adjust edge to avoid\n\n\nfunction _default(graph, scale) {\n  var tmp0 = [];\n  var quadraticSubdivide = curveTool.quadraticSubdivide;\n  var pts = [[], [], []];\n  var pts2 = [[], []];\n  var v = [];\n  scale /= 2;\n  graph.eachEdge(function (edge, idx) {\n    var linePoints = edge.getLayout();\n    var fromSymbol = edge.getVisual('fromSymbol');\n    var toSymbol = edge.getVisual('toSymbol');\n\n    if (!linePoints.__original) {\n      linePoints.__original = [vec2.clone(linePoints[0]), vec2.clone(linePoints[1])];\n\n      if (linePoints[2]) {\n        linePoints.__original.push(vec2.clone(linePoints[2]));\n      }\n    }\n\n    var originalPoints = linePoints.__original; // Quadratic curve\n\n    if (linePoints[2] != null) {\n      vec2.copy(pts[0], originalPoints[0]);\n      vec2.copy(pts[1], originalPoints[2]);\n      vec2.copy(pts[2], originalPoints[1]);\n\n      if (fromSymbol && fromSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        var t = intersectCurveCircle(pts, originalPoints[0], symbolSize * scale); // Subdivide and get the second\n\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[0][0] = tmp0[3];\n        pts[1][0] = tmp0[4];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[0][1] = tmp0[3];\n        pts[1][1] = tmp0[4];\n      }\n\n      if (toSymbol && toSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        var t = intersectCurveCircle(pts, originalPoints[1], symbolSize * scale); // Subdivide and get the first\n\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[1][0] = tmp0[1];\n        pts[2][0] = tmp0[2];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[1][1] = tmp0[1];\n        pts[2][1] = tmp0[2];\n      } // Copy back to layout\n\n\n      vec2.copy(linePoints[0], pts[0]);\n      vec2.copy(linePoints[1], pts[2]);\n      vec2.copy(linePoints[2], pts[1]);\n    } // Line\n    else {\n        vec2.copy(pts2[0], originalPoints[0]);\n        vec2.copy(pts2[1], originalPoints[1]);\n        vec2.sub(v, pts2[1], pts2[0]);\n        vec2.normalize(v, v);\n\n        if (fromSymbol && fromSymbol !== 'none') {\n          var symbolSize = getSymbolSize(edge.node1);\n          vec2.scaleAndAdd(pts2[0], pts2[0], v, symbolSize * scale);\n        }\n\n        if (toSymbol && toSymbol !== 'none') {\n          var symbolSize = getSymbolSize(edge.node2);\n          vec2.scaleAndAdd(pts2[1], pts2[1], v, -symbolSize * scale);\n        }\n\n        vec2.copy(linePoints[0], pts2[0]);\n        vec2.copy(linePoints[1], pts2[1]);\n      }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisPointerModel = echarts.extendComponentModel({\n  type: 'axisPointer',\n  coordSysAxesInfo: null,\n  defaultOption: {\n    // 'auto' means that show when triggered by tooltip or handle.\n    show: 'auto',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: null,\n    // set default in AxisPonterView.js\n    zlevel: 0,\n    z: 50,\n    type: 'line',\n    // 'line' 'shadow' 'cross' 'none'.\n    // axispointer triggered by tootip determine snap automatically,\n    // see `modelHelper`.\n    snap: false,\n    triggerTooltip: true,\n    value: null,\n    status: null,\n    // Init value depends on whether handle is used.\n    // [group0, group1, ...]\n    // Each group can be: {\n    //      mapper: function () {},\n    //      singleTooltip: 'multiple',  // 'multiple' or 'single'\n    //      xAxisId: ...,\n    //      yAxisName: ...,\n    //      angleAxisIndex: ...\n    // }\n    // mapper: can be ignored.\n    //      input: {axisInfo, value}\n    //      output: {axisInfo, value}\n    link: [],\n    // Do not set 'auto' here, otherwise global animation: false\n    // will not effect at this axispointer.\n    animation: null,\n    animationDurationUpdate: 200,\n    lineStyle: {\n      color: '#aaa',\n      width: 1,\n      type: 'solid'\n    },\n    shadowStyle: {\n      color: 'rgba(150,150,150,0.3)'\n    },\n    label: {\n      show: true,\n      formatter: null,\n      // string | Function\n      precision: 'auto',\n      // Or a number like 0, 1, 2 ...\n      margin: 3,\n      color: '#fff',\n      padding: [5, 7, 5, 7],\n      backgroundColor: 'auto',\n      // default: axis line color\n      borderColor: null,\n      borderWidth: 0,\n      shadowBlur: 3,\n      shadowColor: '#aaa' // Considering applicability, common style should\n      // better not have shadowOffset.\n      // shadowOffsetX: 0,\n      // shadowOffsetY: 2\n\n    },\n    handle: {\n      show: false,\n\n      /* eslint-disable */\n      icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n      // jshint ignore:line\n\n      /* eslint-enable */\n      size: 45,\n      // handle margin is from symbol center to axis, which is stable when circular move.\n      margin: 50,\n      // color: '#1b8bbd'\n      // color: '#2f4554'\n      color: '#333',\n      shadowBlur: 3,\n      shadowColor: '#aaa',\n      shadowOffsetX: 0,\n      shadowOffsetY: 2,\n      // For mobile performance\n      throttle: 40\n    }\n  }\n});\nvar _default = AxisPointerModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisModel = ComponentModel.extend({\n  type: 'cartesian2dAxis',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Axis2D}\n   */\n  axis: null,\n\n  /**\n   * @override\n   */\n  init: function () {\n    AxisModel.superApply(this, 'init', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function () {\n    AxisModel.superApply(this, 'mergeOption', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  restoreData: function () {\n    AxisModel.superApply(this, 'restoreData', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   * @return {module:echarts/model/Component}\n   */\n  getCoordSysModel: function () {\n    return this.ecModel.queryComponents({\n      mainType: 'grid',\n      index: this.option.gridIndex,\n      id: this.option.gridId\n    })[0];\n  }\n});\n\nfunction getAxisType(axisDim, option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}\n\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\nvar extraOption = {\n  // gridIndex: 0,\n  // gridId: '',\n  // Offset is for multiple axis on the same position\n  offset: 0\n};\naxisModelCreator('x', AxisModel, getAxisType, extraOption);\naxisModelCreator('y', AxisModel, getAxisType, extraOption);\nvar _default = AxisModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _roamHelper = require(\"./roamHelper\");\n\nvar updateCenterAndZoom = _roamHelper.updateCenterAndZoom;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @payload\n * @property {string} [componentType=series]\n * @property {number} [dx]\n * @property {number} [dy]\n * @property {number} [zoom]\n * @property {number} [originX]\n * @property {number} [originY]\n */\necharts.registerAction({\n  type: 'geoRoam',\n  event: 'geoRoam',\n  update: 'updateTransform'\n}, function (payload, ecModel) {\n  var componentType = payload.componentType || 'series';\n  ecModel.eachComponent({\n    mainType: componentType,\n    query: payload\n  }, function (componentModel) {\n    var geo = componentModel.coordinateSystem;\n\n    if (geo.type !== 'geo') {\n      return;\n    }\n\n    var res = updateCenterAndZoom(geo, payload, componentModel.get('scaleLimit'));\n    componentModel.setCenter && componentModel.setCenter(res.center);\n    componentModel.setZoom && componentModel.setZoom(res.zoom); // All map series with same `map` use the same geo coordinate system\n    // So the center and zoom must be in sync. Include the series not selected by legend\n\n    if (componentType === 'series') {\n      zrUtil.each(componentModel.seriesGroup, function (seriesModel) {\n        seriesModel.setCenter(res.center);\n        seriesModel.setZoom(res.zoom);\n      });\n    }\n  });\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Eventful = require(\"zrender/lib/mixin/Eventful\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar interactionMutex = require(\"./interactionMutex\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @alias module:echarts/component/helper/RoamController\n * @constructor\n * @mixin {module:zrender/mixin/Eventful}\n *\n * @param {module:zrender/zrender~ZRender} zr\n */\nfunction RoamController(zr) {\n  /**\n   * @type {Function}\n   */\n  this.pointerChecker;\n  /**\n   * @type {module:zrender}\n   */\n\n  this._zr = zr;\n  /**\n   * @type {Object}\n   */\n\n  this._opt = {}; // Avoid two roamController bind the same handler\n\n  var bind = zrUtil.bind;\n  var mousedownHandler = bind(mousedown, this);\n  var mousemoveHandler = bind(mousemove, this);\n  var mouseupHandler = bind(mouseup, this);\n  var mousewheelHandler = bind(mousewheel, this);\n  var pinchHandler = bind(pinch, this);\n  Eventful.call(this);\n  /**\n   * @param {Function} pointerChecker\n   *                   input: x, y\n   *                   output: boolean\n   */\n\n  this.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n  /**\n   * Notice: only enable needed types. For example, if 'zoom'\n   * is not needed, 'zoom' should not be enabled, otherwise\n   * default mousewheel behaviour (scroll page) will be disabled.\n   *\n   * @param  {boolean|string} [controlType=true] Specify the control type,\n   *                          which can be null/undefined or true/false\n   *                          or 'pan/move' or 'zoom'/'scale'\n   * @param {Object} [opt]\n   * @param {Object} [opt.zoomOnMouseWheel=true] The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\n   * @param {Object} [opt.moveOnMouseMove=true] The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\n   * @param {Object} [opt.moveOnMouseWheel=false] The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\n   * @param {Object} [opt.preventDefaultMouseMove=true] When pan.\n   */\n\n\n  this.enable = function (controlType, opt) {\n    // Disable previous first\n    this.disable();\n    this._opt = zrUtil.defaults(zrUtil.clone(opt) || {}, {\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      // By default, wheel do not trigger move.\n      moveOnMouseWheel: false,\n      preventDefaultMouseMove: true\n    });\n\n    if (controlType == null) {\n      controlType = true;\n    }\n\n    if (controlType === true || controlType === 'move' || controlType === 'pan') {\n      zr.on('mousedown', mousedownHandler);\n      zr.on('mousemove', mousemoveHandler);\n      zr.on('mouseup', mouseupHandler);\n    }\n\n    if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n      zr.on('mousewheel', mousewheelHandler);\n      zr.on('pinch', pinchHandler);\n    }\n  };\n\n  this.disable = function () {\n    zr.off('mousedown', mousedownHandler);\n    zr.off('mousemove', mousemoveHandler);\n    zr.off('mouseup', mouseupHandler);\n    zr.off('mousewheel', mousewheelHandler);\n    zr.off('pinch', pinchHandler);\n  };\n\n  this.dispose = this.disable;\n\n  this.isDragging = function () {\n    return this._dragging;\n  };\n\n  this.isPinching = function () {\n    return this._pinching;\n  };\n}\n\nzrUtil.mixin(RoamController, Eventful);\n\nfunction mousedown(e) {\n  if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e) || e.target && e.target.draggable) {\n    return;\n  }\n\n  var x = e.offsetX;\n  var y = e.offsetY; // Only check on mosedown, but not mousemove.\n  // Mouse can be out of target when mouse moving.\n\n  if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n    this._x = x;\n    this._y = y;\n    this._dragging = true;\n  }\n}\n\nfunction mousemove(e) {\n  if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt) || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n    return;\n  }\n\n  var x = e.offsetX;\n  var y = e.offsetY;\n  var oldX = this._x;\n  var oldY = this._y;\n  var dx = x - oldX;\n  var dy = y - oldY;\n  this._x = x;\n  this._y = y;\n  this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n  trigger(this, 'pan', 'moveOnMouseMove', e, {\n    dx: dx,\n    dy: dy,\n    oldX: oldX,\n    oldY: oldY,\n    newX: x,\n    newY: y\n  });\n}\n\nfunction mouseup(e) {\n  if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n    this._dragging = false;\n  }\n}\n\nfunction mousewheel(e) {\n  var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\n  var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\n  var wheelDelta = e.wheelDelta;\n  var absWheelDeltaDelta = Math.abs(wheelDelta);\n  var originX = e.offsetX;\n  var originY = e.offsetY; // wheelDelta maybe -0 in chrome mac.\n\n  if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\n    return;\n  } // If both `shouldZoom` and `shouldMove` is true, trigger\n  // their event both, and the final behavior is determined\n  // by event listener themselves.\n\n\n  if (shouldZoom) {\n    // Convenience:\n    // Mac and VM Windows on Mac: scroll up: zoom out.\n    // Windows: scroll up: zoom in.\n    // FIXME: Should do more test in different environment.\n    // wheelDelta is too complicated in difference nvironment\n    // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\n    // although it has been normallized by zrender.\n    // wheelDelta of mouse wheel is bigger than touch pad.\n    var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\n    var scale = wheelDelta > 0 ? factor : 1 / factor;\n    checkPointerAndTrigger(this, 'zoom', 'zoomOnMouseWheel', e, {\n      scale: scale,\n      originX: originX,\n      originY: originY\n    });\n  }\n\n  if (shouldMove) {\n    // FIXME: Should do more test in different environment.\n    var absDelta = Math.abs(wheelDelta); // wheelDelta of mouse wheel is bigger than touch pad.\n\n    var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\n    checkPointerAndTrigger(this, 'scrollMove', 'moveOnMouseWheel', e, {\n      scrollDelta: scrollDelta,\n      originX: originX,\n      originY: originY\n    });\n  }\n}\n\nfunction pinch(e) {\n  if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n    return;\n  }\n\n  var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n  checkPointerAndTrigger(this, 'zoom', null, e, {\n    scale: scale,\n    originX: e.pinchX,\n    originY: e.pinchY\n  });\n}\n\nfunction checkPointerAndTrigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  if (controller.pointerChecker && controller.pointerChecker(e, contollerEvent.originX, contollerEvent.originY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\n  }\n}\n\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  // Also provide behavior checker for event listener, for some case that\n  // multiple components share one listener.\n  contollerEvent.isAvailableBehavior = zrUtil.bind(isAvailableBehavior, null, behaviorToCheck, e);\n  controller.trigger(eventName, contollerEvent);\n} // settings: {\n//     zoomOnMouseWheel\n//     moveOnMouseMove\n//     moveOnMouseWheel\n// }\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\n\n\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\n  var setting = settings[behaviorToCheck];\n  return !behaviorToCheck || setting && (!zrUtil.isString(setting) || e.event[setting + 'Key']);\n}\n\nvar _default = RoamController;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseAxisPointer = require(\"./BaseAxisPointer\");\n\nvar viewHelper = require(\"./viewHelper\");\n\nvar cartesianAxisHelper = require(\"../../coord/cartesian/cartesianAxisHelper\");\n\nvar AxisView = require(\"../axis/AxisView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar CartesianAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisPointerType = axisPointerModel.get('type');\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var layoutInfo = cartesianAxisHelper.layout(grid.model, axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  },\n\n  /**\n   * @override\n   */\n  getHandleTransform: function (value, axisModel, axisPointerModel) {\n    var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.model, axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n    return {\n      position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  },\n\n  /**\n   * @override\n   */\n  updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisExtent = axis.getGlobalExtent(true);\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var dimIndex = axis.dim === 'x' ? 0 : 1;\n    var currPosition = transform.position;\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex]; // Make tooltip do not overlap axisPointer and in the middle of the grid.\n\n    var tooltipOptions = [{\n      verticalAlign: 'middle'\n    }, {\n      align: 'center'\n    }];\n    return {\n      position: currPosition,\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: tooltipOptions[dimIndex]\n    };\n  }\n});\n\nfunction getCartesian(grid, axis) {\n  var opt = {};\n  opt[axis.dim + 'AxisIndex'] = axis.index;\n  return grid.getCartesian(opt);\n}\n\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n    };\n  }\n};\n\nfunction getAxisDimIndex(axis) {\n  return axis.dim === 'x' ? 0 : 1;\n}\n\nAxisView.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\nvar _default = CartesianAxisPointer;\nmodule.exports = _default;","var _core = require(\"../core\");\n\nvar createElement = _core.createElement;\n\nvar zrUtil = require(\"../../core/util\");\n\nvar Path = require(\"../../graphic/Path\");\n\nvar ZImage = require(\"../../graphic/Image\");\n\nvar ZText = require(\"../../graphic/Text\");\n\nvar _graphic = require(\"../graphic\");\n\nvar svgPath = _graphic.path;\nvar svgImage = _graphic.image;\nvar svgText = _graphic.text;\n\n/**\n * @file Manages elements that can be defined in <defs> in SVG,\n *       e.g., gradients, clip path, etc.\n * @author Zhang Wenli\n */\nvar MARK_UNUSED = '0';\nvar MARK_USED = '1';\n/**\n * Manages elements that can be defined in <defs> in SVG,\n * e.g., gradients, clip path, etc.\n *\n * @class\n * @param {number}          zrId      zrender instance id\n * @param {SVGElement}      svgRoot   root of SVG document\n * @param {string|string[]} tagNames  possible tag names\n * @param {string}          markLabel label name to make if the element\n *                                    is used\n */\n\nfunction Definable(zrId, svgRoot, tagNames, markLabel, domName) {\n  this._zrId = zrId;\n  this._svgRoot = svgRoot;\n  this._tagNames = typeof tagNames === 'string' ? [tagNames] : tagNames;\n  this._markLabel = markLabel;\n  this._domName = domName || '_dom';\n  this.nextId = 0;\n}\n\nDefinable.prototype.createElement = createElement;\n/**\n * Get the <defs> tag for svgRoot; optionally creates one if not exists.\n *\n * @param {boolean} isForceCreating if need to create when not exists\n * @return {SVGDefsElement} SVG <defs> element, null if it doesn't\n * exist and isForceCreating is false\n */\n\nDefinable.prototype.getDefs = function (isForceCreating) {\n  var svgRoot = this._svgRoot;\n\n  var defs = this._svgRoot.getElementsByTagName('defs');\n\n  if (defs.length === 0) {\n    // Not exist\n    if (isForceCreating) {\n      defs = svgRoot.insertBefore(this.createElement('defs'), // Create new tag\n      svgRoot.firstChild // Insert in the front of svg\n      );\n\n      if (!defs.contains) {\n        // IE doesn't support contains method\n        defs.contains = function (el) {\n          var children = defs.children;\n\n          if (!children) {\n            return false;\n          }\n\n          for (var i = children.length - 1; i >= 0; --i) {\n            if (children[i] === el) {\n              return true;\n            }\n          }\n\n          return false;\n        };\n      }\n\n      return defs;\n    } else {\n      return null;\n    }\n  } else {\n    return defs[0];\n  }\n};\n/**\n * Update DOM element if necessary.\n *\n * @param {Object|string} element style element. e.g., for gradient,\n *                                it may be '#ccc' or {type: 'linear', ...}\n * @param {Function|undefined} onUpdate update callback\n */\n\n\nDefinable.prototype.update = function (element, onUpdate) {\n  if (!element) {\n    return;\n  }\n\n  var defs = this.getDefs(false);\n\n  if (element[this._domName] && defs.contains(element[this._domName])) {\n    // Update DOM\n    if (typeof onUpdate === 'function') {\n      onUpdate(element);\n    }\n  } else {\n    // No previous dom, create new\n    var dom = this.add(element);\n\n    if (dom) {\n      element[this._domName] = dom;\n    }\n  }\n};\n/**\n * Add gradient dom to defs\n *\n * @param {SVGElement} dom DOM to be added to <defs>\n */\n\n\nDefinable.prototype.addDom = function (dom) {\n  var defs = this.getDefs(true);\n  defs.appendChild(dom);\n};\n/**\n * Remove DOM of a given element.\n *\n * @param {SVGElement} element element to remove dom\n */\n\n\nDefinable.prototype.removeDom = function (element) {\n  var defs = this.getDefs(false);\n\n  if (defs && element[this._domName]) {\n    defs.removeChild(element[this._domName]);\n    element[this._domName] = null;\n  }\n};\n/**\n * Get DOMs of this element.\n *\n * @return {HTMLDomElement} doms of this defineable elements in <defs>\n */\n\n\nDefinable.prototype.getDoms = function () {\n  var defs = this.getDefs(false);\n\n  if (!defs) {\n    // No dom when defs is not defined\n    return [];\n  }\n\n  var doms = [];\n  zrUtil.each(this._tagNames, function (tagName) {\n    var tags = defs.getElementsByTagName(tagName); // Note that tags is HTMLCollection, which is array-like\n    // rather than real array.\n    // So `doms.concat(tags)` add tags as one object.\n\n    doms = doms.concat([].slice.call(tags));\n  });\n  return doms;\n};\n/**\n * Mark DOMs to be unused before painting, and clear unused ones at the end\n * of the painting.\n */\n\n\nDefinable.prototype.markAllUnused = function () {\n  var doms = this.getDoms();\n  var that = this;\n  zrUtil.each(doms, function (dom) {\n    dom[that._markLabel] = MARK_UNUSED;\n  });\n};\n/**\n * Mark a single DOM to be used.\n *\n * @param {SVGElement} dom DOM to mark\n */\n\n\nDefinable.prototype.markUsed = function (dom) {\n  if (dom) {\n    dom[this._markLabel] = MARK_USED;\n  }\n};\n/**\n * Remove unused DOMs defined in <defs>\n */\n\n\nDefinable.prototype.removeUnused = function () {\n  var defs = this.getDefs(false);\n\n  if (!defs) {\n    // Nothing to remove\n    return;\n  }\n\n  var doms = this.getDoms();\n  var that = this;\n  zrUtil.each(doms, function (dom) {\n    if (dom[that._markLabel] !== MARK_USED) {\n      // Remove gradient\n      defs.removeChild(dom);\n    }\n  });\n};\n/**\n * Get SVG proxy.\n *\n * @param {Displayable} displayable displayable element\n * @return {Path|Image|Text} svg proxy of given element\n */\n\n\nDefinable.prototype.getSvgProxy = function (displayable) {\n  if (displayable instanceof Path) {\n    return svgPath;\n  } else if (displayable instanceof ZImage) {\n    return svgImage;\n  } else if (displayable instanceof ZText) {\n    return svgText;\n  } else {\n    return svgPath;\n  }\n};\n/**\n * Get text SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element of text\n */\n\n\nDefinable.prototype.getTextSvgElement = function (displayable) {\n  return displayable.__textSvgEl;\n};\n/**\n * Get SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element\n */\n\n\nDefinable.prototype.getSvgElement = function (displayable) {\n  return displayable.__svgEl;\n};\n\nvar _default = Definable;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DataZoomView = require(\"./DataZoomView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = DataZoomView.extend({\n  type: 'dataZoom.select'\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\n\nvar parseGeoJson = require(\"./parseGeoJson\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar fixNanhai = require(\"./fix/nanhai\");\n\nvar fixTextCoord = require(\"./fix/textCoord\");\n\nvar fixGeoCoord = require(\"./fix/geoCoord\");\n\nvar fixDiaoyuIsland = require(\"./fix/diaoyuIsland\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Built-in GEO fixer.\nvar inner = makeInner();\nvar _default = {\n  /**\n   * @param {string} mapName\n   * @param {Object} mapRecord {specialAreas, geoJSON}\n   * @param {string} nameProperty\n   * @return {Object} {regions, boundingRect}\n   */\n  load: function (mapName, mapRecord, nameProperty) {\n    var parsed = inner(mapRecord).parsed;\n\n    if (parsed) {\n      return parsed;\n    }\n\n    var specialAreas = mapRecord.specialAreas || {};\n    var geoJSON = mapRecord.geoJSON;\n    var regions; // https://jsperf.com/try-catch-performance-overhead\n\n    try {\n      regions = geoJSON ? parseGeoJson(geoJSON, nameProperty) : [];\n    } catch (e) {\n      throw new Error('Invalid geoJson format\\n' + e.message);\n    }\n\n    fixNanhai(mapName, regions);\n    each(regions, function (region) {\n      var regionName = region.name;\n      fixTextCoord(mapName, region);\n      fixGeoCoord(mapName, region);\n      fixDiaoyuIsland(mapName, region); // Some area like Alaska in USA map needs to be tansformed\n      // to look better\n\n      var specialArea = specialAreas[regionName];\n\n      if (specialArea) {\n        region.transformTo(specialArea.left, specialArea.top, specialArea.width, specialArea.height);\n      }\n    });\n    return inner(mapRecord).parsed = {\n      regions: regions,\n      boundingRect: getBoundingRect(regions)\n    };\n  }\n};\n\nfunction getBoundingRect(regions) {\n  var rect;\n\n  for (var i = 0; i < regions.length; i++) {\n    var regionRect = regions[i].getBoundingRect();\n    rect = rect || regionRect.clone();\n    rect.union(regionRect);\n  }\n\n  return rect;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createRenderPlanner = require(\"../helper/createRenderPlanner\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar positiveBorderColorQuery = ['itemStyle', 'borderColor'];\nvar negativeBorderColorQuery = ['itemStyle', 'borderColor0'];\nvar positiveColorQuery = ['itemStyle', 'color'];\nvar negativeColorQuery = ['itemStyle', 'color0'];\nvar _default = {\n  seriesType: 'candlestick',\n  plan: createRenderPlanner(),\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    data.setVisual({\n      legendSymbol: 'roundRect',\n      colorP: getColor(1, seriesModel),\n      colorN: getColor(-1, seriesModel),\n      borderColorP: getBorderColor(1, seriesModel),\n      borderColorN: getBorderColor(-1, seriesModel)\n    }); // Only visible series has each data be visual encoded\n\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    var isLargeRender = seriesModel.pipelineContext.large;\n    return !isLargeRender && {\n      progress: progress\n    };\n\n    function progress(params, data) {\n      var dataIndex;\n\n      while ((dataIndex = params.next()) != null) {\n        var itemModel = data.getItemModel(dataIndex);\n        var sign = data.getItemLayout(dataIndex).sign;\n        data.setItemVisual(dataIndex, {\n          color: getColor(sign, itemModel),\n          borderColor: getBorderColor(sign, itemModel)\n        });\n      }\n    }\n\n    function getColor(sign, model) {\n      return model.get(sign > 0 ? positiveColorQuery : negativeColorQuery);\n    }\n\n    function getBorderColor(sign, model) {\n      return model.get(sign > 0 ? positiveBorderColorQuery : negativeBorderColorQuery);\n    }\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ChartView = require(\"../../view/Chart\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\nfunction FunnelPiece(data, idx) {\n  graphic.Group.call(this);\n  var polygon = new graphic.Polygon();\n  var labelLine = new graphic.Polyline();\n  var text = new graphic.Text();\n  this.add(polygon);\n  this.add(labelLine);\n  this.add(text);\n\n  this.highDownOnUpdate = function (fromState, toState) {\n    if (toState === 'emphasis') {\n      labelLine.ignore = labelLine.hoverIgnore;\n      text.ignore = text.hoverIgnore;\n    } else {\n      labelLine.ignore = labelLine.normalIgnore;\n      text.ignore = text.normalIgnore;\n    }\n  };\n\n  this.updateData(data, idx, true);\n}\n\nvar funnelPieceProto = FunnelPiece.prototype;\nvar opacityAccessPath = ['itemStyle', 'opacity'];\n\nfunnelPieceProto.updateData = function (data, idx, firstCreate) {\n  var polygon = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var opacity = data.getItemModel(idx).get(opacityAccessPath);\n  opacity = opacity == null ? 1 : opacity; // Reset style\n\n  polygon.useStyle({});\n\n  if (firstCreate) {\n    polygon.setShape({\n      points: layout.points\n    });\n    polygon.setStyle({\n      opacity: 0\n    });\n    graphic.initProps(polygon, {\n      style: {\n        opacity: opacity\n      }\n    }, seriesModel, idx);\n  } else {\n    graphic.updateProps(polygon, {\n      style: {\n        opacity: opacity\n      },\n      shape: {\n        points: layout.points\n      }\n    }, seriesModel, idx);\n  } // Update common style\n\n\n  var itemStyleModel = itemModel.getModel('itemStyle');\n  var visualColor = data.getItemVisual(idx, 'color');\n  polygon.setStyle(zrUtil.defaults({\n    lineJoin: 'round',\n    fill: visualColor\n  }, itemStyleModel.getItemStyle(['opacity'])));\n  polygon.hoverStyle = itemStyleModel.getModel('emphasis').getItemStyle();\n\n  this._updateLabel(data, idx);\n\n  graphic.setHoverStyle(this);\n};\n\nfunnelPieceProto._updateLabel = function (data, idx) {\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var labelLayout = layout.label;\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.updateProps(labelLine, {\n    shape: {\n      points: labelLayout.linePoints || labelLayout.linePoints\n    }\n  }, seriesModel, idx);\n  graphic.updateProps(labelText, {\n    style: {\n      x: labelLayout.x,\n      y: labelLayout.y\n    }\n  }, seriesModel, idx);\n  labelText.attr({\n    rotation: labelLayout.rotation,\n    origin: [labelLayout.x, labelLayout.y],\n    z2: 10\n  });\n  var labelModel = itemModel.getModel('label');\n  var labelHoverModel = itemModel.getModel('emphasis.label');\n  var labelLineModel = itemModel.getModel('labelLine');\n  var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n    labelFetcher: data.hostModel,\n    labelDataIndex: idx,\n    defaultText: data.getName(idx),\n    autoColor: visualColor,\n    useInsideStyle: !!labelLayout.inside\n  }, {\n    textAlign: labelLayout.textAlign,\n    textVerticalAlign: labelLayout.verticalAlign\n  });\n  labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n  labelText.hoverIgnore = !labelHoverModel.get('show');\n  labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n  labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n  labelLine.setStyle({\n    stroke: visualColor\n  });\n  labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n  labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n};\n\nzrUtil.inherits(FunnelPiece, graphic.Group);\nvar FunnelView = ChartView.extend({\n  type: 'funnel',\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    data.diff(oldData).add(function (idx) {\n      var funnelPiece = new FunnelPiece(data, idx);\n      data.setItemGraphicEl(idx, funnelPiece);\n      group.add(funnelPiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx);\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      group.remove(piePiece);\n    }).execute();\n    this._data = data;\n  },\n  remove: function () {\n    this.group.removeAll();\n    this._data = null;\n  },\n  dispose: function () {}\n});\nvar _default = FunnelView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar GaugeSeries = SeriesModel.extend({\n  type: 'series.gauge',\n  getInitialData: function (option, ecModel) {\n    return createListSimply(this, ['value']);\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    // \n    center: ['50%', '50%'],\n    legendHoverLink: true,\n    radius: '75%',\n    startAngle: 225,\n    endAngle: -45,\n    clockwise: true,\n    // \n    min: 0,\n    // \n    max: 100,\n    // 10\n    splitNumber: 10,\n    // \n    axisLine: {\n      // show\n      show: true,\n      lineStyle: {\n        // lineStyle\n        color: [[0.2, '#91c7ae'], [0.8, '#63869e'], [1, '#c23531']],\n        width: 30\n      }\n    },\n    // \n    splitLine: {\n      // show\n      show: true,\n      // length\n      length: 30,\n      // lineStylelineStyle\n      lineStyle: {\n        color: '#eee',\n        width: 2,\n        type: 'solid'\n      }\n    },\n    // \n    axisTick: {\n      // show\n      show: true,\n      // split\n      splitNumber: 5,\n      // length\n      length: 8,\n      // lineStyle\n      lineStyle: {\n        color: '#eee',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    axisLabel: {\n      show: true,\n      distance: 5,\n      // formatter: null,\n      color: 'auto'\n    },\n    pointer: {\n      show: true,\n      length: '80%',\n      width: 8\n    },\n    itemStyle: {\n      color: 'auto'\n    },\n    title: {\n      show: true,\n      // x, ypx\n      offsetCenter: [0, '-40%'],\n      // TEXTSTYLE\n      color: '#333',\n      fontSize: 15\n    },\n    detail: {\n      show: true,\n      backgroundColor: 'rgba(0,0,0,0)',\n      borderWidth: 0,\n      borderColor: '#ccc',\n      width: 100,\n      height: null,\n      // self-adaption\n      padding: [5, 10],\n      // x, ypx\n      offsetCenter: [0, '40%'],\n      // formatter: null,\n      // TEXTSTYLE\n      color: 'auto',\n      fontSize: 30\n    }\n  }\n});\nvar _default = GaugeSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\nvar addCommas = _format.addCommas;\n\nvar dataSelectableMixin = require(\"../../component/helper/selectableMixin\");\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawAttr = _dataProvider.retrieveRawAttr;\n\nvar geoSourceManager = require(\"../../coord/geo/geoSourceManager\");\n\nvar _sourceHelper = require(\"../../data/helper/sourceHelper\");\n\nvar makeSeriesEncodeForNameBased = _sourceHelper.makeSeriesEncodeForNameBased;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar MapSeries = SeriesModel.extend({\n  type: 'series.map',\n  dependencies: ['geo'],\n  layoutMode: 'box',\n\n  /**\n   * Only first map series of same mapType will drawMap\n   * @type {boolean}\n   */\n  needsDrawMap: false,\n\n  /**\n   * Group of all map series with same mapType\n   * @type {boolean}\n   */\n  seriesGroup: [],\n  getInitialData: function (option) {\n    var data = createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n    var valueDim = data.mapDimension('value');\n    var dataNameMap = zrUtil.createHashMap();\n    var selectTargetList = [];\n    var toAppendNames = [];\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      var name = data.getName(i);\n      dataNameMap.set(name, true);\n      selectTargetList.push({\n        name: name,\n        value: data.get(valueDim, i),\n        selected: retrieveRawAttr(data, i, 'selected')\n      });\n    }\n\n    var geoSource = geoSourceManager.load(this.getMapType(), this.option.nameMap, this.option.nameProperty);\n    zrUtil.each(geoSource.regions, function (region) {\n      var name = region.name;\n\n      if (!dataNameMap.get(name)) {\n        selectTargetList.push({\n          name: name\n        });\n        toAppendNames.push(name);\n      }\n    });\n    this.updateSelectedMap(selectTargetList); // Complete data with missing regions. The consequent processes (like visual\n    // map and render) can not be performed without a \"full data\". For example,\n    // find `dataIndex` by name.\n\n    data.appendValues([], toAppendNames);\n    return data;\n  },\n\n  /**\n   * If no host geo model, return null, which means using a\n   * inner exclusive geo model.\n   */\n  getHostGeoModel: function () {\n    var geoIndex = this.option.geoIndex;\n    return geoIndex != null ? this.dependentModels.geo[geoIndex] : null;\n  },\n  getMapType: function () {\n    return (this.getHostGeoModel() || this).option.map;\n  },\n  // _fillOption: function (option, mapName) {\n  // Shallow clone\n  // option = zrUtil.extend({}, option);\n  // option.data = geoCreator.getFilledRegions(option.data, mapName, option.nameMap);\n  // return option;\n  // },\n  getRawValue: function (dataIndex) {\n    // Use value stored in data instead because it is calculated from multiple series\n    // FIXME Provide all value of multiple series ?\n    var data = this.getData();\n    return data.get(data.mapDimension('value'), dataIndex);\n  },\n\n  /**\n   * Get model of region\n   * @param  {string} name\n   * @return {module:echarts/model/Model}\n   */\n  getRegionModel: function (regionName) {\n    var data = this.getData();\n    return data.getItemModel(data.indexOfName(regionName));\n  },\n\n  /**\n   * Map tooltip formatter\n   *\n   * @param {number} dataIndex\n   */\n  formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n    // FIXME orignalData and data is a bit confusing\n    var data = this.getData();\n    var formattedValue = addCommas(this.getRawValue(dataIndex));\n    var name = data.getName(dataIndex);\n    var seriesGroup = this.seriesGroup;\n    var seriesNames = [];\n\n    for (var i = 0; i < seriesGroup.length; i++) {\n      var otherIndex = seriesGroup[i].originalData.indexOfName(name);\n      var valueDim = data.mapDimension('value');\n\n      if (!isNaN(seriesGroup[i].originalData.get(valueDim, otherIndex))) {\n        seriesNames.push(encodeHTML(seriesGroup[i].name));\n      }\n    }\n\n    var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n    return seriesNames.join(', ') + newLine + encodeHTML(name + ' : ' + formattedValue);\n  },\n\n  /**\n   * @implement\n   */\n  getTooltipPosition: function (dataIndex) {\n    if (dataIndex != null) {\n      var name = this.getData().getName(dataIndex);\n      var geo = this.coordinateSystem;\n      var region = geo.getRegion(name);\n      return region && geo.dataToPoint(region.center);\n    }\n  },\n  setZoom: function (zoom) {\n    this.option.zoom = zoom;\n  },\n  setCenter: function (center) {\n    this.option.center = center;\n  },\n  defaultOption: {\n    // \n    zlevel: 0,\n    // \n    z: 2,\n    coordinateSystem: 'geo',\n    // map should be explicitly specified since ec3.\n    map: '',\n    // If `geoIndex` is not specified, a exclusive geo will be\n    // created. Otherwise use the specified geo component, and\n    // `map` and `mapType` are ignored.\n    // geoIndex: 0,\n    // 'center' | 'left' | 'right' | 'x%' | {number}\n    left: 'center',\n    // 'center' | 'top' | 'bottom' | 'x%' | {number}\n    top: 'center',\n    // right\n    // bottom\n    // width:\n    // height\n    // Aspect is width / height. Inited to be geoJson bbox aspect\n    // This parameter is used for scale this aspect\n    aspectScale: 0.75,\n    ///// Layout with center and size\n    // If you wan't to put map in a fixed size box with right aspect ratio\n    // This two properties may more conveninet\n    // layoutCenter: [50%, 50%]\n    // layoutSize: 100\n    // \n    // 'sum' | 'average' | 'max' | 'min'\n    // mapValueCalculation: 'sum',\n    // \n    // mapValuePrecision: 0,\n    // \n    showLegendSymbol: true,\n    // singlemultiple\n    // selectedMode: false,\n    dataRangeHoverLink: true,\n    // \n    // roam: false,\n    // Define left-top, right-bottom coords to control view\n    // For example, [ [180, 90], [-180, -90] ],\n    // higher priority than center and zoom\n    boundingCoords: null,\n    // Default on center of map\n    center: null,\n    zoom: 1,\n    scaleLimit: null,\n    label: {\n      show: false,\n      color: '#000'\n    },\n    // scaleLimit: null,\n    itemStyle: {\n      borderWidth: 0.5,\n      borderColor: '#444',\n      areaColor: '#eee'\n    },\n    emphasis: {\n      label: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      },\n      itemStyle: {\n        areaColor: 'rgba(255,215,0,0.8)'\n      }\n    },\n    nameProperty: 'name'\n  }\n});\nzrUtil.mixin(MapSeries, dataSelectableMixin);\nvar _default = MapSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar NodeHighlightPolicy = {\n  NONE: 'none',\n  // not downplay others\n  DESCENDANT: 'descendant',\n  ANCESTOR: 'ancestor',\n  SELF: 'self'\n};\nvar DEFAULT_SECTOR_Z = 2;\nvar DEFAULT_TEXT_Z = 4;\n/**\n * Sunburstce of Sunburst including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\n\nfunction SunburstPiece(node, seriesModel, ecModel) {\n  graphic.Group.call(this);\n  var sector = new graphic.Sector({\n    z2: DEFAULT_SECTOR_Z\n  });\n  sector.seriesIndex = seriesModel.seriesIndex;\n  var text = new graphic.Text({\n    z2: DEFAULT_TEXT_Z,\n    silent: node.getModel('label').get('silent')\n  });\n  this.add(sector);\n  this.add(text);\n  this.updateData(true, node, 'normal', seriesModel, ecModel); // Hover to change label and labelLine\n\n  function onEmphasis() {\n    text.ignore = text.hoverIgnore;\n  }\n\n  function onNormal() {\n    text.ignore = text.normalIgnore;\n  }\n\n  this.on('emphasis', onEmphasis).on('normal', onNormal).on('mouseover', onEmphasis).on('mouseout', onNormal);\n}\n\nvar SunburstPieceProto = SunburstPiece.prototype;\n\nSunburstPieceProto.updateData = function (firstCreate, node, state, seriesModel, ecModel) {\n  this.node = node;\n  node.piece = this;\n  seriesModel = seriesModel || this._seriesModel;\n  ecModel = ecModel || this._ecModel;\n  var sector = this.childAt(0);\n  sector.dataIndex = node.dataIndex;\n  var itemModel = node.getModel();\n  var layout = node.getLayout(); // if (!layout) {\n  //     console.log(node.getLayout());\n  // }\n\n  var sectorShape = zrUtil.extend({}, layout);\n  sectorShape.label = null;\n  var visualColor = getNodeColor(node, seriesModel, ecModel);\n  fillDefaultColor(node, seriesModel, visualColor);\n  var normalStyle = itemModel.getModel('itemStyle').getItemStyle();\n  var style;\n\n  if (state === 'normal') {\n    style = normalStyle;\n  } else {\n    var stateStyle = itemModel.getModel(state + '.itemStyle').getItemStyle();\n    style = zrUtil.merge(stateStyle, normalStyle);\n  }\n\n  style = zrUtil.defaults({\n    lineJoin: 'bevel',\n    fill: style.fill || visualColor\n  }, style);\n\n  if (firstCreate) {\n    sector.setShape(sectorShape);\n    sector.shape.r = layout.r0;\n    graphic.updateProps(sector, {\n      shape: {\n        r: layout.r\n      }\n    }, seriesModel, node.dataIndex);\n    sector.useStyle(style);\n  } else if (typeof style.fill === 'object' && style.fill.type || typeof sector.style.fill === 'object' && sector.style.fill.type) {\n    // Disable animation for gradient since no interpolation method\n    // is supported for gradient\n    graphic.updateProps(sector, {\n      shape: sectorShape\n    }, seriesModel);\n    sector.useStyle(style);\n  } else {\n    graphic.updateProps(sector, {\n      shape: sectorShape,\n      style: style\n    }, seriesModel);\n  }\n\n  this._updateLabel(seriesModel, visualColor, state);\n\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && sector.attr('cursor', cursorStyle);\n\n  if (firstCreate) {\n    var highlightPolicy = seriesModel.getShallow('highlightPolicy');\n\n    this._initEvents(sector, node, seriesModel, highlightPolicy);\n  }\n\n  this._seriesModel = seriesModel || this._seriesModel;\n  this._ecModel = ecModel || this._ecModel;\n  graphic.setHoverStyle(this);\n};\n\nSunburstPieceProto.onEmphasis = function (highlightPolicy) {\n  var that = this;\n  this.node.hostTree.root.eachNode(function (n) {\n    if (n.piece) {\n      if (that.node === n) {\n        n.piece.updateData(false, n, 'emphasis');\n      } else if (isNodeHighlighted(n, that.node, highlightPolicy)) {\n        n.piece.childAt(0).trigger('highlight');\n      } else if (highlightPolicy !== NodeHighlightPolicy.NONE) {\n        n.piece.childAt(0).trigger('downplay');\n      }\n    }\n  });\n};\n\nSunburstPieceProto.onNormal = function () {\n  this.node.hostTree.root.eachNode(function (n) {\n    if (n.piece) {\n      n.piece.updateData(false, n, 'normal');\n    }\n  });\n};\n\nSunburstPieceProto.onHighlight = function () {\n  this.updateData(false, this.node, 'highlight');\n};\n\nSunburstPieceProto.onDownplay = function () {\n  this.updateData(false, this.node, 'downplay');\n};\n\nSunburstPieceProto._updateLabel = function (seriesModel, visualColor, state) {\n  var itemModel = this.node.getModel();\n  var normalModel = itemModel.getModel('label');\n  var labelModel = state === 'normal' || state === 'emphasis' ? normalModel : itemModel.getModel(state + '.label');\n  var labelHoverModel = itemModel.getModel('emphasis.label');\n  var labelFormatter = labelModel.get('formatter'); // Use normal formatter if no state formatter is defined\n\n  var labelState = labelFormatter ? state : 'normal';\n  var text = zrUtil.retrieve(seriesModel.getFormattedLabel(this.node.dataIndex, labelState, null, null, 'label'), this.node.name);\n\n  if (getLabelAttr('show') === false) {\n    text = '';\n  }\n\n  var layout = this.node.getLayout();\n  var labelMinAngle = labelModel.get('minAngle');\n\n  if (labelMinAngle == null) {\n    labelMinAngle = normalModel.get('minAngle');\n  }\n\n  labelMinAngle = labelMinAngle / 180 * Math.PI;\n  var angle = layout.endAngle - layout.startAngle;\n\n  if (labelMinAngle != null && Math.abs(angle) < labelMinAngle) {\n    // Not displaying text when angle is too small\n    text = '';\n  }\n\n  var label = this.childAt(1);\n  graphic.setLabelStyle(label.style, label.hoverStyle || {}, normalModel, labelHoverModel, {\n    defaultText: labelModel.getShallow('show') ? text : null,\n    autoColor: visualColor,\n    useInsideStyle: true\n  });\n  var midAngle = (layout.startAngle + layout.endAngle) / 2;\n  var dx = Math.cos(midAngle);\n  var dy = Math.sin(midAngle);\n  var r;\n  var labelPosition = getLabelAttr('position');\n  var labelPadding = getLabelAttr('distance') || 0;\n  var textAlign = getLabelAttr('align');\n\n  if (labelPosition === 'outside') {\n    r = layout.r + labelPadding;\n    textAlign = midAngle > Math.PI / 2 ? 'right' : 'left';\n  } else {\n    if (!textAlign || textAlign === 'center') {\n      r = (layout.r + layout.r0) / 2;\n      textAlign = 'center';\n    } else if (textAlign === 'left') {\n      r = layout.r0 + labelPadding;\n\n      if (midAngle > Math.PI / 2) {\n        textAlign = 'right';\n      }\n    } else if (textAlign === 'right') {\n      r = layout.r - labelPadding;\n\n      if (midAngle > Math.PI / 2) {\n        textAlign = 'left';\n      }\n    }\n  }\n\n  label.attr('style', {\n    text: text,\n    textAlign: textAlign,\n    textVerticalAlign: getLabelAttr('verticalAlign') || 'middle',\n    opacity: getLabelAttr('opacity')\n  });\n  var textX = r * dx + layout.cx;\n  var textY = r * dy + layout.cy;\n  label.attr('position', [textX, textY]);\n  var rotateType = getLabelAttr('rotate');\n  var rotate = 0;\n\n  if (rotateType === 'radial') {\n    rotate = -midAngle;\n\n    if (rotate < -Math.PI / 2) {\n      rotate += Math.PI;\n    }\n  } else if (rotateType === 'tangential') {\n    rotate = Math.PI / 2 - midAngle;\n\n    if (rotate > Math.PI / 2) {\n      rotate -= Math.PI;\n    } else if (rotate < -Math.PI / 2) {\n      rotate += Math.PI;\n    }\n  } else if (typeof rotateType === 'number') {\n    rotate = rotateType * Math.PI / 180;\n  }\n\n  label.attr('rotation', rotate);\n\n  function getLabelAttr(name) {\n    var stateAttr = labelModel.get(name);\n\n    if (stateAttr == null) {\n      return normalModel.get(name);\n    } else {\n      return stateAttr;\n    }\n  }\n};\n\nSunburstPieceProto._initEvents = function (sector, node, seriesModel, highlightPolicy) {\n  sector.off('mouseover').off('mouseout').off('emphasis').off('normal');\n  var that = this;\n\n  var onEmphasis = function () {\n    that.onEmphasis(highlightPolicy);\n  };\n\n  var onNormal = function () {\n    that.onNormal();\n  };\n\n  var onDownplay = function () {\n    that.onDownplay();\n  };\n\n  var onHighlight = function () {\n    that.onHighlight();\n  };\n\n  if (seriesModel.isAnimationEnabled()) {\n    sector.on('mouseover', onEmphasis).on('mouseout', onNormal).on('emphasis', onEmphasis).on('normal', onNormal).on('downplay', onDownplay).on('highlight', onHighlight);\n  }\n};\n\nzrUtil.inherits(SunburstPiece, graphic.Group);\nvar _default = SunburstPiece;\n/**\n * Get node color\n *\n * @param {TreeNode} node the node to get color\n * @param {module:echarts/model/Series} seriesModel series\n * @param {module:echarts/model/Global} ecModel echarts defaults\n */\n\nfunction getNodeColor(node, seriesModel, ecModel) {\n  // Color from visualMap\n  var visualColor = node.getVisual('color');\n  var visualMetaList = node.getVisual('visualMeta');\n\n  if (!visualMetaList || visualMetaList.length === 0) {\n    // Use first-generation color if has no visualMap\n    visualColor = null;\n  } // Self color or level color\n\n\n  var color = node.getModel('itemStyle').get('color');\n\n  if (color) {\n    return color;\n  } else if (visualColor) {\n    // Color mapping\n    return visualColor;\n  } else if (node.depth === 0) {\n    // Virtual root node\n    return ecModel.option.color[0];\n  } else {\n    // First-generation color\n    var length = ecModel.option.color.length;\n    color = ecModel.option.color[getRootId(node) % length];\n  }\n\n  return color;\n}\n/**\n * Get index of root in sorted order\n *\n * @param {TreeNode} node current node\n * @return {number} index in root\n */\n\n\nfunction getRootId(node) {\n  var ancestor = node;\n\n  while (ancestor.depth > 1) {\n    ancestor = ancestor.parentNode;\n  }\n\n  var virtualRoot = node.getAncestors()[0];\n  return zrUtil.indexOf(virtualRoot.children, ancestor);\n}\n\nfunction isNodeHighlighted(node, activeNode, policy) {\n  if (policy === NodeHighlightPolicy.NONE) {\n    return false;\n  } else if (policy === NodeHighlightPolicy.SELF) {\n    return node === activeNode;\n  } else if (policy === NodeHighlightPolicy.ANCESTOR) {\n    return node === activeNode || node.isAncestorOf(activeNode);\n  } else {\n    return node === activeNode || node.isDescendantOf(activeNode);\n  }\n} // Fix tooltip callback function params.color incorrect when pick a default color\n\n\nfunction fillDefaultColor(node, seriesModel, color) {\n  var data = seriesModel.getData();\n  data.setItemVisual(node.dataIndex, 'color', color);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Uint8Array */\nvar saveAsImageLang = lang.toolbox.saveAsImage;\n\nfunction SaveAsImage(model) {\n  this.model = model;\n}\n\nSaveAsImage.defaultOption = {\n  show: true,\n  icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',\n  title: saveAsImageLang.title,\n  type: 'png',\n  // Default use option.backgroundColor\n  // backgroundColor: '#fff',\n  connectedBackgroundColor: '#fff',\n  name: '',\n  excludeComponents: ['toolbox'],\n  pixelRatio: 1,\n  lang: saveAsImageLang.lang.slice()\n};\nSaveAsImage.prototype.unusable = !env.canvasSupported;\nvar proto = SaveAsImage.prototype;\n\nproto.onclick = function (ecModel, api) {\n  var model = this.model;\n  var title = model.get('name') || ecModel.get('title.0.text') || 'echarts';\n  var isSvg = api.getZr().painter.getType() === 'svg';\n  var type = isSvg ? 'svg' : model.get('type', true) || 'png';\n  var url = api.getConnectedDataURL({\n    type: type,\n    backgroundColor: model.get('backgroundColor', true) || ecModel.get('backgroundColor') || '#fff',\n    connectedBackgroundColor: model.get('connectedBackgroundColor'),\n    excludeComponents: model.get('excludeComponents'),\n    pixelRatio: model.get('pixelRatio')\n  }); // Chrome and Firefox\n\n  if (typeof MouseEvent === 'function' && !env.browser.ie && !env.browser.edge) {\n    var $a = document.createElement('a');\n    $a.download = title + '.' + type;\n    $a.target = '_blank';\n    $a.href = url;\n    var evt = new MouseEvent('click', {\n      // some micro front-end framework window maybe is a Proxy\n      view: document.defaultView,\n      bubbles: true,\n      cancelable: false\n    });\n    $a.dispatchEvent(evt);\n  } // IE\n  else {\n      if (window.navigator.msSaveOrOpenBlob) {\n        var bstr = atob(url.split(',')[1]);\n        var n = bstr.length;\n        var u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        var blob = new Blob([u8arr]);\n        window.navigator.msSaveOrOpenBlob(blob, title + '.' + type);\n      } else {\n        var lang = model.get('lang');\n        var html = '' + '<body style=\"margin:0;\">' + '<img src=\"' + url + '\" style=\"max-width:100%;\" title=\"' + (lang && lang[0] || '') + '\" />' + '</body>';\n        var tab = window.open();\n        tab.document.write(html);\n      }\n    }\n};\n\nfeatureManager.register('saveAsImage', SaveAsImage);\nvar _default = SaveAsImage;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction getNodeGlobalScale(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys.type !== 'view') {\n    return 1;\n  }\n\n  var nodeScaleRatio = seriesModel.option.nodeScaleRatio;\n  var groupScale = coordSys.scale;\n  var groupZoom = groupScale && groupScale[0] || 1; // Scale node when zoom changes\n\n  var roamZoom = coordSys.getZoom();\n  var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n  return nodeScale / groupZoom;\n}\n\nfunction getSymbolSize(node) {\n  var symbolSize = node.getVisual('symbolSize');\n\n  if (symbolSize instanceof Array) {\n    symbolSize = (symbolSize[0] + symbolSize[1]) / 2;\n  }\n\n  return +symbolSize;\n}\n\nexports.getNodeGlobalScale = getNodeGlobalScale;\nexports.getSymbolSize = getSymbolSize;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar formatUtil = require(\"../../util/format\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AXIS_DIMS = ['x', 'y', 'z', 'radius', 'angle', 'single']; // Supported coords.\n\nvar COORDS = ['cartesian2d', 'polar', 'singleAxis'];\n/**\n * @param {string} coordType\n * @return {boolean}\n */\n\nfunction isCoordSupported(coordType) {\n  return zrUtil.indexOf(COORDS, coordType) >= 0;\n}\n/**\n * Create \"each\" method to iterate names.\n *\n * @pubilc\n * @param  {Array.<string>} names\n * @param  {Array.<string>=} attrs\n * @return {Function}\n */\n\n\nfunction createNameEach(names, attrs) {\n  names = names.slice();\n  var capitalNames = zrUtil.map(names, formatUtil.capitalFirst);\n  attrs = (attrs || []).slice();\n  var capitalAttrs = zrUtil.map(attrs, formatUtil.capitalFirst);\n  return function (callback, context) {\n    zrUtil.each(names, function (name, index) {\n      var nameObj = {\n        name: name,\n        capital: capitalNames[index]\n      };\n\n      for (var j = 0; j < attrs.length; j++) {\n        nameObj[attrs[j]] = name + capitalAttrs[j];\n      }\n\n      callback.call(context, nameObj);\n    });\n  };\n}\n/**\n * Iterate each dimension name.\n *\n * @public\n * @param {Function} callback The parameter is like:\n *                            {\n *                                name: 'angle',\n *                                capital: 'Angle',\n *                                axis: 'angleAxis',\n *                                axisIndex: 'angleAixs',\n *                                index: 'angleIndex'\n *                            }\n * @param {Object} context\n */\n\n\nvar eachAxisDim = createNameEach(AXIS_DIMS, ['axisIndex', 'axis', 'index', 'id']);\n/**\n * If tow dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * dataZoomModels and 'links' make up one or more graphics.\n * This function finds the graphic where the source dataZoomModel is in.\n *\n * @public\n * @param {Function} forEachNode Node iterator.\n * @param {Function} forEachEdgeType edgeType iterator\n * @param {Function} edgeIdGetter Giving node and edgeType, return an array of edge id.\n * @return {Function} Input: sourceNode, Output: Like {nodes: [], dims: {}}\n */\n\nfunction createLinkedNodesFinder(forEachNode, forEachEdgeType, edgeIdGetter) {\n  return function (sourceNode) {\n    var result = {\n      nodes: [],\n      records: {} // key: edgeType.name, value: Object (key: edge id, value: boolean).\n\n    };\n    forEachEdgeType(function (edgeType) {\n      result.records[edgeType.name] = {};\n    });\n\n    if (!sourceNode) {\n      return result;\n    }\n\n    absorb(sourceNode, result);\n    var existsLink;\n\n    do {\n      existsLink = false;\n      forEachNode(processSingleNode);\n    } while (existsLink);\n\n    function processSingleNode(node) {\n      if (!isNodeAbsorded(node, result) && isLinked(node, result)) {\n        absorb(node, result);\n        existsLink = true;\n      }\n    }\n\n    return result;\n  };\n\n  function isNodeAbsorded(node, result) {\n    return zrUtil.indexOf(result.nodes, node) >= 0;\n  }\n\n  function isLinked(node, result) {\n    var hasLink = false;\n    forEachEdgeType(function (edgeType) {\n      zrUtil.each(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n        result.records[edgeType.name][edgeId] && (hasLink = true);\n      });\n    });\n    return hasLink;\n  }\n\n  function absorb(node, result) {\n    result.nodes.push(node);\n    forEachEdgeType(function (edgeType) {\n      zrUtil.each(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n        result.records[edgeType.name][edgeId] = true;\n      });\n    });\n  }\n}\n\nexports.isCoordSupported = isCoordSupported;\nexports.createNameEach = createNameEach;\nexports.eachAxisDim = eachAxisDim;\nexports.createLinkedNodesFinder = createLinkedNodesFinder;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n    var data = seriesModel.getData();\n    var single = seriesModel.coordinateSystem;\n    var layoutInfo = {}; // use the axis boundingRect for view\n\n    var rect = single.getRect();\n    layoutInfo.rect = rect;\n    var boundaryGap = seriesModel.get('boundaryGap');\n    var axis = single.getAxis();\n    layoutInfo.boundaryGap = boundaryGap;\n\n    if (axis.orient === 'horizontal') {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.height);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.height);\n      var height = rect.height - boundaryGap[0] - boundaryGap[1];\n      themeRiverLayout(data, seriesModel, height);\n    } else {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.width);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.width);\n      var width = rect.width - boundaryGap[0] - boundaryGap[1];\n      themeRiverLayout(data, seriesModel, width);\n    }\n\n    data.setLayout('layoutInfo', layoutInfo);\n  });\n}\n/**\n * The layout information about themeriver\n *\n * @param {module:echarts/data/List} data  data in the series\n * @param {module:echarts/model/Series} seriesModel  the model object of themeRiver series\n * @param {number} height  value used to compute every series height\n */\n\n\nfunction themeRiverLayout(data, seriesModel, height) {\n  if (!data.count()) {\n    return;\n  }\n\n  var coordSys = seriesModel.coordinateSystem; // the data in each layer are organized into a series.\n\n  var layerSeries = seriesModel.getLayerSeries(); // the points in each layer.\n\n  var timeDim = data.mapDimension('single');\n  var valueDim = data.mapDimension('value');\n  var layerPoints = zrUtil.map(layerSeries, function (singleLayer) {\n    return zrUtil.map(singleLayer.indices, function (idx) {\n      var pt = coordSys.dataToPoint(data.get(timeDim, idx));\n      pt[1] = data.get(valueDim, idx);\n      return pt;\n    });\n  });\n  var base = computeBaseline(layerPoints);\n  var baseLine = base.y0;\n  var ky = height / base.max; // set layout information for each item.\n\n  var n = layerSeries.length;\n  var m = layerSeries[0].indices.length;\n  var baseY0;\n\n  for (var j = 0; j < m; ++j) {\n    baseY0 = baseLine[j] * ky;\n    data.setItemLayout(layerSeries[0].indices[j], {\n      layerIndex: 0,\n      x: layerPoints[0][j][0],\n      y0: baseY0,\n      y: layerPoints[0][j][1] * ky\n    });\n\n    for (var i = 1; i < n; ++i) {\n      baseY0 += layerPoints[i - 1][j][1] * ky;\n      data.setItemLayout(layerSeries[i].indices[j], {\n        layerIndex: i,\n        x: layerPoints[i][j][0],\n        y0: baseY0,\n        y: layerPoints[i][j][1] * ky\n      });\n    }\n  }\n}\n/**\n * Compute the baseLine of the rawdata\n * Inspired by Lee Byron's paper Stacked Graphs - Geometry & Aesthetics\n *\n * @param  {Array.<Array>} data  the points in each layer\n * @return {Object}\n */\n\n\nfunction computeBaseline(data) {\n  var layerNum = data.length;\n  var pointNum = data[0].length;\n  var sums = [];\n  var y0 = [];\n  var max = 0;\n  var temp;\n  var base = {};\n\n  for (var i = 0; i < pointNum; ++i) {\n    for (var j = 0, temp = 0; j < layerNum; ++j) {\n      temp += data[j][i][1];\n    }\n\n    if (temp > max) {\n      max = temp;\n    }\n\n    sums.push(temp);\n  }\n\n  for (var k = 0; k < pointNum; ++k) {\n    y0[k] = (max - sums[k]) / 2;\n  }\n\n  max = 0;\n\n  for (var l = 0; l < pointNum; ++l) {\n    var sum = sums[l] + y0[l];\n\n    if (sum > max) {\n      max = sum;\n    }\n  }\n\n  base.y0 = y0;\n  base.max = max;\n  return base;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./visualMapContinuous\");\n\nrequire(\"./visualMapPiecewise\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('map', function (seriesModel) {\n    var colorList = seriesModel.get('color');\n    var itemStyleModel = seriesModel.getModel('itemStyle');\n    var areaColor = itemStyleModel.get('areaColor');\n    var color = itemStyleModel.get('color') || colorList[seriesModel.seriesIndex % colorList.length];\n    seriesModel.getData().setVisual({\n      'areaColor': areaColor,\n      'color': color\n    });\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"../coord/radar/Radar\");\n\nrequire(\"../coord/radar/RadarModel\");\n\nrequire(\"./radar/RadarView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar RoamController = require(\"../../component/helper/RoamController\");\n\nvar throttleUtil = require(\"../../util/throttle\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nvar ATTR = '\\0_ec_dataZoom_roams';\n/**\n * @public\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} dataZoomInfo\n * @param {string} dataZoomInfo.coordId\n * @param {Function} dataZoomInfo.containsPoint\n * @param {Array.<string>} dataZoomInfo.allCoordIds\n * @param {string} dataZoomInfo.dataZoomId\n * @param {Object} dataZoomInfo.getRange\n * @param {Function} dataZoomInfo.getRange.pan\n * @param {Function} dataZoomInfo.getRange.zoom\n * @param {Function} dataZoomInfo.getRange.scrollMove\n * @param {boolean} dataZoomInfo.dataZoomModel\n */\n\nfunction register(api, dataZoomInfo) {\n  var store = giveStore(api);\n  var theDataZoomId = dataZoomInfo.dataZoomId;\n  var theCoordId = dataZoomInfo.coordId; // Do clean when a dataZoom changes its target coordnate system.\n  // Avoid memory leak, dispose all not-used-registered.\n\n  zrUtil.each(store, function (record, coordId) {\n    var dataZoomInfos = record.dataZoomInfos;\n\n    if (dataZoomInfos[theDataZoomId] && zrUtil.indexOf(dataZoomInfo.allCoordIds, theCoordId) < 0) {\n      delete dataZoomInfos[theDataZoomId];\n      record.count--;\n    }\n  });\n  cleanStore(store);\n  var record = store[theCoordId]; // Create if needed.\n\n  if (!record) {\n    record = store[theCoordId] = {\n      coordId: theCoordId,\n      dataZoomInfos: {},\n      count: 0\n    };\n    record.controller = createController(api, record);\n    record.dispatchAction = zrUtil.curry(dispatchAction, api);\n  } // Update reference of dataZoom.\n\n\n  !record.dataZoomInfos[theDataZoomId] && record.count++;\n  record.dataZoomInfos[theDataZoomId] = dataZoomInfo;\n  var controllerParams = mergeControllerParams(record.dataZoomInfos);\n  record.controller.enable(controllerParams.controlType, controllerParams.opt); // Consider resize, area should be always updated.\n\n  record.controller.setPointerChecker(dataZoomInfo.containsPoint); // Update throttle.\n\n  throttleUtil.createOrUpdate(record, 'dispatchAction', dataZoomInfo.dataZoomModel.get('throttle', true), 'fixRate');\n}\n/**\n * @public\n * @param {module:echarts/ExtensionAPI} api\n * @param {string} dataZoomId\n */\n\n\nfunction unregister(api, dataZoomId) {\n  var store = giveStore(api);\n  zrUtil.each(store, function (record) {\n    record.controller.dispose();\n    var dataZoomInfos = record.dataZoomInfos;\n\n    if (dataZoomInfos[dataZoomId]) {\n      delete dataZoomInfos[dataZoomId];\n      record.count--;\n    }\n  });\n  cleanStore(store);\n}\n/**\n * @public\n */\n\n\nfunction generateCoordId(coordModel) {\n  return coordModel.type + '\\0_' + coordModel.id;\n}\n/**\n * Key: coordId, value: {dataZoomInfos: [], count, controller}\n * @type {Array.<Object>}\n */\n\n\nfunction giveStore(api) {\n  // Mount store on zrender instance, so that we do not\n  // need to worry about dispose.\n  var zr = api.getZr();\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n\nfunction createController(api, newRecord) {\n  var controller = new RoamController(api.getZr());\n  zrUtil.each(['pan', 'zoom', 'scrollMove'], function (eventName) {\n    controller.on(eventName, function (event) {\n      var batch = [];\n      zrUtil.each(newRecord.dataZoomInfos, function (info) {\n        // Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,\n        // moveOnMouseWheel, ...) enabled.\n        if (!event.isAvailableBehavior(info.dataZoomModel.option)) {\n          return;\n        }\n\n        var method = (info.getRange || {})[eventName];\n        var range = method && method(newRecord.controller, event);\n        !info.dataZoomModel.get('disabled', true) && range && batch.push({\n          dataZoomId: info.dataZoomId,\n          start: range[0],\n          end: range[1]\n        });\n      });\n      batch.length && newRecord.dispatchAction(batch);\n    });\n  });\n  return controller;\n}\n\nfunction cleanStore(store) {\n  zrUtil.each(store, function (record, coordId) {\n    if (!record.count) {\n      record.controller.dispose();\n      delete store[coordId];\n    }\n  });\n}\n/**\n * This action will be throttled.\n */\n\n\nfunction dispatchAction(api, batch) {\n  api.dispatchAction({\n    type: 'dataZoom',\n    batch: batch\n  });\n}\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\n\n\nfunction mergeControllerParams(dataZoomInfos) {\n  var controlType; // DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated\n  // as string, it is probably revert to reserved word by compress tool. See #7411.\n\n  var prefix = 'type_';\n  var typePriority = {\n    'type_true': 2,\n    'type_move': 1,\n    'type_false': 0,\n    'type_undefined': -1\n  };\n  var preventDefaultMouseMove = true;\n  zrUtil.each(dataZoomInfos, function (dataZoomInfo) {\n    var dataZoomModel = dataZoomInfo.dataZoomModel;\n    var oneType = dataZoomModel.get('disabled', true) ? false : dataZoomModel.get('zoomLock', true) ? 'move' : true;\n\n    if (typePriority[prefix + oneType] > typePriority[prefix + controlType]) {\n      controlType = oneType;\n    } // Prevent default move event by default. If one false, do not prevent. Otherwise\n    // users may be confused why it does not work when multiple insideZooms exist.\n\n\n    preventDefaultMouseMove &= dataZoomModel.get('preventDefaultMouseMove', true);\n  });\n  return {\n    controlType: controlType,\n    opt: {\n      // RoamController will enable all of these functionalities,\n      // and the final behavior is determined by its event listener\n      // provided by each inside zoom.\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      moveOnMouseWheel: true,\n      preventDefaultMouseMove: !!preventDefaultMouseMove\n    }\n  };\n}\n\nexports.register = register;\nexports.unregister = unregister;\nexports.generateCoordId = generateCoordId;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction retrieveTargetInfo(payload, validPayloadTypes, seriesModel) {\n  if (payload && zrUtil.indexOf(validPayloadTypes, payload.type) >= 0) {\n    var root = seriesModel.getData().tree.root;\n    var targetNode = payload.targetNode;\n\n    if (typeof targetNode === 'string') {\n      targetNode = root.getNodeById(targetNode);\n    }\n\n    if (targetNode && root.contains(targetNode)) {\n      return {\n        node: targetNode\n      };\n    }\n\n    var targetNodeId = payload.targetNodeId;\n\n    if (targetNodeId != null && (targetNode = root.getNodeById(targetNodeId))) {\n      return {\n        node: targetNode\n      };\n    }\n  }\n} // Not includes the given node at the last item.\n\n\nfunction getPathToRoot(node) {\n  var path = [];\n\n  while (node) {\n    node = node.parentNode;\n    node && path.push(node);\n  }\n\n  return path.reverse();\n}\n\nfunction aboveViewRoot(viewRoot, node) {\n  var viewPath = getPathToRoot(viewRoot);\n  return zrUtil.indexOf(viewPath, node) >= 0;\n} // From root to the input node (the input node will be included).\n\n\nfunction wrapTreePathInfo(node, seriesModel) {\n  var treePathInfo = [];\n\n  while (node) {\n    var nodeDataIndex = node.dataIndex;\n    treePathInfo.push({\n      name: node.name,\n      dataIndex: nodeDataIndex,\n      value: seriesModel.getRawValue(nodeDataIndex)\n    });\n    node = node.parentNode;\n  }\n\n  treePathInfo.reverse();\n  return treePathInfo;\n}\n\nexports.retrieveTargetInfo = retrieveTargetInfo;\nexports.getPathToRoot = getPathToRoot;\nexports.aboveViewRoot = aboveViewRoot;\nexports.wrapTreePathInfo = wrapTreePathInfo;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar nodeOpacityPath = ['itemStyle', 'opacity'];\nvar hoverNodeOpacityPath = ['emphasis', 'itemStyle', 'opacity'];\nvar lineOpacityPath = ['lineStyle', 'opacity'];\nvar hoverLineOpacityPath = ['emphasis', 'lineStyle', 'opacity'];\n\nfunction getItemOpacity(item, opacityPath) {\n  return item.getVisual('opacity') || item.getModel().get(opacityPath);\n}\n\nfunction fadeOutItem(item, opacityPath, opacityRatio) {\n  var el = item.getGraphicEl();\n  var opacity = getItemOpacity(item, opacityPath);\n\n  if (opacityRatio != null) {\n    opacity == null && (opacity = 1);\n    opacity *= opacityRatio;\n  }\n\n  el.downplay && el.downplay();\n  el.traverse(function (child) {\n    if (child.type !== 'group') {\n      child.setStyle('opacity', opacity);\n    }\n  });\n}\n\nfunction fadeInItem(item, opacityPath) {\n  var opacity = getItemOpacity(item, opacityPath);\n  var el = item.getGraphicEl();\n  el.traverse(function (child) {\n    if (child.type !== 'group') {\n      child.setStyle('opacity', opacity);\n    }\n  }); // Support emphasis here.\n\n  el.highlight && el.highlight();\n}\n\nvar SankeyShape = graphic.extendShape({\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    cpx1: 0,\n    cpy1: 0,\n    cpx2: 0,\n    cpy2: 0,\n    extent: 0,\n    orient: ''\n  },\n  buildPath: function (ctx, shape) {\n    var extent = shape.extent;\n    ctx.moveTo(shape.x1, shape.y1);\n    ctx.bezierCurveTo(shape.cpx1, shape.cpy1, shape.cpx2, shape.cpy2, shape.x2, shape.y2);\n\n    if (shape.orient === 'vertical') {\n      ctx.lineTo(shape.x2 + extent, shape.y2);\n      ctx.bezierCurveTo(shape.cpx2 + extent, shape.cpy2, shape.cpx1 + extent, shape.cpy1, shape.x1 + extent, shape.y1);\n    } else {\n      ctx.lineTo(shape.x2, shape.y2 + extent);\n      ctx.bezierCurveTo(shape.cpx2, shape.cpy2 + extent, shape.cpx1, shape.cpy1 + extent, shape.x1, shape.y1 + extent);\n    }\n\n    ctx.closePath();\n  },\n  highlight: function () {\n    this.trigger('emphasis');\n  },\n  downplay: function () {\n    this.trigger('normal');\n  }\n});\n\nvar _default = echarts.extendChartView({\n  type: 'sankey',\n\n  /**\n   * @private\n   * @type {module:echarts/chart/sankey/SankeySeries}\n   */\n  _model: null,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _focusAdjacencyDisabled: false,\n  render: function (seriesModel, ecModel, api) {\n    var sankeyView = this;\n    var graph = seriesModel.getGraph();\n    var group = this.group;\n    var layoutInfo = seriesModel.layoutInfo; // view width\n\n    var width = layoutInfo.width; // view height\n\n    var height = layoutInfo.height;\n    var nodeData = seriesModel.getData();\n    var edgeData = seriesModel.getData('edge');\n    var orient = seriesModel.get('orient');\n    this._model = seriesModel;\n    group.removeAll();\n    group.attr('position', [layoutInfo.x, layoutInfo.y]); // generate a bezire Curve for each edge\n\n    graph.eachEdge(function (edge) {\n      var curve = new SankeyShape();\n      curve.dataIndex = edge.dataIndex;\n      curve.seriesIndex = seriesModel.seriesIndex;\n      curve.dataType = 'edge';\n      var lineStyleModel = edge.getModel('lineStyle');\n      var curvature = lineStyleModel.get('curveness');\n      var n1Layout = edge.node1.getLayout();\n      var node1Model = edge.node1.getModel();\n      var dragX1 = node1Model.get('localX');\n      var dragY1 = node1Model.get('localY');\n      var n2Layout = edge.node2.getLayout();\n      var node2Model = edge.node2.getModel();\n      var dragX2 = node2Model.get('localX');\n      var dragY2 = node2Model.get('localY');\n      var edgeLayout = edge.getLayout();\n      var x1;\n      var y1;\n      var x2;\n      var y2;\n      var cpx1;\n      var cpy1;\n      var cpx2;\n      var cpy2;\n      curve.shape.extent = Math.max(1, edgeLayout.dy);\n      curve.shape.orient = orient;\n\n      if (orient === 'vertical') {\n        x1 = (dragX1 != null ? dragX1 * width : n1Layout.x) + edgeLayout.sy;\n        y1 = (dragY1 != null ? dragY1 * height : n1Layout.y) + n1Layout.dy;\n        x2 = (dragX2 != null ? dragX2 * width : n2Layout.x) + edgeLayout.ty;\n        y2 = dragY2 != null ? dragY2 * height : n2Layout.y;\n        cpx1 = x1;\n        cpy1 = y1 * (1 - curvature) + y2 * curvature;\n        cpx2 = x2;\n        cpy2 = y1 * curvature + y2 * (1 - curvature);\n      } else {\n        x1 = (dragX1 != null ? dragX1 * width : n1Layout.x) + n1Layout.dx;\n        y1 = (dragY1 != null ? dragY1 * height : n1Layout.y) + edgeLayout.sy;\n        x2 = dragX2 != null ? dragX2 * width : n2Layout.x;\n        y2 = (dragY2 != null ? dragY2 * height : n2Layout.y) + edgeLayout.ty;\n        cpx1 = x1 * (1 - curvature) + x2 * curvature;\n        cpy1 = y1;\n        cpx2 = x1 * curvature + x2 * (1 - curvature);\n        cpy2 = y2;\n      }\n\n      curve.setShape({\n        x1: x1,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        cpx1: cpx1,\n        cpy1: cpy1,\n        cpx2: cpx2,\n        cpy2: cpy2\n      });\n      curve.setStyle(lineStyleModel.getItemStyle()); // Special color, use source node color or target node color\n\n      switch (curve.style.fill) {\n        case 'source':\n          curve.style.fill = edge.node1.getVisual('color');\n          break;\n\n        case 'target':\n          curve.style.fill = edge.node2.getVisual('color');\n          break;\n      }\n\n      graphic.setHoverStyle(curve, edge.getModel('emphasis.lineStyle').getItemStyle());\n      group.add(curve);\n      edgeData.setItemGraphicEl(edge.dataIndex, curve);\n    }); // Generate a rect for each node\n\n    graph.eachNode(function (node) {\n      var layout = node.getLayout();\n      var itemModel = node.getModel();\n      var dragX = itemModel.get('localX');\n      var dragY = itemModel.get('localY');\n      var labelModel = itemModel.getModel('label');\n      var labelHoverModel = itemModel.getModel('emphasis.label');\n      var rect = new graphic.Rect({\n        shape: {\n          x: dragX != null ? dragX * width : layout.x,\n          y: dragY != null ? dragY * height : layout.y,\n          width: layout.dx,\n          height: layout.dy\n        },\n        style: itemModel.getModel('itemStyle').getItemStyle()\n      });\n      var hoverStyle = node.getModel('emphasis.itemStyle').getItemStyle();\n      graphic.setLabelStyle(rect.style, hoverStyle, labelModel, labelHoverModel, {\n        labelFetcher: seriesModel,\n        labelDataIndex: node.dataIndex,\n        defaultText: node.id,\n        isRectText: true\n      });\n      rect.setStyle('fill', node.getVisual('color'));\n      graphic.setHoverStyle(rect, hoverStyle);\n      group.add(rect);\n      nodeData.setItemGraphicEl(node.dataIndex, rect);\n      rect.dataType = 'node';\n    });\n    nodeData.eachItemGraphicEl(function (el, dataIndex) {\n      var itemModel = nodeData.getItemModel(dataIndex);\n\n      if (itemModel.get('draggable')) {\n        el.drift = function (dx, dy) {\n          sankeyView._focusAdjacencyDisabled = true;\n          this.shape.x += dx;\n          this.shape.y += dy;\n          this.dirty();\n          api.dispatchAction({\n            type: 'dragNode',\n            seriesId: seriesModel.id,\n            dataIndex: nodeData.getRawIndex(dataIndex),\n            localX: this.shape.x / width,\n            localY: this.shape.y / height\n          });\n        };\n\n        el.ondragend = function () {\n          sankeyView._focusAdjacencyDisabled = false;\n        };\n\n        el.draggable = true;\n        el.cursor = 'move';\n      }\n\n      el.highlight = function () {\n        this.trigger('emphasis');\n      };\n\n      el.downplay = function () {\n        this.trigger('normal');\n      };\n\n      el.focusNodeAdjHandler && el.off('mouseover', el.focusNodeAdjHandler);\n      el.unfocusNodeAdjHandler && el.off('mouseout', el.unfocusNodeAdjHandler);\n\n      if (itemModel.get('focusNodeAdjacency')) {\n        el.on('mouseover', el.focusNodeAdjHandler = function () {\n          if (!sankeyView._focusAdjacencyDisabled) {\n            sankeyView._clearTimer();\n\n            api.dispatchAction({\n              type: 'focusNodeAdjacency',\n              seriesId: seriesModel.id,\n              dataIndex: el.dataIndex\n            });\n          }\n        });\n        el.on('mouseout', el.unfocusNodeAdjHandler = function () {\n          if (!sankeyView._focusAdjacencyDisabled) {\n            sankeyView._dispatchUnfocus(api);\n          }\n        });\n      }\n    });\n    edgeData.eachItemGraphicEl(function (el, dataIndex) {\n      var edgeModel = edgeData.getItemModel(dataIndex);\n      el.focusNodeAdjHandler && el.off('mouseover', el.focusNodeAdjHandler);\n      el.unfocusNodeAdjHandler && el.off('mouseout', el.unfocusNodeAdjHandler);\n\n      if (edgeModel.get('focusNodeAdjacency')) {\n        el.on('mouseover', el.focusNodeAdjHandler = function () {\n          if (!sankeyView._focusAdjacencyDisabled) {\n            sankeyView._clearTimer();\n\n            api.dispatchAction({\n              type: 'focusNodeAdjacency',\n              seriesId: seriesModel.id,\n              edgeDataIndex: el.dataIndex\n            });\n          }\n        });\n        el.on('mouseout', el.unfocusNodeAdjHandler = function () {\n          if (!sankeyView._focusAdjacencyDisabled) {\n            sankeyView._dispatchUnfocus(api);\n          }\n        });\n      }\n    });\n\n    if (!this._data && seriesModel.get('animation')) {\n      group.setClipPath(createGridClipShape(group.getBoundingRect(), seriesModel, function () {\n        group.removeClipPath();\n      }));\n    }\n\n    this._data = seriesModel.getData();\n  },\n  dispose: function () {\n    this._clearTimer();\n  },\n  _dispatchUnfocus: function (api) {\n    var self = this;\n\n    this._clearTimer();\n\n    this._unfocusDelayTimer = setTimeout(function () {\n      self._unfocusDelayTimer = null;\n      api.dispatchAction({\n        type: 'unfocusNodeAdjacency',\n        seriesId: self._model.id\n      });\n    }, 500);\n  },\n  _clearTimer: function () {\n    if (this._unfocusDelayTimer) {\n      clearTimeout(this._unfocusDelayTimer);\n      this._unfocusDelayTimer = null;\n    }\n  },\n  focusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var graph = data.graph;\n    var dataIndex = payload.dataIndex;\n    var itemModel = data.getItemModel(dataIndex);\n    var edgeDataIndex = payload.edgeDataIndex;\n\n    if (dataIndex == null && edgeDataIndex == null) {\n      return;\n    }\n\n    var node = graph.getNodeByIndex(dataIndex);\n    var edge = graph.getEdgeByIndex(edgeDataIndex);\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath, 0.1);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath, 0.1);\n    });\n\n    if (node) {\n      fadeInItem(node, hoverNodeOpacityPath);\n      var focusNodeAdj = itemModel.get('focusNodeAdjacency');\n\n      if (focusNodeAdj === 'outEdges') {\n        zrUtil.each(node.outEdges, function (edge) {\n          if (edge.dataIndex < 0) {\n            return;\n          }\n\n          fadeInItem(edge, hoverLineOpacityPath);\n          fadeInItem(edge.node2, hoverNodeOpacityPath);\n        });\n      } else if (focusNodeAdj === 'inEdges') {\n        zrUtil.each(node.inEdges, function (edge) {\n          if (edge.dataIndex < 0) {\n            return;\n          }\n\n          fadeInItem(edge, hoverLineOpacityPath);\n          fadeInItem(edge.node1, hoverNodeOpacityPath);\n        });\n      } else if (focusNodeAdj === 'allEdges') {\n        zrUtil.each(node.edges, function (edge) {\n          if (edge.dataIndex < 0) {\n            return;\n          }\n\n          fadeInItem(edge, hoverLineOpacityPath);\n          edge.node1 !== node && fadeInItem(edge.node1, hoverNodeOpacityPath);\n          edge.node2 !== node && fadeInItem(edge.node2, hoverNodeOpacityPath);\n        });\n      }\n    }\n\n    if (edge) {\n      fadeInItem(edge, hoverLineOpacityPath);\n      fadeInItem(edge.node1, hoverNodeOpacityPath);\n      fadeInItem(edge.node2, hoverNodeOpacityPath);\n    }\n  },\n  unfocusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var graph = seriesModel.getGraph();\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath);\n    });\n  }\n}); // Add animation to the view\n\n\nfunction createGridClipShape(rect, seriesModel, cb) {\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x - 10,\n      y: rect.y - 10,\n      width: 0,\n      height: rect.height + 20\n    }\n  });\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width + 20\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar createHashMap = _util.createHashMap;\n\nvar mapDataStorage = require(\"./mapDataStorage\");\n\nvar geoJSONLoader = require(\"./geoJSONLoader\");\n\nvar geoSVGLoader = require(\"./geoSVGLoader\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar loaders = {\n  geoJSON: geoJSONLoader,\n  svg: geoSVGLoader\n};\nvar _default = {\n  /**\n   * @param {string} mapName\n   * @param {Object} nameMap\n   * @param {string} nameProperty\n   * @return {Object} source {regions, regionsMap, nameCoordMap, boundingRect}\n   */\n  load: function (mapName, nameMap, nameProperty) {\n    var regions = [];\n    var regionsMap = createHashMap();\n    var nameCoordMap = createHashMap();\n    var boundingRect;\n    var mapRecords = retrieveMap(mapName);\n    each(mapRecords, function (record) {\n      var singleSource = loaders[record.type].load(mapName, record, nameProperty);\n      each(singleSource.regions, function (region) {\n        var regionName = region.name; // Try use the alias in geoNameMap\n\n        if (nameMap && nameMap.hasOwnProperty(regionName)) {\n          region = region.cloneShallow(regionName = nameMap[regionName]);\n        }\n\n        regions.push(region);\n        regionsMap.set(regionName, region);\n        nameCoordMap.set(regionName, region.center);\n      });\n      var rect = singleSource.boundingRect;\n\n      if (rect) {\n        boundingRect ? boundingRect.union(rect) : boundingRect = rect.clone();\n      }\n    });\n    return {\n      regions: regions,\n      regionsMap: regionsMap,\n      nameCoordMap: nameCoordMap,\n      // FIXME Always return new ?\n      boundingRect: boundingRect || new BoundingRect(0, 0, 0, 0)\n    };\n  },\n\n  /**\n   * @param {string} mapName\n   * @param {string} hostKey For cache.\n   * @return {Array.<module:zrender/Element>} Roots.\n   */\n  makeGraphic: makeInvoker('makeGraphic'),\n\n  /**\n   * @param {string} mapName\n   * @param {string} hostKey For cache.\n   */\n  removeGraphic: makeInvoker('removeGraphic')\n};\n\nfunction makeInvoker(methodName) {\n  return function (mapName, hostKey) {\n    var mapRecords = retrieveMap(mapName);\n    var results = [];\n    each(mapRecords, function (record) {\n      var method = loaders[record.type][methodName];\n      method && results.push(method(mapName, record, hostKey));\n    });\n    return results;\n  };\n}\n\nfunction mapNotExistsError(mapName) {}\n\nfunction retrieveMap(mapName) {\n  var mapRecords = mapDataStorage.retrieveMap(mapName) || [];\n  return mapRecords;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _forceHelper = require(\"./forceHelper\");\n\nvar forceLayout = _forceHelper.forceLayout;\n\nvar _simpleLayoutHelper = require(\"./simpleLayoutHelper\");\n\nvar simpleLayout = _simpleLayoutHelper.simpleLayout;\n\nvar _circularLayoutHelper = require(\"./circularLayoutHelper\");\n\nvar circularLayout = _circularLayoutHelper.circularLayout;\n\nvar _number = require(\"../../util/number\");\n\nvar linearMap = _number.linearMap;\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _multipleGraphEdgeHelper = require(\"../helper/multipleGraphEdgeHelper\");\n\nvar getCurvenessForEdge = _multipleGraphEdgeHelper.getCurvenessForEdge;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var coordSys = graphSeries.coordinateSystem;\n\n    if (coordSys && coordSys.type !== 'view') {\n      return;\n    }\n\n    if (graphSeries.get('layout') === 'force') {\n      var preservedPoints = graphSeries.preservedPoints || {};\n      var graph = graphSeries.getGraph();\n      var nodeData = graph.data;\n      var edgeData = graph.edgeData;\n      var forceModel = graphSeries.getModel('force');\n      var initLayout = forceModel.get('initLayout');\n\n      if (graphSeries.preservedPoints) {\n        nodeData.each(function (idx) {\n          var id = nodeData.getId(idx);\n          nodeData.setItemLayout(idx, preservedPoints[id] || [NaN, NaN]);\n        });\n      } else if (!initLayout || initLayout === 'none') {\n        simpleLayout(graphSeries);\n      } else if (initLayout === 'circular') {\n        circularLayout(graphSeries, 'value');\n      }\n\n      var nodeDataExtent = nodeData.getDataExtent('value');\n      var edgeDataExtent = edgeData.getDataExtent('value'); // var edgeDataExtent = edgeData.getDataExtent('value');\n\n      var repulsion = forceModel.get('repulsion');\n      var edgeLength = forceModel.get('edgeLength');\n\n      if (!zrUtil.isArray(repulsion)) {\n        repulsion = [repulsion, repulsion];\n      }\n\n      if (!zrUtil.isArray(edgeLength)) {\n        edgeLength = [edgeLength, edgeLength];\n      } // Larger value has smaller length\n\n\n      edgeLength = [edgeLength[1], edgeLength[0]];\n      var nodes = nodeData.mapArray('value', function (value, idx) {\n        var point = nodeData.getItemLayout(idx);\n        var rep = linearMap(value, nodeDataExtent, repulsion);\n\n        if (isNaN(rep)) {\n          rep = (repulsion[0] + repulsion[1]) / 2;\n        }\n\n        return {\n          w: rep,\n          rep: rep,\n          fixed: nodeData.getItemModel(idx).get('fixed'),\n          p: !point || isNaN(point[0]) || isNaN(point[1]) ? null : point\n        };\n      });\n      var edges = edgeData.mapArray('value', function (value, idx) {\n        var edge = graph.getEdgeByIndex(idx);\n        var d = linearMap(value, edgeDataExtent, edgeLength);\n\n        if (isNaN(d)) {\n          d = (edgeLength[0] + edgeLength[1]) / 2;\n        }\n\n        var edgeModel = edge.getModel();\n        var curveness = zrUtil.retrieve3(edgeModel.get('lineStyle.curveness'), -getCurvenessForEdge(edge, graphSeries, idx, true), 0);\n        return {\n          n1: nodes[edge.node1.dataIndex],\n          n2: nodes[edge.node2.dataIndex],\n          d: d,\n          curveness: curveness,\n          ignoreForceLayout: edgeModel.get('ignoreForceLayout')\n        };\n      });\n      var coordSys = graphSeries.coordinateSystem;\n      var rect = coordSys.getBoundingRect();\n      var forceInstance = forceLayout(nodes, edges, {\n        rect: rect,\n        gravity: forceModel.get('gravity'),\n        friction: forceModel.get('friction')\n      });\n      var oldStep = forceInstance.step;\n\n      forceInstance.step = function (cb) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (nodes[i].fixed) {\n            // Write back to layout instance\n            vec2.copy(nodes[i].p, graph.getNodeByIndex(i).getLayout());\n          }\n        }\n\n        oldStep(function (nodes, edges, stopped) {\n          for (var i = 0, l = nodes.length; i < l; i++) {\n            if (!nodes[i].fixed) {\n              graph.getNodeByIndex(i).setLayout(nodes[i].p);\n            }\n\n            preservedPoints[nodeData.getId(i)] = nodes[i].p;\n          }\n\n          for (var i = 0, l = edges.length; i < l; i++) {\n            var e = edges[i];\n            var edge = graph.getEdgeByIndex(i);\n            var p1 = e.n1.p;\n            var p2 = e.n2.p;\n            var points = edge.getLayout();\n            points = points ? points.slice() : [];\n            points[0] = points[0] || [];\n            points[1] = points[1] || [];\n            vec2.copy(points[0], p1);\n            vec2.copy(points[1], p2);\n\n            if (+e.curveness) {\n              points[2] = [(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * e.curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * e.curveness];\n            }\n\n            edge.setLayout(points);\n          } // Update layout\n\n\n          cb && cb(stopped);\n        });\n      };\n\n      graphSeries.forceLayout = forceInstance;\n      graphSeries.preservedPoints = preservedPoints; // Step to get the layout\n\n      forceInstance.step();\n    } else {\n      // Remove prev injected forceLayout instance\n      graphSeries.forceLayout = null;\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {\n  var axis = axisModel.axis;\n\n  if (axis.scale.isBlank()) {\n    return;\n  }\n\n  var splitAreaModel = axisModel.getModel('splitArea');\n  var areaStyleModel = splitAreaModel.getModel('areaStyle');\n  var areaColors = areaStyleModel.get('color');\n  var gridRect = gridModel.coordinateSystem.getRect();\n  var ticksCoords = axis.getTicksCoords({\n    tickModel: splitAreaModel,\n    clamp: true\n  });\n\n  if (!ticksCoords.length) {\n    return;\n  } // For Making appropriate splitArea animation, the color and anid\n  // should be corresponding to previous one if possible.\n\n\n  var areaColorsLen = areaColors.length;\n  var lastSplitAreaColors = axisView.__splitAreaColors;\n  var newSplitAreaColors = zrUtil.createHashMap();\n  var colorIndex = 0;\n\n  if (lastSplitAreaColors) {\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\n\n      if (cIndex != null) {\n        colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\n        break;\n      }\n    }\n  }\n\n  var prev = axis.toGlobalCoord(ticksCoords[0].coord);\n  var areaStyle = areaStyleModel.getAreaStyle();\n  areaColors = zrUtil.isArray(areaColors) ? areaColors : [areaColors];\n\n  for (var i = 1; i < ticksCoords.length; i++) {\n    var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n    var x;\n    var y;\n    var width;\n    var height;\n\n    if (axis.isHorizontal()) {\n      x = prev;\n      y = gridRect.y;\n      width = tickCoord - x;\n      height = gridRect.height;\n      prev = x + width;\n    } else {\n      x = gridRect.x;\n      y = prev;\n      width = gridRect.width;\n      height = tickCoord - y;\n      prev = y + height;\n    }\n\n    var tickValue = ticksCoords[i - 1].tickValue;\n    tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\n    axisGroup.add(new graphic.Rect({\n      anid: tickValue != null ? 'area_' + tickValue : null,\n      shape: {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      },\n      style: zrUtil.defaults({\n        fill: areaColors[colorIndex]\n      }, areaStyle),\n      silent: true\n    }));\n    colorIndex = (colorIndex + 1) % areaColorsLen;\n  }\n\n  axisView.__splitAreaColors = newSplitAreaColors;\n}\n\nfunction rectCoordAxisHandleRemove(axisView) {\n  axisView.__splitAreaColors = null;\n}\n\nexports.rectCoordAxisBuildSplitArea = rectCoordAxisBuildSplitArea;\nexports.rectCoordAxisHandleRemove = rectCoordAxisHandleRemove;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\nvar each = _util.each;\nvar map = _util.map;\nvar indexOf = _util.indexOf;\nvar retrieve = _util.retrieve;\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar createScaleByModel = _axisHelper.createScaleByModel;\nvar ifAxisCrossZero = _axisHelper.ifAxisCrossZero;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\nvar estimateLabelUnionRect = _axisHelper.estimateLabelUnionRect;\n\nvar Cartesian2D = require(\"./Cartesian2D\");\n\nvar Axis2D = require(\"./Axis2D\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar getStackedDimension = _dataStackHelper.getStackedDimension;\n\nrequire(\"./GridModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\n// Depends on GridModel, AxisModel, which performs preprocess.\n\n/**\n * Check if the axis is used in the specified grid\n * @inner\n */\nfunction isAxisUsedInTheGrid(axisModel, gridModel, ecModel) {\n  return axisModel.getCoordSysModel() === gridModel;\n}\n\nfunction Grid(gridModel, ecModel, api) {\n  /**\n   * @type {Object.<string, module:echarts/coord/cartesian/Cartesian2D>}\n   * @private\n   */\n  this._coordsMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Cartesian>}\n   * @private\n   */\n\n  this._coordsList = [];\n  /**\n   * @type {Object.<string, Array.<module:echarts/coord/cartesian/Axis2D>>}\n   * @private\n   */\n\n  this._axesMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Axis2D>}\n   * @private\n   */\n\n  this._axesList = [];\n\n  this._initCartesian(gridModel, ecModel, api);\n\n  this.model = gridModel;\n}\n\nvar gridProto = Grid.prototype;\ngridProto.type = 'grid';\ngridProto.axisPointerEnabled = true;\n\ngridProto.getRect = function () {\n  return this._rect;\n};\n\ngridProto.update = function (ecModel, api) {\n  var axesMap = this._axesMap;\n\n  this._updateScale(ecModel, this.model);\n\n  each(axesMap.x, function (xAxis) {\n    niceScaleExtent(xAxis.scale, xAxis.model);\n  });\n  each(axesMap.y, function (yAxis) {\n    niceScaleExtent(yAxis.scale, yAxis.model);\n  }); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n\n  var onZeroRecords = {};\n  each(axesMap.x, function (xAxis) {\n    fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n  });\n  each(axesMap.y, function (yAxis) {\n    fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n  }); // Resize again if containLabel is enabled\n  // FIXME It may cause getting wrong grid size in data processing stage\n\n  this.resize(this.model, api);\n};\n\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis, onZeroRecords) {\n  axis.getAxesOnZeroOf = function () {\n    // TODO: onZero of multiple axes.\n    return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n  }; // onZero can not be enabled in these two situations:\n  // 1. When any other axis is a category axis.\n  // 2. When no axis is cross 0 point.\n\n\n  var otherAxes = axesMap[otherAxisDim];\n  var otherAxisOnZeroOf;\n  var axisModel = axis.model;\n  var onZero = axisModel.get('axisLine.onZero');\n  var onZeroAxisIndex = axisModel.get('axisLine.onZeroAxisIndex');\n\n  if (!onZero) {\n    return;\n  } // If target axis is specified.\n\n\n  if (onZeroAxisIndex != null) {\n    if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n      otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n    }\n  } else {\n    // Find the first available other axis.\n    for (var idx in otherAxes) {\n      if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\n      // if both onZero, the two Y axes overlap.\n      && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n        otherAxisOnZeroOf = otherAxes[idx];\n        break;\n      }\n    }\n  }\n\n  if (otherAxisOnZeroOf) {\n    onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n  }\n\n  function getOnZeroRecordKey(axis) {\n    return axis.dim + '_' + axis.index;\n  }\n}\n\nfunction canOnZeroToAxis(axis) {\n  return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero(axis);\n}\n/**\n * Resize the grid\n * @param {module:echarts/coord/cartesian/GridModel} gridModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\ngridProto.resize = function (gridModel, api, ignoreContainLabel) {\n  var gridRect = getLayoutRect(gridModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n  this._rect = gridRect;\n  var axesList = this._axesList;\n  adjustAxes(); // Minus label size\n\n  if (!ignoreContainLabel && gridModel.get('containLabel')) {\n    each(axesList, function (axis) {\n      if (!axis.model.get('axisLabel.inside')) {\n        var labelUnionRect = estimateLabelUnionRect(axis);\n\n        if (labelUnionRect) {\n          var dim = axis.isHorizontal() ? 'height' : 'width';\n          var margin = axis.model.get('axisLabel.margin');\n          gridRect[dim] -= labelUnionRect[dim] + margin;\n\n          if (axis.position === 'top') {\n            gridRect.y += labelUnionRect.height + margin;\n          } else if (axis.position === 'left') {\n            gridRect.x += labelUnionRect.width + margin;\n          }\n        }\n      }\n    });\n    adjustAxes();\n  }\n\n  function adjustAxes() {\n    each(axesList, function (axis) {\n      var isHorizontal = axis.isHorizontal();\n      var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(extent[idx], extent[1 - idx]);\n      updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n    });\n  }\n};\n/**\n * @param {string} axisType\n * @param {number} [axisIndex]\n */\n\n\ngridProto.getAxis = function (axisType, axisIndex) {\n  var axesMapOnDim = this._axesMap[axisType];\n\n  if (axesMapOnDim != null) {\n    if (axisIndex == null) {\n      // Find first axis\n      for (var name in axesMapOnDim) {\n        if (axesMapOnDim.hasOwnProperty(name)) {\n          return axesMapOnDim[name];\n        }\n      }\n    }\n\n    return axesMapOnDim[axisIndex];\n  }\n};\n/**\n * @return {Array.<module:echarts/coord/Axis>}\n */\n\n\ngridProto.getAxes = function () {\n  return this._axesList.slice();\n};\n/**\n * Usage:\n *      grid.getCartesian(xAxisIndex, yAxisIndex);\n *      grid.getCartesian(xAxisIndex);\n *      grid.getCartesian(null, yAxisIndex);\n *      grid.getCartesian({xAxisIndex: ..., yAxisIndex: ...});\n *\n * @param {number|Object} [xAxisIndex]\n * @param {number} [yAxisIndex]\n */\n\n\ngridProto.getCartesian = function (xAxisIndex, yAxisIndex) {\n  if (xAxisIndex != null && yAxisIndex != null) {\n    var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n    return this._coordsMap[key];\n  }\n\n  if (isObject(xAxisIndex)) {\n    yAxisIndex = xAxisIndex.yAxisIndex;\n    xAxisIndex = xAxisIndex.xAxisIndex;\n  } // When only xAxisIndex or yAxisIndex given, find its first cartesian.\n\n\n  for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n    if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n      return coordList[i];\n    }\n  }\n};\n\ngridProto.getCartesians = function () {\n  return this._coordsList.slice();\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertToPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertFromPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n};\n/**\n * @inner\n */\n\n\ngridProto._findConvertTarget = function (ecModel, finder) {\n  var seriesModel = finder.seriesModel;\n  var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis')[0];\n  var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis')[0];\n  var gridModel = finder.gridModel;\n  var coordsList = this._coordsList;\n  var cartesian;\n  var axis;\n\n  if (seriesModel) {\n    cartesian = seriesModel.coordinateSystem;\n    indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n  } else if (xAxisModel && yAxisModel) {\n    cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  } else if (xAxisModel) {\n    axis = this.getAxis('x', xAxisModel.componentIndex);\n  } else if (yAxisModel) {\n    axis = this.getAxis('y', yAxisModel.componentIndex);\n  } // Lowest priority.\n  else if (gridModel) {\n      var grid = gridModel.coordinateSystem;\n\n      if (grid === this) {\n        cartesian = this._coordsList[0];\n      }\n    }\n\n  return {\n    cartesian: cartesian,\n    axis: axis\n  };\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.containPoint = function (point) {\n  var coord = this._coordsList[0];\n\n  if (coord) {\n    return coord.containPoint(point);\n  }\n};\n/**\n * Initialize cartesian coordinate systems\n * @private\n */\n\n\ngridProto._initCartesian = function (gridModel, ecModel, api) {\n  var axisPositionUsed = {\n    left: false,\n    right: false,\n    top: false,\n    bottom: false\n  };\n  var axesMap = {\n    x: {},\n    y: {}\n  };\n  var axesCount = {\n    x: 0,\n    y: 0\n  }; /// Create axis\n\n  ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n  ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n  if (!axesCount.x || !axesCount.y) {\n    // Roll back when there no either x or y axis\n    this._axesMap = {};\n    this._axesList = [];\n    return;\n  }\n\n  this._axesMap = axesMap; /// Create cartesian2d\n\n  each(axesMap.x, function (xAxis, xAxisIndex) {\n    each(axesMap.y, function (yAxis, yAxisIndex) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      var cartesian = new Cartesian2D(key);\n      cartesian.grid = this;\n      cartesian.model = gridModel;\n      this._coordsMap[key] = cartesian;\n\n      this._coordsList.push(cartesian);\n\n      cartesian.addAxis(xAxis);\n      cartesian.addAxis(yAxis);\n    }, this);\n  }, this);\n\n  function createAxisCreator(axisType) {\n    return function (axisModel, idx) {\n      if (!isAxisUsedInTheGrid(axisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var axisPosition = axisModel.get('position');\n\n      if (axisType === 'x') {\n        // Fix position\n        if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n          // Default bottom of X\n          axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n        }\n      } else {\n        // Fix position\n        if (axisPosition !== 'left' && axisPosition !== 'right') {\n          // Default left of Y\n          axisPosition = axisPositionUsed.left ? 'right' : 'left';\n        }\n      }\n\n      axisPositionUsed[axisPosition] = true;\n      var axis = new Axis2D(axisType, createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\n\n      axisModel.axis = axis; // Inject axisModel into axis\n\n      axis.model = axisModel; // Inject grid info axis\n\n      axis.grid = this; // Index of axis, can be used as key\n\n      axis.index = idx;\n\n      this._axesList.push(axis);\n\n      axesMap[axisType][idx] = axis;\n      axesCount[axisType]++;\n    };\n  }\n};\n/**\n * Update cartesian properties from series\n * @param  {module:echarts/model/Option} option\n * @private\n */\n\n\ngridProto._updateScale = function (ecModel, gridModel) {\n  // Reset scale\n  each(this._axesList, function (axis) {\n    axis.scale.setExtent(Infinity, -Infinity);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (isCartesian2D(seriesModel)) {\n      var axesModels = findAxesModels(seriesModel, ecModel);\n      var xAxisModel = axesModels[0];\n      var yAxisModel = axesModels[1];\n\n      if (!isAxisUsedInTheGrid(xAxisModel, gridModel, ecModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n      var data = seriesModel.getData();\n      var xAxis = cartesian.getAxis('x');\n      var yAxis = cartesian.getAxis('y');\n\n      if (data.type === 'list') {\n        unionExtent(data, xAxis, seriesModel);\n        unionExtent(data, yAxis, seriesModel);\n      }\n    }\n  }, this);\n\n  function unionExtent(data, axis, seriesModel) {\n    each(data.mapDimension(axis.dim, true), function (dim) {\n      axis.scale.unionExtentFromData( // For example, the extent of the orginal dimension\n      // is [0.1, 0.5], the extent of the `stackResultDimension`\n      // is [7, 9], the final extent should not include [0.1, 0.5].\n      data, getStackedDimension(data, dim));\n    });\n  }\n};\n/**\n * @param {string} [dim] 'x' or 'y' or 'auto' or null/undefined\n * @return {Object} {baseAxes: [], otherAxes: []}\n */\n\n\ngridProto.getTooltipAxes = function (dim) {\n  var baseAxes = [];\n  var otherAxes = [];\n  each(this.getCartesians(), function (cartesian) {\n    var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n    var otherAxis = cartesian.getOtherAxis(baseAxis);\n    indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n    indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n  });\n  return {\n    baseAxes: baseAxes,\n    otherAxes: otherAxes\n  };\n};\n/**\n * @inner\n */\n\n\nfunction updateAxisTransform(axis, coordBase) {\n  var axisExtent = axis.getExtent();\n  var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n    return coord + coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n    return coord - coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n}\n\nvar axesTypes = ['xAxis', 'yAxis'];\n/**\n * @inner\n */\n\nfunction findAxesModels(seriesModel, ecModel) {\n  return map(axesTypes, function (axisType) {\n    var axisModel = seriesModel.getReferringComponents(axisType)[0];\n    return axisModel;\n  });\n}\n/**\n * @inner\n */\n\n\nfunction isCartesian2D(seriesModel) {\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\n\nGrid.create = function (ecModel, api) {\n  var grids = [];\n  ecModel.eachComponent('grid', function (gridModel, idx) {\n    var grid = new Grid(gridModel, ecModel, api);\n    grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n    // should be performed in create stage.\n\n    grid.resize(gridModel, api, true);\n    gridModel.coordinateSystem = grid;\n    grids.push(grid);\n  }); // Inject the coordinateSystems into seriesModel\n\n  ecModel.eachSeries(function (seriesModel) {\n    if (!isCartesian2D(seriesModel)) {\n      return;\n    }\n\n    var axesModels = findAxesModels(seriesModel, ecModel);\n    var xAxisModel = axesModels[0];\n    var yAxisModel = axesModels[1];\n    var gridModel = xAxisModel.getCoordSysModel();\n    var grid = gridModel.coordinateSystem;\n    seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  });\n  return grids;\n}; // For deciding which dimensions to use when creating list data\n\n\nGrid.dimensions = Grid.prototype.dimensions = Cartesian2D.prototype.dimensions;\nCoordinateSystem.register('cartesian2d', Grid);\nvar _default = Grid;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./heatmap/HeatmapSeries\");\n\nrequire(\"./heatmap/HeatmapView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _listComponent = require(\"../helper/listComponent\");\n\nvar makeBackground = _listComponent.makeBackground;\n\nvar layoutUtil = require(\"../../util/layout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar _default = echarts.extendComponentView({\n  type: 'legend.plain',\n  newlineDisabled: false,\n\n  /**\n   * @override\n   */\n  init: function () {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this.group.add(this._contentGroup = new Group());\n    /**\n     * @private\n     * @type {module:zrender/Element}\n     */\n\n    this._backgroundEl;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this.group.add(this._selectorGroup = new Group());\n    /**\n     * If first rendering, `contentGroup.position` is [0, 0], which\n     * does not make sense and may cause unexepcted animation if adopted.\n     * @private\n     * @type {boolean}\n     */\n\n    this._isFirstRender = true;\n  },\n\n  /**\n   * @protected\n   */\n  getContentGroup: function () {\n    return this._contentGroup;\n  },\n\n  /**\n   * @protected\n   */\n  getSelectorGroup: function () {\n    return this._selectorGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    }\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  },\n\n  /**\n   * @protected\n   */\n  resetInner: function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  },\n\n  /**\n   * @protected\n   */\n  renderInner: function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (itemModel, dataIndex) {\n      var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        contentGroup.add(new Group({\n          newline: true\n        }));\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Legend to control series.\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var color = data.getVisual('color');\n        var borderColor = data.getVisual('borderColor'); // If color is a callback function\n\n        if (typeof color === 'function') {\n          // Use the first data\n          color = color(seriesModel.getDataParams(0));\n        } // If borderColor is a callback function\n\n\n        if (typeof borderColor === 'function') {\n          // Use the first data\n          borderColor = borderColor(seriesModel.getDataParams(0));\n        } // Using rect symbol defaultly\n\n\n        var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n        var symbolType = data.getVisual('symbol');\n\n        var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n\n            if (!provider.containName(name)) {\n              return;\n            }\n\n            var idx = provider.indexOfName(name);\n            var color = provider.getItemVisual(idx, 'color');\n            var borderColor = provider.getItemVisual(idx, 'borderColor');\n            var legendSymbolType = 'roundRect';\n\n            var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, borderColor, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n    }, this);\n\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  },\n  _createSelector: function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function (selectorItem) {\n      createSelectorButton(selectorItem);\n    });\n\n    function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel('emphasis.selectorLabel');\n      graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, emphasisLabelModel, {\n        defaultText: selectorItem.title,\n        isRectText: false\n      });\n      graphic.setHoverStyle(labelText);\n    }\n  },\n  _createItem: function (name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode) {\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var inactiveColor = legendModel.get('inactiveColor');\n    var inactiveBorderColor = legendModel.get('inactiveBorderColor');\n    var symbolKeepAspect = legendModel.get('symbolKeepAspect');\n    var legendModelItemStyle = legendModel.getModel('itemStyle');\n    var isSelected = legendModel.isSelected(name);\n    var itemGroup = new Group();\n    var textStyleModel = itemModel.getModel('textStyle');\n    var itemIcon = itemModel.get('icon');\n    var tooltipModel = itemModel.getModel('tooltip');\n    var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n    legendSymbolType = itemIcon || legendSymbolType;\n    var legendSymbol = createSymbol(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n    symbolKeepAspect == null ? true : symbolKeepAspect);\n    itemGroup.add(setSymbolStyle(legendSymbol, legendSymbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected)); // Compose symbols\n    // PENDING\n\n    if (!itemIcon && symbolType // At least show one symbol, can't be all none\n    && (symbolType !== legendSymbolType || symbolType === 'none')) {\n      var size = itemHeight * 0.8;\n\n      if (symbolType === 'none') {\n        symbolType = 'circle';\n      }\n\n      var legendSymbolCenter = createSymbol(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n      symbolKeepAspect == null ? true : symbolKeepAspect); // Put symbol in the center\n\n      itemGroup.add(setSymbolStyle(legendSymbolCenter, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    itemGroup.add(new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        textAlign: textAlign,\n        textVerticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true,\n      tooltip: tooltipModel.get('show') ? zrUtil.extend({\n        content: name,\n        // Defaul formatter\n        formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n          return name;\n        },\n        formatterParams: {\n          componentType: 'legend',\n          legendIndex: legendModel.componentIndex,\n          name: name,\n          $vars: ['name']\n        }\n      }, tooltipModel.option) : null\n    });\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    graphic.setHoverStyle(itemGroup);\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  },\n\n  /**\n   * @protected\n   */\n  layoutInner: function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } //Always align selector to content as 'middle'\n\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.attr('position', selectorPos);\n      contentGroup.attr('position', contentPos);\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.attr('position', contentPos);\n      return this.group.getBoundingRect();\n    }\n  },\n\n  /**\n   * @protected\n   */\n  remove: function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  }\n});\n\nfunction setSymbolStyle(symbol, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected) {\n  var itemStyle;\n\n  if (symbolType !== 'line' && symbolType.indexOf('empty') < 0) {\n    itemStyle = legendModelItemStyle.getItemStyle();\n    symbol.style.stroke = borderColor;\n\n    if (!isSelected) {\n      itemStyle.stroke = inactiveBorderColor;\n    }\n  } else {\n    itemStyle = legendModelItemStyle.getItemStyle(['borderWidth', 'borderColor']);\n  }\n\n  return symbol.setStyle(itemStyle);\n}\n\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar zrColor = require(\"zrender/lib/tool/color\");\n\nvar _number = require(\"../util/number\");\n\nvar linearMap = _number.linearMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar CATEGORY_DEFAULT_VISUAL_INDEX = -1;\n/**\n * @param {Object} option\n * @param {string} [option.type] See visualHandlers.\n * @param {string} [option.mappingMethod] 'linear' or 'piecewise' or 'category' or 'fixed'\n * @param {Array.<number>=} [option.dataExtent] [minExtent, maxExtent],\n *                                              required when mappingMethod is 'linear'\n * @param {Array.<Object>=} [option.pieceList] [\n *                                             {value: someValue},\n *                                             {interval: [min1, max1], visual: {...}},\n *                                             {interval: [min2, max2]}\n *                                             ],\n *                                            required when mappingMethod is 'piecewise'.\n *                                            Visual for only each piece can be specified.\n * @param {Array.<string|Object>=} [option.categories] ['cate1', 'cate2']\n *                                            required when mappingMethod is 'category'.\n *                                            If no option.categories, categories is set\n *                                            as [0, 1, 2, ...].\n * @param {boolean} [option.loop=false] Whether loop mapping when mappingMethod is 'category'.\n * @param {(Array|Object|*)} [option.visual]  Visual data.\n *                                            when mappingMethod is 'category',\n *                                            visual data can be array or object\n *                                            (like: {cate1: '#222', none: '#fff'})\n *                                            or primary types (which represents\n *                                            default category visual), otherwise visual\n *                                            can be array or primary (which will be\n *                                            normalized to array).\n *\n */\n\nvar VisualMapping = function (option) {\n  var mappingMethod = option.mappingMethod;\n  var visualType = option.type;\n  /**\n   * @readOnly\n   * @type {Object}\n   */\n\n  var thisOption = this.option = zrUtil.clone(option);\n  /**\n   * @readOnly\n   * @type {string}\n   */\n\n  this.type = visualType;\n  /**\n   * @readOnly\n   * @type {string}\n   */\n\n  this.mappingMethod = mappingMethod;\n  /**\n   * @private\n   * @type {Function}\n   */\n\n  this._normalizeData = normalizers[mappingMethod];\n  var visualHandler = visualHandlers[visualType];\n  /**\n   * @public\n   * @type {Function}\n   */\n\n  this.applyVisual = visualHandler.applyVisual;\n  /**\n   * @public\n   * @type {Function}\n   */\n\n  this.getColorMapper = visualHandler.getColorMapper;\n  /**\n   * @private\n   * @type {Function}\n   */\n\n  this._doMap = visualHandler._doMap[mappingMethod];\n\n  if (mappingMethod === 'piecewise') {\n    normalizeVisualRange(thisOption);\n    preprocessForPiecewise(thisOption);\n  } else if (mappingMethod === 'category') {\n    thisOption.categories ? preprocessForSpecifiedCategory(thisOption) // categories is ordinal when thisOption.categories not specified,\n    // which need no more preprocess except normalize visual.\n    : normalizeVisualRange(thisOption, true);\n  } else {\n    // mappingMethod === 'linear' or 'fixed'\n    zrUtil.assert(mappingMethod !== 'linear' || thisOption.dataExtent);\n    normalizeVisualRange(thisOption);\n  }\n};\n\nVisualMapping.prototype = {\n  constructor: VisualMapping,\n  mapValueToVisual: function (value) {\n    var normalized = this._normalizeData(value);\n\n    return this._doMap(normalized, value);\n  },\n  getNormalizer: function () {\n    return zrUtil.bind(this._normalizeData, this);\n  }\n};\nvar visualHandlers = VisualMapping.visualHandlers = {\n  color: {\n    applyVisual: makeApplyVisual('color'),\n\n    /**\n     * Create a mapper function\n     * @return {Function}\n     */\n    getColorMapper: function () {\n      var thisOption = this.option;\n      return zrUtil.bind(thisOption.mappingMethod === 'category' ? function (value, isNormalized) {\n        !isNormalized && (value = this._normalizeData(value));\n        return doMapCategory.call(this, value);\n      } : function (value, isNormalized, out) {\n        // If output rgb array\n        // which will be much faster and useful in pixel manipulation\n        var returnRGBArray = !!out;\n        !isNormalized && (value = this._normalizeData(value));\n        out = zrColor.fastLerp(value, thisOption.parsedVisual, out);\n        return returnRGBArray ? out : zrColor.stringify(out, 'rgba');\n      }, this);\n    },\n    _doMap: {\n      linear: function (normalized) {\n        return zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n      },\n      category: doMapCategory,\n      piecewise: function (normalized, value) {\n        var result = getSpecifiedVisual.call(this, value);\n\n        if (result == null) {\n          result = zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n        }\n\n        return result;\n      },\n      fixed: doMapFixed\n    }\n  },\n  colorHue: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, value);\n  }),\n  colorSaturation: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, null, value);\n  }),\n  colorLightness: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, null, null, value);\n  }),\n  colorAlpha: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyAlpha(color, value);\n  }),\n  opacity: {\n    applyVisual: makeApplyVisual('opacity'),\n    _doMap: makeDoMap([0, 1])\n  },\n  liftZ: {\n    applyVisual: makeApplyVisual('liftZ'),\n    _doMap: {\n      linear: doMapFixed,\n      category: doMapFixed,\n      piecewise: doMapFixed,\n      fixed: doMapFixed\n    }\n  },\n  symbol: {\n    applyVisual: function (value, getter, setter) {\n      var symbolCfg = this.mapValueToVisual(value);\n\n      if (zrUtil.isString(symbolCfg)) {\n        setter('symbol', symbolCfg);\n      } else if (isObject(symbolCfg)) {\n        for (var name in symbolCfg) {\n          if (symbolCfg.hasOwnProperty(name)) {\n            setter(name, symbolCfg[name]);\n          }\n        }\n      }\n    },\n    _doMap: {\n      linear: doMapToArray,\n      category: doMapCategory,\n      piecewise: function (normalized, value) {\n        var result = getSpecifiedVisual.call(this, value);\n\n        if (result == null) {\n          result = doMapToArray.call(this, normalized);\n        }\n\n        return result;\n      },\n      fixed: doMapFixed\n    }\n  },\n  symbolSize: {\n    applyVisual: makeApplyVisual('symbolSize'),\n    _doMap: makeDoMap([0, 1])\n  }\n};\n\nfunction preprocessForPiecewise(thisOption) {\n  var pieceList = thisOption.pieceList;\n  thisOption.hasSpecialVisual = false;\n  zrUtil.each(pieceList, function (piece, index) {\n    piece.originIndex = index; // piece.visual is \"result visual value\" but not\n    // a visual range, so it does not need to be normalized.\n\n    if (piece.visual != null) {\n      thisOption.hasSpecialVisual = true;\n    }\n  });\n}\n\nfunction preprocessForSpecifiedCategory(thisOption) {\n  // Hash categories.\n  var categories = thisOption.categories;\n  var visual = thisOption.visual;\n  var categoryMap = thisOption.categoryMap = {};\n  each(categories, function (cate, index) {\n    categoryMap[cate] = index;\n  }); // Process visual map input.\n\n  if (!zrUtil.isArray(visual)) {\n    var visualArr = [];\n\n    if (zrUtil.isObject(visual)) {\n      each(visual, function (v, cate) {\n        var index = categoryMap[cate];\n        visualArr[index != null ? index : CATEGORY_DEFAULT_VISUAL_INDEX] = v;\n      });\n    } else {\n      // Is primary type, represents default visual.\n      visualArr[CATEGORY_DEFAULT_VISUAL_INDEX] = visual;\n    }\n\n    visual = setVisualToOption(thisOption, visualArr);\n  } // Remove categories that has no visual,\n  // then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.\n\n\n  for (var i = categories.length - 1; i >= 0; i--) {\n    if (visual[i] == null) {\n      delete categoryMap[categories[i]];\n      categories.pop();\n    }\n  }\n}\n\nfunction normalizeVisualRange(thisOption, isCategory) {\n  var visual = thisOption.visual;\n  var visualArr = [];\n\n  if (zrUtil.isObject(visual)) {\n    each(visual, function (v) {\n      visualArr.push(v);\n    });\n  } else if (visual != null) {\n    visualArr.push(visual);\n  }\n\n  var doNotNeedPair = {\n    color: 1,\n    symbol: 1\n  };\n\n  if (!isCategory && visualArr.length === 1 && !doNotNeedPair.hasOwnProperty(thisOption.type)) {\n    // Do not care visualArr.length === 0, which is illegal.\n    visualArr[1] = visualArr[0];\n  }\n\n  setVisualToOption(thisOption, visualArr);\n}\n\nfunction makePartialColorVisualHandler(applyValue) {\n  return {\n    applyVisual: function (value, getter, setter) {\n      value = this.mapValueToVisual(value); // Must not be array value\n\n      setter('color', applyValue(getter('color'), value));\n    },\n    _doMap: makeDoMap([0, 1])\n  };\n}\n\nfunction doMapToArray(normalized) {\n  var visual = this.option.visual;\n  return visual[Math.round(linearMap(normalized, [0, 1], [0, visual.length - 1], true))] || {};\n}\n\nfunction makeApplyVisual(visualType) {\n  return function (value, getter, setter) {\n    setter(visualType, this.mapValueToVisual(value));\n  };\n}\n\nfunction doMapCategory(normalized) {\n  var visual = this.option.visual;\n  return visual[this.option.loop && normalized !== CATEGORY_DEFAULT_VISUAL_INDEX ? normalized % visual.length : normalized];\n}\n\nfunction doMapFixed() {\n  return this.option.visual[0];\n}\n\nfunction makeDoMap(sourceExtent) {\n  return {\n    linear: function (normalized) {\n      return linearMap(normalized, sourceExtent, this.option.visual, true);\n    },\n    category: doMapCategory,\n    piecewise: function (normalized, value) {\n      var result = getSpecifiedVisual.call(this, value);\n\n      if (result == null) {\n        result = linearMap(normalized, sourceExtent, this.option.visual, true);\n      }\n\n      return result;\n    },\n    fixed: doMapFixed\n  };\n}\n\nfunction getSpecifiedVisual(value) {\n  var thisOption = this.option;\n  var pieceList = thisOption.pieceList;\n\n  if (thisOption.hasSpecialVisual) {\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList);\n    var piece = pieceList[pieceIndex];\n\n    if (piece && piece.visual) {\n      return piece.visual[this.type];\n    }\n  }\n}\n\nfunction setVisualToOption(thisOption, visualArr) {\n  thisOption.visual = visualArr;\n\n  if (thisOption.type === 'color') {\n    thisOption.parsedVisual = zrUtil.map(visualArr, function (item) {\n      return zrColor.parse(item);\n    });\n  }\n\n  return visualArr;\n}\n/**\n * Normalizers by mapping methods.\n */\n\n\nvar normalizers = {\n  linear: function (value) {\n    return linearMap(value, this.option.dataExtent, [0, 1], true);\n  },\n  piecewise: function (value) {\n    var pieceList = this.option.pieceList;\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList, true);\n\n    if (pieceIndex != null) {\n      return linearMap(pieceIndex, [0, pieceList.length - 1], [0, 1], true);\n    }\n  },\n  category: function (value) {\n    var index = this.option.categories ? this.option.categoryMap[value] : value; // ordinal\n\n    return index == null ? CATEGORY_DEFAULT_VISUAL_INDEX : index;\n  },\n  fixed: zrUtil.noop\n};\n/**\n * List available visual types.\n *\n * @public\n * @return {Array.<string>}\n */\n\nVisualMapping.listVisualTypes = function () {\n  var visualTypes = [];\n  zrUtil.each(visualHandlers, function (handler, key) {\n    visualTypes.push(key);\n  });\n  return visualTypes;\n};\n/**\n * @public\n */\n\n\nVisualMapping.addVisualHandler = function (name, handler) {\n  visualHandlers[name] = handler;\n};\n/**\n * @public\n */\n\n\nVisualMapping.isValidType = function (visualType) {\n  return visualHandlers.hasOwnProperty(visualType);\n};\n/**\n * Convinent method.\n * Visual can be Object or Array or primary type.\n *\n * @public\n */\n\n\nVisualMapping.eachVisual = function (visual, callback, context) {\n  if (zrUtil.isObject(visual)) {\n    zrUtil.each(visual, callback, context);\n  } else {\n    callback.call(context, visual);\n  }\n};\n\nVisualMapping.mapVisual = function (visual, callback, context) {\n  var isPrimary;\n  var newVisual = zrUtil.isArray(visual) ? [] : zrUtil.isObject(visual) ? {} : (isPrimary = true, null);\n  VisualMapping.eachVisual(visual, function (v, key) {\n    var newVal = callback.call(context, v, key);\n    isPrimary ? newVisual = newVal : newVisual[key] = newVal;\n  });\n  return newVisual;\n};\n/**\n * @public\n * @param {Object} obj\n * @return {Object} new object containers visual values.\n *                 If no visuals, return null.\n */\n\n\nVisualMapping.retrieveVisuals = function (obj) {\n  var ret = {};\n  var hasVisual;\n  obj && each(visualHandlers, function (h, visualType) {\n    if (obj.hasOwnProperty(visualType)) {\n      ret[visualType] = obj[visualType];\n      hasVisual = true;\n    }\n  });\n  return hasVisual ? ret : null;\n};\n/**\n * Give order to visual types, considering colorSaturation, colorAlpha depends on color.\n *\n * @public\n * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}\n *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']\n * @return {Array.<string>} Sorted visual types.\n */\n\n\nVisualMapping.prepareVisualTypes = function (visualTypes) {\n  if (isObject(visualTypes)) {\n    var types = [];\n    each(visualTypes, function (item, type) {\n      types.push(type);\n    });\n    visualTypes = types;\n  } else if (zrUtil.isArray(visualTypes)) {\n    visualTypes = visualTypes.slice();\n  } else {\n    return [];\n  }\n\n  visualTypes.sort(function (type1, type2) {\n    // color should be front of colorSaturation, colorAlpha, ...\n    // symbol and symbolSize do not matter.\n    return type2 === 'color' && type1 !== 'color' && type1.indexOf('color') === 0 ? 1 : -1;\n  });\n  return visualTypes;\n};\n/**\n * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.\n * Other visuals are only depends on themself.\n *\n * @public\n * @param {string} visualType1\n * @param {string} visualType2\n * @return {boolean}\n */\n\n\nVisualMapping.dependsOn = function (visualType1, visualType2) {\n  return visualType2 === 'color' ? !!(visualType1 && visualType1.indexOf(visualType2) === 0) : visualType1 === visualType2;\n};\n/**\n * @param {number} value\n * @param {Array.<Object>} pieceList [{value: ..., interval: [min, max]}, ...]\n *                         Always from small to big.\n * @param {boolean} [findClosestWhenOutside=false]\n * @return {number} index\n */\n\n\nVisualMapping.findPieceIndex = function (value, pieceList, findClosestWhenOutside) {\n  var possibleI;\n  var abs = Infinity; // value has the higher priority.\n\n  for (var i = 0, len = pieceList.length; i < len; i++) {\n    var pieceValue = pieceList[i].value;\n\n    if (pieceValue != null) {\n      if (pieceValue === value // FIXME\n      // It is supposed to compare value according to value type of dimension,\n      // but currently value type can exactly be string or number.\n      // Compromise for numeric-like string (like '12'), especially\n      // in the case that visualMap.categories is ['22', '33'].\n      || typeof pieceValue === 'string' && pieceValue === value + '') {\n        return i;\n      }\n\n      findClosestWhenOutside && updatePossible(pieceValue, i);\n    }\n  }\n\n  for (var i = 0, len = pieceList.length; i < len; i++) {\n    var piece = pieceList[i];\n    var interval = piece.interval;\n    var close = piece.close;\n\n    if (interval) {\n      if (interval[0] === -Infinity) {\n        if (littleThan(close[1], value, interval[1])) {\n          return i;\n        }\n      } else if (interval[1] === Infinity) {\n        if (littleThan(close[0], interval[0], value)) {\n          return i;\n        }\n      } else if (littleThan(close[0], interval[0], value) && littleThan(close[1], value, interval[1])) {\n        return i;\n      }\n\n      findClosestWhenOutside && updatePossible(interval[0], i);\n      findClosestWhenOutside && updatePossible(interval[1], i);\n    }\n  }\n\n  if (findClosestWhenOutside) {\n    return value === Infinity ? pieceList.length - 1 : value === -Infinity ? 0 : possibleI;\n  }\n\n  function updatePossible(val, index) {\n    var newAbs = Math.abs(val - value);\n\n    if (newAbs < abs) {\n      abs = newAbs;\n      possibleI = index;\n    }\n  }\n};\n\nfunction littleThan(close, a, b) {\n  return close ? a <= b : a < b;\n}\n\nvar _default = VisualMapping;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar ChartView = require(\"../../view/Chart\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar DEFAULT_SMOOTH = 0.3;\nvar ParallelView = ChartView.extend({\n  type: 'parallel',\n  init: function () {\n    /**\n     * @type {module:zrender/container/Group}\n     * @private\n     */\n    this._dataGroup = new graphic.Group();\n    this.group.add(this._dataGroup);\n    /**\n     * @type {module:echarts/data/List}\n     */\n\n    this._data;\n    /**\n     * @type {boolean}\n     */\n\n    this._initialized;\n  },\n\n  /**\n   * @override\n   */\n  render: function (seriesModel, ecModel, api, payload) {\n    var dataGroup = this._dataGroup;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coordSys = seriesModel.coordinateSystem;\n    var dimensions = coordSys.dimensions;\n    var seriesScope = makeSeriesScope(seriesModel);\n    data.diff(oldData).add(add).update(update).remove(remove).execute();\n\n    function add(newDataIndex) {\n      var line = addEl(data, dataGroup, newDataIndex, dimensions, coordSys);\n      updateElCommon(line, data, newDataIndex, seriesScope);\n    }\n\n    function update(newDataIndex, oldDataIndex) {\n      var line = oldData.getItemGraphicEl(oldDataIndex);\n      var points = createLinePoints(data, newDataIndex, dimensions, coordSys);\n      data.setItemGraphicEl(newDataIndex, line);\n      var animationModel = payload && payload.animation === false ? null : seriesModel;\n      graphic.updateProps(line, {\n        shape: {\n          points: points\n        }\n      }, animationModel, newDataIndex);\n      updateElCommon(line, data, newDataIndex, seriesScope);\n    }\n\n    function remove(oldDataIndex) {\n      var line = oldData.getItemGraphicEl(oldDataIndex);\n      dataGroup.remove(line);\n    } // First create\n\n\n    if (!this._initialized) {\n      this._initialized = true;\n      var clipPath = createGridClipShape(coordSys, seriesModel, function () {\n        // Callback will be invoked immediately if there is no animation\n        setTimeout(function () {\n          dataGroup.removeClipPath();\n        });\n      });\n      dataGroup.setClipPath(clipPath);\n    }\n\n    this._data = data;\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    this._initialized = true;\n    this._data = null;\n\n    this._dataGroup.removeAll();\n  },\n  incrementalRender: function (taskParams, seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var coordSys = seriesModel.coordinateSystem;\n    var dimensions = coordSys.dimensions;\n    var seriesScope = makeSeriesScope(seriesModel);\n\n    for (var dataIndex = taskParams.start; dataIndex < taskParams.end; dataIndex++) {\n      var line = addEl(data, this._dataGroup, dataIndex, dimensions, coordSys);\n      line.incremental = true;\n      updateElCommon(line, data, dataIndex, seriesScope);\n    }\n  },\n  dispose: function () {},\n  // _renderForProgressive: function (seriesModel) {\n  //     var dataGroup = this._dataGroup;\n  //     var data = seriesModel.getData();\n  //     var oldData = this._data;\n  //     var coordSys = seriesModel.coordinateSystem;\n  //     var dimensions = coordSys.dimensions;\n  //     var option = seriesModel.option;\n  //     var progressive = option.progressive;\n  //     var smooth = option.smooth ? SMOOTH : null;\n  //     // In progressive animation is disabled, so use simple data diff,\n  //     // which effects performance less.\n  //     // (Typically performance for data with length 7000+ like:\n  //     // simpleDiff: 60ms, addEl: 184ms,\n  //     // in RMBP 2.4GHz intel i7, OSX 10.9 chrome 50.0.2661.102 (64-bit))\n  //     if (simpleDiff(oldData, data, dimensions)) {\n  //         dataGroup.removeAll();\n  //         data.each(function (dataIndex) {\n  //             addEl(data, dataGroup, dataIndex, dimensions, coordSys);\n  //         });\n  //     }\n  //     updateElCommon(data, progressive, smooth);\n  //     // Consider switch between progressive and not.\n  //     data.__plProgressive = true;\n  //     this._data = data;\n  // },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._dataGroup && this._dataGroup.removeAll();\n    this._data = null;\n  }\n});\n\nfunction createGridClipShape(coordSys, seriesModel, cb) {\n  var parallelModel = coordSys.model;\n  var rect = coordSys.getRect();\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    }\n  });\n  var dim = parallelModel.get('layout') === 'horizontal' ? 'width' : 'height';\n  rectEl.setShape(dim, 0);\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width,\n      height: rect.height\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nfunction createLinePoints(data, dataIndex, dimensions, coordSys) {\n  var points = [];\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimName = dimensions[i];\n    var value = data.get(data.mapDimension(dimName), dataIndex);\n\n    if (!isEmptyValue(value, coordSys.getAxis(dimName).type)) {\n      points.push(coordSys.dataToPoint(value, dimName));\n    }\n  }\n\n  return points;\n}\n\nfunction addEl(data, dataGroup, dataIndex, dimensions, coordSys) {\n  var points = createLinePoints(data, dataIndex, dimensions, coordSys);\n  var line = new graphic.Polyline({\n    shape: {\n      points: points\n    },\n    silent: true,\n    z2: 10\n  });\n  dataGroup.add(line);\n  data.setItemGraphicEl(dataIndex, line);\n  return line;\n}\n\nfunction makeSeriesScope(seriesModel) {\n  var smooth = seriesModel.get('smooth', true);\n  smooth === true && (smooth = DEFAULT_SMOOTH);\n  return {\n    lineStyle: seriesModel.getModel('lineStyle').getLineStyle(),\n    smooth: smooth != null ? smooth : DEFAULT_SMOOTH\n  };\n}\n\nfunction updateElCommon(el, data, dataIndex, seriesScope) {\n  var lineStyle = seriesScope.lineStyle;\n\n  if (data.hasItemOption) {\n    var lineStyleModel = data.getItemModel(dataIndex).getModel('lineStyle');\n    lineStyle = lineStyleModel.getLineStyle();\n  }\n\n  el.useStyle(lineStyle);\n  var elStyle = el.style;\n  elStyle.fill = null; // lineStyle.color have been set to itemVisual in module:echarts/visual/seriesColor.\n\n  elStyle.stroke = data.getItemVisual(dataIndex, 'color'); // lineStyle.opacity have been set to itemVisual in parallelVisual.\n\n  elStyle.opacity = data.getItemVisual(dataIndex, 'opacity');\n  seriesScope.smooth && (el.shape.smooth = seriesScope.smooth);\n} // function simpleDiff(oldData, newData, dimensions) {\n//     var oldLen;\n//     if (!oldData\n//         || !oldData.__plProgressive\n//         || (oldLen = oldData.count()) !== newData.count()\n//     ) {\n//         return true;\n//     }\n//     var dimLen = dimensions.length;\n//     for (var i = 0; i < oldLen; i++) {\n//         for (var j = 0; j < dimLen; j++) {\n//             if (oldData.get(dimensions[j], i) !== newData.get(dimensions[j], i)) {\n//                 return true;\n//             }\n//         }\n//     }\n//     return false;\n// }\n// FIXME\n// ?\n\n\nfunction isEmptyValue(val, axisType) {\n  return axisType === 'category' ? val == null : val == null || isNaN(val); // axisType === 'value'\n}\n\nvar _default = ParallelView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @file Visual mapping.\n */\nvar visualDefault = {\n  /**\n   * @public\n   */\n  get: function (visualType, key, isCategory) {\n    var value = zrUtil.clone((defaultOption[visualType] || {})[key]);\n    return isCategory ? zrUtil.isArray(value) ? value[value.length - 1] : value : value;\n  }\n};\nvar defaultOption = {\n  color: {\n    active: ['#006edd', '#e0ffff'],\n    inactive: ['rgba(0,0,0,0)']\n  },\n  colorHue: {\n    active: [0, 360],\n    inactive: [0, 0]\n  },\n  colorSaturation: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  colorLightness: {\n    active: [0.9, 0.5],\n    inactive: [0, 0]\n  },\n  colorAlpha: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  opacity: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  symbol: {\n    active: ['circle', 'roundRect', 'diamond'],\n    inactive: ['none']\n  },\n  symbolSize: {\n    active: [10, 50],\n    inactive: [0, 0]\n  }\n};\nvar _default = visualDefault;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar echarts = require(\"../echarts\");\n\nvar graphic = require(\"../util/graphic\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar _format = require(\"../util/format\");\n\nvar windowOpen = _format.windowOpen;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Model\necharts.extendComponentModel({\n  type: 'title',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  defaultOption: {\n    // \n    zlevel: 0,\n    // \n    z: 6,\n    show: true,\n    text: '',\n    // \n    // link: null,\n    // self | blank\n    target: 'blank',\n    subtext: '',\n    // \n    // sublink: null,\n    // self | blank\n    subtarget: 'blank',\n    // 'center'  'left'  'right'\n    //  {number}xpx\n    left: 0,\n    // 'top'  'bottom'  'center'\n    //  {number}ypx\n    top: 0,\n    // \n    // 'auto' | 'left' | 'right' | 'center'\n    //  left \n    // textAlign: null\n    //\n    // \n    // 'auto' | 'top' | 'bottom' | 'middle'\n    //  top \n    // textVerticalAlign: null\n    // textBaseline: null // The same as textVerticalAlign.\n    backgroundColor: 'rgba(0,0,0,0)',\n    // \n    borderColor: '#ccc',\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // px10\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bolder',\n      color: '#333'\n    },\n    subtextStyle: {\n      color: '#aaa'\n    }\n  }\n}); // View\n\necharts.extendComponentView({\n  type: 'title',\n  render: function (titleModel, ecModel, api) {\n    this.group.removeAll();\n\n    if (!titleModel.get('show')) {\n      return;\n    }\n\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textVerticalAlign = zrUtil.retrieve2(titleModel.get('textBaseline'), titleModel.get('textVerticalAlign'));\n    var textEl = new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: titleModel.get('text'),\n        textFill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: graphic.setTextStyle({}, subtextStyleModel, {\n        text: subText,\n        textFill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        textVerticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    var triggerEvent = titleModel.get('triggerEvent', true);\n    textEl.silent = !link && !triggerEvent;\n    subTextEl.silent = !sublink && !triggerEvent;\n\n    if (link) {\n      textEl.on('click', function () {\n        windowOpen(link, '_' + titleModel.get('target'));\n      });\n    }\n\n    if (sublink) {\n      subTextEl.on('click', function () {\n        windowOpen(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n\n    textEl.eventData = subTextEl.eventData = triggerEvent ? {\n      componentType: 'title',\n      componentIndex: titleModel.componentIndex\n    } : null;\n    group.add(textEl);\n    subText && group.add(subTextEl); // If no subText, but add subTextEl, there will be an empty line.\n\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRect = getLayoutRect(layoutOption, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }, titleModel.get('padding')); // Adjust text align based on position\n\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right');\n\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      } // Adjust layout by text align\n\n\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n\n    if (!textVerticalAlign) {\n      textVerticalAlign = titleModel.get('top') || titleModel.get('bottom');\n\n      if (textVerticalAlign === 'center') {\n        textVerticalAlign = 'middle';\n      }\n\n      if (textVerticalAlign === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textVerticalAlign === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n\n      textVerticalAlign = textVerticalAlign || 'top';\n    }\n\n    group.attr('position', [layoutRect.x, layoutRect.y]);\n    var alignStyle = {\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle); // Render background\n    // Get groupRect again because textAlign has been changed\n\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      subPixelOptimize: true,\n      silent: true\n    });\n    group.add(rect);\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (!legendModels || !legendModels.length) {\n    return;\n  }\n\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var categoriesData = graphSeries.getCategoriesData();\n    var graph = graphSeries.getGraph();\n    var data = graph.data;\n    var categoryNames = categoriesData.mapArray(categoriesData.getName);\n    data.filterSelf(function (idx) {\n      var model = data.getItemModel(idx);\n      var category = model.getShallow('category');\n\n      if (category != null) {\n        if (typeof category === 'number') {\n          category = categoryNames[category];\n        } // If in any legend component the status is not selected.\n\n\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(category)) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    });\n  }, this);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./map/MapSeries\");\n\nrequire(\"./map/MapView\");\n\nrequire(\"../action/geoRoam\");\n\nrequire(\"../coord/geo/geoCreator\");\n\nvar mapSymbolLayout = require(\"./map/mapSymbolLayout\");\n\nvar mapVisual = require(\"./map/mapVisual\");\n\nvar mapDataStatistic = require(\"./map/mapDataStatistic\");\n\nvar backwardCompat = require(\"./map/backwardCompat\");\n\nvar createDataSelectAction = require(\"../action/createDataSelectAction\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerLayout(mapSymbolLayout);\necharts.registerVisual(mapVisual);\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, mapDataStatistic);\necharts.registerPreprocessor(backwardCompat);\ncreateDataSelectAction('map', [{\n  type: 'mapToggleSelect',\n  event: 'mapselectchanged',\n  method: 'toggleSelected'\n}, {\n  type: 'mapSelect',\n  event: 'mapselected',\n  method: 'select'\n}, {\n  type: 'mapUnSelect',\n  event: 'mapunselected',\n  method: 'unSelect'\n}]);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.effectScatter',\n  dependencies: ['grid', 'polar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  brushSelector: 'point',\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    effectType: 'ripple',\n    progressive: 0,\n    // When to show the effect, option: 'render'|'emphasis'\n    showEffectOn: 'render',\n    // Ripple effect config\n    rippleEffect: {\n      period: 4,\n      // Scale of ripple\n      scale: 2.5,\n      // Brush type can be fill or stroke\n      brushType: 'fill'\n    },\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // \n    symbolSize: 10 // symbolSize * 2\n    // symbolRotate: null,  // \n    // large: false,\n    // Available when large is true\n    // largeThreshold: 2000,\n    // itemStyle: {\n    //     opacity: 1\n    // }\n\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _helper = require(\"./helper\");\n\nvar setLabel = _helper.setLabel;\n\nvar Model = require(\"../../model/Model\");\n\nvar barItemStyle = require(\"./barItemStyle\");\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar Group = require(\"zrender/lib/container/Group\");\n\nvar _throttle = require(\"../../util/throttle\");\n\nvar throttle = _throttle.throttle;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createClipPath = _createClipPathFromCoordSys.createClipPath;\n\nvar Sausage = require(\"../../util/shape/sausage\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'barBorderWidth'];\nvar _eventPos = [0, 0]; // FIXME\n// Just for compatible with ec2.\n\nzrUtil.extend(Model.prototype, barItemStyle);\n\nfunction getClipArea(coord, data) {\n  var coordSysClipArea = coord.getArea && coord.getArea();\n\n  if (coord.type === 'cartesian2d') {\n    var baseAxis = coord.getBaseAxis(); // When boundaryGap is false or using time axis. bar may exceed the grid.\n    // We should not clip this part.\n    // See test/bar2.html\n\n    if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n      var expandWidth = data.getLayout('bandWidth');\n\n      if (baseAxis.isHorizontal()) {\n        coordSysClipArea.x -= expandWidth;\n        coordSysClipArea.width += expandWidth * 2;\n      } else {\n        coordSysClipArea.y -= expandWidth;\n        coordSysClipArea.height += expandWidth * 2;\n      }\n    }\n  }\n\n  return coordSysClipArea;\n}\n\nvar _default = echarts.extendChartView({\n  type: 'bar',\n  render: function (seriesModel, ecModel, api) {\n    this._updateDrawMode(seriesModel);\n\n    var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n    if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n      this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api);\n    } else {}\n\n    return this.group;\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    this._updateDrawMode(seriesModel);\n  },\n  incrementalRender: function (params, seriesModel, ecModel, api) {\n    // Do not support progressive in normal mode.\n    this._incrementalRenderLarge(params, seriesModel);\n  },\n  _updateDrawMode: function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n\n    if (this._isLargeDraw == null || isLargeDraw ^ this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n\n      this._clear();\n    }\n  },\n  _renderNormal: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coord = seriesModel.coordinateSystem;\n    var baseAxis = coord.getBaseAxis();\n    var isHorizontalOrRadial;\n\n    if (coord.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n    } else if (coord.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n    }\n\n    var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n    var needsClip = seriesModel.get('clip', true);\n    var coordSysClipArea = getClipArea(coord, data); // If there is clipPath created in large mode. Remove it.\n\n    group.removeClipPath(); // We don't use clipPath in normal mode because we needs a perfect animation\n    // And don't want the label are clipped.\n\n    var roundCap = seriesModel.get('roundCap', true);\n    var drawBackground = seriesModel.get('showBackground', true);\n    var backgroundModel = seriesModel.getModel('backgroundStyle');\n    var barBorderRadius = backgroundModel.get('barBorderRadius') || 0;\n    var bgEls = [];\n    var oldBgEls = this._backgroundEls || [];\n\n    var createBackground = function (dataIndex) {\n      var bgLayout = getLayout[coord.type](data, dataIndex);\n      var bgEl = createBackgroundEl(coord, isHorizontalOrRadial, bgLayout);\n      bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n      if (coord.type === 'cartesian2d') {\n        bgEl.setShape('r', barBorderRadius);\n      }\n\n      bgEls[dataIndex] = bgEl;\n      return bgEl;\n    };\n\n    data.diff(oldData).add(function (dataIndex) {\n      var itemModel = data.getItemModel(dataIndex);\n      var layout = getLayout[coord.type](data, dataIndex, itemModel);\n\n      if (drawBackground) {\n        createBackground(dataIndex);\n      } // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n\n\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      if (needsClip) {\n        // Clip will modify the layout params.\n        // And return a boolean to determine if the shape are fully clipped.\n        var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n          return;\n        }\n      }\n\n      var el = elementCreator[coord.type](dataIndex, layout, isHorizontalOrRadial, animationModel, false, roundCap);\n      data.setItemGraphicEl(dataIndex, el);\n      group.add(el);\n      updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).update(function (newIndex, oldIndex) {\n      var itemModel = data.getItemModel(newIndex);\n      var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n      if (drawBackground) {\n        var bgEl;\n\n        if (oldBgEls.length === 0) {\n          bgEl = createBackground(oldIndex);\n        } else {\n          bgEl = oldBgEls[oldIndex];\n          bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n          if (coord.type === 'cartesian2d') {\n            bgEl.setShape('r', barBorderRadius);\n          }\n\n          bgEls[newIndex] = bgEl;\n        }\n\n        var bgLayout = getLayout[coord.type](data, newIndex);\n        var shape = createBackgroundShape(isHorizontalOrRadial, bgLayout, coord);\n        graphic.updateProps(bgEl, {\n          shape: shape\n        }, animationModel, newIndex);\n      }\n\n      var el = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(el);\n        return;\n      }\n\n      if (needsClip) {\n        var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n          return;\n        }\n      }\n\n      if (el) {\n        graphic.updateProps(el, {\n          shape: layout\n        }, animationModel, newIndex);\n      } else {\n        el = elementCreator[coord.type](newIndex, layout, isHorizontalOrRadial, animationModel, true, roundCap);\n      }\n\n      data.setItemGraphicEl(newIndex, el); // Add back\n\n      group.add(el);\n      updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).remove(function (dataIndex) {\n      var el = oldData.getItemGraphicEl(dataIndex);\n\n      if (coord.type === 'cartesian2d') {\n        el && removeRect(dataIndex, animationModel, el);\n      } else {\n        el && removeSector(dataIndex, animationModel, el);\n      }\n    }).execute();\n    var bgGroup = this._backgroundGroup || (this._backgroundGroup = new Group());\n    bgGroup.removeAll();\n\n    for (var i = 0; i < bgEls.length; ++i) {\n      bgGroup.add(bgEls[i]);\n    }\n\n    group.add(bgGroup);\n    this._backgroundEls = bgEls;\n    this._data = data;\n  },\n  _renderLarge: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    createLarge(seriesModel, this.group); // Use clipPath in large mode.\n\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  },\n  _incrementalRenderLarge: function (params, seriesModel) {\n    this._removeBackground();\n\n    createLarge(seriesModel, this.group, true);\n  },\n  dispose: zrUtil.noop,\n  remove: function (ecModel) {\n    this._clear(ecModel);\n  },\n  _clear: function (ecModel) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel && ecModel.get('animation') && data && !this._isLargeDraw) {\n      this._removeBackground();\n\n      this._backgroundEls = [];\n      data.eachItemGraphicEl(function (el) {\n        if (el.type === 'sector') {\n          removeSector(el.dataIndex, ecModel, el);\n        } else {\n          removeRect(el.dataIndex, ecModel, el);\n        }\n      });\n    } else {\n      group.removeAll();\n    }\n\n    this._data = null;\n  },\n  _removeBackground: function () {\n    this.group.remove(this._backgroundGroup);\n    this._backgroundGroup = null;\n  }\n});\n\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar clip = {\n  cartesian2d: function (coordSysBoundingRect, layout) {\n    var signWidth = layout.width < 0 ? -1 : 1;\n    var signHeight = layout.height < 0 ? -1 : 1; // Needs positive width and height\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    var x = mathMax(layout.x, coordSysBoundingRect.x);\n    var x2 = mathMin(layout.x + layout.width, coordSysBoundingRect.x + coordSysBoundingRect.width);\n    var y = mathMax(layout.y, coordSysBoundingRect.y);\n    var y2 = mathMin(layout.y + layout.height, coordSysBoundingRect.y + coordSysBoundingRect.height);\n    layout.x = x;\n    layout.y = y;\n    layout.width = x2 - x;\n    layout.height = y2 - y;\n    var clipped = layout.width < 0 || layout.height < 0; // Reverse back\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    return clipped;\n  },\n  polar: function (coordSysClipArea, layout) {\n    var signR = layout.r0 <= layout.r ? 1 : -1; // Make sure r is larger than r0\n\n    if (signR < 0) {\n      var r = layout.r;\n      layout.r = layout.r0;\n      layout.r0 = r;\n    }\n\n    var r = mathMin(layout.r, coordSysClipArea.r);\n    var r0 = mathMax(layout.r0, coordSysClipArea.r0);\n    layout.r = r;\n    layout.r0 = r0;\n    var clipped = r - r0 < 0; // Reverse back\n\n    if (signR < 0) {\n      var r = layout.r;\n      layout.r = layout.r0;\n      layout.r0 = r;\n    }\n\n    return clipped;\n  }\n};\nvar elementCreator = {\n  cartesian2d: function (dataIndex, layout, isHorizontal, animationModel, isUpdate) {\n    var rect = new graphic.Rect({\n      shape: zrUtil.extend({}, layout),\n      z2: 1\n    });\n    rect.name = 'item'; // Animation\n\n    if (animationModel) {\n      var rectShape = rect.shape;\n      var animateProperty = isHorizontal ? 'height' : 'width';\n      var animateTarget = {};\n      rectShape[animateProperty] = 0;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return rect;\n  },\n  polar: function (dataIndex, layout, isRadial, animationModel, isUpdate, roundCap) {\n    // Keep the same logic with bar in catesion: use end value to control\n    // direction. Notice that if clockwise is true (by default), the sector\n    // will always draw clockwisely, no matter whether endAngle is greater\n    // or less than startAngle.\n    var clockwise = layout.startAngle < layout.endAngle;\n    var ShapeClass = !isRadial && roundCap ? Sausage : graphic.Sector;\n    var sector = new ShapeClass({\n      shape: zrUtil.defaults({\n        clockwise: clockwise\n      }, layout),\n      z2: 1\n    });\n    sector.name = 'item'; // Animation\n\n    if (animationModel) {\n      var sectorShape = sector.shape;\n      var animateProperty = isRadial ? 'r' : 'endAngle';\n      var animateTarget = {};\n      sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return sector;\n  }\n};\n\nfunction removeRect(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      width: 0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nfunction removeSector(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      r: el.shape.r0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nvar getLayout = {\n  // itemModel is only used to get borderWidth, which is not needed\n  // when calculating bar background layout.\n  cartesian2d: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    var fixedLineWidth = itemModel ? getLineWidth(itemModel, layout) : 0; // fix layout with lineWidth\n\n    var signX = layout.width > 0 ? 1 : -1;\n    var signY = layout.height > 0 ? 1 : -1;\n    return {\n      x: layout.x + signX * fixedLineWidth / 2,\n      y: layout.y + signY * fixedLineWidth / 2,\n      width: layout.width - signX * fixedLineWidth,\n      height: layout.height - signY * fixedLineWidth\n    };\n  },\n  polar: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    return {\n      cx: layout.cx,\n      cy: layout.cy,\n      r0: layout.r0,\n      r: layout.r,\n      startAngle: layout.startAngle,\n      endAngle: layout.endAngle\n    };\n  }\n};\n\nfunction isZeroOnPolar(layout) {\n  return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n}\n\nfunction updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n  var color = data.getItemVisual(dataIndex, 'color');\n  var opacity = data.getItemVisual(dataIndex, 'opacity');\n  var stroke = data.getVisual('borderColor');\n  var itemStyleModel = itemModel.getModel('itemStyle');\n  var hoverStyle = itemModel.getModel('emphasis.itemStyle').getBarItemStyle();\n\n  if (!isPolar) {\n    el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n  }\n\n  el.useStyle(zrUtil.defaults({\n    stroke: isZeroOnPolar(layout) ? 'none' : stroke,\n    fill: isZeroOnPolar(layout) ? 'none' : color,\n    opacity: opacity\n  }, itemStyleModel.getBarItemStyle()));\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && el.attr('cursor', cursorStyle);\n  var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n\n  if (!isPolar) {\n    setLabel(el.style, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside);\n  }\n\n  if (isZeroOnPolar(layout)) {\n    hoverStyle.fill = hoverStyle.stroke = 'none';\n  }\n\n  graphic.setHoverStyle(el, hoverStyle);\n} // In case width or height are too small.\n\n\nfunction getLineWidth(itemModel, rawLayout) {\n  var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0; // width or height may be NaN for empty data\n\n  var width = isNaN(rawLayout.width) ? Number.MAX_VALUE : Math.abs(rawLayout.width);\n  var height = isNaN(rawLayout.height) ? Number.MAX_VALUE : Math.abs(rawLayout.height);\n  return Math.min(lineWidth, width, height);\n}\n\nvar LargePath = Path.extend({\n  type: 'largeBar',\n  shape: {\n    points: []\n  },\n  buildPath: function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n    var startPoint = this.__startPoint;\n    var baseDimIdx = this.__baseDimIdx;\n\n    for (var i = 0; i < points.length; i += 2) {\n      startPoint[baseDimIdx] = points[i + baseDimIdx];\n      ctx.moveTo(startPoint[0], startPoint[1]);\n      ctx.lineTo(points[i], points[i + 1]);\n    }\n  }\n});\n\nfunction createLarge(seriesModel, group, incremental) {\n  // TODO support polar\n  var data = seriesModel.getData();\n  var startPoint = [];\n  var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n  startPoint[1 - baseDimIdx] = data.getLayout('valueAxisStart');\n  var largeDataIndices = data.getLayout('largeDataIndices');\n  var barWidth = data.getLayout('barWidth');\n  var backgroundModel = seriesModel.getModel('backgroundStyle');\n  var drawBackground = seriesModel.get('showBackground', true);\n\n  if (drawBackground) {\n    var points = data.getLayout('largeBackgroundPoints');\n    var backgroundStartPoint = [];\n    backgroundStartPoint[1 - baseDimIdx] = data.getLayout('backgroundStart');\n    var bgEl = new LargePath({\n      shape: {\n        points: points\n      },\n      incremental: !!incremental,\n      __startPoint: backgroundStartPoint,\n      __baseDimIdx: baseDimIdx,\n      __largeDataIndices: largeDataIndices,\n      __barWidth: barWidth,\n      silent: true,\n      z2: 0\n    });\n    setLargeBackgroundStyle(bgEl, backgroundModel, data);\n    group.add(bgEl);\n  }\n\n  var el = new LargePath({\n    shape: {\n      points: data.getLayout('largePoints')\n    },\n    incremental: !!incremental,\n    __startPoint: startPoint,\n    __baseDimIdx: baseDimIdx,\n    __largeDataIndices: largeDataIndices,\n    __barWidth: barWidth\n  });\n  group.add(el);\n  setLargeStyle(el, seriesModel, data); // Enable tooltip and user mouse/touch event handlers.\n\n  el.seriesIndex = seriesModel.seriesIndex;\n\n  if (!seriesModel.get('silent')) {\n    el.on('mousedown', largePathUpdateDataIndex);\n    el.on('mousemove', largePathUpdateDataIndex);\n  }\n} // Use throttle to avoid frequently traverse to find dataIndex.\n\n\nvar largePathUpdateDataIndex = throttle(function (event) {\n  var largePath = this;\n  var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n  largePath.dataIndex = dataIndex >= 0 ? dataIndex : null;\n}, 30, false);\n\nfunction largePathFindDataIndex(largePath, x, y) {\n  var baseDimIdx = largePath.__baseDimIdx;\n  var valueDimIdx = 1 - baseDimIdx;\n  var points = largePath.shape.points;\n  var largeDataIndices = largePath.__largeDataIndices;\n  var barWidthHalf = Math.abs(largePath.__barWidth / 2);\n  var startValueVal = largePath.__startPoint[valueDimIdx];\n  _eventPos[0] = x;\n  _eventPos[1] = y;\n  var pointerBaseVal = _eventPos[baseDimIdx];\n  var pointerValueVal = _eventPos[1 - baseDimIdx];\n  var baseLowerBound = pointerBaseVal - barWidthHalf;\n  var baseUpperBound = pointerBaseVal + barWidthHalf;\n\n  for (var i = 0, len = points.length / 2; i < len; i++) {\n    var ii = i * 2;\n    var barBaseVal = points[ii + baseDimIdx];\n    var barValueVal = points[ii + valueDimIdx];\n\n    if (barBaseVal >= baseLowerBound && barBaseVal <= baseUpperBound && (startValueVal <= barValueVal ? pointerValueVal >= startValueVal && pointerValueVal <= barValueVal : pointerValueVal >= barValueVal && pointerValueVal <= startValueVal)) {\n      return largeDataIndices[i];\n    }\n  }\n\n  return -1;\n}\n\nfunction setLargeStyle(el, seriesModel, data) {\n  var borderColor = data.getVisual('borderColor') || data.getVisual('color');\n  var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(['color', 'borderColor']);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nfunction setLargeBackgroundStyle(el, backgroundModel, data) {\n  var borderColor = backgroundModel.get('borderColor') || backgroundModel.get('color');\n  var itemStyle = backgroundModel.getItemStyle(['color', 'borderColor']);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nfunction createBackgroundShape(isHorizontalOrRadial, layout, coord) {\n  var coordLayout;\n  var isPolar = coord.type === 'polar';\n\n  if (isPolar) {\n    coordLayout = coord.getArea();\n  } else {\n    coordLayout = coord.grid.getRect();\n  }\n\n  if (isPolar) {\n    return {\n      cx: coordLayout.cx,\n      cy: coordLayout.cy,\n      r0: isHorizontalOrRadial ? coordLayout.r0 : layout.r0,\n      r: isHorizontalOrRadial ? coordLayout.r : layout.r,\n      startAngle: isHorizontalOrRadial ? layout.startAngle : 0,\n      endAngle: isHorizontalOrRadial ? layout.endAngle : Math.PI * 2\n    };\n  } else {\n    return {\n      x: isHorizontalOrRadial ? layout.x : coordLayout.x,\n      y: isHorizontalOrRadial ? coordLayout.y : layout.y,\n      width: isHorizontalOrRadial ? layout.width : coordLayout.width,\n      height: isHorizontalOrRadial ? coordLayout.height : layout.height\n    };\n  }\n}\n\nfunction createBackgroundEl(coord, isHorizontalOrRadial, layout) {\n  var ElementClz = coord.type === 'polar' ? graphic.Sector : graphic.Rect;\n  return new ElementClz({\n    shape: createBackgroundShape(isHorizontalOrRadial, layout, coord),\n    silent: true,\n    z2: 0\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(option) {\n  createParallelIfNeeded(option);\n  mergeAxisOptionFromParallel(option);\n}\n/**\n * Create a parallel coordinate if not exists.\n * @inner\n */\n\n\nfunction createParallelIfNeeded(option) {\n  if (option.parallel) {\n    return;\n  }\n\n  var hasParallelSeries = false;\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'parallel') {\n      hasParallelSeries = true;\n    }\n  });\n\n  if (hasParallelSeries) {\n    option.parallel = [{}];\n  }\n}\n/**\n * Merge aixs definition from parallel option (if exists) to axis option.\n * @inner\n */\n\n\nfunction mergeAxisOptionFromParallel(option) {\n  var axes = modelUtil.normalizeToArray(option.parallelAxis);\n  zrUtil.each(axes, function (axisOption) {\n    if (!zrUtil.isObject(axisOption)) {\n      return;\n    }\n\n    var parallelIndex = axisOption.parallelIndex || 0;\n    var parallelOption = modelUtil.normalizeToArray(option.parallel)[parallelIndex];\n\n    if (parallelOption && parallelOption.parallelAxisDefault) {\n      zrUtil.merge(axisOption, parallelOption.parallelAxisDefault, false);\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createRenderPlanner = require(\"../helper/createRenderPlanner\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nvar _default = {\n  seriesType: 'lines',\n  plan: createRenderPlanner(),\n  reset: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var isPolyline = seriesModel.get('polyline');\n    var isLarge = seriesModel.pipelineContext.large;\n\n    function progress(params, lineData) {\n      var lineCoords = [];\n\n      if (isLarge) {\n        var points;\n        var segCount = params.end - params.start;\n\n        if (isPolyline) {\n          var totalCoordsCount = 0;\n\n          for (var i = params.start; i < params.end; i++) {\n            totalCoordsCount += seriesModel.getLineCoordsCount(i);\n          }\n\n          points = new Float32Array(segCount + totalCoordsCount * 2);\n        } else {\n          points = new Float32Array(segCount * 4);\n        }\n\n        var offset = 0;\n        var pt = [];\n\n        for (var i = params.start; i < params.end; i++) {\n          var len = seriesModel.getLineCoords(i, lineCoords);\n\n          if (isPolyline) {\n            points[offset++] = len;\n          }\n\n          for (var k = 0; k < len; k++) {\n            pt = coordSys.dataToPoint(lineCoords[k], false, pt);\n            points[offset++] = pt[0];\n            points[offset++] = pt[1];\n          }\n        }\n\n        lineData.setLayout('linesPoints', points);\n      } else {\n        for (var i = params.start; i < params.end; i++) {\n          var itemModel = lineData.getItemModel(i);\n          var len = seriesModel.getLineCoords(i, lineCoords);\n          var pts = [];\n\n          if (isPolyline) {\n            for (var j = 0; j < len; j++) {\n              pts.push(coordSys.dataToPoint(lineCoords[j]));\n            }\n          } else {\n            pts[0] = coordSys.dataToPoint(lineCoords[0]);\n            pts[1] = coordSys.dataToPoint(lineCoords[1]);\n            var curveness = itemModel.get('lineStyle.curveness');\n\n            if (+curveness) {\n              pts[2] = [(pts[0][0] + pts[1][0]) / 2 - (pts[0][1] - pts[1][1]) * curveness, (pts[0][1] + pts[1][1]) / 2 - (pts[1][0] - pts[0][0]) * curveness];\n            }\n          }\n\n          lineData.setItemLayout(i, pts);\n        }\n      }\n    }\n\n    return {\n      progress: progress\n    };\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar axisPointerModelHelper = require(\"../axisPointer/modelHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Base class of AxisView.\n */\nvar AxisView = echarts.extendComponentView({\n  type: 'axis',\n\n  /**\n   * @private\n   */\n  _axisPointer: null,\n\n  /**\n   * @protected\n   * @type {string}\n   */\n  axisPointerClass: null,\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    // FIXME\n    // This process should proformed after coordinate systems updated\n    // (axis scale updated), and should be performed each time update.\n    // So put it here temporarily, although it is not appropriate to\n    // put a model-writing procedure in `view`.\n    this.axisPointerClass && axisPointerModelHelper.fixValue(axisModel);\n    AxisView.superApply(this, 'render', arguments);\n    updateAxisPointer(this, axisModel, ecModel, api, payload, true);\n  },\n\n  /**\n   * Action handler.\n   * @public\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/model/Global} ecModel\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Object} payload\n   */\n  updateAxisPointer: function (axisModel, ecModel, api, payload, force) {\n    updateAxisPointer(this, axisModel, ecModel, api, payload, false);\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    var axisPointer = this._axisPointer;\n    axisPointer && axisPointer.remove(api);\n    AxisView.superApply(this, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    disposeAxisPointer(this, api);\n    AxisView.superApply(this, 'dispose', arguments);\n  }\n});\n\nfunction updateAxisPointer(axisView, axisModel, ecModel, api, payload, forceRender) {\n  var Clazz = AxisView.getAxisPointerClass(axisView.axisPointerClass);\n\n  if (!Clazz) {\n    return;\n  }\n\n  var axisPointerModel = axisPointerModelHelper.getAxisPointerModel(axisModel);\n  axisPointerModel ? (axisView._axisPointer || (axisView._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : disposeAxisPointer(axisView, api);\n}\n\nfunction disposeAxisPointer(axisView, ecModel, api) {\n  var axisPointer = axisView._axisPointer;\n  axisPointer && axisPointer.dispose(ecModel, api);\n  axisView._axisPointer = null;\n}\n\nvar axisPointerClazz = [];\n\nAxisView.registerAxisPointerClass = function (type, clazz) {\n  axisPointerClazz[type] = clazz;\n};\n\nAxisView.getAxisPointerClass = function (type) {\n  return type && axisPointerClazz[type];\n};\n\nvar _default = AxisView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(option) {\n  var timelineOpt = option && option.timeline;\n\n  if (!zrUtil.isArray(timelineOpt)) {\n    timelineOpt = timelineOpt ? [timelineOpt] : [];\n  }\n\n  zrUtil.each(timelineOpt, function (opt) {\n    if (!opt) {\n      return;\n    }\n\n    compatibleEC2(opt);\n  });\n}\n\nfunction compatibleEC2(opt) {\n  var type = opt.type;\n  var ec2Types = {\n    'number': 'value',\n    'time': 'time'\n  }; // Compatible with ec2\n\n  if (ec2Types[type]) {\n    opt.axisType = ec2Types[type];\n    delete opt.type;\n  }\n\n  transferItem(opt);\n\n  if (has(opt, 'controlPosition')) {\n    var controlStyle = opt.controlStyle || (opt.controlStyle = {});\n\n    if (!has(controlStyle, 'position')) {\n      controlStyle.position = opt.controlPosition;\n    }\n\n    if (controlStyle.position === 'none' && !has(controlStyle, 'show')) {\n      controlStyle.show = false;\n      delete controlStyle.position;\n    }\n\n    delete opt.controlPosition;\n  }\n\n  zrUtil.each(opt.data || [], function (dataItem) {\n    if (zrUtil.isObject(dataItem) && !zrUtil.isArray(dataItem)) {\n      if (!has(dataItem, 'value') && has(dataItem, 'name')) {\n        // In ec2, using name as value.\n        dataItem.value = dataItem.name;\n      }\n\n      transferItem(dataItem);\n    }\n  });\n}\n\nfunction transferItem(opt) {\n  var itemStyle = opt.itemStyle || (opt.itemStyle = {});\n  var itemStyleEmphasis = itemStyle.emphasis || (itemStyle.emphasis = {}); // Transfer label out\n\n  var label = opt.label || opt.label || {};\n  var labelNormal = label.normal || (label.normal = {});\n  var excludeLabelAttr = {\n    normal: 1,\n    emphasis: 1\n  };\n  zrUtil.each(label, function (value, name) {\n    if (!excludeLabelAttr[name] && !has(labelNormal, name)) {\n      labelNormal[name] = value;\n    }\n  });\n\n  if (itemStyleEmphasis.label && !has(label, 'emphasis')) {\n    label.emphasis = itemStyleEmphasis.label;\n    delete itemStyleEmphasis.label;\n  }\n}\n\nfunction has(obj, attr) {\n  return obj.hasOwnProperty(attr);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @constructor  module:echarts/coord/single/SingleAxis\n * @extends {module:echarts/coord/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar SingleAxis = function (dim, scale, coordExtent, axisType, position) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   * - 'category'\n   * - 'value'\n   * - 'time'\n   * - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * Axis position\n   *  - 'top'\n   *  - 'bottom'\n   *  - 'left'\n   *  - 'right'\n   *  @type {string}\n   */\n\n  this.position = position || 'bottom';\n  /**\n   * Axis orient\n   *  - 'horizontal'\n   *  - 'vertical'\n   * @type {[type]}\n   */\n\n  this.orient = null;\n};\n\nSingleAxis.prototype = {\n  constructor: SingleAxis,\n\n  /**\n   * Axis model\n   * @type {module:echarts/coord/single/AxisModel}\n   */\n  model: null,\n\n  /**\n   * Judge the orient of the axis.\n   * @return {boolean}\n   */\n  isHorizontal: function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  },\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.coordinateSystem.pointToData(point, clamp)[0];\n  },\n\n  /**\n   * Convert the local coord(processed by dataToCoord())\n   * to global coord(concrete pixel coord).\n   * designated by module:echarts/coord/single/Single.\n   * @type {Function}\n   */\n  toGlobalCoord: null,\n\n  /**\n   * Convert the global coord to local coord.\n   * designated by module:echarts/coord/single/Single.\n   * @type {Function}\n   */\n  toLocalCoord: null\n};\nzrUtil.inherits(SingleAxis, Axis);\nvar _default = SingleAxis;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar geoCoordMap = {\n  'Russia': [100, 60],\n  'United States': [-99, 38],\n  'United States of America': [-99, 38]\n};\n\nfunction _default(mapType, region) {\n  if (mapType === 'world') {\n    var geoCoord = geoCoordMap[region.name];\n\n    if (geoCoord) {\n      var cp = region.center;\n      cp[0] = geoCoord[0];\n      cp[1] = geoCoord[1];\n    }\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Component = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nComponent.registerSubTypeDefaulter('dataZoom', function () {\n  // Default 'slider' when no type specified.\n  return 'slider';\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Polyline = require(\"./Polyline\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar EffectLine = require(\"./EffectLine\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Provide effect for line\n * @module echarts/chart/helper/EffectLine\n */\n\n/**\n * @constructor\n * @extends {module:echarts/chart/helper/EffectLine}\n * @alias {module:echarts/chart/helper/Polyline}\n */\nfunction EffectPolyline(lineData, idx, seriesScope) {\n  EffectLine.call(this, lineData, idx, seriesScope);\n  this._lastFrame = 0;\n  this._lastFramePercent = 0;\n}\n\nvar effectPolylineProto = EffectPolyline.prototype; // Overwrite\n\neffectPolylineProto.createLine = function (lineData, idx, seriesScope) {\n  return new Polyline(lineData, idx, seriesScope);\n}; // Overwrite\n\n\neffectPolylineProto.updateAnimationPoints = function (symbol, points) {\n  this._points = points;\n  var accLenArr = [0];\n  var len = 0;\n\n  for (var i = 1; i < points.length; i++) {\n    var p1 = points[i - 1];\n    var p2 = points[i];\n    len += vec2.dist(p1, p2);\n    accLenArr.push(len);\n  }\n\n  if (len === 0) {\n    return;\n  }\n\n  for (var i = 0; i < accLenArr.length; i++) {\n    accLenArr[i] /= len;\n  }\n\n  this._offsets = accLenArr;\n  this._length = len;\n}; // Overwrite\n\n\neffectPolylineProto.getLineLength = function (symbol) {\n  return this._length;\n}; // Overwrite\n\n\neffectPolylineProto.updateSymbolPosition = function (symbol) {\n  var t = symbol.__t;\n  var points = this._points;\n  var offsets = this._offsets;\n  var len = points.length;\n\n  if (!offsets) {\n    // Has length 0\n    return;\n  }\n\n  var lastFrame = this._lastFrame;\n  var frame;\n\n  if (t < this._lastFramePercent) {\n    // Start from the next frame\n    // PENDING start from lastFrame ?\n    var start = Math.min(lastFrame + 1, len - 1);\n\n    for (frame = start; frame >= 0; frame--) {\n      if (offsets[frame] <= t) {\n        break;\n      }\n    } // PENDING really need to do this ?\n\n\n    frame = Math.min(frame, len - 2);\n  } else {\n    for (var frame = lastFrame; frame < len; frame++) {\n      if (offsets[frame] > t) {\n        break;\n      }\n    }\n\n    frame = Math.min(frame - 1, len - 2);\n  }\n\n  vec2.lerp(symbol.position, points[frame], points[frame + 1], (t - offsets[frame]) / (offsets[frame + 1] - offsets[frame]));\n  var tx = points[frame + 1][0] - points[frame][0];\n  var ty = points[frame + 1][1] - points[frame][1];\n  symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n  this._lastFrame = frame;\n  this._lastFramePercent = t;\n  symbol.ignore = false;\n};\n\nzrUtil.inherits(EffectPolyline, EffectLine);\nvar _default = EffectPolyline;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar formatUtil = require(\"../../util/format\");\n\nvar BaseAxisPointer = require(\"./BaseAxisPointer\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar viewHelper = require(\"./viewHelper\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar AxisBuilder = require(\"../axis/AxisBuilder\");\n\nvar AxisView = require(\"../axis/AxisView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PolarAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n\n    if (axis.dim === 'angle') {\n      this.animationThreshold = Math.PI / 18;\n    }\n\n    var polar = axis.polar;\n    var otherAxis = polar.getOtherAxis(axis);\n    var otherExtent = otherAxis.getExtent();\n    var coordValue;\n    coordValue = axis['dataTo' + formatUtil.capitalFirst(axis.dim)](value);\n    var axisPointerType = axisPointerModel.get('type');\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, polar, coordValue, otherExtent, elStyle);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var labelMargin = axisPointerModel.get('label.margin');\n    var labelPos = getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin);\n    viewHelper.buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos);\n  } // Do not support handle, utill any user requires it.\n\n});\n\nfunction getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin) {\n  var axis = axisModel.axis;\n  var coord = axis.dataToCoord(value);\n  var axisAngle = polar.getAngleAxis().getExtent()[0];\n  axisAngle = axisAngle / 180 * Math.PI;\n  var radiusExtent = polar.getRadiusAxis().getExtent();\n  var position;\n  var align;\n  var verticalAlign;\n\n  if (axis.dim === 'radius') {\n    var transform = matrix.create();\n    matrix.rotate(transform, transform, axisAngle);\n    matrix.translate(transform, transform, [polar.cx, polar.cy]);\n    position = graphic.applyTransform([coord, -labelMargin], transform);\n    var labelRotation = axisModel.getModel('axisLabel').get('rotate') || 0;\n    var labelLayout = AxisBuilder.innerTextLayout(axisAngle, labelRotation * Math.PI / 180, -1);\n    align = labelLayout.textAlign;\n    verticalAlign = labelLayout.textVerticalAlign;\n  } else {\n    // angle axis\n    var r = radiusExtent[1];\n    position = polar.coordToPoint([r + labelMargin, coord]);\n    var cx = polar.cx;\n    var cy = polar.cy;\n    align = Math.abs(position[0] - cx) / r < 0.3 ? 'center' : position[0] > cx ? 'left' : 'right';\n    verticalAlign = Math.abs(position[1] - cy) / r < 0.3 ? 'middle' : position[1] > cy ? 'top' : 'bottom';\n  }\n\n  return {\n    position: position,\n    align: align,\n    verticalAlign: verticalAlign\n  };\n}\n\nvar pointerShapeBuilder = {\n  line: function (axis, polar, coordValue, otherExtent, elStyle) {\n    return axis.dim === 'angle' ? {\n      type: 'Line',\n      shape: viewHelper.makeLineShape(polar.coordToPoint([otherExtent[0], coordValue]), polar.coordToPoint([otherExtent[1], coordValue]))\n    } : {\n      type: 'Circle',\n      shape: {\n        cx: polar.cx,\n        cy: polar.cy,\n        r: coordValue\n      }\n    };\n  },\n  shadow: function (axis, polar, coordValue, otherExtent, elStyle) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var radian = Math.PI / 180;\n    return axis.dim === 'angle' ? {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, otherExtent[0], otherExtent[1], // In ECharts y is negative if angle is positive\n      (-coordValue - bandWidth / 2) * radian, (-coordValue + bandWidth / 2) * radian)\n    } : {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, coordValue - bandWidth / 2, coordValue + bandWidth / 2, 0, Math.PI * 2)\n    };\n  }\n};\nAxisView.registerAxisPointerClass('PolarAxisPointer', PolarAxisPointer);\nvar _default = PolarAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar ATTR = '\\0_ec_hist_store';\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} newSnapshot {dataZoomId, batch: [payloadInfo, ...]}\n */\n\nfunction push(ecModel, newSnapshot) {\n  var store = giveStore(ecModel); // If previous dataZoom can not be found,\n  // complete an range with current range.\n\n  each(newSnapshot, function (batchItem, dataZoomId) {\n    var i = store.length - 1;\n\n    for (; i >= 0; i--) {\n      var snapshot = store[i];\n\n      if (snapshot[dataZoomId]) {\n        break;\n      }\n    }\n\n    if (i < 0) {\n      // No origin range set, create one by current range.\n      var dataZoomModel = ecModel.queryComponents({\n        mainType: 'dataZoom',\n        subType: 'select',\n        id: dataZoomId\n      })[0];\n\n      if (dataZoomModel) {\n        var percentRange = dataZoomModel.getPercentRange();\n        store[0][dataZoomId] = {\n          dataZoomId: dataZoomId,\n          start: percentRange[0],\n          end: percentRange[1]\n        };\n      }\n    }\n  });\n  store.push(newSnapshot);\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} snapshot\n */\n\n\nfunction pop(ecModel) {\n  var store = giveStore(ecModel);\n  var head = store[store.length - 1];\n  store.length > 1 && store.pop(); // Find top for all dataZoom.\n\n  var snapshot = {};\n  each(head, function (batchItem, dataZoomId) {\n    for (var i = store.length - 1; i >= 0; i--) {\n      var batchItem = store[i][dataZoomId];\n\n      if (batchItem) {\n        snapshot[dataZoomId] = batchItem;\n        break;\n      }\n    }\n  });\n  return snapshot;\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n */\n\n\nfunction clear(ecModel) {\n  ecModel[ATTR] = null;\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {number} records. always >= 1.\n */\n\n\nfunction count(ecModel) {\n  return giveStore(ecModel).length;\n}\n/**\n * [{key: dataZoomId, value: {dataZoomId, range}}, ...]\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n * @type {Array.<Object>}\n */\n\n\nfunction giveStore(ecModel) {\n  var store = ecModel[ATTR];\n\n  if (!store) {\n    store = ecModel[ATTR] = [{}];\n  }\n\n  return store;\n}\n\nexports.push = push;\nexports.pop = pop;\nexports.clear = clear;\nexports.count = count;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar AxisBuilder = require(\"../axis/AxisBuilder\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\n\nvar _default = echarts.extendComponentView({\n  type: 'radar',\n  render: function (radarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n\n    this._buildAxes(radarModel);\n\n    this._buildSplitLineAndArea(radarModel);\n  },\n  _buildAxes: function (radarModel) {\n    var radar = radarModel.coordinateSystem;\n    var indicatorAxes = radar.getIndicatorAxes();\n    var axisBuilders = zrUtil.map(indicatorAxes, function (indicatorAxis) {\n      var axisBuilder = new AxisBuilder(indicatorAxis.model, {\n        position: [radar.cx, radar.cy],\n        rotation: indicatorAxis.angle,\n        labelDirection: -1,\n        tickDirection: -1,\n        nameDirection: 1\n      });\n      return axisBuilder;\n    });\n    zrUtil.each(axisBuilders, function (axisBuilder) {\n      zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n      this.group.add(axisBuilder.getGroup());\n    }, this);\n  },\n  _buildSplitLineAndArea: function (radarModel) {\n    var radar = radarModel.coordinateSystem;\n    var indicatorAxes = radar.getIndicatorAxes();\n\n    if (!indicatorAxes.length) {\n      return;\n    }\n\n    var shape = radarModel.get('shape');\n    var splitLineModel = radarModel.getModel('splitLine');\n    var splitAreaModel = radarModel.getModel('splitArea');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var showSplitLine = splitLineModel.get('show');\n    var showSplitArea = splitAreaModel.get('show');\n    var splitLineColors = lineStyleModel.get('color');\n    var splitAreaColors = areaStyleModel.get('color');\n    splitLineColors = zrUtil.isArray(splitLineColors) ? splitLineColors : [splitLineColors];\n    splitAreaColors = zrUtil.isArray(splitAreaColors) ? splitAreaColors : [splitAreaColors];\n    var splitLines = [];\n    var splitAreas = [];\n\n    function getColorIndex(areaOrLine, areaOrLineColorList, idx) {\n      var colorIndex = idx % areaOrLineColorList.length;\n      areaOrLine[colorIndex] = areaOrLine[colorIndex] || [];\n      return colorIndex;\n    }\n\n    if (shape === 'circle') {\n      var ticksRadius = indicatorAxes[0].getTicksCoords();\n      var cx = radar.cx;\n      var cy = radar.cy;\n\n      for (var i = 0; i < ticksRadius.length; i++) {\n        if (showSplitLine) {\n          var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n          splitLines[colorIndex].push(new graphic.Circle({\n            shape: {\n              cx: cx,\n              cy: cy,\n              r: ticksRadius[i].coord\n            }\n          }));\n        }\n\n        if (showSplitArea && i < ticksRadius.length - 1) {\n          var colorIndex = getColorIndex(splitAreas, splitAreaColors, i);\n          splitAreas[colorIndex].push(new graphic.Ring({\n            shape: {\n              cx: cx,\n              cy: cy,\n              r0: ticksRadius[i].coord,\n              r: ticksRadius[i + 1].coord\n            }\n          }));\n        }\n      }\n    } // Polyyon\n    else {\n        var realSplitNumber;\n        var axesTicksPoints = zrUtil.map(indicatorAxes, function (indicatorAxis, idx) {\n          var ticksCoords = indicatorAxis.getTicksCoords();\n          realSplitNumber = realSplitNumber == null ? ticksCoords.length - 1 : Math.min(ticksCoords.length - 1, realSplitNumber);\n          return zrUtil.map(ticksCoords, function (tickCoord) {\n            return radar.coordToPoint(tickCoord.coord, idx);\n          });\n        });\n        var prevPoints = [];\n\n        for (var i = 0; i <= realSplitNumber; i++) {\n          var points = [];\n\n          for (var j = 0; j < indicatorAxes.length; j++) {\n            points.push(axesTicksPoints[j][i]);\n          } // Close\n\n\n          if (points[0]) {\n            points.push(points[0].slice());\n          } else {}\n\n          if (showSplitLine) {\n            var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n            splitLines[colorIndex].push(new graphic.Polyline({\n              shape: {\n                points: points\n              }\n            }));\n          }\n\n          if (showSplitArea && prevPoints) {\n            var colorIndex = getColorIndex(splitAreas, splitAreaColors, i - 1);\n            splitAreas[colorIndex].push(new graphic.Polygon({\n              shape: {\n                points: points.concat(prevPoints)\n              }\n            }));\n          }\n\n          prevPoints = points.slice().reverse();\n        }\n      }\n\n    var lineStyle = lineStyleModel.getLineStyle();\n    var areaStyle = areaStyleModel.getAreaStyle(); // Add splitArea before splitLine\n\n    zrUtil.each(splitAreas, function (splitAreas, idx) {\n      this.group.add(graphic.mergePath(splitAreas, {\n        style: zrUtil.defaults({\n          stroke: 'none',\n          fill: splitAreaColors[idx % splitAreaColors.length]\n        }, areaStyle),\n        silent: true\n      }));\n    }, this);\n    zrUtil.each(splitLines, function (splitLines, idx) {\n      this.group.add(graphic.mergePath(splitLines, {\n        style: zrUtil.defaults({\n          fill: 'none',\n          stroke: splitLineColors[idx % splitLineColors.length]\n        }, lineStyle),\n        silent: true\n      }));\n    }, this);\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"../component/singleAxis\");\n\nrequire(\"./themeRiver/ThemeRiverSeries\");\n\nrequire(\"./themeRiver/ThemeRiverView\");\n\nvar themeRiverLayout = require(\"./themeRiver/themeRiverLayout\");\n\nvar themeRiverVisual = require(\"./themeRiver/themeRiverVisual\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerLayout(themeRiverLayout);\necharts.registerVisual(themeRiverVisual);\necharts.registerProcessor(dataFilter('themeRiver'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar vector = require(\"zrender/lib/core/vector\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar Transformable = require(\"zrender/lib/mixin/Transformable\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\nvar v2ApplyTransform = vector.applyTransform; // Dummy transform node\n\nfunction TransformDummy() {\n  Transformable.call(this);\n}\n\nzrUtil.mixin(TransformDummy, Transformable);\n\nfunction View(name) {\n  /**\n   * @type {string}\n   */\n  this.name = name;\n  /**\n   * @type {Object}\n   */\n\n  this.zoomLimit;\n  Transformable.call(this);\n  this._roamTransformable = new TransformDummy();\n  this._rawTransformable = new TransformDummy();\n  this._center;\n  this._zoom;\n}\n\nView.prototype = {\n  constructor: View,\n  type: 'view',\n\n  /**\n   * @param {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['x', 'y'],\n\n  /**\n   * Set bounding rect\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   */\n  // PENDING to getRect\n  setBoundingRect: function (x, y, width, height) {\n    this._rect = new BoundingRect(x, y, width, height);\n    return this._rect;\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  // PENDING to getRect\n  getBoundingRect: function () {\n    return this._rect;\n  },\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   */\n  setViewRect: function (x, y, width, height) {\n    this.transformTo(x, y, width, height);\n    this._viewRect = new BoundingRect(x, y, width, height);\n  },\n\n  /**\n   * Transformed to particular position and size\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   */\n  transformTo: function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var rawTransform = this._rawTransformable;\n    rawTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    rawTransform.decomposeTransform();\n\n    this._updateTransform();\n  },\n\n  /**\n   * Set center of view\n   * @param {Array.<number>} [centerCoord]\n   */\n  setCenter: function (centerCoord) {\n    if (!centerCoord) {\n      return;\n    }\n\n    this._center = centerCoord;\n\n    this._updateCenterAndZoom();\n  },\n\n  /**\n   * @param {number} zoom\n   */\n  setZoom: function (zoom) {\n    zoom = zoom || 1;\n    var zoomLimit = this.zoomLimit;\n\n    if (zoomLimit) {\n      if (zoomLimit.max != null) {\n        zoom = Math.min(zoomLimit.max, zoom);\n      }\n\n      if (zoomLimit.min != null) {\n        zoom = Math.max(zoomLimit.min, zoom);\n      }\n    }\n\n    this._zoom = zoom;\n\n    this._updateCenterAndZoom();\n  },\n\n  /**\n   * Get default center without roam\n   */\n  getDefaultCenter: function () {\n    // Rect before any transform\n    var rawRect = this.getBoundingRect();\n    var cx = rawRect.x + rawRect.width / 2;\n    var cy = rawRect.y + rawRect.height / 2;\n    return [cx, cy];\n  },\n  getCenter: function () {\n    return this._center || this.getDefaultCenter();\n  },\n  getZoom: function () {\n    return this._zoom || 1;\n  },\n\n  /**\n   * @return {Array.<number}\n   */\n  getRoamTransform: function () {\n    return this._roamTransformable.getLocalTransform();\n  },\n\n  /**\n   * Remove roam\n   */\n  _updateCenterAndZoom: function () {\n    // Must update after view transform updated\n    var rawTransformMatrix = this._rawTransformable.getLocalTransform();\n\n    var roamTransform = this._roamTransformable;\n    var defaultCenter = this.getDefaultCenter();\n    var center = this.getCenter();\n    var zoom = this.getZoom();\n    center = vector.applyTransform([], center, rawTransformMatrix);\n    defaultCenter = vector.applyTransform([], defaultCenter, rawTransformMatrix);\n    roamTransform.origin = center;\n    roamTransform.position = [defaultCenter[0] - center[0], defaultCenter[1] - center[1]];\n    roamTransform.scale = [zoom, zoom];\n\n    this._updateTransform();\n  },\n\n  /**\n   * Update transform from roam and mapLocation\n   * @private\n   */\n  _updateTransform: function () {\n    var roamTransformable = this._roamTransformable;\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.parent = roamTransformable;\n    roamTransformable.updateTransform();\n    rawTransformable.updateTransform();\n    matrix.copy(this.transform || (this.transform = []), rawTransformable.transform || matrix.create());\n    this._rawTransform = rawTransformable.getLocalTransform();\n    this.invTransform = this.invTransform || [];\n    matrix.invert(this.invTransform, this.transform);\n    this.decomposeTransform();\n  },\n  getTransformInfo: function () {\n    var roamTransform = this._roamTransformable.transform;\n    var rawTransformable = this._rawTransformable;\n    return {\n      roamTransform: roamTransform ? zrUtil.slice(roamTransform) : matrix.create(),\n      rawScale: zrUtil.slice(rawTransformable.scale),\n      rawPosition: zrUtil.slice(rawTransformable.position)\n    };\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getViewRect: function () {\n    return this._viewRect;\n  },\n\n  /**\n   * Get view rect after roam transform\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getViewRectAfterRoam: function () {\n    var rect = this.getBoundingRect().clone();\n    rect.applyTransform(this.transform);\n    return rect;\n  },\n\n  /**\n   * Convert a single (lon, lat) data item to (x, y) point.\n   * @param {Array.<number>} data\n   * @param {boolean} noRoam\n   * @param {Array.<number>} [out]\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, noRoam, out) {\n    var transform = noRoam ? this._rawTransform : this.transform;\n    out = out || [];\n    return transform ? v2ApplyTransform(out, data, transform) : vector.copy(out, data);\n  },\n\n  /**\n   * Convert a (x, y) point to (lon, lat) data\n   * @param {Array.<number>} point\n   * @return {Array.<number>}\n   */\n  pointToData: function (point) {\n    var invTransform = this.invTransform;\n    return invTransform ? v2ApplyTransform([], point, invTransform) : [point[0], point[1]];\n  },\n\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n  convertToPixel: zrUtil.curry(doConvert, 'dataToPoint'),\n\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n  convertFromPixel: zrUtil.curry(doConvert, 'pointToData'),\n\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n  containPoint: function (point) {\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\n  }\n  /**\n   * @return {number}\n   */\n  // getScalarScale: function () {\n  //     // Use determinant square root of transform to mutiply scalar\n  //     var m = this.transform;\n  //     var det = Math.sqrt(Math.abs(m[0] * m[3] - m[2] * m[1]));\n  //     return det;\n  // }\n\n};\nzrUtil.mixin(View, Transformable);\n\nfunction doConvert(methodName, ecModel, finder, value) {\n  var seriesModel = finder.seriesModel;\n  var coordSys = seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n\n  return coordSys === this ? coordSys[methodName](value) : null;\n}\n\nvar _default = View;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"../helper/Symbol\");\n\nvar _layoutHelper = require(\"./layoutHelper\");\n\nvar radialCoordinate = _layoutHelper.radialCoordinate;\n\nvar echarts = require(\"../../echarts\");\n\nvar bbox = require(\"zrender/lib/core/bbox\");\n\nvar View = require(\"../../coord/View\");\n\nvar roamHelper = require(\"../../component/helper/roamHelper\");\n\nvar RoamController = require(\"../../component/helper/RoamController\");\n\nvar _cursorHelper = require(\"../../component/helper/cursorHelper\");\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar TreeShape = graphic.extendShape({\n  shape: {\n    parentPoint: [],\n    childPoints: [],\n    orient: '',\n    forkPosition: ''\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var childPoints = shape.childPoints;\n    var childLen = childPoints.length;\n    var parentPoint = shape.parentPoint;\n    var firstChildPos = childPoints[0];\n    var lastChildPos = childPoints[childLen - 1];\n\n    if (childLen === 1) {\n      ctx.moveTo(parentPoint[0], parentPoint[1]);\n      ctx.lineTo(firstChildPos[0], firstChildPos[1]);\n      return;\n    }\n\n    var orient = shape.orient;\n    var forkDim = orient === 'TB' || orient === 'BT' ? 0 : 1;\n    var otherDim = 1 - forkDim;\n    var forkPosition = parsePercent(shape.forkPosition, 1);\n    var tmpPoint = [];\n    tmpPoint[forkDim] = parentPoint[forkDim];\n    tmpPoint[otherDim] = parentPoint[otherDim] + (lastChildPos[otherDim] - parentPoint[otherDim]) * forkPosition;\n    ctx.moveTo(parentPoint[0], parentPoint[1]);\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    ctx.moveTo(firstChildPos[0], firstChildPos[1]);\n    tmpPoint[forkDim] = firstChildPos[forkDim];\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    tmpPoint[forkDim] = lastChildPos[forkDim];\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    ctx.lineTo(lastChildPos[0], lastChildPos[1]);\n\n    for (var i = 1; i < childLen - 1; i++) {\n      var point = childPoints[i];\n      ctx.moveTo(point[0], point[1]);\n      tmpPoint[forkDim] = point[forkDim];\n      ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    }\n  }\n});\n\nvar _default = echarts.extendChartView({\n  type: 'tree',\n\n  /**\n   * Init the chart\n   * @override\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {module:echarts/data/Tree}\n     */\n    this._oldTree;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this._mainGroup = new graphic.Group();\n    /**\n     * @private\n     * @type {module:echarts/componet/helper/RoamController}\n     */\n\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: this.group\n    };\n    this.group.add(this._mainGroup);\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var layoutInfo = seriesModel.layoutInfo;\n    var group = this._mainGroup;\n    var layout = seriesModel.get('layout');\n\n    if (layout === 'radial') {\n      group.attr('position', [layoutInfo.x + layoutInfo.width / 2, layoutInfo.y + layoutInfo.height / 2]);\n    } else {\n      group.attr('position', [layoutInfo.x, layoutInfo.y]);\n    }\n\n    this._updateViewCoordSys(seriesModel, layoutInfo, layout);\n\n    this._updateController(seriesModel, ecModel, api);\n\n    var oldData = this._data;\n    var seriesScope = {\n      expandAndCollapse: seriesModel.get('expandAndCollapse'),\n      layout: layout,\n      edgeShape: seriesModel.get('edgeShape'),\n      edgeForkPosition: seriesModel.get('edgeForkPosition'),\n      orient: seriesModel.getOrient(),\n      curvature: seriesModel.get('lineStyle.curveness'),\n      symbolRotate: seriesModel.get('symbolRotate'),\n      symbolOffset: seriesModel.get('symbolOffset'),\n      hoverAnimation: seriesModel.get('hoverAnimation'),\n      useNameLabel: true,\n      fadeIn: true\n    };\n    data.diff(oldData).add(function (newIdx) {\n      if (symbolNeedsDraw(data, newIdx)) {\n        // Create node and edge\n        updateNode(data, newIdx, null, group, seriesModel, seriesScope);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n\n      if (!symbolNeedsDraw(data, newIdx)) {\n        symbolEl && removeNode(oldData, oldIdx, symbolEl, group, seriesModel, seriesScope);\n        return;\n      } // Update node and edge\n\n\n      updateNode(data, newIdx, symbolEl, group, seriesModel, seriesScope);\n    }).remove(function (oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx); // When remove a collapsed node of subtree, since the collapsed\n      // node haven't been initialized with a symbol element,\n      // you can't found it's symbol element through index.\n      // so if we want to remove the symbol element we should insure\n      // that the symbol element is not null.\n\n      if (symbolEl) {\n        removeNode(oldData, oldIdx, symbolEl, group, seriesModel, seriesScope);\n      }\n    }).execute();\n    this._nodeScaleRatio = seriesModel.get('nodeScaleRatio');\n\n    this._updateNodeAndLinkScale(seriesModel);\n\n    if (seriesScope.expandAndCollapse === true) {\n      data.eachItemGraphicEl(function (el, dataIndex) {\n        el.off('click').on('click', function () {\n          api.dispatchAction({\n            type: 'treeExpandAndCollapse',\n            seriesId: seriesModel.id,\n            dataIndex: dataIndex\n          });\n        });\n      });\n    }\n\n    this._data = data;\n  },\n  _updateViewCoordSys: function (seriesModel) {\n    var data = seriesModel.getData();\n    var points = [];\n    data.each(function (idx) {\n      var layout = data.getItemLayout(idx);\n\n      if (layout && !isNaN(layout.x) && !isNaN(layout.y)) {\n        points.push([+layout.x, +layout.y]);\n      }\n    });\n    var min = [];\n    var max = [];\n    bbox.fromPoints(points, min, max); // If don't Store min max when collapse the root node after roam,\n    // the root node will disappear.\n\n    var oldMin = this._min;\n    var oldMax = this._max; // If width or height is 0\n\n    if (max[0] - min[0] === 0) {\n      min[0] = oldMin ? oldMin[0] : min[0] - 1;\n      max[0] = oldMax ? oldMax[0] : max[0] + 1;\n    }\n\n    if (max[1] - min[1] === 0) {\n      min[1] = oldMin ? oldMin[1] : min[1] - 1;\n      max[1] = oldMax ? oldMax[1] : max[1] + 1;\n    }\n\n    var viewCoordSys = seriesModel.coordinateSystem = new View();\n    viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n    viewCoordSys.setBoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    viewCoordSys.setCenter(seriesModel.get('center'));\n    viewCoordSys.setZoom(seriesModel.get('zoom')); // Here we use viewCoordSys just for computing the 'position' and 'scale' of the group\n\n    this.group.attr({\n      position: viewCoordSys.position,\n      scale: viewCoordSys.scale\n    });\n    this._viewCoordSys = viewCoordSys;\n    this._min = min;\n    this._max = max;\n  },\n  _updateController: function (seriesModel, ecModel, api) {\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'treeRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }, this).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'treeRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n\n      this._updateNodeAndLinkScale(seriesModel);\n    }, this);\n  },\n  _updateNodeAndLinkScale: function (seriesModel) {\n    var data = seriesModel.getData();\n\n    var nodeScale = this._getNodeGlobalScale(seriesModel);\n\n    var invScale = [nodeScale, nodeScale];\n    data.eachItemGraphicEl(function (el, idx) {\n      el.attr('scale', invScale);\n    });\n  },\n  _getNodeGlobalScale: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys.type !== 'view') {\n      return 1;\n    }\n\n    var nodeScaleRatio = this._nodeScaleRatio;\n    var groupScale = coordSys.scale;\n    var groupZoom = groupScale && groupScale[0] || 1; // Scale node when zoom changes\n\n    var roamZoom = coordSys.getZoom();\n    var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n    return nodeScale / groupZoom;\n  },\n  dispose: function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = {};\n  },\n  remove: function () {\n    this._mainGroup.removeAll();\n\n    this._data = null;\n  }\n});\n\nfunction symbolNeedsDraw(data, dataIndex) {\n  var layout = data.getItemLayout(dataIndex);\n  return layout && !isNaN(layout.x) && !isNaN(layout.y) && data.getItemVisual(dataIndex, 'symbol') !== 'none';\n}\n\nfunction getTreeNodeStyle(node, itemModel, seriesScope) {\n  seriesScope.itemModel = itemModel;\n  seriesScope.itemStyle = itemModel.getModel('itemStyle').getItemStyle();\n  seriesScope.hoverItemStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  seriesScope.lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n  seriesScope.labelModel = itemModel.getModel('label');\n  seriesScope.hoverLabelModel = itemModel.getModel('emphasis.label');\n\n  if (node.isExpand === false && node.children.length !== 0) {\n    seriesScope.symbolInnerColor = seriesScope.itemStyle.fill;\n  } else {\n    seriesScope.symbolInnerColor = '#fff';\n  }\n\n  return seriesScope;\n}\n\nfunction updateNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n  var isInit = !symbolEl;\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var itemModel = node.getModel();\n  var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n  var virtualRoot = data.tree.root;\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceLayout = source.getLayout();\n  var sourceOldLayout = sourceSymbolEl ? {\n    x: sourceSymbolEl.position[0],\n    y: sourceSymbolEl.position[1],\n    rawX: sourceSymbolEl.__radialOldRawX,\n    rawY: sourceSymbolEl.__radialOldRawY\n  } : sourceLayout;\n  var targetLayout = node.getLayout();\n\n  if (isInit) {\n    symbolEl = new SymbolClz(data, dataIndex, seriesScope);\n    symbolEl.attr('position', [sourceOldLayout.x, sourceOldLayout.y]);\n  } else {\n    symbolEl.updateData(data, dataIndex, seriesScope);\n  }\n\n  symbolEl.__radialOldRawX = symbolEl.__radialRawX;\n  symbolEl.__radialOldRawY = symbolEl.__radialRawY;\n  symbolEl.__radialRawX = targetLayout.rawX;\n  symbolEl.__radialRawY = targetLayout.rawY;\n  group.add(symbolEl);\n  data.setItemGraphicEl(dataIndex, symbolEl);\n  graphic.updateProps(symbolEl, {\n    position: [targetLayout.x, targetLayout.y]\n  }, seriesModel);\n  var symbolPath = symbolEl.getSymbolPath();\n\n  if (seriesScope.layout === 'radial') {\n    var realRoot = virtualRoot.children[0];\n    var rootLayout = realRoot.getLayout();\n    var length = realRoot.children.length;\n    var rad;\n    var isLeft;\n\n    if (targetLayout.x === rootLayout.x && node.isExpand === true) {\n      var center = {};\n      center.x = (realRoot.children[0].getLayout().x + realRoot.children[length - 1].getLayout().x) / 2;\n      center.y = (realRoot.children[0].getLayout().y + realRoot.children[length - 1].getLayout().y) / 2;\n      rad = Math.atan2(center.y - rootLayout.y, center.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      isLeft = center.x < rootLayout.x;\n\n      if (isLeft) {\n        rad = rad - Math.PI;\n      }\n    } else {\n      rad = Math.atan2(targetLayout.y - rootLayout.y, targetLayout.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      if (node.children.length === 0 || node.children.length !== 0 && node.isExpand === false) {\n        isLeft = targetLayout.x < rootLayout.x;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n      } else {\n        isLeft = targetLayout.x > rootLayout.x;\n\n        if (!isLeft) {\n          rad = rad - Math.PI;\n        }\n      }\n    }\n\n    var textPosition = isLeft ? 'left' : 'right';\n    var rotate = seriesScope.labelModel.get('rotate');\n    var labelRotateRadian = rotate * (Math.PI / 180);\n    symbolPath.setStyle({\n      textPosition: seriesScope.labelModel.get('position') || textPosition,\n      textRotation: rotate == null ? -rad : labelRotateRadian,\n      textOrigin: 'center',\n      verticalAlign: 'middle'\n    });\n  }\n\n  drawEdge(seriesModel, node, virtualRoot, symbolEl, sourceOldLayout, sourceLayout, targetLayout, group, seriesScope);\n}\n\nfunction drawEdge(seriesModel, node, virtualRoot, symbolEl, sourceOldLayout, sourceLayout, targetLayout, group, seriesScope) {\n  var edgeShape = seriesScope.edgeShape;\n  var edge = symbolEl.__edge;\n\n  if (edgeShape === 'curve') {\n    if (node.parentNode && node.parentNode !== virtualRoot) {\n      if (!edge) {\n        edge = symbolEl.__edge = new graphic.BezierCurve({\n          shape: getEdgeShape(seriesScope, sourceOldLayout, sourceOldLayout),\n          style: zrUtil.defaults({\n            opacity: 0,\n            strokeNoScale: true\n          }, seriesScope.lineStyle)\n        });\n      }\n\n      graphic.updateProps(edge, {\n        shape: getEdgeShape(seriesScope, sourceLayout, targetLayout),\n        style: zrUtil.defaults({\n          opacity: 1\n        }, seriesScope.lineStyle)\n      }, seriesModel);\n    }\n  } else if (edgeShape === 'polyline') {\n    if (seriesScope.layout === 'orthogonal') {\n      if (node !== virtualRoot && node.children && node.children.length !== 0 && node.isExpand === true) {\n        var children = node.children;\n        var childPoints = [];\n\n        for (var i = 0; i < children.length; i++) {\n          var childLayout = children[i].getLayout();\n          childPoints.push([childLayout.x, childLayout.y]);\n        }\n\n        if (!edge) {\n          edge = symbolEl.__edge = new TreeShape({\n            shape: {\n              parentPoint: [targetLayout.x, targetLayout.y],\n              childPoints: [[targetLayout.x, targetLayout.y]],\n              orient: seriesScope.orient,\n              forkPosition: seriesScope.edgeForkPosition\n            },\n            style: zrUtil.defaults({\n              opacity: 0,\n              strokeNoScale: true\n            }, seriesScope.lineStyle)\n          });\n        }\n\n        graphic.updateProps(edge, {\n          shape: {\n            parentPoint: [targetLayout.x, targetLayout.y],\n            childPoints: childPoints\n          },\n          style: zrUtil.defaults({\n            opacity: 1\n          }, seriesScope.lineStyle)\n        }, seriesModel);\n      }\n    } else {}\n  }\n\n  group.add(edge);\n}\n\nfunction removeNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var virtualRoot = data.tree.root;\n  var itemModel = node.getModel();\n  var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var edgeShape = seriesScope.edgeShape;\n  var sourceLayout;\n\n  while (sourceLayout = source.getLayout(), sourceLayout == null) {\n    source = source.parentNode === virtualRoot ? source : source.parentNode || source;\n  }\n\n  graphic.updateProps(symbolEl, {\n    position: [sourceLayout.x + 1, sourceLayout.y + 1]\n  }, seriesModel, function () {\n    group.remove(symbolEl);\n    data.setItemGraphicEl(dataIndex, null);\n  });\n  symbolEl.fadeOut(null, {\n    keepLabel: true\n  });\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceEdge = sourceSymbolEl.__edge; // 1. when expand the sub tree, delete the children node should delete the edge of\n  // the source at the same time. because the polyline edge shape is only owned by the source.\n  // 2.when the node is the only children of the source, delete the node should delete the edge of\n  // the source at the same time. the same reason as above.\n\n  var edge = symbolEl.__edge || (source.isExpand === false || source.children.length === 1 ? sourceEdge : undefined);\n  var edgeShape = seriesScope.edgeShape;\n\n  if (edge) {\n    if (edgeShape === 'curve') {\n      graphic.updateProps(edge, {\n        shape: getEdgeShape(seriesScope, sourceLayout, sourceLayout),\n        style: {\n          opacity: 0\n        }\n      }, seriesModel, function () {\n        group.remove(edge);\n      });\n    } else if (edgeShape === 'polyline' && seriesScope.layout === 'orthogonal') {\n      graphic.updateProps(edge, {\n        shape: {\n          parentPoint: [sourceLayout.x, sourceLayout.y],\n          childPoints: [[sourceLayout.x, sourceLayout.y]]\n        },\n        style: {\n          opacity: 0\n        }\n      }, seriesModel, function () {\n        group.remove(edge);\n      });\n    }\n  }\n}\n\nfunction getEdgeShape(seriesScope, sourceLayout, targetLayout) {\n  var cpx1;\n  var cpy1;\n  var cpx2;\n  var cpy2;\n  var orient = seriesScope.orient;\n  var x1;\n  var x2;\n  var y1;\n  var y2;\n\n  if (seriesScope.layout === 'radial') {\n    x1 = sourceLayout.rawX;\n    y1 = sourceLayout.rawY;\n    x2 = targetLayout.rawX;\n    y2 = targetLayout.rawY;\n    var radialCoor1 = radialCoordinate(x1, y1);\n    var radialCoor2 = radialCoordinate(x1, y1 + (y2 - y1) * seriesScope.curvature);\n    var radialCoor3 = radialCoordinate(x2, y2 + (y1 - y2) * seriesScope.curvature);\n    var radialCoor4 = radialCoordinate(x2, y2);\n    return {\n      x1: radialCoor1.x,\n      y1: radialCoor1.y,\n      x2: radialCoor4.x,\n      y2: radialCoor4.y,\n      cpx1: radialCoor2.x,\n      cpy1: radialCoor2.y,\n      cpx2: radialCoor3.x,\n      cpy2: radialCoor3.y\n    };\n  } else {\n    x1 = sourceLayout.x;\n    y1 = sourceLayout.y;\n    x2 = targetLayout.x;\n    y2 = targetLayout.y;\n\n    if (orient === 'LR' || orient === 'RL') {\n      cpx1 = x1 + (x2 - x1) * seriesScope.curvature;\n      cpy1 = y1;\n      cpx2 = x2 + (x1 - x2) * seriesScope.curvature;\n      cpy2 = y2;\n    }\n\n    if (orient === 'TB' || orient === 'BT') {\n      cpx1 = x1;\n      cpy1 = y1 + (y2 - y1) * seriesScope.curvature;\n      cpx2 = x2;\n      cpy2 = y2 + (y1 - y2) * seriesScope.curvature;\n    }\n  }\n\n  return {\n    x1: x1,\n    y1: y1,\n    x2: x2,\n    y2: y2,\n    cpx1: cpx1,\n    cpy1: cpy1,\n    cpx2: cpx2,\n    cpy2: cpy2\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Traverse the tree from bottom to top and do something\n * @param  {module:echarts/data/Tree~TreeNode} root  The real root of the tree\n * @param  {Function} callback\n */\nfunction eachAfter(root, callback, separation) {\n  var nodes = [root];\n  var next = [];\n  var node;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    next.push(node);\n\n    if (node.isExpand) {\n      var children = node.children;\n\n      if (children.length) {\n        for (var i = 0; i < children.length; i++) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n\n  while (node = next.pop()) {\n    // jshint ignore:line\n    callback(node, separation);\n  }\n}\n/**\n * Traverse the tree from top to bottom and do something\n * @param  {module:echarts/data/Tree~TreeNode} root  The real root of the tree\n * @param  {Function} callback\n */\n\n\nfunction eachBefore(root, callback) {\n  var nodes = [root];\n  var node;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    callback(node);\n\n    if (node.isExpand) {\n      var children = node.children;\n\n      if (children.length) {\n        for (var i = children.length - 1; i >= 0; i--) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n}\n\nexports.eachAfter = eachAfter;\nexports.eachBefore = eachBefore;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _clazz = require(\"../util/clazz\");\n\nvar enableClassCheck = _clazz.enableClassCheck;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// id may be function name of Object, add a prefix to avoid this problem.\nfunction generateNodeKey(id) {\n  return '_EC_' + id;\n}\n/**\n * @alias module:echarts/data/Graph\n * @constructor\n * @param {boolean} directed\n */\n\n\nvar Graph = function (directed) {\n  /**\n   * \n   * @type {boolean}\n   * @private\n   */\n  this._directed = directed || false;\n  /**\n   * @type {Array.<module:echarts/data/Graph.Node>}\n   * @readOnly\n   */\n\n  this.nodes = [];\n  /**\n   * @type {Array.<module:echarts/data/Graph.Edge>}\n   * @readOnly\n   */\n\n  this.edges = [];\n  /**\n   * @type {Object.<string, module:echarts/data/Graph.Node>}\n   * @private\n   */\n\n  this._nodesMap = {};\n  /**\n   * @type {Object.<string, module:echarts/data/Graph.Edge>}\n   * @private\n   */\n\n  this._edgesMap = {};\n  /**\n   * @type {module:echarts/data/List}\n   * @readOnly\n   */\n\n  this.data;\n  /**\n   * @type {module:echarts/data/List}\n   * @readOnly\n   */\n\n  this.edgeData;\n};\n\nvar graphProto = Graph.prototype;\n/**\n * @type {string}\n */\n\ngraphProto.type = 'graph';\n/**\n * If is directed graph\n * @return {boolean}\n */\n\ngraphProto.isDirected = function () {\n  return this._directed;\n};\n/**\n * Add a new node\n * @param {string} id\n * @param {number} [dataIndex]\n */\n\n\ngraphProto.addNode = function (id, dataIndex) {\n  id = id == null ? '' + dataIndex : '' + id;\n  var nodesMap = this._nodesMap;\n\n  if (nodesMap[generateNodeKey(id)]) {\n    return;\n  }\n\n  var node = new Node(id, dataIndex);\n  node.hostGraph = this;\n  this.nodes.push(node);\n  nodesMap[generateNodeKey(id)] = node;\n  return node;\n};\n/**\n * Get node by data index\n * @param  {number} dataIndex\n * @return {module:echarts/data/Graph~Node}\n */\n\n\ngraphProto.getNodeByIndex = function (dataIndex) {\n  var rawIdx = this.data.getRawIndex(dataIndex);\n  return this.nodes[rawIdx];\n};\n/**\n * Get node by id\n * @param  {string} id\n * @return {module:echarts/data/Graph.Node}\n */\n\n\ngraphProto.getNodeById = function (id) {\n  return this._nodesMap[generateNodeKey(id)];\n};\n/**\n * Add a new edge\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {number} [dataIndex=-1]\n * @return {module:echarts/data/Graph.Edge}\n */\n\n\ngraphProto.addEdge = function (n1, n2, dataIndex) {\n  var nodesMap = this._nodesMap;\n  var edgesMap = this._edgesMap; // PNEDING\n\n  if (typeof n1 === 'number') {\n    n1 = this.nodes[n1];\n  }\n\n  if (typeof n2 === 'number') {\n    n2 = this.nodes[n2];\n  }\n\n  if (!Node.isInstance(n1)) {\n    n1 = nodesMap[generateNodeKey(n1)];\n  }\n\n  if (!Node.isInstance(n2)) {\n    n2 = nodesMap[generateNodeKey(n2)];\n  }\n\n  if (!n1 || !n2) {\n    return;\n  }\n\n  var key = n1.id + '-' + n2.id;\n  var edge = new Edge(n1, n2, dataIndex);\n  edge.hostGraph = this;\n\n  if (this._directed) {\n    n1.outEdges.push(edge);\n    n2.inEdges.push(edge);\n  }\n\n  n1.edges.push(edge);\n\n  if (n1 !== n2) {\n    n2.edges.push(edge);\n  }\n\n  this.edges.push(edge);\n  edgesMap[key] = edge;\n  return edge;\n};\n/**\n * Get edge by data index\n * @param  {number} dataIndex\n * @return {module:echarts/data/Graph~Node}\n */\n\n\ngraphProto.getEdgeByIndex = function (dataIndex) {\n  var rawIdx = this.edgeData.getRawIndex(dataIndex);\n  return this.edges[rawIdx];\n};\n/**\n * Get edge by two linked nodes\n * @param  {module:echarts/data/Graph.Node|string} n1\n * @param  {module:echarts/data/Graph.Node|string} n2\n * @return {module:echarts/data/Graph.Edge}\n */\n\n\ngraphProto.getEdge = function (n1, n2) {\n  if (Node.isInstance(n1)) {\n    n1 = n1.id;\n  }\n\n  if (Node.isInstance(n2)) {\n    n2 = n2.id;\n  }\n\n  var edgesMap = this._edgesMap;\n\n  if (this._directed) {\n    return edgesMap[n1 + '-' + n2];\n  } else {\n    return edgesMap[n1 + '-' + n2] || edgesMap[n2 + '-' + n1];\n  }\n};\n/**\n * Iterate all nodes\n * @param  {Function} cb\n * @param  {*} [context]\n */\n\n\ngraphProto.eachNode = function (cb, context) {\n  var nodes = this.nodes;\n  var len = nodes.length;\n\n  for (var i = 0; i < len; i++) {\n    if (nodes[i].dataIndex >= 0) {\n      cb.call(context, nodes[i], i);\n    }\n  }\n};\n/**\n * Iterate all edges\n * @param  {Function} cb\n * @param  {*} [context]\n */\n\n\ngraphProto.eachEdge = function (cb, context) {\n  var edges = this.edges;\n  var len = edges.length;\n\n  for (var i = 0; i < len; i++) {\n    if (edges[i].dataIndex >= 0 && edges[i].node1.dataIndex >= 0 && edges[i].node2.dataIndex >= 0) {\n      cb.call(context, edges[i], i);\n    }\n  }\n};\n/**\n * Breadth first traverse\n * @param {Function} cb\n * @param {module:echarts/data/Graph.Node} startNode\n * @param {string} [direction='none'] 'none'|'in'|'out'\n * @param {*} [context]\n */\n\n\ngraphProto.breadthFirstTraverse = function (cb, startNode, direction, context) {\n  if (!Node.isInstance(startNode)) {\n    startNode = this._nodesMap[generateNodeKey(startNode)];\n  }\n\n  if (!startNode) {\n    return;\n  }\n\n  var edgeType = direction === 'out' ? 'outEdges' : direction === 'in' ? 'inEdges' : 'edges';\n\n  for (var i = 0; i < this.nodes.length; i++) {\n    this.nodes[i].__visited = false;\n  }\n\n  if (cb.call(context, startNode, null)) {\n    return;\n  }\n\n  var queue = [startNode];\n\n  while (queue.length) {\n    var currentNode = queue.shift();\n    var edges = currentNode[edgeType];\n\n    for (var i = 0; i < edges.length; i++) {\n      var e = edges[i];\n      var otherNode = e.node1 === currentNode ? e.node2 : e.node1;\n\n      if (!otherNode.__visited) {\n        if (cb.call(context, otherNode, currentNode)) {\n          // Stop traversing\n          return;\n        }\n\n        queue.push(otherNode);\n        otherNode.__visited = true;\n      }\n    }\n  }\n}; // TODO\n// graphProto.depthFirstTraverse = function (\n//     cb, startNode, direction, context\n// ) {\n// };\n// Filter update\n\n\ngraphProto.update = function () {\n  var data = this.data;\n  var edgeData = this.edgeData;\n  var nodes = this.nodes;\n  var edges = this.edges;\n\n  for (var i = 0, len = nodes.length; i < len; i++) {\n    nodes[i].dataIndex = -1;\n  }\n\n  for (var i = 0, len = data.count(); i < len; i++) {\n    nodes[data.getRawIndex(i)].dataIndex = i;\n  }\n\n  edgeData.filterSelf(function (idx) {\n    var edge = edges[edgeData.getRawIndex(idx)];\n    return edge.node1.dataIndex >= 0 && edge.node2.dataIndex >= 0;\n  }); // Update edge\n\n  for (var i = 0, len = edges.length; i < len; i++) {\n    edges[i].dataIndex = -1;\n  }\n\n  for (var i = 0, len = edgeData.count(); i < len; i++) {\n    edges[edgeData.getRawIndex(i)].dataIndex = i;\n  }\n};\n/**\n * @return {module:echarts/data/Graph}\n */\n\n\ngraphProto.clone = function () {\n  var graph = new Graph(this._directed);\n  var nodes = this.nodes;\n  var edges = this.edges;\n\n  for (var i = 0; i < nodes.length; i++) {\n    graph.addNode(nodes[i].id, nodes[i].dataIndex);\n  }\n\n  for (var i = 0; i < edges.length; i++) {\n    var e = edges[i];\n    graph.addEdge(e.node1.id, e.node2.id, e.dataIndex);\n  }\n\n  return graph;\n};\n/**\n * @alias module:echarts/data/Graph.Node\n */\n\n\nfunction Node(id, dataIndex) {\n  /**\n  * @type {string}\n  */\n  this.id = id == null ? '' : id;\n  /**\n  * @type {Array.<module:echarts/data/Graph.Edge>}\n  */\n\n  this.inEdges = [];\n  /**\n  * @type {Array.<module:echarts/data/Graph.Edge>}\n  */\n\n  this.outEdges = [];\n  /**\n  * @type {Array.<module:echarts/data/Graph.Edge>}\n  */\n\n  this.edges = [];\n  /**\n   * @type {module:echarts/data/Graph}\n   */\n\n  this.hostGraph;\n  /**\n   * @type {number}\n   */\n\n  this.dataIndex = dataIndex == null ? -1 : dataIndex;\n}\n\nNode.prototype = {\n  constructor: Node,\n\n  /**\n   * @return {number}\n   */\n  degree: function () {\n    return this.edges.length;\n  },\n\n  /**\n   * @return {number}\n   */\n  inDegree: function () {\n    return this.inEdges.length;\n  },\n\n  /**\n  * @return {number}\n  */\n  outDegree: function () {\n    return this.outEdges.length;\n  },\n\n  /**\n   * @param {string} [path]\n   * @return {module:echarts/model/Model}\n   */\n  getModel: function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var graph = this.hostGraph;\n    var itemModel = graph.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  }\n};\n/**\n * \n * @alias module:echarts/data/Graph.Edge\n * @param {module:echarts/data/Graph.Node} n1\n * @param {module:echarts/data/Graph.Node} n2\n * @param {number} [dataIndex=-1]\n */\n\nfunction Edge(n1, n2, dataIndex) {\n  /**\n   * 1\n   * @type {module:echarts/data/Graph.Node}\n   */\n  this.node1 = n1;\n  /**\n   * 2\n   * @type {module:echarts/data/Graph.Node}\n   */\n\n  this.node2 = n2;\n  this.dataIndex = dataIndex == null ? -1 : dataIndex;\n}\n/**\n * @param {string} [path]\n * @return {module:echarts/model/Model}\n */\n\n\nEdge.prototype.getModel = function (path) {\n  if (this.dataIndex < 0) {\n    return;\n  }\n\n  var graph = this.hostGraph;\n  var itemModel = graph.edgeData.getItemModel(this.dataIndex);\n  return itemModel.getModel(path);\n};\n\nvar createGraphDataProxyMixin = function (hostName, dataName) {\n  return {\n    /**\n     * @param {string=} [dimension='value'] Default 'value'. can be 'a', 'b', 'c', 'd', 'e'.\n     * @return {number}\n     */\n    getValue: function (dimension) {\n      var data = this[hostName][dataName];\n      return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} [value]\n     */\n    setVisual: function (key, value) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemVisual(this.dataIndex, key, value);\n    },\n\n    /**\n     * @param {string} key\n     * @return {boolean}\n     */\n    getVisual: function (key, ignoreParent) {\n      return this[hostName][dataName].getItemVisual(this.dataIndex, key, ignoreParent);\n    },\n\n    /**\n     * @param {Object} layout\n     * @return {boolean} [merge=false]\n     */\n    setLayout: function (layout, merge) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemLayout(this.dataIndex, layout, merge);\n    },\n\n    /**\n     * @return {Object}\n     */\n    getLayout: function () {\n      return this[hostName][dataName].getItemLayout(this.dataIndex);\n    },\n\n    /**\n     * @return {module:zrender/Element}\n     */\n    getGraphicEl: function () {\n      return this[hostName][dataName].getItemGraphicEl(this.dataIndex);\n    },\n\n    /**\n     * @return {number}\n     */\n    getRawIndex: function () {\n      return this[hostName][dataName].getRawIndex(this.dataIndex);\n    }\n  };\n};\n\nzrUtil.mixin(Node, createGraphDataProxyMixin('hostGraph', 'data'));\nzrUtil.mixin(Edge, createGraphDataProxyMixin('hostGraph', 'edgeData'));\nGraph.Node = Node;\nGraph.Edge = Edge;\nenableClassCheck(Node);\nenableClassCheck(Edge);\nvar _default = Graph;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar LineGroup = require(\"./Line\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/LineDraw\n */\n// import IncrementalDisplayable from 'zrender/src/graphic/IncrementalDisplayable';\n\n/**\n * @alias module:echarts/component/marker/LineDraw\n * @constructor\n */\nfunction LineDraw(ctor) {\n  this._ctor = ctor || LineGroup;\n  this.group = new graphic.Group();\n}\n\nvar lineDrawProto = LineDraw.prototype;\n\nlineDrawProto.isPersistent = function () {\n  return true;\n};\n/**\n * @param {module:echarts/data/List} lineData\n */\n\n\nlineDrawProto.updateData = function (lineData) {\n  var lineDraw = this;\n  var group = lineDraw.group;\n  var oldLineData = lineDraw._lineData;\n  lineDraw._lineData = lineData; // There is no oldLineData only when first rendering or switching from\n  // stream mode to normal mode, where previous elements should be removed.\n\n  if (!oldLineData) {\n    group.removeAll();\n  }\n\n  var seriesScope = makeSeriesScope(lineData);\n  lineData.diff(oldLineData).add(function (idx) {\n    doAdd(lineDraw, lineData, idx, seriesScope);\n  }).update(function (newIdx, oldIdx) {\n    doUpdate(lineDraw, oldLineData, lineData, oldIdx, newIdx, seriesScope);\n  }).remove(function (idx) {\n    group.remove(oldLineData.getItemGraphicEl(idx));\n  }).execute();\n};\n\nfunction doAdd(lineDraw, lineData, idx, seriesScope) {\n  var itemLayout = lineData.getItemLayout(idx);\n\n  if (!lineNeedsDraw(itemLayout)) {\n    return;\n  }\n\n  var el = new lineDraw._ctor(lineData, idx, seriesScope);\n  lineData.setItemGraphicEl(idx, el);\n  lineDraw.group.add(el);\n}\n\nfunction doUpdate(lineDraw, oldLineData, newLineData, oldIdx, newIdx, seriesScope) {\n  var itemEl = oldLineData.getItemGraphicEl(oldIdx);\n\n  if (!lineNeedsDraw(newLineData.getItemLayout(newIdx))) {\n    lineDraw.group.remove(itemEl);\n    return;\n  }\n\n  if (!itemEl) {\n    itemEl = new lineDraw._ctor(newLineData, newIdx, seriesScope);\n  } else {\n    itemEl.updateData(newLineData, newIdx, seriesScope);\n  }\n\n  newLineData.setItemGraphicEl(newIdx, itemEl);\n  lineDraw.group.add(itemEl);\n}\n\nlineDrawProto.updateLayout = function () {\n  var lineData = this._lineData; // Do not support update layout in incremental mode.\n\n  if (!lineData) {\n    return;\n  }\n\n  lineData.eachItemGraphicEl(function (el, idx) {\n    el.updateLayout(lineData, idx);\n  }, this);\n};\n\nlineDrawProto.incrementalPrepareUpdate = function (lineData) {\n  this._seriesScope = makeSeriesScope(lineData);\n  this._lineData = null;\n  this.group.removeAll();\n};\n\nfunction isEffectObject(el) {\n  return el.animators && el.animators.length > 0;\n}\n\nlineDrawProto.incrementalUpdate = function (taskParams, lineData) {\n  function updateIncrementalAndHover(el) {\n    if (!el.isGroup && !isEffectObject(el)) {\n      el.incremental = el.useHoverLayer = true;\n    }\n  }\n\n  for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n    var itemLayout = lineData.getItemLayout(idx);\n\n    if (lineNeedsDraw(itemLayout)) {\n      var el = new this._ctor(lineData, idx, this._seriesScope);\n      el.traverse(updateIncrementalAndHover);\n      this.group.add(el);\n      lineData.setItemGraphicEl(idx, el);\n    }\n  }\n};\n\nfunction makeSeriesScope(lineData) {\n  var hostModel = lineData.hostModel;\n  return {\n    lineStyle: hostModel.getModel('lineStyle').getLineStyle(),\n    hoverLineStyle: hostModel.getModel('emphasis.lineStyle').getLineStyle(),\n    labelModel: hostModel.getModel('label'),\n    hoverLabelModel: hostModel.getModel('emphasis.label')\n  };\n}\n\nlineDrawProto.remove = function () {\n  this._clearIncremental();\n\n  this._incremental = null;\n  this.group.removeAll();\n};\n\nlineDrawProto._clearIncremental = function () {\n  var incremental = this._incremental;\n\n  if (incremental) {\n    incremental.clearDisplaybles();\n  }\n};\n\nfunction isPointNaN(pt) {\n  return isNaN(pt[0]) || isNaN(pt[1]);\n}\n\nfunction lineNeedsDraw(pts) {\n  return !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n}\n\nvar _default = LineDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Data selectable mixin for chart series.\n * To eanble data select, option of series must have `selectedMode`.\n * And each data item will use `selected` to toggle itself selected status\n */\nvar _default = {\n  /**\n   * @param {Array.<Object>} targetList [{name, value, selected}, ...]\n   *        If targetList is an array, it should like [{name: ..., value: ...}, ...].\n   *        If targetList is a \"List\", it must have coordDim: 'value' dimension and name.\n   */\n  updateSelectedMap: function (targetList) {\n    this._targetList = zrUtil.isArray(targetList) ? targetList.slice() : [];\n    this._selectTargetMap = zrUtil.reduce(targetList || [], function (targetMap, target) {\n      targetMap.set(target.name, target);\n      return targetMap;\n    }, zrUtil.createHashMap());\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  // PENGING If selectedMode is null ?\n  select: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      this._selectTargetMap.each(function (target) {\n        target.selected = false;\n      });\n    }\n\n    target && (target.selected = true);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  unSelect: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name); // var selectedMode = this.get('selectedMode');\n    // selectedMode !== 'single' && target && (target.selected = false);\n\n    target && (target.selected = false);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  toggleSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n\n    if (target != null) {\n      this[target.selected ? 'unSelect' : 'select'](name, id);\n      return target.selected;\n    }\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  isSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    return target && target.selected;\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar defaultOption = {\n  show: true,\n  zlevel: 0,\n  z: 0,\n  // Inverse the axis.\n  inverse: false,\n  // Axis name displayed.\n  name: '',\n  // 'start' | 'middle' | 'end'\n  nameLocation: 'end',\n  // By degree. By default auto rotate by nameLocation.\n  nameRotate: null,\n  nameTruncate: {\n    maxWidth: null,\n    ellipsis: '...',\n    placeholder: '.'\n  },\n  // Use global text style by default.\n  nameTextStyle: {},\n  // The gap between axisName and axisLine.\n  nameGap: 15,\n  // Default `false` to support tooltip.\n  silent: false,\n  // Default `false` to avoid legacy user event listener fail.\n  triggerEvent: false,\n  tooltip: {\n    show: false\n  },\n  axisPointer: {},\n  axisLine: {\n    show: true,\n    onZero: true,\n    onZeroAxisIndex: null,\n    lineStyle: {\n      color: '#333',\n      width: 1,\n      type: 'solid'\n    },\n    // The arrow at both ends the the axis.\n    symbol: ['none', 'none'],\n    symbolSize: [10, 15]\n  },\n  axisTick: {\n    show: true,\n    // Whether axisTick is inside the grid or outside the grid.\n    inside: false,\n    // The length of axisTick.\n    length: 5,\n    lineStyle: {\n      width: 1\n    }\n  },\n  axisLabel: {\n    show: true,\n    // Whether axisLabel is inside the grid or outside the grid.\n    inside: false,\n    rotate: 0,\n    // true | false | null/undefined (auto)\n    showMinLabel: null,\n    // true | false | null/undefined (auto)\n    showMaxLabel: null,\n    margin: 8,\n    // formatter: null,\n    fontSize: 12\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      color: ['#ccc'],\n      width: 1,\n      type: 'solid'\n    }\n  },\n  splitArea: {\n    show: false,\n    areaStyle: {\n      color: ['rgba(250,250,250,0.3)', 'rgba(200,200,200,0.3)']\n    }\n  }\n};\nvar axisDefault = {};\naxisDefault.categoryAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For categoryAxis, boolean.\n  boundaryGap: true,\n  // Set false to faster category collection.\n  // Only usefull in the case like: category is\n  // ['2012-01-01', '2012-01-02', ...], where the input\n  // data has been ensured not duplicate and is large data.\n  // null means \"auto\":\n  // if axis.data provided, do not deduplication,\n  // else do deduplication.\n  deduplication: null,\n  // splitArea: {\n  // show: false\n  // },\n  splitLine: {\n    show: false\n  },\n  axisTick: {\n    // If tick is align with label when boundaryGap is true\n    alignWithLabel: false,\n    interval: 'auto'\n  },\n  axisLabel: {\n    interval: 'auto'\n  }\n}, defaultOption);\naxisDefault.valueAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For value axis, [GAP, GAP], where\n  // `GAP` can be an absolute pixel number (like `35`), or percent (like `'30%'`)\n  boundaryGap: [0, 0],\n  // TODO\n  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n  // Min value of the axis. can be:\n  // + a number\n  // + 'dataMin': use the min value in data.\n  // + null/undefined: auto decide min value (consider pretty look and boundaryGap).\n  // min: null,\n  // Max value of the axis. can be:\n  // + a number\n  // + 'dataMax': use the max value in data.\n  // + null/undefined: auto decide max value (consider pretty look and boundaryGap).\n  // max: null,\n  // Readonly prop, specifies start value of the range when using data zoom.\n  // rangeStart: null\n  // Readonly prop, specifies end value of the range when using data zoom.\n  // rangeEnd: null\n  // Optional value can be:\n  // + `false`: always include value 0.\n  // + `true`: the extent do not consider value 0.\n  // scale: false,\n  // AxisTick and axisLabel and splitLine are caculated based on splitNumber.\n  splitNumber: 5,\n  // Interval specifies the span of the ticks is mandatorily.\n  // interval: null\n  // Specify min interval when auto calculate tick interval.\n  // minInterval: null\n  // Specify max interval when auto calculate tick interval.\n  // maxInterval: null\n  minorTick: {\n    // Minor tick, not available for cateogry axis.\n    show: false,\n    // Split number of minor ticks. The value should be in range of (0, 100)\n    splitNumber: 5,\n    // Lenght of minor tick\n    length: 3,\n    // Same inside with axisTick\n    // Line style\n    lineStyle: {// Default to be same with axisTick\n    }\n  },\n  minorSplitLine: {\n    show: false,\n    lineStyle: {\n      color: '#eee',\n      width: 1\n    }\n  }\n}, defaultOption);\naxisDefault.timeAxis = zrUtil.defaults({\n  scale: true,\n  min: 'dataMin',\n  max: 'dataMax'\n}, axisDefault.valueAxis);\naxisDefault.logAxis = zrUtil.defaults({\n  scale: true,\n  logBase: 10\n}, axisDefault.valueAxis);\nvar _default = axisDefault;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n    var data = seriesModel.getData();\n    var rawData = seriesModel.getRawData();\n    var colorList = seriesModel.get('color');\n    var idxMap = createHashMap();\n    data.each(function (idx) {\n      idxMap.set(data.getRawIndex(idx), idx);\n    });\n    rawData.each(function (rawIndex) {\n      var name = rawData.getName(rawIndex);\n      var color = colorList[(seriesModel.nameMap.get(name) - 1) % colorList.length];\n      rawData.setItemVisual(rawIndex, 'color', color);\n      var idx = idxMap.get(rawIndex);\n\n      if (idx != null) {\n        data.setItemVisual(idx, 'color', color);\n      }\n    });\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar List = require(\"../../data/List\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar concatArray = _util.concatArray;\nvar mergeAll = _util.mergeAll;\nvar map = _util.map;\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Uint32Array, Float64Array, Float32Array */\nvar Uint32Arr = typeof Uint32Array === 'undefined' ? Array : Uint32Array;\nvar Float64Arr = typeof Float64Array === 'undefined' ? Array : Float64Array;\n\nfunction compatEc2(seriesOpt) {\n  var data = seriesOpt.data;\n\n  if (data && data[0] && data[0][0] && data[0][0].coord) {\n    seriesOpt.data = map(data, function (itemOpt) {\n      var coords = [itemOpt[0].coord, itemOpt[1].coord];\n      var target = {\n        coords: coords\n      };\n\n      if (itemOpt[0].name) {\n        target.fromName = itemOpt[0].name;\n      }\n\n      if (itemOpt[1].name) {\n        target.toName = itemOpt[1].name;\n      }\n\n      return mergeAll([target, itemOpt[0], itemOpt[1]]);\n    });\n  }\n}\n\nvar LinesSeries = SeriesModel.extend({\n  type: 'series.lines',\n  dependencies: ['grid', 'polar'],\n  visualColorAccessPath: 'lineStyle.color',\n  init: function (option) {\n    // The input data may be null/undefined.\n    option.data = option.data || []; // Not using preprocessor because mergeOption may not have series.type\n\n    compatEc2(option);\n\n    var result = this._processFlatCoordsArray(option.data);\n\n    this._flatCoords = result.flatCoords;\n    this._flatCoordsOffset = result.flatCoordsOffset;\n\n    if (result.flatCoords) {\n      option.data = new Float32Array(result.count);\n    }\n\n    LinesSeries.superApply(this, 'init', arguments);\n  },\n  mergeOption: function (option) {\n    compatEc2(option);\n\n    if (option.data) {\n      // Only update when have option data to merge.\n      var result = this._processFlatCoordsArray(option.data);\n\n      this._flatCoords = result.flatCoords;\n      this._flatCoordsOffset = result.flatCoordsOffset;\n\n      if (result.flatCoords) {\n        option.data = new Float32Array(result.count);\n      }\n    }\n\n    LinesSeries.superApply(this, 'mergeOption', arguments);\n  },\n  appendData: function (params) {\n    var result = this._processFlatCoordsArray(params.data);\n\n    if (result.flatCoords) {\n      if (!this._flatCoords) {\n        this._flatCoords = result.flatCoords;\n        this._flatCoordsOffset = result.flatCoordsOffset;\n      } else {\n        this._flatCoords = concatArray(this._flatCoords, result.flatCoords);\n        this._flatCoordsOffset = concatArray(this._flatCoordsOffset, result.flatCoordsOffset);\n      }\n\n      params.data = new Float32Array(result.count);\n    }\n\n    this.getRawData().appendData(params.data);\n  },\n  _getCoordsFromItemModel: function (idx) {\n    var itemModel = this.getData().getItemModel(idx);\n    var coords = itemModel.option instanceof Array ? itemModel.option : itemModel.getShallow('coords');\n    return coords;\n  },\n  getLineCoordsCount: function (idx) {\n    if (this._flatCoordsOffset) {\n      return this._flatCoordsOffset[idx * 2 + 1];\n    } else {\n      return this._getCoordsFromItemModel(idx).length;\n    }\n  },\n  getLineCoords: function (idx, out) {\n    if (this._flatCoordsOffset) {\n      var offset = this._flatCoordsOffset[idx * 2];\n      var len = this._flatCoordsOffset[idx * 2 + 1];\n\n      for (var i = 0; i < len; i++) {\n        out[i] = out[i] || [];\n        out[i][0] = this._flatCoords[offset + i * 2];\n        out[i][1] = this._flatCoords[offset + i * 2 + 1];\n      }\n\n      return len;\n    } else {\n      var coords = this._getCoordsFromItemModel(idx);\n\n      for (var i = 0; i < coords.length; i++) {\n        out[i] = out[i] || [];\n        out[i][0] = coords[i][0];\n        out[i][1] = coords[i][1];\n      }\n\n      return coords.length;\n    }\n  },\n  _processFlatCoordsArray: function (data) {\n    var startOffset = 0;\n\n    if (this._flatCoords) {\n      startOffset = this._flatCoords.length;\n    } // Stored as a typed array. In format\n    // Points Count(2) | x | y | x | y | Points Count(3) | x |  y | x | y | x | y |\n\n\n    if (typeof data[0] === 'number') {\n      var len = data.length; // Store offset and len of each segment\n\n      var coordsOffsetAndLenStorage = new Uint32Arr(len);\n      var coordsStorage = new Float64Arr(len);\n      var coordsCursor = 0;\n      var offsetCursor = 0;\n      var dataCount = 0;\n\n      for (var i = 0; i < len;) {\n        dataCount++;\n        var count = data[i++]; // Offset\n\n        coordsOffsetAndLenStorage[offsetCursor++] = coordsCursor + startOffset; // Len\n\n        coordsOffsetAndLenStorage[offsetCursor++] = count;\n\n        for (var k = 0; k < count; k++) {\n          var x = data[i++];\n          var y = data[i++];\n          coordsStorage[coordsCursor++] = x;\n          coordsStorage[coordsCursor++] = y;\n\n          if (i > len) {}\n        }\n      }\n\n      return {\n        flatCoordsOffset: new Uint32Array(coordsOffsetAndLenStorage.buffer, 0, offsetCursor),\n        flatCoords: coordsStorage,\n        count: dataCount\n      };\n    }\n\n    return {\n      flatCoordsOffset: null,\n      flatCoords: null,\n      count: data.length\n    };\n  },\n  getInitialData: function (option, ecModel) {\n    var lineData = new List(['value'], this);\n    lineData.hasItemOption = false;\n    lineData.initData(option.data, [], function (dataItem, dimName, dataIndex, dimIndex) {\n      // dataItem is simply coords\n      if (dataItem instanceof Array) {\n        return NaN;\n      } else {\n        lineData.hasItemOption = true;\n        var value = dataItem.value;\n\n        if (value != null) {\n          return value instanceof Array ? value[dimIndex] : value;\n        }\n      }\n    });\n    return lineData;\n  },\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var itemModel = data.getItemModel(dataIndex);\n    var name = itemModel.get('name');\n\n    if (name) {\n      return name;\n    }\n\n    var fromName = itemModel.get('fromName');\n    var toName = itemModel.get('toName');\n    var html = [];\n    fromName != null && html.push(fromName);\n    toName != null && html.push(toName);\n    return encodeHTML(html.join(' > '));\n  },\n  preventIncremental: function () {\n    return !!this.get('effect.show');\n  },\n  getProgressive: function () {\n    var progressive = this.option.progressive;\n\n    if (progressive == null) {\n      return this.option.large ? 1e4 : this.get('progressive');\n    }\n\n    return progressive;\n  },\n  getProgressiveThreshold: function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n\n    if (progressiveThreshold == null) {\n      return this.option.large ? 2e4 : this.get('progressiveThreshold');\n    }\n\n    return progressiveThreshold;\n  },\n  defaultOption: {\n    coordinateSystem: 'geo',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // Cartesian coordinate system\n    xAxisIndex: 0,\n    yAxisIndex: 0,\n    symbol: ['none', 'none'],\n    symbolSize: [10, 10],\n    // Geo coordinate system\n    geoIndex: 0,\n    effect: {\n      show: false,\n      period: 4,\n      // Animation delay. support callback\n      // delay: 0,\n      // If move with constant speed px/sec\n      // period will be ignored if this property is > 0,\n      constantSpeed: 0,\n      symbol: 'circle',\n      symbolSize: 3,\n      loop: true,\n      // Length of trail, 0 - 1\n      trailLength: 0.2 // Same with lineStyle.color\n      // color\n\n    },\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // If lines are polyline\n    // polyline not support curveness, label, animation\n    polyline: false,\n    // If clip the overflow.\n    // Available when coordinateSystem is cartesian or polar.\n    clip: true,\n    label: {\n      show: false,\n      position: 'end' // distance: 5,\n      // formatter: Tooltip.formatter\n\n    },\n    lineStyle: {\n      opacity: 0.5\n    }\n  }\n});\nvar _default = LinesSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar layout = require(\"../../util/layout\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'visualMap',\n\n  /**\n   * @readOnly\n   * @type {Object}\n   */\n  autoPositionValues: {\n    left: 1,\n    right: 1,\n    top: 1,\n    bottom: 1\n  },\n  init: function (ecModel, api) {\n    /**\n     * @readOnly\n     * @type {module:echarts/model/Global}\n     */\n    this.ecModel = ecModel;\n    /**\n     * @readOnly\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this.api = api;\n    /**\n     * @readOnly\n     * @type {module:echarts/component/visualMap/visualMapModel}\n     */\n\n    this.visualMapModel;\n  },\n\n  /**\n   * @protected\n   */\n  render: function (visualMapModel, ecModel, api, payload) {\n    this.visualMapModel = visualMapModel;\n\n    if (visualMapModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    this.doRender.apply(this, arguments);\n  },\n\n  /**\n   * @protected\n   */\n  renderBackground: function (group) {\n    var visualMapModel = this.visualMapModel;\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\n    var rect = group.getBoundingRect();\n    group.add(new graphic.Rect({\n      z2: -1,\n      // Lay background rect on the lowest layer.\n      silent: true,\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[3] + padding[1],\n        height: rect.height + padding[0] + padding[2]\n      },\n      style: {\n        fill: visualMapModel.get('backgroundColor'),\n        stroke: visualMapModel.get('borderColor'),\n        lineWidth: visualMapModel.get('borderWidth')\n      }\n    }));\n  },\n\n  /**\n   * @protected\n   * @param {number} targetValue can be Infinity or -Infinity\n   * @param {string=} visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\n   * @param {Object} [opts]\n   * @param {string=} [opts.forceState] Specify state, instead of using getValueState method.\n   * @param {string=} [opts.convertOpacityToAlpha=false] For color gradient in controller widget.\n   * @return {*} Visual value.\n   */\n  getControllerVisual: function (targetValue, visualCluster, opts) {\n    opts = opts || {};\n    var forceState = opts.forceState;\n    var visualMapModel = this.visualMapModel;\n    var visualObj = {}; // Default values.\n\n    if (visualCluster === 'symbol') {\n      visualObj.symbol = visualMapModel.get('itemSymbol');\n    }\n\n    if (visualCluster === 'color') {\n      var defaultColor = visualMapModel.get('contentColor');\n      visualObj.color = defaultColor;\n    }\n\n    function getter(key) {\n      return visualObj[key];\n    }\n\n    function setter(key, value) {\n      visualObj[key] = value;\n    }\n\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    zrUtil.each(visualTypes, function (type) {\n      var visualMapping = mappings[type];\n\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\n        type = 'colorAlpha';\n        visualMapping = mappings.__alphaForOpacity;\n      }\n\n      if (VisualMapping.dependsOn(type, visualCluster)) {\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\n      }\n    });\n    return visualObj[visualCluster];\n  },\n\n  /**\n   * @protected\n   */\n  positionGroup: function (group) {\n    var model = this.visualMapModel;\n    var api = this.api;\n    layout.positionElement(group, model.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  },\n\n  /**\n   * @protected\n   * @abstract\n   */\n  doRender: zrUtil.noop\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, actionInfos) {\n  zrUtil.each(actionInfos, function (actionInfo) {\n    actionInfo.update = 'updateView';\n    /**\n     * @payload\n     * @property {string} seriesName\n     * @property {string} name\n     */\n\n    echarts.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      ecModel.eachComponent({\n        mainType: 'series',\n        subType: seriesType,\n        query: payload\n      }, function (seriesModel) {\n        if (seriesModel[actionInfo.method]) {\n          seriesModel[actionInfo.method](payload.name, payload.dataIndex);\n        }\n\n        var data = seriesModel.getData(); // Create selected map\n\n        data.each(function (idx) {\n          var name = data.getName(idx);\n          selected[name] = seriesModel.isSelected(name) || false;\n        });\n      });\n      return {\n        name: payload.name,\n        selected: selected,\n        seriesId: payload.seriesId\n      };\n    });\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar preprocessor = require(\"./visualMap/preprocessor\");\n\nrequire(\"./visualMap/typeDefaulter\");\n\nrequire(\"./visualMap/visualEncoding\");\n\nrequire(\"./visualMap/ContinuousModel\");\n\nrequire(\"./visualMap/ContinuousView\");\n\nrequire(\"./visualMap/visualMapAction\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar MapDraw = require(\"../helper/MapDraw\");\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'geo',\n  init: function (ecModel, api) {\n    var mapDraw = new MapDraw(api, true);\n    this._mapDraw = mapDraw;\n    this.group.add(mapDraw.group);\n  },\n  render: function (geoModel, ecModel, api, payload) {\n    // Not render if it is an toggleSelect action from self\n    if (payload && payload.type === 'geoToggleSelect' && payload.from === this.uid) {\n      return;\n    }\n\n    var mapDraw = this._mapDraw;\n\n    if (geoModel.get('show')) {\n      mapDraw.draw(geoModel, ecModel, api, this, payload);\n    } else {\n      this._mapDraw.group.removeAll();\n    }\n\n    this.group.silent = geoModel.get('silent');\n  },\n  dispose: function () {\n    this._mapDraw && this._mapDraw.remove();\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar dataViewLang = lang.toolbox.dataView;\nvar BLOCK_SPLITER = new Array(60).join('-');\nvar ITEM_SPLITER = '\\t';\n/**\n * Group series into two types\n *  1. on category axis, like line, bar\n *  2. others, like scatter, pie\n * @param {module:echarts/model/Global} ecModel\n * @return {Object}\n * @inner\n */\n\nfunction groupSeries(ecModel) {\n  var seriesGroupByCategoryAxis = {};\n  var otherSeries = [];\n  var meta = [];\n  ecModel.eachRawSeries(function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && (coordSys.type === 'cartesian2d' || coordSys.type === 'polar')) {\n      var baseAxis = coordSys.getBaseAxis();\n\n      if (baseAxis.type === 'category') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n\n        if (!seriesGroupByCategoryAxis[key]) {\n          seriesGroupByCategoryAxis[key] = {\n            categoryAxis: baseAxis,\n            valueAxis: coordSys.getOtherAxis(baseAxis),\n            series: []\n          };\n          meta.push({\n            axisDim: baseAxis.dim,\n            axisIndex: baseAxis.index\n          });\n        }\n\n        seriesGroupByCategoryAxis[key].series.push(seriesModel);\n      } else {\n        otherSeries.push(seriesModel);\n      }\n    } else {\n      otherSeries.push(seriesModel);\n    }\n  });\n  return {\n    seriesGroupByCategoryAxis: seriesGroupByCategoryAxis,\n    other: otherSeries,\n    meta: meta\n  };\n}\n/**\n * Assemble content of series on cateogory axis\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\n\n\nfunction assembleSeriesWithCategoryAxis(series) {\n  var tables = [];\n  zrUtil.each(series, function (group, key) {\n    var categoryAxis = group.categoryAxis;\n    var valueAxis = group.valueAxis;\n    var valueAxisDim = valueAxis.dim;\n    var headers = [' '].concat(zrUtil.map(group.series, function (series) {\n      return series.name;\n    }));\n    var columns = [categoryAxis.model.getCategories()];\n    zrUtil.each(group.series, function (series) {\n      var rawData = series.getRawData();\n      columns.push(series.getRawData().mapArray(rawData.mapDimension(valueAxisDim), function (val) {\n        return val;\n      }));\n    }); // Assemble table content\n\n    var lines = [headers.join(ITEM_SPLITER)];\n\n    for (var i = 0; i < columns[0].length; i++) {\n      var items = [];\n\n      for (var j = 0; j < columns.length; j++) {\n        items.push(columns[j][i]);\n      }\n\n      lines.push(items.join(ITEM_SPLITER));\n    }\n\n    tables.push(lines.join('\\n'));\n  });\n  return tables.join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * Assemble content of other series\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\n\n\nfunction assembleOtherSeries(series) {\n  return zrUtil.map(series, function (series) {\n    var data = series.getRawData();\n    var lines = [series.name];\n    var vals = [];\n    data.each(data.dimensions, function () {\n      var argLen = arguments.length;\n      var dataIndex = arguments[argLen - 1];\n      var name = data.getName(dataIndex);\n\n      for (var i = 0; i < argLen - 1; i++) {\n        vals[i] = arguments[i];\n      }\n\n      lines.push((name ? name + ITEM_SPLITER : '') + vals.join(ITEM_SPLITER));\n    });\n    return lines.join('\\n');\n  }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * @param {module:echarts/model/Global}\n * @return {Object}\n * @inner\n */\n\n\nfunction getContentFromModel(ecModel) {\n  var result = groupSeries(ecModel);\n  return {\n    value: zrUtil.filter([assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis), assembleOtherSeries(result.other)], function (str) {\n      return str.replace(/[\\n\\t\\s]/g, '');\n    }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n'),\n    meta: result.meta\n  };\n}\n\nfunction trim(str) {\n  return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n/**\n * If a block is tsv format\n */\n\n\nfunction isTSVFormat(block) {\n  // Simple method to find out if a block is tsv format\n  var firstLine = block.slice(0, block.indexOf('\\n'));\n\n  if (firstLine.indexOf(ITEM_SPLITER) >= 0) {\n    return true;\n  }\n}\n\nvar itemSplitRegex = new RegExp('[' + ITEM_SPLITER + ']+', 'g');\n/**\n * @param {string} tsv\n * @return {Object}\n */\n\nfunction parseTSVContents(tsv) {\n  var tsvLines = tsv.split(/\\n+/g);\n  var headers = trim(tsvLines.shift()).split(itemSplitRegex);\n  var categories = [];\n  var series = zrUtil.map(headers, function (header) {\n    return {\n      name: header,\n      data: []\n    };\n  });\n\n  for (var i = 0; i < tsvLines.length; i++) {\n    var items = trim(tsvLines[i]).split(itemSplitRegex);\n    categories.push(items.shift());\n\n    for (var j = 0; j < items.length; j++) {\n      series[j] && (series[j].data[i] = items[j]);\n    }\n  }\n\n  return {\n    series: series,\n    categories: categories\n  };\n}\n/**\n * @param {string} str\n * @return {Array.<Object>}\n * @inner\n */\n\n\nfunction parseListContents(str) {\n  var lines = str.split(/\\n+/g);\n  var seriesName = trim(lines.shift());\n  var data = [];\n\n  for (var i = 0; i < lines.length; i++) {\n    // if line is empty, ignore it.\n    // there is a case that a user forgot to delete `\\n`.\n    var line = trim(lines[i]);\n\n    if (!line) {\n      continue;\n    }\n\n    var items = line.split(itemSplitRegex);\n    var name = '';\n    var value;\n    var hasName = false;\n\n    if (isNaN(items[0])) {\n      // First item is name\n      hasName = true;\n      name = items[0];\n      items = items.slice(1);\n      data[i] = {\n        name: name,\n        value: []\n      };\n      value = data[i].value;\n    } else {\n      value = data[i] = [];\n    }\n\n    for (var j = 0; j < items.length; j++) {\n      value.push(+items[j]);\n    }\n\n    if (value.length === 1) {\n      hasName ? data[i].value = value[0] : data[i] = value[0];\n    }\n  }\n\n  return {\n    name: seriesName,\n    data: data\n  };\n}\n/**\n * @param {string} str\n * @param {Array.<Object>} blockMetaList\n * @return {Object}\n * @inner\n */\n\n\nfunction parseContents(str, blockMetaList) {\n  var blocks = str.split(new RegExp('\\n*' + BLOCK_SPLITER + '\\n*', 'g'));\n  var newOption = {\n    series: []\n  };\n  zrUtil.each(blocks, function (block, idx) {\n    if (isTSVFormat(block)) {\n      var result = parseTSVContents(block);\n      var blockMeta = blockMetaList[idx];\n      var axisKey = blockMeta.axisDim + 'Axis';\n\n      if (blockMeta) {\n        newOption[axisKey] = newOption[axisKey] || [];\n        newOption[axisKey][blockMeta.axisIndex] = {\n          data: result.categories\n        };\n        newOption.series = newOption.series.concat(result.series);\n      }\n    } else {\n      var result = parseListContents(block);\n      newOption.series.push(result);\n    }\n  });\n  return newOption;\n}\n/**\n * @alias {module:echarts/component/toolbox/feature/DataView}\n * @constructor\n * @param {module:echarts/model/Model} model\n */\n\n\nfunction DataView(model) {\n  this._dom = null;\n  this.model = model;\n}\n\nDataView.defaultOption = {\n  show: true,\n  readOnly: false,\n  optionToContent: null,\n  contentToOption: null,\n  icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',\n  title: zrUtil.clone(dataViewLang.title),\n  lang: zrUtil.clone(dataViewLang.lang),\n  backgroundColor: '#fff',\n  textColor: '#000',\n  textareaColor: '#fff',\n  textareaBorderColor: '#333',\n  buttonColor: '#c23531',\n  buttonTextColor: '#fff'\n};\n\nDataView.prototype.onclick = function (ecModel, api) {\n  var container = api.getDom();\n  var model = this.model;\n\n  if (this._dom) {\n    container.removeChild(this._dom);\n  }\n\n  var root = document.createElement('div');\n  root.style.cssText = 'position:absolute;left:5px;top:5px;bottom:5px;right:5px;';\n  root.style.backgroundColor = model.get('backgroundColor') || '#fff'; // Create elements\n\n  var header = document.createElement('h4');\n  var lang = model.get('lang') || [];\n  header.innerHTML = lang[0] || model.get('title');\n  header.style.cssText = 'margin: 10px 20px;';\n  header.style.color = model.get('textColor');\n  var viewMain = document.createElement('div');\n  var textarea = document.createElement('textarea');\n  viewMain.style.cssText = 'display:block;width:100%;overflow:auto;';\n  var optionToContent = model.get('optionToContent');\n  var contentToOption = model.get('contentToOption');\n  var result = getContentFromModel(ecModel);\n\n  if (typeof optionToContent === 'function') {\n    var htmlOrDom = optionToContent(api.getOption());\n\n    if (typeof htmlOrDom === 'string') {\n      viewMain.innerHTML = htmlOrDom;\n    } else if (zrUtil.isDom(htmlOrDom)) {\n      viewMain.appendChild(htmlOrDom);\n    }\n  } else {\n    // Use default textarea\n    viewMain.appendChild(textarea);\n    textarea.readOnly = model.get('readOnly');\n    textarea.style.cssText = 'width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;';\n    textarea.style.color = model.get('textColor');\n    textarea.style.borderColor = model.get('textareaBorderColor');\n    textarea.style.backgroundColor = model.get('textareaColor');\n    textarea.value = result.value;\n  }\n\n  var blockMetaList = result.meta;\n  var buttonContainer = document.createElement('div');\n  buttonContainer.style.cssText = 'position:absolute;bottom:0;left:0;right:0;';\n  var buttonStyle = 'float:right;margin-right:20px;border:none;' + 'cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px';\n  var closeButton = document.createElement('div');\n  var refreshButton = document.createElement('div');\n  buttonStyle += ';background-color:' + model.get('buttonColor');\n  buttonStyle += ';color:' + model.get('buttonTextColor');\n  var self = this;\n\n  function close() {\n    container.removeChild(root);\n    self._dom = null;\n  }\n\n  eventTool.addEventListener(closeButton, 'click', close);\n  eventTool.addEventListener(refreshButton, 'click', function () {\n    var newOption;\n\n    try {\n      if (typeof contentToOption === 'function') {\n        newOption = contentToOption(viewMain, api.getOption());\n      } else {\n        newOption = parseContents(textarea.value, blockMetaList);\n      }\n    } catch (e) {\n      close();\n      throw new Error('Data view format error ' + e);\n    }\n\n    if (newOption) {\n      api.dispatchAction({\n        type: 'changeDataView',\n        newOption: newOption\n      });\n    }\n\n    close();\n  });\n  closeButton.innerHTML = lang[1];\n  refreshButton.innerHTML = lang[2];\n  refreshButton.style.cssText = buttonStyle;\n  closeButton.style.cssText = buttonStyle;\n  !model.get('readOnly') && buttonContainer.appendChild(refreshButton);\n  buttonContainer.appendChild(closeButton);\n  root.appendChild(header);\n  root.appendChild(viewMain);\n  root.appendChild(buttonContainer);\n  viewMain.style.height = container.clientHeight - 80 + 'px';\n  container.appendChild(root);\n  this._dom = root;\n};\n\nDataView.prototype.remove = function (ecModel, api) {\n  this._dom && api.getDom().removeChild(this._dom);\n};\n\nDataView.prototype.dispose = function (ecModel, api) {\n  this.remove(ecModel, api);\n};\n/**\n * @inner\n */\n\n\nfunction tryMergeDataOption(newData, originalData) {\n  return zrUtil.map(newData, function (newVal, idx) {\n    var original = originalData && originalData[idx];\n\n    if (zrUtil.isObject(original) && !zrUtil.isArray(original)) {\n      var newValIsObject = zrUtil.isObject(newVal) && !zrUtil.isArray(newVal);\n\n      if (!newValIsObject) {\n        newVal = {\n          value: newVal\n        };\n      } // original data has name but new data has no name\n\n\n      var shouldDeleteName = original.name != null && newVal.name == null; // Original data has option\n\n      newVal = zrUtil.defaults(newVal, original);\n      shouldDeleteName && delete newVal.name;\n      return newVal;\n    } else {\n      return newVal;\n    }\n  });\n}\n\nfeatureManager.register('dataView', DataView);\necharts.registerAction({\n  type: 'changeDataView',\n  event: 'dataViewChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var newSeriesOptList = [];\n  zrUtil.each(payload.newOption.series, function (seriesOpt) {\n    var seriesModel = ecModel.getSeriesByName(seriesOpt.name)[0];\n\n    if (!seriesModel) {\n      // New created series\n      // Geuss the series type\n      newSeriesOptList.push(zrUtil.extend({\n        // Default is scatter\n        type: 'scatter'\n      }, seriesOpt));\n    } else {\n      var originalData = seriesModel.get('data');\n      newSeriesOptList.push({\n        name: seriesOpt.name,\n        data: tryMergeDataOption(seriesOpt.data, originalData)\n      });\n    }\n  });\n  ecModel.mergeOption(zrUtil.defaults({\n    series: newSeriesOptList\n  }, payload.newOption));\n});\nvar _default = DataView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction IndicatorAxis(dim, scale, radiusExtent) {\n  Axis.call(this, dim, scale, radiusExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = 'value';\n  this.angle = 0;\n  /**\n   * Indicator name\n   * @type {string}\n   */\n\n  this.name = '';\n  /**\n   * @type {module:echarts/model/Model}\n   */\n\n  this.model;\n}\n\nzrUtil.inherits(IndicatorAxis, Axis);\nvar _default = IndicatorAxis;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Backward compat for radar chart in 2\nfunction _default(option) {\n  var polarOptArr = option.polar;\n\n  if (polarOptArr) {\n    if (!zrUtil.isArray(polarOptArr)) {\n      polarOptArr = [polarOptArr];\n    }\n\n    var polarNotRadar = [];\n    zrUtil.each(polarOptArr, function (polarOpt, idx) {\n      if (polarOpt.indicator) {\n        if (polarOpt.type && !polarOpt.shape) {\n          polarOpt.shape = polarOpt.type;\n        }\n\n        option.radar = option.radar || [];\n\n        if (!zrUtil.isArray(option.radar)) {\n          option.radar = [option.radar];\n        }\n\n        option.radar.push(polarOpt);\n      } else {\n        polarNotRadar.push(polarOpt);\n      }\n    });\n    option.polar = polarNotRadar;\n  }\n\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'radar' && seriesOpt.polarIndex) {\n      seriesOpt.radarIndex = seriesOpt.polarIndex;\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nrequire(\"./AxisModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentModel({\n  type: 'polar',\n  dependencies: ['polarAxis', 'angleAxis'],\n\n  /**\n   * @type {module:echarts/coord/polar/Polar}\n   */\n  coordinateSystem: null,\n\n  /**\n   * @param {string} axisType\n   * @return {module:echarts/coord/polar/AxisModel}\n   */\n  findAxisModel: function (axisType) {\n    var foundAxisModel;\n    var ecModel = this.ecModel;\n    ecModel.eachComponent(axisType, function (axisModel) {\n      if (axisModel.getCoordSysModel() === this) {\n        foundAxisModel = axisModel;\n      }\n    }, this);\n    return foundAxisModel;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '80%'\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\nvar layoutBox = _layout.box;\nvar positionElement = _layout.positionElement;\n\nvar formatUtil = require(\"../../util/format\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\nfunction layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\n\nfunction makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  var rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}\n\nexports.layout = layout;\nexports.makeBackground = makeBackground;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"../coord/polar/polarCreator\");\n\nrequire(\"./axis/RadiusAxisView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar View = require(\"../../coord/View\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar bbox = require(\"zrender/lib/core/bbox\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Where to create the simple view coordinate system\nfunction getViewRect(seriesModel, api, aspect) {\n  var option = seriesModel.getBoxLayoutParams();\n  option.aspect = aspect;\n  return getLayoutRect(option, {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction _default(ecModel, api) {\n  var viewList = [];\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var coordSysType = seriesModel.get('coordinateSystem');\n\n    if (!coordSysType || coordSysType === 'view') {\n      var data = seriesModel.getData();\n      var positions = data.mapArray(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        return [+itemModel.get('x'), +itemModel.get('y')];\n      });\n      var min = [];\n      var max = [];\n      bbox.fromPoints(positions, min, max); // If width or height is 0\n\n      if (max[0] - min[0] === 0) {\n        max[0] += 1;\n        min[0] -= 1;\n      }\n\n      if (max[1] - min[1] === 0) {\n        max[1] += 1;\n        min[1] -= 1;\n      }\n\n      var aspect = (max[0] - min[0]) / (max[1] - min[1]); // FIXME If get view rect after data processed?\n\n      var viewRect = getViewRect(seriesModel, api, aspect); // Position may be NaN, use view rect instead\n\n      if (isNaN(aspect)) {\n        min = [viewRect.x, viewRect.y];\n        max = [viewRect.x + viewRect.width, viewRect.y + viewRect.height];\n      }\n\n      var bbWidth = max[0] - min[0];\n      var bbHeight = max[1] - min[1];\n      var viewWidth = viewRect.width;\n      var viewHeight = viewRect.height;\n      var viewCoordSys = seriesModel.coordinateSystem = new View();\n      viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n      viewCoordSys.setBoundingRect(min[0], min[1], bbWidth, bbHeight);\n      viewCoordSys.setViewRect(viewRect.x, viewRect.y, viewWidth, viewHeight); // Update roam info\n\n      viewCoordSys.setCenter(seriesModel.get('center'));\n      viewCoordSys.setZoom(seriesModel.get('zoom'));\n      viewList.push(viewCoordSys);\n    }\n  });\n  return viewList;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../util/model\");\n\nvar graphicUtil = require(\"../util/graphic\");\n\nvar layoutUtil = require(\"../util/layout\");\n\nvar _number = require(\"../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _nonShapeGraphicElements = {\n  // Reserved but not supported in graphic component.\n  path: null,\n  compoundPath: null,\n  // Supported in graphic component.\n  group: graphicUtil.Group,\n  image: graphicUtil.Image,\n  text: graphicUtil.Text\n}; // -------------\n// Preprocessor\n// -------------\n\necharts.registerPreprocessor(function (option) {\n  var graphicOption = option.graphic; // Convert\n  // {graphic: [{left: 10, type: 'circle'}, ...]}\n  // or\n  // {graphic: {left: 10, type: 'circle'}}\n  // to\n  // {graphic: [{elements: [{left: 10, type: 'circle'}, ...]}]}\n\n  if (zrUtil.isArray(graphicOption)) {\n    if (!graphicOption[0] || !graphicOption[0].elements) {\n      option.graphic = [{\n        elements: graphicOption\n      }];\n    } else {\n      // Only one graphic instance can be instantiated. (We dont\n      // want that too many views are created in echarts._viewMap)\n      option.graphic = [option.graphic[0]];\n    }\n  } else if (graphicOption && !graphicOption.elements) {\n    option.graphic = [{\n      elements: [graphicOption]\n    }];\n  }\n}); // ------\n// Model\n// ------\n\nvar GraphicModel = echarts.extendComponentModel({\n  type: 'graphic',\n  defaultOption: {\n    // Extra properties for each elements:\n    //\n    // left/right/top/bottom: (like 12, '22%', 'center', default undefined)\n    //      If left/rigth is set, shape.x/shape.cx/position will not be used.\n    //      If top/bottom is set, shape.y/shape.cy/position will not be used.\n    //      This mechanism is useful when you want to position a group/element\n    //      against the right side or the center of this container.\n    //\n    // width/height: (can only be pixel value, default 0)\n    //      Only be used to specify contianer(group) size, if needed. And\n    //      can not be percentage value (like '33%'). See the reason in the\n    //      layout algorithm below.\n    //\n    // bounding: (enum: 'all' (default) | 'raw')\n    //      Specify how to calculate boundingRect when locating.\n    //      'all': Get uioned and transformed boundingRect\n    //          from both itself and its descendants.\n    //          This mode simplies confining a group of elements in the bounding\n    //          of their ancester container (e.g., using 'right: 0').\n    //      'raw': Only use the boundingRect of itself and before transformed.\n    //          This mode is similar to css behavior, which is useful when you\n    //          want an element to be able to overflow its container. (Consider\n    //          a rotated circle needs to be located in a corner.)\n    // info: custom info. enables user to mount some info on elements and use them\n    //      in event handlers. Update them only when user specified, otherwise, remain.\n    // Note: elements is always behind its ancestors in this elements array.\n    elements: [],\n    parentId: null\n  },\n\n  /**\n   * Save el options for the sake of the performance (only update modified graphics).\n   * The order is the same as those in option. (ancesters -> descendants)\n   *\n   * @private\n   * @type {Array.<Object>}\n   */\n  _elOptionsToUpdate: null,\n\n  /**\n   * @override\n   */\n  mergeOption: function (option) {\n    // Prevent default merge to elements\n    var elements = this.option.elements;\n    this.option.elements = null;\n    GraphicModel.superApply(this, 'mergeOption', arguments);\n    this.option.elements = elements;\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option;\n    var newList = (isInit ? thisOption : newOption).elements;\n    var existList = thisOption.elements = isInit ? [] : thisOption.elements;\n    var flattenedList = [];\n\n    this._flatten(newList, flattenedList);\n\n    var mappingResult = modelUtil.mappingToExists(existList, flattenedList);\n    modelUtil.makeIdAndName(mappingResult); // Clear elOptionsToUpdate\n\n    var elOptionsToUpdate = this._elOptionsToUpdate = [];\n    zrUtil.each(mappingResult, function (resultItem, index) {\n      var newElOption = resultItem.option;\n\n      if (!newElOption) {\n        return;\n      }\n\n      elOptionsToUpdate.push(newElOption);\n      setKeyInfoToNewElOption(resultItem, newElOption);\n      mergeNewElOptionToExist(existList, index, newElOption);\n      setLayoutInfoToExist(existList[index], newElOption);\n    }, this); // Clean\n\n    for (var i = existList.length - 1; i >= 0; i--) {\n      if (existList[i] == null) {\n        existList.splice(i, 1);\n      } else {\n        // $action should be volatile, otherwise option gotten from\n        // `getOption` will contain unexpected $action.\n        delete existList[i].$action;\n      }\n    }\n  },\n\n  /**\n   * Convert\n   * [{\n   *  type: 'group',\n   *  id: 'xx',\n   *  children: [{type: 'circle'}, {type: 'polygon'}]\n   * }]\n   * to\n   * [\n   *  {type: 'group', id: 'xx'},\n   *  {type: 'circle', parentId: 'xx'},\n   *  {type: 'polygon', parentId: 'xx'}\n   * ]\n   *\n   * @private\n   * @param {Array.<Object>} optionList option list\n   * @param {Array.<Object>} result result of flatten\n   * @param {Object} parentOption parent option\n   */\n  _flatten: function (optionList, result, parentOption) {\n    zrUtil.each(optionList, function (option) {\n      if (!option) {\n        return;\n      }\n\n      if (parentOption) {\n        option.parentOption = parentOption;\n      }\n\n      result.push(option);\n      var children = option.children;\n\n      if (option.type === 'group' && children) {\n        this._flatten(children, result, option);\n      } // Deleting for JSON output, and for not affecting group creation.\n\n\n      delete option.children;\n    }, this);\n  },\n  // FIXME\n  // Pass to view using payload? setOption has a payload?\n  useElOptionsToUpdate: function () {\n    var els = this._elOptionsToUpdate; // Clear to avoid render duplicately when zooming.\n\n    this._elOptionsToUpdate = null;\n    return els;\n  }\n}); // -----\n// View\n// -----\n\necharts.extendComponentView({\n  type: 'graphic',\n\n  /**\n   * @override\n   */\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {module:zrender/core/util.HashMap}\n     */\n    this._elMap = zrUtil.createHashMap();\n    /**\n     * @private\n     * @type {module:echarts/graphic/GraphicModel}\n     */\n\n    this._lastGraphicModel;\n  },\n\n  /**\n   * @override\n   */\n  render: function (graphicModel, ecModel, api) {\n    // Having leveraged between use cases and algorithm complexity, a very\n    // simple layout mechanism is used:\n    // The size(width/height) can be determined by itself or its parent (not\n    // implemented yet), but can not by its children. (Top-down travel)\n    // The location(x/y) can be determined by the bounding rect of itself\n    // (can including its descendants or not) and the size of its parent.\n    // (Bottom-up travel)\n    // When `chart.clear()` or `chart.setOption({...}, true)` with the same id,\n    // view will be reused.\n    if (graphicModel !== this._lastGraphicModel) {\n      this._clear();\n    }\n\n    this._lastGraphicModel = graphicModel;\n\n    this._updateElements(graphicModel);\n\n    this._relocate(graphicModel, api);\n  },\n\n  /**\n   * Update graphic elements.\n   *\n   * @private\n   * @param {Object} graphicModel graphic model\n   */\n  _updateElements: function (graphicModel) {\n    var elOptionsToUpdate = graphicModel.useElOptionsToUpdate();\n\n    if (!elOptionsToUpdate) {\n      return;\n    }\n\n    var elMap = this._elMap;\n    var rootGroup = this.group; // Top-down tranverse to assign graphic settings to each elements.\n\n    zrUtil.each(elOptionsToUpdate, function (elOption) {\n      var $action = elOption.$action;\n      var id = elOption.id;\n      var existEl = elMap.get(id);\n      var parentId = elOption.parentId;\n      var targetElParent = parentId != null ? elMap.get(parentId) : rootGroup;\n      var elOptionStyle = elOption.style;\n\n      if (elOption.type === 'text' && elOptionStyle) {\n        // In top/bottom mode, textVerticalAlign should not be used, which cause\n        // inaccurately locating.\n        if (elOption.hv && elOption.hv[1]) {\n          elOptionStyle.textVerticalAlign = elOptionStyle.textBaseline = null;\n        } // Compatible with previous setting: both support fill and textFill,\n        // stroke and textStroke.\n\n\n        !elOptionStyle.hasOwnProperty('textFill') && elOptionStyle.fill && (elOptionStyle.textFill = elOptionStyle.fill);\n        !elOptionStyle.hasOwnProperty('textStroke') && elOptionStyle.stroke && (elOptionStyle.textStroke = elOptionStyle.stroke);\n      } // Remove unnecessary props to avoid potential problems.\n\n\n      var elOptionCleaned = getCleanedElOption(elOption); // For simple, do not support parent change, otherwise reorder is needed.\n\n      if (!$action || $action === 'merge') {\n        existEl ? existEl.attr(elOptionCleaned) : createEl(id, targetElParent, elOptionCleaned, elMap);\n      } else if ($action === 'replace') {\n        removeEl(existEl, elMap);\n        createEl(id, targetElParent, elOptionCleaned, elMap);\n      } else if ($action === 'remove') {\n        removeEl(existEl, elMap);\n      }\n\n      var el = elMap.get(id);\n\n      if (el) {\n        el.__ecGraphicWidthOption = elOption.width;\n        el.__ecGraphicHeightOption = elOption.height;\n        setEventData(el, graphicModel, elOption);\n      }\n    });\n  },\n\n  /**\n   * Locate graphic elements.\n   *\n   * @private\n   * @param {Object} graphicModel graphic model\n   * @param {module:echarts/ExtensionAPI} api extension API\n   */\n  _relocate: function (graphicModel, api) {\n    var elOptions = graphicModel.option.elements;\n    var rootGroup = this.group;\n    var elMap = this._elMap;\n    var apiWidth = api.getWidth();\n    var apiHeight = api.getHeight(); // Top-down to calculate percentage width/height of group\n\n    for (var i = 0; i < elOptions.length; i++) {\n      var elOption = elOptions[i];\n      var el = elMap.get(elOption.id);\n\n      if (!el || !el.isGroup) {\n        continue;\n      }\n\n      var parentEl = el.parent;\n      var isParentRoot = parentEl === rootGroup; // Like 'position:absolut' in css, default 0.\n\n      el.__ecGraphicWidth = parsePercent(el.__ecGraphicWidthOption, isParentRoot ? apiWidth : parentEl.__ecGraphicWidth) || 0;\n      el.__ecGraphicHeight = parsePercent(el.__ecGraphicHeightOption, isParentRoot ? apiHeight : parentEl.__ecGraphicHeight) || 0;\n    } // Bottom-up tranvese all elements (consider ec resize) to locate elements.\n\n\n    for (var i = elOptions.length - 1; i >= 0; i--) {\n      var elOption = elOptions[i];\n      var el = elMap.get(elOption.id);\n\n      if (!el) {\n        continue;\n      }\n\n      var parentEl = el.parent;\n      var containerInfo = parentEl === rootGroup ? {\n        width: apiWidth,\n        height: apiHeight\n      } : {\n        width: parentEl.__ecGraphicWidth,\n        height: parentEl.__ecGraphicHeight\n      }; // PENDING\n      // Currently, when `bounding: 'all'`, the union bounding rect of the group\n      // does not include the rect of [0, 0, group.width, group.height], which\n      // is probably weird for users. Should we make a break change for it?\n\n      layoutUtil.positionElement(el, elOption, containerInfo, null, {\n        hv: elOption.hv,\n        boundingMode: elOption.bounding\n      });\n    }\n  },\n\n  /**\n   * Clear all elements.\n   *\n   * @private\n   */\n  _clear: function () {\n    var elMap = this._elMap;\n    elMap.each(function (el) {\n      removeEl(el, elMap);\n    });\n    this._elMap = zrUtil.createHashMap();\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._clear();\n  }\n});\n\nfunction createEl(id, targetElParent, elOption, elMap) {\n  var graphicType = elOption.type;\n  var Clz = _nonShapeGraphicElements.hasOwnProperty(graphicType) // Those graphic elements are not shapes. They should not be\n  // overwritten by users, so do them first.\n  ? _nonShapeGraphicElements[graphicType] : graphicUtil.getShapeClass(graphicType);\n  var el = new Clz(elOption);\n  targetElParent.add(el);\n  elMap.set(id, el);\n  el.__ecGraphicId = id;\n}\n\nfunction removeEl(existEl, elMap) {\n  var existElParent = existEl && existEl.parent;\n\n  if (existElParent) {\n    existEl.type === 'group' && existEl.traverse(function (el) {\n      removeEl(el, elMap);\n    });\n    elMap.removeKey(existEl.__ecGraphicId);\n    existElParent.remove(existEl);\n  }\n} // Remove unnecessary props to avoid potential problems.\n\n\nfunction getCleanedElOption(elOption) {\n  elOption = zrUtil.extend({}, elOption);\n  zrUtil.each(['id', 'parentId', '$action', 'hv', 'bounding'].concat(layoutUtil.LOCATION_PARAMS), function (name) {\n    delete elOption[name];\n  });\n  return elOption;\n}\n\nfunction isSetLoc(obj, props) {\n  var isSet;\n  zrUtil.each(props, function (prop) {\n    obj[prop] != null && obj[prop] !== 'auto' && (isSet = true);\n  });\n  return isSet;\n}\n\nfunction setKeyInfoToNewElOption(resultItem, newElOption) {\n  var existElOption = resultItem.exist; // Set id and type after id assigned.\n\n  newElOption.id = resultItem.keyInfo.id;\n  !newElOption.type && existElOption && (newElOption.type = existElOption.type); // Set parent id if not specified\n\n  if (newElOption.parentId == null) {\n    var newElParentOption = newElOption.parentOption;\n\n    if (newElParentOption) {\n      newElOption.parentId = newElParentOption.id;\n    } else if (existElOption) {\n      newElOption.parentId = existElOption.parentId;\n    }\n  } // Clear\n\n\n  newElOption.parentOption = null;\n}\n\nfunction mergeNewElOptionToExist(existList, index, newElOption) {\n  // Update existing options, for `getOption` feature.\n  var newElOptCopy = zrUtil.extend({}, newElOption);\n  var existElOption = existList[index];\n  var $action = newElOption.$action || 'merge';\n\n  if ($action === 'merge') {\n    if (existElOption) {\n      // We can ensure that newElOptCopy and existElOption are not\n      // the same object, so `merge` will not change newElOptCopy.\n      zrUtil.merge(existElOption, newElOptCopy, true); // Rigid body, use ignoreSize.\n\n      layoutUtil.mergeLayoutParam(existElOption, newElOptCopy, {\n        ignoreSize: true\n      }); // Will be used in render.\n\n      layoutUtil.copyLayoutParams(newElOption, existElOption);\n    } else {\n      existList[index] = newElOptCopy;\n    }\n  } else if ($action === 'replace') {\n    existList[index] = newElOptCopy;\n  } else if ($action === 'remove') {\n    // null will be cleaned later.\n    existElOption && (existList[index] = null);\n  }\n}\n\nfunction setLayoutInfoToExist(existItem, newElOption) {\n  if (!existItem) {\n    return;\n  }\n\n  existItem.hv = newElOption.hv = [// Rigid body, dont care `width`.\n  isSetLoc(newElOption, ['left', 'right']), // Rigid body, dont care `height`.\n  isSetLoc(newElOption, ['top', 'bottom'])]; // Give default group size. Otherwise layout error may occur.\n\n  if (existItem.type === 'group') {\n    existItem.width == null && (existItem.width = newElOption.width = 0);\n    existItem.height == null && (existItem.height = newElOption.height = 0);\n  }\n}\n\nfunction setEventData(el, graphicModel, elOption) {\n  var eventData = el.eventData; // Simple optimize for large amount of elements that no need event.\n\n  if (!el.silent && !el.ignore && !eventData) {\n    eventData = el.eventData = {\n      componentType: 'graphic',\n      componentIndex: graphicModel.componentIndex,\n      name: el.name\n    };\n  } // `elOption.info` enables user to mount some info on\n  // elements and use them in event handlers.\n\n\n  if (eventData) {\n    eventData.info = el.info;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./dataZoom/typeDefaulter\");\n\nrequire(\"./dataZoom/DataZoomModel\");\n\nrequire(\"./dataZoom/DataZoomView\");\n\nrequire(\"./dataZoom/InsideZoomModel\");\n\nrequire(\"./dataZoom/InsideZoomView\");\n\nrequire(\"./dataZoom/dataZoomProcessor\");\n\nrequire(\"./dataZoom/dataZoomAction\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Line path for bezier and straight line draw\n */\nvar straightLineProto = graphic.Line.prototype;\nvar bezierCurveProto = graphic.BezierCurve.prototype;\n\nfunction isLine(shape) {\n  return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n}\n\nvar _default = graphic.extendShape({\n  type: 'ec-line',\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    percent: 1,\n    cpx1: null,\n    cpy1: null\n  },\n  buildPath: function (ctx, shape) {\n    this[isLine(shape) ? '_buildPathLine' : '_buildPathCurve'](ctx, shape);\n  },\n  _buildPathLine: straightLineProto.buildPath,\n  _buildPathCurve: bezierCurveProto.buildPath,\n  pointAt: function (t) {\n    return this[isLine(this.shape) ? '_pointAtLine' : '_pointAtCurve'](t);\n  },\n  _pointAtLine: straightLineProto.pointAt,\n  _pointAtCurve: bezierCurveProto.pointAt,\n  tangentAt: function (t) {\n    var shape = this.shape;\n    var p = isLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : this._tangentAtCurve(t);\n    return vec2.normalize(p, p);\n  },\n  _tangentAtCurve: bezierCurveProto.tangentAt\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isFunction = _util.isFunction;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, defaultSymbolType, legendSymbol) {\n  // Encoding visual for all series include which is filtered for legend drawing\n  return {\n    seriesType: seriesType,\n    // For legend.\n    performRawSeries: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var symbolType = seriesModel.get('symbol');\n      var symbolSize = seriesModel.get('symbolSize');\n      var keepAspect = seriesModel.get('symbolKeepAspect');\n      var symbolRotate = seriesModel.get('symbolRotate');\n      var hasSymbolTypeCallback = isFunction(symbolType);\n      var hasSymbolSizeCallback = isFunction(symbolSize);\n      var hasSymbolRotateCallback = isFunction(symbolRotate);\n      var hasCallback = hasSymbolTypeCallback || hasSymbolSizeCallback || hasSymbolRotateCallback;\n      var seriesSymbol = !hasSymbolTypeCallback && symbolType ? symbolType : defaultSymbolType;\n      var seriesSymbolSize = !hasSymbolSizeCallback ? symbolSize : null;\n      var seriesSymbolRotate = !hasSymbolRotateCallback ? seriesSymbolRotate : null;\n      data.setVisual({\n        legendSymbol: legendSymbol || seriesSymbol,\n        // If seting callback functions on `symbol` or `symbolSize`, for simplicity and avoiding\n        // to bring trouble, we do not pick a reuslt from one of its calling on data item here,\n        // but just use the default value. Callback on `symbol` or `symbolSize` is convenient in\n        // some cases but generally it is not recommanded.\n        symbol: seriesSymbol,\n        symbolSize: seriesSymbolSize,\n        symbolKeepAspect: keepAspect,\n        symbolRotate: symbolRotate\n      }); // Only visible series has each data be visual encoded\n\n      if (ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n\n      function dataEach(data, idx) {\n        if (hasCallback) {\n          var rawValue = seriesModel.getRawValue(idx);\n          var params = seriesModel.getDataParams(idx);\n          hasSymbolTypeCallback && data.setItemVisual(idx, 'symbol', symbolType(rawValue, params));\n          hasSymbolSizeCallback && data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n          hasSymbolRotateCallback && data.setItemVisual(idx, 'symbolRotate', symbolRotate(rawValue, params));\n        }\n\n        if (data.hasItemOption) {\n          var itemModel = data.getItemModel(idx);\n          var itemSymbolType = itemModel.getShallow('symbol', true);\n          var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n          var itemSymbolRotate = itemModel.getShallow('symbolRotate', true);\n          var itemSymbolKeepAspect = itemModel.getShallow('symbolKeepAspect', true); // If has item symbol\n\n          if (itemSymbolType != null) {\n            data.setItemVisual(idx, 'symbol', itemSymbolType);\n          }\n\n          if (itemSymbolSize != null) {\n            // PENDING Transform symbolSize ?\n            data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n          }\n\n          if (itemSymbolRotate != null) {\n            data.setItemVisual(idx, 'symbolRotate', itemSymbolRotate);\n          }\n\n          if (itemSymbolKeepAspect != null) {\n            data.setItemVisual(idx, 'symbolKeepAspect', itemSymbolKeepAspect);\n          }\n        }\n      }\n\n      return {\n        dataEach: data.hasItemOption || hasCallback ? dataEach : null\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BrushController = require(\"../../helper/BrushController\");\n\nvar BrushTargetManager = require(\"../../helper/BrushTargetManager\");\n\nvar history = require(\"../../dataZoom/history\");\n\nvar sliderMove = require(\"../../helper/sliderMove\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\nrequire(\"../../dataZoomSelect\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Use dataZoomSelect\nvar dataZoomLang = lang.toolbox.dataZoom;\nvar each = zrUtil.each; // Spectial component id start with \\0ec\\0, see echarts/model/Global.js~hasInnerId\n\nvar DATA_ZOOM_ID_BASE = '\\0_ec_\\0toolbox-dataZoom_';\n\nfunction DataZoom(model, ecModel, api) {\n  /**\n   * @private\n   * @type {module:echarts/component/helper/BrushController}\n   */\n  (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._isZoomActive;\n}\n\nDataZoom.defaultOption = {\n  show: true,\n  filterMode: 'filter',\n  // Icon group\n  icon: {\n    zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n    back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n  },\n  // `zoom`, `back`\n  title: zrUtil.clone(dataZoomLang.title),\n  brushStyle: {\n    borderWidth: 0,\n    color: 'rgba(0,0,0,0.2)'\n  }\n};\nvar proto = DataZoom.prototype;\n\nproto.render = function (featureModel, ecModel, api, payload) {\n  this.model = featureModel;\n  this.ecModel = ecModel;\n  this.api = api;\n  updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n  updateBackBtnStatus(featureModel, ecModel);\n};\n\nproto.onclick = function (ecModel, api, type) {\n  handlers[type].call(this);\n};\n\nproto.remove = function (ecModel, api) {\n  this._brushController.unmount();\n};\n\nproto.dispose = function (ecModel, api) {\n  this._brushController.dispose();\n};\n/**\n * @private\n */\n\n\nvar handlers = {\n  zoom: function () {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function () {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\n/**\n * @private\n */\n\nproto._onBrush = function (areas, opt) {\n  if (!opt.isEnd || !areas.length) {\n    return;\n  }\n\n  var snapshot = {};\n  var ecModel = this.ecModel;\n\n  this._brushController.updateCovers([]); // remove cover\n\n\n  var brushTargetManager = new BrushTargetManager(retrieveAxisSetting(this.model.option), ecModel, {\n    include: ['grid']\n  });\n  brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n    if (coordSys.type !== 'cartesian2d') {\n      return;\n    }\n\n    var brushType = area.brushType;\n\n    if (brushType === 'rect') {\n      setBatch('x', coordSys, coordRange[0]);\n      setBatch('y', coordSys, coordRange[1]);\n    } else {\n      setBatch({\n        lineX: 'x',\n        lineY: 'y'\n      }[brushType], coordSys, coordRange);\n    }\n  });\n  history.push(ecModel, snapshot);\n\n  this._dispatchZoomAction(snapshot);\n\n  function setBatch(dimName, coordSys, minMax) {\n    var axis = coordSys.getAxis(dimName);\n    var axisModel = axis.model;\n    var dataZoomModel = findDataZoom(dimName, axisModel, ecModel); // Restrict range.\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n\n    if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n      minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n    }\n\n    dataZoomModel && (snapshot[dataZoomModel.id] = {\n      dataZoomId: dataZoomModel.id,\n      startValue: minMax[0],\n      endValue: minMax[1]\n    });\n  }\n\n  function findDataZoom(dimName, axisModel, ecModel) {\n    var found;\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'select'\n    }, function (dzModel) {\n      var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n      has && (found = dzModel);\n    });\n    return found;\n  }\n};\n/**\n * @private\n */\n\n\nproto._dispatchZoomAction = function (snapshot) {\n  var batch = []; // Convert from hash map to array.\n\n  each(snapshot, function (batchItem, dataZoomId) {\n    batch.push(zrUtil.clone(batchItem));\n  });\n  batch.length && this.api.dispatchAction({\n    type: 'dataZoom',\n    from: this.uid,\n    batch: batch\n  });\n};\n\nfunction retrieveAxisSetting(option) {\n  var setting = {}; // Compatible with previous setting: null => all axis, false => no axis.\n\n  zrUtil.each(['xAxisIndex', 'yAxisIndex'], function (name) {\n    setting[name] = option[name];\n    setting[name] == null && (setting[name] = 'all');\n    (setting[name] === false || setting[name] === 'none') && (setting[name] = []);\n  });\n  return setting;\n}\n\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\n\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(retrieveAxisSetting(featureModel.option), ecModel, {\n    include: ['grid']\n  });\n\n  view._brushController.setPanels(brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  })).enableBrush(zoomActive ? {\n    brushType: 'auto',\n    brushStyle: featureModel.getModel('brushStyle').getItemStyle()\n  } : false);\n}\n\nfeatureManager.register('dataZoom', DataZoom); // Create special dataZoom option for select\n// FIXME consider the case of merge option, where axes options are not exists.\n\necharts.registerPreprocessor(function (option) {\n  if (!option) {\n    return;\n  }\n\n  var dataZoomOpts = option.dataZoom || (option.dataZoom = []);\n\n  if (!zrUtil.isArray(dataZoomOpts)) {\n    option.dataZoom = dataZoomOpts = [dataZoomOpts];\n  }\n\n  var toolboxOpt = option.toolbox;\n\n  if (toolboxOpt) {\n    // Assume there is only one toolbox\n    if (zrUtil.isArray(toolboxOpt)) {\n      toolboxOpt = toolboxOpt[0];\n    }\n\n    if (toolboxOpt && toolboxOpt.feature) {\n      var dataZoomOpt = toolboxOpt.feature.dataZoom; // FIXME: If add dataZoom when setOption in merge mode,\n      // no axis info to be added. See `test/dataZoom-extreme.html`\n\n      addForAxis('xAxis', dataZoomOpt);\n      addForAxis('yAxis', dataZoomOpt);\n    }\n  }\n\n  function addForAxis(axisName, dataZoomOpt) {\n    if (!dataZoomOpt) {\n      return;\n    } // Try not to modify model, because it is not merged yet.\n\n\n    var axisIndicesName = axisName + 'Index';\n    var givenAxisIndices = dataZoomOpt[axisIndicesName];\n\n    if (givenAxisIndices != null && givenAxisIndices !== 'all' && !zrUtil.isArray(givenAxisIndices)) {\n      givenAxisIndices = givenAxisIndices === false || givenAxisIndices === 'none' ? [] : [givenAxisIndices];\n    }\n\n    forEachComponent(axisName, function (axisOpt, axisIndex) {\n      if (givenAxisIndices != null && givenAxisIndices !== 'all' && zrUtil.indexOf(givenAxisIndices, axisIndex) === -1) {\n        return;\n      }\n\n      var newOpt = {\n        type: 'select',\n        $fromToolbox: true,\n        // Default to be filter\n        filterMode: dataZoomOpt.filterMode || 'filter',\n        // Id for merge mapping.\n        id: DATA_ZOOM_ID_BASE + axisName + axisIndex\n      }; // FIXME\n      // Only support one axis now.\n\n      newOpt[axisIndicesName] = axisIndex;\n      dataZoomOpts.push(newOpt);\n    });\n  }\n\n  function forEachComponent(mainType, cb) {\n    var opts = option[mainType];\n\n    if (!zrUtil.isArray(opts)) {\n      opts = opts ? [opts] : [];\n    }\n\n    each(opts, cb);\n  }\n});\nvar _default = DataZoom;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar ComponentView = require(\"../../view/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = ComponentView.extend({\n  type: 'dataZoom',\n  render: function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  },\n\n  /**\n   * Find the first target coordinate system.\n   *\n   * @protected\n   * @return {Object} {\n   *                   grid: [\n   *                       {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n   *                       {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n   *                       ...\n   *                   ],  // cartesians must not be null/undefined.\n   *                   polar: [\n   *                       {model: coord0, axisModels: [axis4], coordIndex: 0},\n   *                       ...\n   *                   ],  // polars must not be null/undefined.\n   *                   singleAxis: [\n   *                       {model: coord0, axisModels: [], coordIndex: 0}\n   *                   ]\n   */\n  getTargetCoordInfo: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var ecModel = this.ecModel;\n    var coordSysLists = {};\n    dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n      var axisModel = ecModel.getComponent(dimNames.axis, axisIndex);\n\n      if (axisModel) {\n        var coordModel = axisModel.getCoordSysModel();\n        coordModel && save(coordModel, axisModel, coordSysLists[coordModel.mainType] || (coordSysLists[coordModel.mainType] = []), coordModel.componentIndex);\n      }\n    }, this);\n\n    function save(coordModel, axisModel, store, coordIndex) {\n      var item;\n\n      for (var i = 0; i < store.length; i++) {\n        if (store[i].model === coordModel) {\n          item = store[i];\n          break;\n        }\n      }\n\n      if (!item) {\n        store.push(item = {\n          model: coordModel,\n          axisModels: [],\n          coordIndex: coordIndex\n        });\n      }\n\n      item.axisModels.push(axisModel);\n    }\n\n    return coordSysLists;\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./marker/MarkAreaModel\");\n\nrequire(\"./marker/MarkAreaView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerPreprocessor(function (opt) {\n  // Make sure markArea component is enabled\n  opt.markArea = opt.markArea || {};\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar vector = require(\"zrender/lib/core/vector\");\n\nvar symbolUtil = require(\"../../util/symbol\");\n\nvar LinePath = require(\"./LinePath\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar round = _number.round;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Line\n */\nvar SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\n\nfunction makeSymbolTypeKey(symbolCategory) {\n  return '_' + symbolCategory + 'Type';\n}\n/**\n * @inner\n */\n\n\nfunction createSymbol(name, lineData, idx) {\n  var symbolType = lineData.getItemVisual(idx, name);\n\n  if (!symbolType || symbolType === 'none') {\n    return;\n  }\n\n  var color = lineData.getItemVisual(idx, 'color');\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n  var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [symbolSize, symbolSize];\n  }\n\n  var symbolPath = symbolUtil.createSymbol(symbolType, -symbolSize[0] / 2, -symbolSize[1] / 2, symbolSize[0], symbolSize[1], color); // rotate by default if symbolRotate is not specified or NaN\n\n  symbolPath.__specifiedRotation = symbolRotate == null || isNaN(symbolRotate) ? void 0 : +symbolRotate * Math.PI / 180 || 0;\n  symbolPath.name = name;\n  return symbolPath;\n}\n\nfunction createLine(points) {\n  var line = new LinePath({\n    name: 'line',\n    subPixelOptimize: true\n  });\n  setLinePoints(line.shape, points);\n  return line;\n}\n\nfunction setLinePoints(targetShape, points) {\n  targetShape.x1 = points[0][0];\n  targetShape.y1 = points[0][1];\n  targetShape.x2 = points[1][0];\n  targetShape.y2 = points[1][1];\n  targetShape.percent = 1;\n  var cp1 = points[2];\n\n  if (cp1) {\n    targetShape.cpx1 = cp1[0];\n    targetShape.cpy1 = cp1[1];\n  } else {\n    targetShape.cpx1 = NaN;\n    targetShape.cpy1 = NaN;\n  }\n}\n\nfunction updateSymbolAndLabelBeforeLineUpdate() {\n  var lineGroup = this;\n  var symbolFrom = lineGroup.childOfName('fromSymbol');\n  var symbolTo = lineGroup.childOfName('toSymbol');\n  var label = lineGroup.childOfName('label'); // Quick reject\n\n  if (!symbolFrom && !symbolTo && label.ignore) {\n    return;\n  }\n\n  var invScale = 1;\n  var parentNode = this.parent;\n\n  while (parentNode) {\n    if (parentNode.scale) {\n      invScale /= parentNode.scale[0];\n    }\n\n    parentNode = parentNode.parent;\n  }\n\n  var line = lineGroup.childOfName('line'); // If line not changed\n  // FIXME Parent scale changed\n\n  if (!this.__dirty && !line.__dirty) {\n    return;\n  }\n\n  var percent = line.shape.percent;\n  var fromPos = line.pointAt(0);\n  var toPos = line.pointAt(percent);\n  var d = vector.sub([], toPos, fromPos);\n  vector.normalize(d, d);\n\n  if (symbolFrom) {\n    symbolFrom.attr('position', fromPos); // Fix #12388\n    // when symbol is set to be 'arrow' in markLine,\n    // symbolRotate value will be ignored, and compulsively use tangent angle.\n    // rotate by default if symbol rotation is not specified\n\n    var specifiedRotation = symbolFrom.__specifiedRotation;\n\n    if (specifiedRotation == null) {\n      var tangent = line.tangentAt(0);\n      symbolFrom.attr('rotation', Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n    } else {\n      symbolFrom.attr('rotation', specifiedRotation);\n    }\n\n    symbolFrom.attr('scale', [invScale * percent, invScale * percent]);\n  }\n\n  if (symbolTo) {\n    symbolTo.attr('position', toPos); // Fix #12388\n    // when symbol is set to be 'arrow' in markLine,\n    // symbolRotate value will be ignored, and compulsively use tangent angle.\n    // rotate by default if symbol rotation is not specified\n\n    var specifiedRotation = symbolTo.__specifiedRotation;\n\n    if (specifiedRotation == null) {\n      var tangent = line.tangentAt(1);\n      symbolTo.attr('rotation', -Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n    } else {\n      symbolTo.attr('rotation', specifiedRotation);\n    }\n\n    symbolTo.attr('scale', [invScale * percent, invScale * percent]);\n  }\n\n  if (!label.ignore) {\n    label.attr('position', toPos);\n    var textPosition;\n    var textAlign;\n    var textVerticalAlign;\n    var textOrigin;\n    var distance = label.__labelDistance;\n    var distanceX = distance[0] * invScale;\n    var distanceY = distance[1] * invScale;\n    var halfPercent = percent / 2;\n    var tangent = line.tangentAt(halfPercent);\n    var n = [tangent[1], -tangent[0]];\n    var cp = line.pointAt(halfPercent);\n\n    if (n[1] > 0) {\n      n[0] = -n[0];\n      n[1] = -n[1];\n    }\n\n    var dir = tangent[0] < 0 ? -1 : 1;\n\n    if (label.__position !== 'start' && label.__position !== 'end') {\n      var rotation = -Math.atan2(tangent[1], tangent[0]);\n\n      if (toPos[0] < fromPos[0]) {\n        rotation = Math.PI + rotation;\n      }\n\n      label.attr('rotation', rotation);\n    }\n\n    var dy;\n\n    switch (label.__position) {\n      case 'insideStartTop':\n      case 'insideMiddleTop':\n      case 'insideEndTop':\n      case 'middle':\n        dy = -distanceY;\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'insideStartBottom':\n      case 'insideMiddleBottom':\n      case 'insideEndBottom':\n        dy = distanceY;\n        textVerticalAlign = 'top';\n        break;\n\n      default:\n        dy = 0;\n        textVerticalAlign = 'middle';\n    }\n\n    switch (label.__position) {\n      case 'end':\n        textPosition = [d[0] * distanceX + toPos[0], d[1] * distanceY + toPos[1]];\n        textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n        textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n        break;\n\n      case 'start':\n        textPosition = [-d[0] * distanceX + fromPos[0], -d[1] * distanceY + fromPos[1]];\n        textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n        textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n        break;\n\n      case 'insideStartTop':\n      case 'insideStart':\n      case 'insideStartBottom':\n        textPosition = [distanceX * dir + fromPos[0], fromPos[1] + dy];\n        textAlign = tangent[0] < 0 ? 'right' : 'left';\n        textOrigin = [-distanceX * dir, -dy];\n        break;\n\n      case 'insideMiddleTop':\n      case 'insideMiddle':\n      case 'insideMiddleBottom':\n      case 'middle':\n        textPosition = [cp[0], cp[1] + dy];\n        textAlign = 'center';\n        textOrigin = [0, -dy];\n        break;\n\n      case 'insideEndTop':\n      case 'insideEnd':\n      case 'insideEndBottom':\n        textPosition = [-distanceX * dir + toPos[0], toPos[1] + dy];\n        textAlign = tangent[0] >= 0 ? 'right' : 'left';\n        textOrigin = [distanceX * dir, -dy];\n        break;\n    }\n\n    label.attr({\n      style: {\n        // Use the user specified text align and baseline first\n        textVerticalAlign: label.__verticalAlign || textVerticalAlign,\n        textAlign: label.__textAlign || textAlign\n      },\n      position: textPosition,\n      scale: [invScale, invScale],\n      origin: textOrigin\n    });\n  }\n}\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Line}\n */\n\n\nfunction Line(lineData, idx, seriesScope) {\n  graphic.Group.call(this);\n\n  this._createLine(lineData, idx, seriesScope);\n}\n\nvar lineProto = Line.prototype; // Update symbol position and rotation\n\nlineProto.beforeUpdate = updateSymbolAndLabelBeforeLineUpdate;\n\nlineProto._createLine = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var linePoints = lineData.getItemLayout(idx);\n  var line = createLine(linePoints);\n  line.shape.percent = 0;\n  graphic.initProps(line, {\n    shape: {\n      percent: 1\n    }\n  }, seriesModel, idx);\n  this.add(line);\n  var label = new graphic.Text({\n    name: 'label',\n    // FIXME\n    // Temporary solution for `focusNodeAdjacency`.\n    // line label do not use the opacity of lineStyle.\n    lineLabelOriginalOpacity: 1\n  });\n  this.add(label);\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbol = createSymbol(symbolCategory, lineData, idx); // symbols must added after line to make sure\n    // it will be updated after line#update.\n    // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n\n    this.add(symbol);\n    this[makeSymbolTypeKey(symbolCategory)] = lineData.getItemVisual(idx, symbolCategory);\n  }, this);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\nlineProto.updateData = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childOfName('line');\n  var linePoints = lineData.getItemLayout(idx);\n  var target = {\n    shape: {}\n  };\n  setLinePoints(target.shape, linePoints);\n  graphic.updateProps(line, target, seriesModel, idx);\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbolType = lineData.getItemVisual(idx, symbolCategory);\n    var key = makeSymbolTypeKey(symbolCategory); // Symbol changed\n\n    if (this[key] !== symbolType) {\n      this.remove(this.childOfName(symbolCategory));\n      var symbol = createSymbol(symbolCategory, lineData, idx);\n      this.add(symbol);\n    }\n\n    this[key] = symbolType;\n  }, this);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\nlineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childOfName('line');\n  var lineStyle = seriesScope && seriesScope.lineStyle;\n  var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel; // Optimization for large dataset\n\n  if (!seriesScope || lineData.hasItemOption) {\n    var itemModel = lineData.getItemModel(idx);\n    lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n    hoverLineStyle = itemModel.getModel('emphasis.lineStyle').getLineStyle();\n    labelModel = itemModel.getModel('label');\n    hoverLabelModel = itemModel.getModel('emphasis.label');\n  }\n\n  var visualColor = lineData.getItemVisual(idx, 'color');\n  var visualOpacity = zrUtil.retrieve3(lineData.getItemVisual(idx, 'opacity'), lineStyle.opacity, 1);\n  line.useStyle(zrUtil.defaults({\n    strokeNoScale: true,\n    fill: 'none',\n    stroke: visualColor,\n    opacity: visualOpacity\n  }, lineStyle));\n  line.hoverStyle = hoverLineStyle; // Update symbol\n\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbol = this.childOfName(symbolCategory);\n\n    if (symbol) {\n      symbol.setColor(visualColor);\n      symbol.setStyle({\n        opacity: visualOpacity\n      });\n    }\n  }, this);\n  var showLabel = labelModel.getShallow('show');\n  var hoverShowLabel = hoverLabelModel.getShallow('show');\n  var label = this.childOfName('label');\n  var defaultLabelColor;\n  var baseText; // FIXME: the logic below probably should be merged to `graphic.setLabelStyle`.\n\n  if (showLabel || hoverShowLabel) {\n    defaultLabelColor = visualColor || '#000';\n    baseText = seriesModel.getFormattedLabel(idx, 'normal', lineData.dataType);\n\n    if (baseText == null) {\n      var rawVal = seriesModel.getRawValue(idx);\n      baseText = rawVal == null ? lineData.getName(idx) : isFinite(rawVal) ? round(rawVal) : rawVal;\n    }\n  }\n\n  var normalText = showLabel ? baseText : null;\n  var emphasisText = hoverShowLabel ? zrUtil.retrieve2(seriesModel.getFormattedLabel(idx, 'emphasis', lineData.dataType), baseText) : null;\n  var labelStyle = label.style; // Always set `textStyle` even if `normalStyle.text` is null, because default\n  // values have to be set on `normalStyle`.\n\n  if (normalText != null || emphasisText != null) {\n    graphic.setTextStyle(label.style, labelModel, {\n      text: normalText\n    }, {\n      autoColor: defaultLabelColor\n    });\n    label.__textAlign = labelStyle.textAlign;\n    label.__verticalAlign = labelStyle.textVerticalAlign; // 'start', 'middle', 'end'\n\n    label.__position = labelModel.get('position') || 'middle';\n    var distance = labelModel.get('distance');\n\n    if (!zrUtil.isArray(distance)) {\n      distance = [distance, distance];\n    }\n\n    label.__labelDistance = distance;\n  }\n\n  if (emphasisText != null) {\n    // Only these properties supported in this emphasis style here.\n    label.hoverStyle = {\n      text: emphasisText,\n      textFill: hoverLabelModel.getTextColor(true),\n      // For merging hover style to normal style, do not use\n      // `hoverLabelModel.getFont()` here.\n      fontStyle: hoverLabelModel.getShallow('fontStyle'),\n      fontWeight: hoverLabelModel.getShallow('fontWeight'),\n      fontSize: hoverLabelModel.getShallow('fontSize'),\n      fontFamily: hoverLabelModel.getShallow('fontFamily')\n    };\n  } else {\n    label.hoverStyle = {\n      text: null\n    };\n  }\n\n  label.ignore = !showLabel && !hoverShowLabel;\n  graphic.setHoverStyle(this);\n};\n\nlineProto.highlight = function () {\n  this.trigger('emphasis');\n};\n\nlineProto.downplay = function () {\n  this.trigger('normal');\n};\n\nlineProto.updateLayout = function (lineData, idx) {\n  this.setLinePoints(lineData.getItemLayout(idx));\n};\n\nlineProto.setLinePoints = function (points) {\n  var linePath = this.childOfName('line');\n  setLinePoints(linePath.shape, points);\n  linePath.dirty();\n};\n\nzrUtil.inherits(Line, graphic.Group);\nvar _default = Line;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SymbolDraw = require(\"../../chart/helper/SymbolDraw\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar List = require(\"../../data/List\");\n\nvar markerHelper = require(\"./markerHelper\");\n\nvar MarkerView = require(\"./MarkerView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction updateMarkerLayout(mpData, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  mpData.each(function (idx) {\n    var itemModel = mpData.getItemModel(idx);\n    var point;\n    var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n    var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } // Chart like bar may have there own marker positioning logic\n    else if (seriesModel.getMarkerPosition) {\n        // Use the getMarkerPoisition\n        point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n      } else if (coordSys) {\n        var x = mpData.get(coordSys.dimensions[0], idx);\n        var y = mpData.get(coordSys.dimensions[1], idx);\n        point = coordSys.dataToPoint([x, y]);\n      } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n\n    mpData.setItemLayout(idx, point);\n  });\n}\n\nvar _default = MarkerView.extend({\n  type: 'markPoint',\n  // updateLayout: function (markPointModel, ecModel, api) {\n  //     ecModel.eachSeries(function (seriesModel) {\n  //         var mpModel = seriesModel.markPointModel;\n  //         if (mpModel) {\n  //             updateMarkerLayout(mpModel.getData(), seriesModel, api);\n  //             this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n  //         }\n  //     }, this);\n  // },\n  updateTransform: function (markPointModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mpModel = seriesModel.markPointModel;\n\n      if (mpModel) {\n        updateMarkerLayout(mpModel.getData(), seriesModel, api);\n        this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, mpModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var symbolDrawMap = this.markerGroupMap;\n    var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw());\n    var mpData = createList(coordSys, seriesModel, mpModel); // FIXME\n\n    mpModel.setData(mpData);\n    updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var symbol = itemModel.getShallow('symbol');\n      var symbolSize = itemModel.getShallow('symbolSize');\n      var symbolRotate = itemModel.getShallow('symbolRotate');\n      var isFnSymbol = zrUtil.isFunction(symbol);\n      var isFnSymbolSize = zrUtil.isFunction(symbolSize);\n      var isFnSymbolRotate = zrUtil.isFunction(symbolRotate);\n\n      if (isFnSymbol || isFnSymbolSize || isFnSymbolRotate) {\n        var rawIdx = mpModel.getRawValue(idx);\n        var dataParams = mpModel.getDataParams(idx);\n\n        if (isFnSymbol) {\n          symbol = symbol(rawIdx, dataParams);\n        }\n\n        if (isFnSymbolSize) {\n          // FIXME  ECharts 2.x2.x \n          symbolSize = symbolSize(rawIdx, dataParams);\n        }\n\n        if (isFnSymbolRotate) {\n          symbolRotate = symbolRotate(rawIdx, dataParams);\n        }\n      }\n\n      mpData.setItemVisual(idx, {\n        symbol: symbol,\n        symbolSize: symbolSize,\n        symbolRotate: symbolRotate,\n        color: itemModel.get('itemStyle.color') || seriesData.getVisual('color')\n      });\n    }); // TODO Text are wrong\n\n    symbolDraw.updateData(mpData);\n    this.group.add(symbolDraw.group); // Set host model for tooltip\n    // FIXME\n\n    mpData.eachItemGraphicEl(function (el) {\n      el.traverse(function (child) {\n        child.dataModel = mpModel;\n      });\n    });\n    symbolDraw.__keep = true;\n    symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} [coordSys]\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\n\nfunction createList(coordSys, seriesModel, mpModel) {\n  var coordDimsInfos;\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      return zrUtil.defaults({\n        name: coordDim\n      }, info);\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n\n  var mpData = new List(coordDimsInfos, mpModel);\n  var dataOpt = zrUtil.map(mpModel.get('data'), zrUtil.curry(markerHelper.dataTransform, seriesModel));\n\n  if (coordSys) {\n    dataOpt = zrUtil.filter(dataOpt, zrUtil.curry(markerHelper.dataFilter, coordSys));\n  }\n\n  mpData.initData(dataOpt, null, coordSys ? markerHelper.dimValueGetter : function (item) {\n    return item.value;\n  });\n  return mpData;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar sizeCalculable = _layout.sizeCalculable;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar CalendarModel = ComponentModel.extend({\n  type: 'calendar',\n\n  /**\n   * @type {module:echarts/coord/calendar/Calendar}\n   */\n  coordinateSystem: null,\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: '#000',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      // a week first day\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: '50%',\n      // 50% of cellSize\n      nameMap: 'en',\n      color: '#000'\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: 5,\n      // center or left\n      align: 'center',\n      // cn en []\n      nameMap: 'en',\n      formatter: null,\n      color: '#000'\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: 30,\n      formatter: null,\n      color: '#ccc',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel, extraOpt) {\n    var inputPositionParams = getLayoutParams(option);\n    CalendarModel.superApply(this, 'init', arguments);\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (option, extraOpt) {\n    CalendarModel.superApply(this, 'mergeOption', arguments);\n    mergeAndNormalizeLayoutParams(this.option, option);\n  }\n});\n\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n\n  if (!zrUtil.isArray(cellSize)) {\n    cellSize = target.cellSize = [cellSize, cellSize];\n  } else if (cellSize.length === 1) {\n    cellSize[1] = cellSize[0];\n  }\n\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSize\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSize will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSize[hvIdx] = 'auto';\n    }\n\n    return cellSize[hvIdx] != null && cellSize[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\n\nvar _default = CalendarModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar layout = require(\"../../util/layout\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _model = require(\"../../util/model\");\n\nvar groupData = _model.groupData;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel, api, payload) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var nodeWidth = seriesModel.get('nodeWidth');\n    var nodeGap = seriesModel.get('nodeGap');\n    var layoutInfo = getViewRect(seriesModel, api);\n    seriesModel.layoutInfo = layoutInfo;\n    var width = layoutInfo.width;\n    var height = layoutInfo.height;\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n    var edges = graph.edges;\n    computeNodeValues(nodes);\n    var filteredNodes = zrUtil.filter(nodes, function (node) {\n      return node.getLayout().value === 0;\n    });\n    var iterations = filteredNodes.length !== 0 ? 0 : seriesModel.get('layoutIterations');\n    var orient = seriesModel.get('orient');\n    var nodeAlign = seriesModel.get('nodeAlign');\n    layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations, orient, nodeAlign);\n  });\n}\n/**\n * Get the layout position of the whole view\n *\n * @param {module:echarts/model/Series} seriesModel  the model object of sankey series\n * @param {module:echarts/ExtensionAPI} api  provide the API list that the developer can call\n * @return {module:zrender/core/BoundingRect}  size of rect to draw the sankey view\n */\n\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations, orient, nodeAlign) {\n  computeNodeBreadths(nodes, edges, nodeWidth, width, height, orient, nodeAlign);\n  computeNodeDepths(nodes, edges, height, width, nodeGap, iterations, orient);\n  computeEdgeDepths(nodes, orient);\n}\n/**\n * Compute the value of each node by summing the associated edge's value\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n */\n\n\nfunction computeNodeValues(nodes) {\n  zrUtil.each(nodes, function (node) {\n    var value1 = sum(node.outEdges, getEdgeValue);\n    var value2 = sum(node.inEdges, getEdgeValue);\n    var nodeRawValue = node.getValue() || 0;\n    var value = Math.max(value1, value2, nodeRawValue);\n    node.setLayout({\n      value: value\n    }, true);\n  });\n}\n/**\n * Compute the x-position for each node.\n *\n * Here we use Kahn algorithm to detect cycle when we traverse\n * the node to computer the initial x position.\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param  {number} nodeWidth  the dx of the node\n * @param  {number} width  the whole width of the area to draw the view\n */\n\n\nfunction computeNodeBreadths(nodes, edges, nodeWidth, width, height, orient, nodeAlign) {\n  // Used to mark whether the edge is deleted. if it is deleted,\n  // the value is 0, otherwise it is 1.\n  var remainEdges = []; // Storage each node's indegree.\n\n  var indegreeArr = []; //Used to storage the node with indegree is equal to 0.\n\n  var zeroIndegrees = [];\n  var nextTargetNode = [];\n  var x = 0;\n  var kx = 0;\n\n  for (var i = 0; i < edges.length; i++) {\n    remainEdges[i] = 1;\n  }\n\n  for (i = 0; i < nodes.length; i++) {\n    indegreeArr[i] = nodes[i].inEdges.length;\n\n    if (indegreeArr[i] === 0) {\n      zeroIndegrees.push(nodes[i]);\n    }\n  }\n\n  var maxNodeDepth = -1; // Traversing nodes using topological sorting to calculate the\n  // horizontal(if orient === 'horizontal') or vertical(if orient === 'vertical')\n  // position of the nodes.\n\n  while (zeroIndegrees.length) {\n    for (var idx = 0; idx < zeroIndegrees.length; idx++) {\n      var node = zeroIndegrees[idx];\n      var item = node.hostGraph.data.getRawDataItem(node.dataIndex);\n      var isItemDepth = item.depth != null && item.depth >= 0;\n\n      if (isItemDepth && item.depth > maxNodeDepth) {\n        maxNodeDepth = item.depth;\n      }\n\n      node.setLayout({\n        depth: isItemDepth ? item.depth : x\n      }, true);\n      orient === 'vertical' ? node.setLayout({\n        dy: nodeWidth\n      }, true) : node.setLayout({\n        dx: nodeWidth\n      }, true);\n\n      for (var edgeIdx = 0; edgeIdx < node.outEdges.length; edgeIdx++) {\n        var edge = node.outEdges[edgeIdx];\n        var indexEdge = edges.indexOf(edge);\n        remainEdges[indexEdge] = 0;\n        var targetNode = edge.node2;\n        var nodeIndex = nodes.indexOf(targetNode);\n\n        if (--indegreeArr[nodeIndex] === 0 && nextTargetNode.indexOf(targetNode) < 0) {\n          nextTargetNode.push(targetNode);\n        }\n      }\n    }\n\n    ++x;\n    zeroIndegrees = nextTargetNode;\n    nextTargetNode = [];\n  }\n\n  for (i = 0; i < remainEdges.length; i++) {\n    if (remainEdges[i] === 1) {\n      throw new Error('Sankey is a DAG, the original data has cycle!');\n    }\n  }\n\n  var maxDepth = maxNodeDepth > x - 1 ? maxNodeDepth : x - 1;\n\n  if (nodeAlign && nodeAlign !== 'left') {\n    adjustNodeWithNodeAlign(nodes, nodeAlign, orient, maxDepth);\n  }\n\n  var kx = orient === 'vertical' ? (height - nodeWidth) / maxDepth : (width - nodeWidth) / maxDepth;\n  scaleNodeBreadths(nodes, kx, orient);\n}\n\nfunction isNodeDepth(node) {\n  var item = node.hostGraph.data.getRawDataItem(node.dataIndex);\n  return item.depth != null && item.depth >= 0;\n}\n\nfunction adjustNodeWithNodeAlign(nodes, nodeAlign, orient, maxDepth) {\n  if (nodeAlign === 'right') {\n    var nextSourceNode = [];\n    var remainNodes = nodes;\n    var nodeHeight = 0;\n\n    while (remainNodes.length) {\n      for (var i = 0; i < remainNodes.length; i++) {\n        var node = remainNodes[i];\n        node.setLayout({\n          skNodeHeight: nodeHeight\n        }, true);\n\n        for (var j = 0; j < node.inEdges.length; j++) {\n          var edge = node.inEdges[j];\n\n          if (nextSourceNode.indexOf(edge.node1) < 0) {\n            nextSourceNode.push(edge.node1);\n          }\n        }\n      }\n\n      remainNodes = nextSourceNode;\n      nextSourceNode = [];\n      ++nodeHeight;\n    }\n\n    zrUtil.each(nodes, function (node) {\n      if (!isNodeDepth(node)) {\n        node.setLayout({\n          depth: Math.max(0, maxDepth - node.getLayout().skNodeHeight)\n        }, true);\n      }\n    });\n  } else if (nodeAlign === 'justify') {\n    moveSinksRight(nodes, maxDepth);\n  }\n}\n/**\n * All the node without outEgdes are assigned maximum x-position and\n *     be aligned in the last column.\n *\n * @param {module:echarts/data/Graph~Node} nodes.  node of sankey view.\n * @param {number} maxDepth.  use to assign to node without outEdges as x-position.\n */\n\n\nfunction moveSinksRight(nodes, maxDepth) {\n  zrUtil.each(nodes, function (node) {\n    if (!isNodeDepth(node) && !node.outEdges.length) {\n      node.setLayout({\n        depth: maxDepth\n      }, true);\n    }\n  });\n}\n/**\n * Scale node x-position to the width\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {number} kx   multiple used to scale nodes\n */\n\n\nfunction scaleNodeBreadths(nodes, kx, orient) {\n  zrUtil.each(nodes, function (node) {\n    var nodeDepth = node.getLayout().depth * kx;\n    orient === 'vertical' ? node.setLayout({\n      y: nodeDepth\n    }, true) : node.setLayout({\n      x: nodeDepth\n    }, true);\n  });\n}\n/**\n * Using Gauss-Seidel iterations method to compute the node depth(y-position)\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {module:echarts/data/Graph~Edge} edges  edge of sankey view\n * @param {number} height  the whole height of the area to draw the view\n * @param {number} nodeGap  the vertical distance between two nodes\n *     in the same column.\n * @param {number} iterations  the number of iterations for the algorithm\n */\n\n\nfunction computeNodeDepths(nodes, edges, height, width, nodeGap, iterations, orient) {\n  var nodesByBreadth = prepareNodesByBreadth(nodes, orient);\n  initializeNodeDepth(nodesByBreadth, edges, height, width, nodeGap, orient);\n  resolveCollisions(nodesByBreadth, nodeGap, height, width, orient);\n\n  for (var alpha = 1; iterations > 0; iterations--) {\n    // 0.99 is a experience parameter, ensure that each iterations of\n    // changes as small as possible.\n    alpha *= 0.99;\n    relaxRightToLeft(nodesByBreadth, alpha, orient);\n    resolveCollisions(nodesByBreadth, nodeGap, height, width, orient);\n    relaxLeftToRight(nodesByBreadth, alpha, orient);\n    resolveCollisions(nodesByBreadth, nodeGap, height, width, orient);\n  }\n}\n\nfunction prepareNodesByBreadth(nodes, orient) {\n  var nodesByBreadth = [];\n  var keyAttr = orient === 'vertical' ? 'y' : 'x';\n  var groupResult = groupData(nodes, function (node) {\n    return node.getLayout()[keyAttr];\n  });\n  groupResult.keys.sort(function (a, b) {\n    return a - b;\n  });\n  zrUtil.each(groupResult.keys, function (key) {\n    nodesByBreadth.push(groupResult.buckets.get(key));\n  });\n  return nodesByBreadth;\n}\n/**\n * Compute the original y-position for each node\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the nodes x-position.\n * @param {module:echarts/data/Graph~Edge} edges  edge of sankey view\n * @param {number} height  the whole height of the area to draw the view\n * @param {number} nodeGap  the vertical distance between two nodes\n */\n\n\nfunction initializeNodeDepth(nodesByBreadth, edges, height, width, nodeGap, orient) {\n  var minKy = Infinity;\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    var n = nodes.length;\n    var sum = 0;\n    zrUtil.each(nodes, function (node) {\n      sum += node.getLayout().value;\n    });\n    var ky = orient === 'vertical' ? (width - (n - 1) * nodeGap) / sum : (height - (n - 1) * nodeGap) / sum;\n\n    if (ky < minKy) {\n      minKy = ky;\n    }\n  });\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    zrUtil.each(nodes, function (node, i) {\n      var nodeDy = node.getLayout().value * minKy;\n\n      if (orient === 'vertical') {\n        node.setLayout({\n          x: i\n        }, true);\n        node.setLayout({\n          dx: nodeDy\n        }, true);\n      } else {\n        node.setLayout({\n          y: i\n        }, true);\n        node.setLayout({\n          dy: nodeDy\n        }, true);\n      }\n    });\n  });\n  zrUtil.each(edges, function (edge) {\n    var edgeDy = +edge.getValue() * minKy;\n    edge.setLayout({\n      dy: edgeDy\n    }, true);\n  });\n}\n/**\n * Resolve the collision of initialized depth (y-position)\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the nodes x-position.\n * @param {number} nodeGap  the vertical distance between two nodes\n * @param {number} height  the whole height of the area to draw the view\n */\n\n\nfunction resolveCollisions(nodesByBreadth, nodeGap, height, width, orient) {\n  var keyAttr = orient === 'vertical' ? 'x' : 'y';\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    nodes.sort(function (a, b) {\n      return a.getLayout()[keyAttr] - b.getLayout()[keyAttr];\n    });\n    var nodeX;\n    var node;\n    var dy;\n    var y0 = 0;\n    var n = nodes.length;\n    var nodeDyAttr = orient === 'vertical' ? 'dx' : 'dy';\n\n    for (var i = 0; i < n; i++) {\n      node = nodes[i];\n      dy = y0 - node.getLayout()[keyAttr];\n\n      if (dy > 0) {\n        nodeX = node.getLayout()[keyAttr] + dy;\n        orient === 'vertical' ? node.setLayout({\n          x: nodeX\n        }, true) : node.setLayout({\n          y: nodeX\n        }, true);\n      }\n\n      y0 = node.getLayout()[keyAttr] + node.getLayout()[nodeDyAttr] + nodeGap;\n    }\n\n    var viewWidth = orient === 'vertical' ? width : height; // If the bottommost node goes outside the bounds, push it back up\n\n    dy = y0 - nodeGap - viewWidth;\n\n    if (dy > 0) {\n      nodeX = node.getLayout()[keyAttr] - dy;\n      orient === 'vertical' ? node.setLayout({\n        x: nodeX\n      }, true) : node.setLayout({\n        y: nodeX\n      }, true);\n      y0 = nodeX;\n\n      for (i = n - 2; i >= 0; --i) {\n        node = nodes[i];\n        dy = node.getLayout()[keyAttr] + node.getLayout()[nodeDyAttr] + nodeGap - y0;\n\n        if (dy > 0) {\n          nodeX = node.getLayout()[keyAttr] - dy;\n          orient === 'vertical' ? node.setLayout({\n            x: nodeX\n          }, true) : node.setLayout({\n            y: nodeX\n          }, true);\n        }\n\n        y0 = node.getLayout()[keyAttr];\n      }\n    }\n  });\n}\n/**\n * Change the y-position of the nodes, except most the right side nodes\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the node x-position.\n * @param {number} alpha  parameter used to adjust the nodes y-position\n */\n\n\nfunction relaxRightToLeft(nodesByBreadth, alpha, orient) {\n  zrUtil.each(nodesByBreadth.slice().reverse(), function (nodes) {\n    zrUtil.each(nodes, function (node) {\n      if (node.outEdges.length) {\n        var y = sum(node.outEdges, weightedTarget, orient) / sum(node.outEdges, getEdgeValue, orient);\n\n        if (isNaN(y)) {\n          var len = node.outEdges.length;\n          y = len ? sum(node.outEdges, centerTarget, orient) / len : 0;\n        }\n\n        if (orient === 'vertical') {\n          var nodeX = node.getLayout().x + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            x: nodeX\n          }, true);\n        } else {\n          var nodeY = node.getLayout().y + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            y: nodeY\n          }, true);\n        }\n      }\n    });\n  });\n}\n\nfunction weightedTarget(edge, orient) {\n  return center(edge.node2, orient) * edge.getValue();\n}\n\nfunction centerTarget(edge, orient) {\n  return center(edge.node2, orient);\n}\n\nfunction weightedSource(edge, orient) {\n  return center(edge.node1, orient) * edge.getValue();\n}\n\nfunction centerSource(edge, orient) {\n  return center(edge.node1, orient);\n}\n\nfunction center(node, orient) {\n  return orient === 'vertical' ? node.getLayout().x + node.getLayout().dx / 2 : node.getLayout().y + node.getLayout().dy / 2;\n}\n\nfunction getEdgeValue(edge) {\n  return edge.getValue();\n}\n\nfunction sum(array, cb, orient) {\n  var sum = 0;\n  var len = array.length;\n  var i = -1;\n\n  while (++i < len) {\n    var value = +cb.call(array, array[i], orient);\n\n    if (!isNaN(value)) {\n      sum += value;\n    }\n  }\n\n  return sum;\n}\n/**\n * Change the y-position of the nodes, except most the left side nodes\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the node x-position.\n * @param {number} alpha  parameter used to adjust the nodes y-position\n */\n\n\nfunction relaxLeftToRight(nodesByBreadth, alpha, orient) {\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    zrUtil.each(nodes, function (node) {\n      if (node.inEdges.length) {\n        var y = sum(node.inEdges, weightedSource, orient) / sum(node.inEdges, getEdgeValue, orient);\n\n        if (isNaN(y)) {\n          var len = node.inEdges.length;\n          y = len ? sum(node.inEdges, centerSource, orient) / len : 0;\n        }\n\n        if (orient === 'vertical') {\n          var nodeX = node.getLayout().x + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            x: nodeX\n          }, true);\n        } else {\n          var nodeY = node.getLayout().y + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            y: nodeY\n          }, true);\n        }\n      }\n    });\n  });\n}\n/**\n * Compute the depth(y-position) of each edge\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n */\n\n\nfunction computeEdgeDepths(nodes, orient) {\n  var keyAttr = orient === 'vertical' ? 'x' : 'y';\n  zrUtil.each(nodes, function (node) {\n    node.outEdges.sort(function (a, b) {\n      return a.node2.getLayout()[keyAttr] - b.node2.getLayout()[keyAttr];\n    });\n    node.inEdges.sort(function (a, b) {\n      return a.node1.getLayout()[keyAttr] - b.node1.getLayout()[keyAttr];\n    });\n  });\n  zrUtil.each(nodes, function (node) {\n    var sy = 0;\n    var ty = 0;\n    zrUtil.each(node.outEdges, function (edge) {\n      edge.setLayout({\n        sy: sy\n      }, true);\n      sy += edge.getLayout().dy;\n    });\n    zrUtil.each(node.inEdges, function (edge) {\n      edge.setLayout({\n        ty: ty\n      }, true);\n      ty += edge.getLayout().dy;\n    });\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Text = require(\"zrender/lib/graphic/Text\");\n\nvar graphicUtil = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import Group from 'zrender/src/container/Group';\nfunction makeStyleCoord(out, zr, zrX, zrY) {\n  out[0] = zrX;\n  out[1] = zrY;\n  out[2] = out[0] / zr.getWidth(); // The ratio of left to width\n\n  out[3] = out[1] / zr.getHeight(); // The ratio of top to height\n}\n/**\n * @alias module:echarts/component/tooltip/TooltipRichContent\n * @constructor\n */\n\n\nfunction TooltipRichContent(api) {\n  var zr = this._zr = api.getZr();\n  this._styleCoord = [0, 0, 0, 0]; // [left, top, left/width, top/height]\n\n  makeStyleCoord(this._styleCoord, zr, api.getWidth() / 2, api.getHeight() / 2);\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout;\n}\n\nTooltipRichContent.prototype = {\n  constructor: TooltipRichContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function (tooltipModel) {\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveTooltipIfResized();\n  },\n\n  /**\n   * when `alwaysShowContent` is true,\n   * we should move the tooltip after chart resized\n   */\n  _moveTooltipIfResized: function () {\n    var ratioX = this._styleCoord[2]; // The ratio of left to width\n\n    var ratioY = this._styleCoord[3]; // The ratio of top to height\n\n    var realX = ratioX * this._zr.getWidth();\n\n    var realY = ratioY * this._zr.getHeight();\n\n    this.moveTo(realX, realY);\n  },\n  show: function (tooltipModel) {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n\n    this.el.attr('show', true);\n    this._show = true;\n  },\n\n  /**\n   * Set tooltip content\n   *\n   * @param {string} content rich text string of content\n   * @param {Object} markerRich rich text style\n   * @param {Object} tooltipModel tooltip model\n   */\n  setContent: function (content, markerRich, tooltipModel) {\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n\n    var markers = {};\n    var text = content;\n    var prefix = '{marker';\n    var suffix = '|}';\n    var startId = text.indexOf(prefix);\n\n    while (startId >= 0) {\n      var endId = text.indexOf(suffix);\n      var name = text.substr(startId + prefix.length, endId - startId - prefix.length);\n\n      if (name.indexOf('sub') > -1) {\n        markers['marker' + name] = {\n          textWidth: 4,\n          textHeight: 4,\n          textBorderRadius: 2,\n          textBackgroundColor: markerRich[name],\n          // TODO: textOffset is not implemented for rich text\n          textOffset: [3, 0]\n        };\n      } else {\n        markers['marker' + name] = {\n          textWidth: 10,\n          textHeight: 10,\n          textBorderRadius: 5,\n          textBackgroundColor: markerRich[name]\n        };\n      }\n\n      text = text.substr(endId + 1);\n      startId = text.indexOf('{marker');\n    }\n\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    var fontSize = textStyleModel.get('fontSize');\n    var lineHeight = tooltipModel.get('textLineHeight');\n\n    if (lineHeight == null) {\n      lineHeight = Math.round(fontSize * 3 / 2);\n    }\n\n    this.el = new Text({\n      style: graphicUtil.setTextStyle({}, textStyleModel, {\n        rich: markers,\n        text: content,\n        textBackgroundColor: tooltipModel.get('backgroundColor'),\n        textBorderRadius: tooltipModel.get('borderRadius'),\n        textFill: tooltipModel.get('textStyle.color'),\n        textPadding: tooltipModel.get('padding'),\n        textLineHeight: lineHeight\n      }),\n      z: tooltipModel.get('z')\n    });\n\n    this._zr.add(this.el);\n\n    var self = this;\n    this.el.on('mouseover', function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    });\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var bounding = this.el.getBoundingRect();\n    return [bounding.width, bounding.height];\n  },\n  moveTo: function (x, y) {\n    if (this.el) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, x, y);\n      this.el.attr('position', [styleCoord[0], styleCoord[1]]);\n    }\n  },\n  hide: function () {\n    if (this.el) {\n      this.el.hide();\n    }\n\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  },\n  dispose: function () {\n    clearTimeout(this._hideTimeout);\n\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n  },\n  getOuterSize: function () {\n    var size = this.getSize();\n    return {\n      width: size[0],\n      height: size[1]\n    };\n  }\n};\nvar _default = TooltipRichContent;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar List = require(\"../../data/List\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _model = require(\"../../util/model\");\n\nvar defaultEmphasis = _model.defaultEmphasis;\n\nvar Model = require(\"../../model/Model\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\nvar createGraphFromNodeEdge = require(\"../helper/createGraphFromNodeEdge\");\n\nvar LegendVisualProvider = require(\"../../visual/LegendVisualProvider\");\n\nvar _multipleGraphEdgeHelper = require(\"../helper/multipleGraphEdgeHelper\");\n\nvar initCurvenessList = _multipleGraphEdgeHelper.initCurvenessList;\nvar createEdgeMapForCurveness = _multipleGraphEdgeHelper.createEdgeMapForCurveness;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar GraphSeries = echarts.extendSeriesModel({\n  type: 'series.graph',\n  init: function (option) {\n    GraphSeries.superApply(this, 'init', arguments);\n    var self = this;\n\n    function getCategoriesData() {\n      return self._categoriesData;\n    } // Provide data for legend select\n\n\n    this.legendVisualProvider = new LegendVisualProvider(getCategoriesData, getCategoriesData);\n    this.fillDataTextStyle(option.edges || option.links);\n\n    this._updateCategoriesData();\n  },\n  mergeOption: function (option) {\n    GraphSeries.superApply(this, 'mergeOption', arguments);\n    this.fillDataTextStyle(option.edges || option.links);\n\n    this._updateCategoriesData();\n  },\n  mergeDefaultAndTheme: function (option) {\n    GraphSeries.superApply(this, 'mergeDefaultAndTheme', arguments);\n    defaultEmphasis(option, ['edgeLabel'], ['show']);\n  },\n  getInitialData: function (option, ecModel) {\n    var edges = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    var self = this;\n\n    if (nodes && edges) {\n      // auto curveness\n      initCurvenessList(this);\n      var graph = createGraphFromNodeEdge(nodes, edges, this, true, beforeLink);\n      zrUtil.each(graph.edges, function (edge) {\n        createEdgeMapForCurveness(edge.node1, edge.node2, this, edge.dataIndex);\n      }, this);\n      return graph.data;\n    }\n\n    function beforeLink(nodeData, edgeData) {\n      // Overwrite nodeData.getItemModel to\n      nodeData.wrapMethod('getItemModel', function (model) {\n        var categoriesModels = self._categoriesModels;\n        var categoryIdx = model.getShallow('category');\n        var categoryModel = categoriesModels[categoryIdx];\n\n        if (categoryModel) {\n          categoryModel.parentModel = model.parentModel;\n          model.parentModel = categoryModel;\n        }\n\n        return model;\n      });\n      var edgeLabelModel = self.getModel('edgeLabel'); // For option `edgeLabel` can be found by label.xxx.xxx on item mode.\n\n      var fakeSeriesModel = new Model({\n        label: edgeLabelModel.option\n      }, edgeLabelModel.parentModel, ecModel);\n      var emphasisEdgeLabelModel = self.getModel('emphasis.edgeLabel');\n      var emphasisFakeSeriesModel = new Model({\n        emphasis: {\n          label: emphasisEdgeLabelModel.option\n        }\n      }, emphasisEdgeLabelModel.parentModel, ecModel);\n      edgeData.wrapMethod('getItemModel', function (model) {\n        model.customizeGetParent(edgeGetParent);\n        return model;\n      });\n\n      function edgeGetParent(path) {\n        path = this.parsePath(path);\n        return path && path[0] === 'label' ? fakeSeriesModel : path && path[0] === 'emphasis' && path[1] === 'label' ? emphasisFakeSeriesModel : this.parentModel;\n      }\n    }\n  },\n\n  /**\n   * @return {module:echarts/data/Graph}\n   */\n  getGraph: function () {\n    return this.getData().graph;\n  },\n\n  /**\n   * @return {module:echarts/data/List}\n   */\n  getEdgeData: function () {\n    return this.getGraph().edgeData;\n  },\n\n  /**\n   * @return {module:echarts/data/List}\n   */\n  getCategoriesData: function () {\n    return this._categoriesData;\n  },\n\n  /**\n   * @override\n   */\n  formatTooltip: function (dataIndex, multipleSeries, dataType) {\n    if (dataType === 'edge') {\n      var nodeData = this.getData();\n      var params = this.getDataParams(dataIndex, dataType);\n      var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n      var sourceName = nodeData.getName(edge.node1.dataIndex);\n      var targetName = nodeData.getName(edge.node2.dataIndex);\n      var html = [];\n      sourceName != null && html.push(sourceName);\n      targetName != null && html.push(targetName);\n      html = encodeHTML(html.join(' > '));\n\n      if (params.value) {\n        html += ' : ' + encodeHTML(params.value);\n      }\n\n      return html;\n    } else {\n      // dataType === 'node' or empty\n      return GraphSeries.superApply(this, 'formatTooltip', arguments);\n    }\n  },\n  _updateCategoriesData: function () {\n    var categories = zrUtil.map(this.option.categories || [], function (category) {\n      // Data must has value\n      return category.value != null ? category : zrUtil.extend({\n        value: 0\n      }, category);\n    });\n    var categoriesData = new List(['value'], this);\n    categoriesData.initData(categories);\n    this._categoriesData = categoriesData;\n    this._categoriesModels = categoriesData.mapArray(function (idx) {\n      return categoriesData.getItemModel(idx, true);\n    });\n  },\n  setZoom: function (zoom) {\n    this.option.zoom = zoom;\n  },\n  setCenter: function (center) {\n    this.option.center = center;\n  },\n  isAnimationEnabled: function () {\n    return GraphSeries.superCall(this, 'isAnimationEnabled') // Not enable animation when do force layout\n    && !(this.get('layout') === 'force' && this.get('force.layoutAnimation'));\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // Default option for all coordinate systems\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // geoIndex: 0,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    layout: null,\n    focusNodeAdjacency: false,\n    // Configuration of circular layout\n    circular: {\n      rotateLabel: false\n    },\n    // Configuration of force directed layout\n    force: {\n      initLayout: null,\n      // Node repulsion. Can be an array to represent range.\n      repulsion: [0, 50],\n      gravity: 0.1,\n      // Initial friction\n      friction: 0.6,\n      // Edge length. Can be an array to represent range.\n      edgeLength: 30,\n      layoutAnimation: true\n    },\n    left: 'center',\n    top: 'center',\n    // right: null,\n    // bottom: null,\n    // width: '80%',\n    // height: '80%',\n    symbol: 'circle',\n    symbolSize: 10,\n    edgeSymbol: ['none', 'none'],\n    edgeSymbolSize: 10,\n    edgeLabel: {\n      position: 'middle',\n      distance: 5\n    },\n    draggable: false,\n    roam: false,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.6,\n    // cursor: null,\n    // categories: [],\n    // data: []\n    // Or\n    // nodes: []\n    //\n    // links: []\n    // Or\n    // edges: []\n    label: {\n      show: false,\n      formatter: '{b}'\n    },\n    itemStyle: {},\n    lineStyle: {\n      color: '#aaa',\n      width: 1,\n      opacity: 0.5\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  }\n});\nvar _default = GraphSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\nvar createRenderPlanner = require(\"../chart/helper/createRenderPlanner\");\n\nvar _dataStackHelper = require(\"../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var isLargeRender = pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0]\n      /*, dims[1]*/\n      )) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1]\n      /*, dims[0]*/\n      )) {\n        dims[1] = stackResultDim;\n      }\n\n      function progress(params, data) {\n        var segCount = params.end - params.start;\n        var points = isLargeRender && new Float32Array(segCount * dimLen);\n\n        for (var i = params.start, offset = 0, tmpIn = [], tmpOut = []; i < params.end; i++) {\n          var point;\n\n          if (dimLen === 1) {\n            var x = data.get(dims[0], i);\n            point = !isNaN(x) && coordSys.dataToPoint(x, null, tmpOut);\n          } else {\n            var x = tmpIn[0] = data.get(dims[0], i);\n            var y = tmpIn[1] = data.get(dims[1], i); // Also {Array.<number>}, not undefined to avoid if...else... statement\n\n            point = !isNaN(x) && !isNaN(y) && coordSys.dataToPoint(tmpIn, null, tmpOut);\n          }\n\n          if (isLargeRender) {\n            points[offset++] = point ? point[0] : NaN;\n            points[offset++] = point ? point[1] : NaN;\n          } else {\n            data.setItemLayout(i, point && point.slice() || [NaN, NaN]);\n          }\n        }\n\n        isLargeRender && data.setLayout('symbolPoints', points);\n      }\n\n      return dimLen && {\n        progress: progress\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @payload\n * @property {string} parallelAxisId\n * @property {Array.<Array.<number>>} intervals\n */\nvar actionInfo = {\n  type: 'axisAreaSelect',\n  event: 'axisAreaSelected' // update: 'updateVisual'\n\n};\necharts.registerAction(actionInfo, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'parallelAxis',\n    query: payload\n  }, function (parallelAxisModel) {\n    parallelAxisModel.axis.model.setActiveIntervals(payload.intervals);\n  });\n});\n/**\n * @payload\n */\n\necharts.registerAction('parallelAxisExpand', function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'parallel',\n    query: payload\n  }, function (parallelModel) {\n    parallelModel.setAxisExpand(payload);\n  });\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Parallel = require(\"./Parallel\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Parallel coordinate system creater.\n */\nfunction create(ecModel, api) {\n  var coordSysList = [];\n  ecModel.eachComponent('parallel', function (parallelModel, idx) {\n    var coordSys = new Parallel(parallelModel, ecModel, api);\n    coordSys.name = 'parallel_' + idx;\n    coordSys.resize(parallelModel, api);\n    parallelModel.coordinateSystem = coordSys;\n    coordSys.model = parallelModel;\n    coordSysList.push(coordSys);\n  }); // Inject the coordinateSystems into seriesModel\n\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'parallel') {\n      var parallelModel = ecModel.queryComponents({\n        mainType: 'parallel',\n        index: seriesModel.get('parallelIndex'),\n        id: seriesModel.get('parallelId')\n      })[0];\n      seriesModel.coordinateSystem = parallelModel.coordinateSystem;\n    }\n  });\n  return coordSysList;\n}\n\nCoordinateSystem.register('parallel', {\n  create: create\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _model = require(\"../../util/model\");\n\nvar isNameSpecified = _model.isNameSpecified;\n\nvar lang = require(\"../../lang\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar langSelector = lang.legend.selector;\nvar defaultSelectorOption = {\n  all: {\n    type: 'all',\n    title: zrUtil.clone(langSelector.all)\n  },\n  inverse: {\n    type: 'inverse',\n    title: zrUtil.clone(langSelector.inverse)\n  }\n};\nvar LegendModel = echarts.extendComponentModel({\n  type: 'legend.plain',\n  dependencies: ['series'],\n  layoutMode: {\n    type: 'box',\n    // legend.width/height are maxWidth/maxHeight actually,\n    // whereas realy width/height is calculated by its content.\n    // (Setting {left: 10, right: 10} does not make sense).\n    // So consider the case:\n    // `setOption({legend: {left: 10});`\n    // then `setOption({legend: {right: 10});`\n    // The previous `left` should be cleared by setting `ignoreSize`.\n    ignoreSize: true\n  },\n  init: function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n\n    this._updateSelector(option);\n  },\n  mergeOption: function (option) {\n    LegendModel.superCall(this, 'mergeOption', option);\n\n    this._updateSelector(option);\n  },\n  _updateSelector: function (option) {\n    var selector = option.selector;\n\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, defaultSelectorOption[item.type]);\n      });\n    }\n  },\n  optionUpdated: function () {\n    this._updateData(this.ecModel);\n\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name = legendData[i].get('name');\n\n        if (this.isSelected(name)) {\n          // Force to unselect others\n          this.select(name);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  },\n  _updateData: function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n    // which is convinient for user preparing option.\n\n    var rawData = this.get('data') || potentialData;\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n        dataItem = {\n          name: dataItem\n        };\n      }\n\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._data = legendData;\n  },\n\n  /**\n   * @return {Array.<module:echarts/model/Model>}\n   */\n  getData: function () {\n    return this._data;\n  },\n\n  /**\n   * @param {string} name\n   */\n  select: function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n\n    selected[name] = true;\n  },\n\n  /**\n   * @param {string} name\n   */\n  unSelect: function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  },\n\n  /**\n   * @param {string} name\n   */\n  toggleSelected: function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  },\n  allSelect: function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  },\n  inverseSelect: function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true); // Initially, default value is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      selected[name] = !selected[name];\n    });\n  },\n\n  /**\n   * @param {string} name\n   */\n  isSelected: function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  },\n  getOrient: function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  },\n  defaultOption: {\n    // \n    zlevel: 0,\n    // \n    z: 4,\n    show: true,\n    // \n    // 'horizontal' | 'vertical'\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    // \n    // 'auto' | 'left' | 'right'\n    //  'auto',  x \n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    // \n    borderColor: '#ccc',\n    borderRadius: 0,\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // itempx10\n    // \n    itemGap: 10,\n    // the width of legend symbol\n    itemWidth: 25,\n    // the height of legend symbol\n    itemHeight: 14,\n    // the color of unselected legend symbol\n    inactiveColor: '#ccc',\n    // the borderColor of unselected legend symbol\n    inactiveBorderColor: '#ccc',\n    itemStyle: {\n      // the default borderWidth of legend symbol\n      borderWidth: 0\n    },\n    textStyle: {\n      // \n      color: '#333'\n    },\n    // formatter: '',\n    // \n    selectedMode: true,\n    // LEGEND.SELECTED\n    // selected: null,\n    // legend.dataitem\n    // data: [],\n    // Usage:\n    // selector: [{type: 'all or inverse', title: xxx}]\n    // or\n    // selector: true\n    // or\n    // selector: ['all', 'inverse']\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: ' sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    // Value can be 'start' or 'end'\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    // Tooltip \n    tooltip: {\n      show: false\n    }\n  }\n});\nvar _default = LegendModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('radar', function (seriesModel) {\n    var data = seriesModel.getData();\n    var points = [];\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (!coordSys) {\n      return;\n    }\n\n    var axes = coordSys.getIndicatorAxes();\n    zrUtil.each(axes, function (axis, axisIndex) {\n      data.each(data.mapDimension(axes[axisIndex].dim), function (val, dataIndex) {\n        points[dataIndex] = points[dataIndex] || [];\n        var point = coordSys.dataToPoint(val, axisIndex);\n        points[dataIndex][axisIndex] = isValidPoint(point) ? point : getValueMissingPoint(coordSys);\n      });\n    }); // Close polygon\n\n    data.each(function (idx) {\n      // TODO\n      // Is it appropriate to connect to the next data when some data is missing?\n      // Or, should trade it like `connectNull` in line chart?\n      var firstPoint = zrUtil.find(points[idx], function (point) {\n        return isValidPoint(point);\n      }) || getValueMissingPoint(coordSys); // Copy the first actual point to the end of the array\n\n      points[idx].push(firstPoint.slice());\n      data.setItemLayout(idx, points[idx]);\n    });\n  });\n}\n\nfunction isValidPoint(point) {\n  return !isNaN(point[0]) && !isNaN(point[1]);\n}\n\nfunction getValueMissingPoint(coordSys) {\n  // It is error-prone to input [NaN, NaN] into polygon, polygon.\n  // (probably cause problem when refreshing or animating)\n  return [coordSys.cx, coordSys.cy];\n}\n\nmodule.exports = _default;","var svgURI = 'http://www.w3.org/2000/svg';\n\nfunction createElement(name) {\n  return document.createElementNS(svgURI, name);\n}\n\nexports.createElement = createElement;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'marker',\n  init: function () {\n    /**\n     * Markline grouped by series\n     * @private\n     * @type {module:zrender/core/util.HashMap}\n     */\n    this.markerGroupMap = zrUtil.createHashMap();\n  },\n  render: function (markerModel, ecModel, api) {\n    var markerGroupMap = this.markerGroupMap;\n    markerGroupMap.each(function (item) {\n      item.__keep = false;\n    });\n    var markerModelKey = this.type + 'Model';\n    ecModel.eachSeries(function (seriesModel) {\n      var markerModel = seriesModel[markerModelKey];\n      markerModel && this.renderSeries(seriesModel, markerModel, ecModel, api);\n    }, this);\n    markerGroupMap.each(function (item) {\n      !item.__keep && this.group.remove(item.group);\n    }, this);\n  },\n  renderSeries: function () {}\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"../component/radar\");\n\nrequire(\"./radar/RadarSeries\");\n\nrequire(\"./radar/RadarView\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar radarLayout = require(\"./radar/radarLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\nvar backwardCompat = require(\"./radar/backwardCompat\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Must use radar component\necharts.registerVisual(dataColor('radar'));\necharts.registerVisual(visualSymbol('radar', 'circle'));\necharts.registerLayout(radarLayout);\necharts.registerProcessor(dataFilter('radar'));\necharts.registerPreprocessor(backwardCompat);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar colorUtil = require(\"zrender/lib/tool/color\");\n\nvar List = require(\"../../data/List\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar markerHelper = require(\"./markerHelper\");\n\nvar MarkerView = require(\"./MarkerView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Better on polar\nvar markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n  var lt = markerHelper.dataTransform(seriesModel, item[0]);\n  var rb = markerHelper.dataTransform(seriesModel, item[1]);\n  var retrieve = zrUtil.retrieve; // FIXME make sure lt is less than rb\n\n  var ltCoord = lt.coord;\n  var rbCoord = rb.coord;\n  ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n  ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n  rbCoord[0] = retrieve(rbCoord[0], Infinity);\n  rbCoord[1] = retrieve(rbCoord[1], Infinity); // Merge option into one\n\n  var result = zrUtil.mergeAll([{}, lt, rb]);\n  result.coord = [lt.coord, rb.coord];\n  result.x0 = lt.x;\n  result.y0 = lt.y;\n  result.x1 = rb.x;\n  result.y1 = rb.y;\n  return result;\n};\n\nfunction isInifinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markArea has one dim\n\n\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]);\n}\n\nfunction markAreaFilter(coordSys, item) {\n  var fromCoord = item.coord[0];\n  var toCoord = item.coord[1];\n\n  if (coordSys.type === 'cartesian2d') {\n    // In case\n    // {\n    //  markArea: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n\n  return markerHelper.dataFilter(coordSys, {\n    coord: fromCoord,\n    x: item.x0,\n    y: item.y0\n  }) || markerHelper.dataFilter(coordSys, {\n    coord: toCoord,\n    x: item.x1,\n    y: item.y1\n  });\n} // dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\n\n\nfunction getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get(dims[0]), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get(dims[1]), api.getHeight());\n\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPoisition\n      point = seriesModel.getMarkerPosition(data.getValues(dims, idx));\n    } else {\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      var pt = [x, y];\n      coordSys.clampData && coordSys.clampData(pt, pt);\n      point = coordSys.dataToPoint(pt, true);\n    }\n\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n\n      if (isInifinity(x)) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n      } else if (isInifinity(y)) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n\n  return point;\n}\n\nvar dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\nMarkerView.extend({\n  type: 'markArea',\n  // updateLayout: function (markAreaModel, ecModel, api) {\n  //     ecModel.eachSeries(function (seriesModel) {\n  //         var maModel = seriesModel.markAreaModel;\n  //         if (maModel) {\n  //             var areaData = maModel.getData();\n  //             areaData.each(function (idx) {\n  //                 var points = zrUtil.map(dimPermutations, function (dim) {\n  //                     return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n  //                 });\n  //                 // Layout\n  //                 areaData.setItemLayout(idx, points);\n  //                 var el = areaData.getItemGraphicEl(idx);\n  //                 el.setShape('points', points);\n  //             });\n  //         }\n  //     }, this);\n  // },\n  updateTransform: function (markAreaModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var maModel = seriesModel.markAreaModel;\n\n      if (maModel) {\n        var areaData = maModel.getData();\n        areaData.each(function (idx) {\n          var points = zrUtil.map(dimPermutations, function (dim) {\n            return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n          }); // Layout\n\n          areaData.setItemLayout(idx, points);\n          var el = areaData.getItemGraphicEl(idx);\n          el.setShape('points', points);\n        });\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, maModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var areaGroupMap = this.markerGroupMap;\n    var polygonGroup = areaGroupMap.get(seriesId) || areaGroupMap.set(seriesId, {\n      group: new graphic.Group()\n    });\n    this.group.add(polygonGroup.group);\n    polygonGroup.__keep = true;\n    var areaData = createList(coordSys, seriesModel, maModel); // Line data for tooltip and formatter\n\n    maModel.setData(areaData); // Update visual and layout of line\n\n    areaData.each(function (idx) {\n      // Layout\n      var points = zrUtil.map(dimPermutations, function (dim) {\n        return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n      }); // If none of the area is inside coordSys, allClipped is set to be true\n      // in layout so that label will not be displayed. See #12591\n\n      var allClipped = true;\n      zrUtil.each(dimPermutations, function (dim) {\n        if (!allClipped) {\n          return;\n        }\n\n        var xValue = areaData.get(dim[0], idx);\n        var yValue = areaData.get(dim[1], idx); // If is infinity, the axis should be considered not clipped\n\n        if ((isInifinity(xValue) || coordSys.getAxis('x').containData(xValue)) && (isInifinity(yValue) || coordSys.getAxis('y').containData(yValue))) {\n          allClipped = false;\n        }\n      });\n      areaData.setItemLayout(idx, {\n        points: points,\n        allClipped: allClipped\n      }); // Visual\n\n      areaData.setItemVisual(idx, {\n        color: seriesData.getVisual('color')\n      });\n    });\n    areaData.diff(polygonGroup.__data).add(function (idx) {\n      var layout = areaData.getItemLayout(idx);\n\n      if (!layout.allClipped) {\n        var polygon = new graphic.Polygon({\n          shape: {\n            points: layout.points\n          }\n        });\n        areaData.setItemGraphicEl(idx, polygon);\n        polygonGroup.group.add(polygon);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var polygon = polygonGroup.__data.getItemGraphicEl(oldIdx);\n\n      var layout = areaData.getItemLayout(newIdx);\n\n      if (!layout.allClipped) {\n        if (polygon) {\n          graphic.updateProps(polygon, {\n            shape: {\n              points: layout.points\n            }\n          }, maModel, newIdx);\n        } else {\n          polygon = new graphic.Polygon({\n            shape: {\n              points: layout.points\n            }\n          });\n        }\n\n        areaData.setItemGraphicEl(newIdx, polygon);\n        polygonGroup.group.add(polygon);\n      } else if (polygon) {\n        polygonGroup.group.remove(polygon);\n      }\n    }).remove(function (idx) {\n      var polygon = polygonGroup.__data.getItemGraphicEl(idx);\n\n      polygonGroup.group.remove(polygon);\n    }).execute();\n    areaData.eachItemGraphicEl(function (polygon, idx) {\n      var itemModel = areaData.getItemModel(idx);\n      var labelModel = itemModel.getModel('label');\n      var labelHoverModel = itemModel.getModel('emphasis.label');\n      var color = areaData.getItemVisual(idx, 'color');\n      polygon.useStyle(zrUtil.defaults(itemModel.getModel('itemStyle').getItemStyle(), {\n        fill: colorUtil.modifyAlpha(color, 0.4),\n        stroke: color\n      }));\n      polygon.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n      graphic.setLabelStyle(polygon.style, polygon.hoverStyle, labelModel, labelHoverModel, {\n        labelFetcher: maModel,\n        labelDataIndex: idx,\n        defaultText: areaData.getName(idx) || '',\n        isRectText: true,\n        autoColor: color\n      });\n      graphic.setHoverStyle(polygon, {});\n      polygon.dataModel = maModel;\n    });\n    polygonGroup.__data = areaData;\n    polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} coordSys\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\nfunction createList(coordSys, seriesModel, maModel) {\n  var coordDimsInfos;\n  var areaData;\n  var dims = ['x0', 'y0', 'x1', 'y1'];\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var data = seriesModel.getData();\n      var info = data.getDimensionInfo(data.mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      return zrUtil.defaults({\n        name: coordDim\n      }, info);\n    });\n    areaData = new List(zrUtil.map(dims, function (dim, idx) {\n      return {\n        name: dim,\n        type: coordDimsInfos[idx % 2].type\n      };\n    }), maModel);\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n    areaData = new List(coordDimsInfos, maModel);\n  }\n\n  var optData = zrUtil.map(maModel.get('data'), zrUtil.curry(markAreaTransform, seriesModel, coordSys, maModel));\n\n  if (coordSys) {\n    optData = zrUtil.filter(optData, zrUtil.curry(markAreaFilter, coordSys));\n  }\n\n  var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n    return item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n  } : function (item) {\n    return item.value;\n  };\n  areaData.initData(optData, null, dimValueGetter);\n  areaData.hasItemOption = true;\n  return areaData;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar featureManager = require(\"./featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ToolboxModel = echarts.extendComponentModel({\n  type: 'toolbox',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  optionUpdated: function () {\n    ToolboxModel.superApply(this, 'optionUpdated', arguments);\n    zrUtil.each(this.option.feature, function (featureOpt, featureName) {\n      var Feature = featureManager.get(featureName);\n      Feature && zrUtil.merge(featureOpt, Feature.defaultOption);\n    });\n  },\n  defaultOption: {\n    show: true,\n    z: 6,\n    zlevel: 0,\n    orient: 'horizontal',\n    left: 'right',\n    top: 'top',\n    // right\n    // bottom\n    backgroundColor: 'transparent',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemSize: 15,\n    itemGap: 8,\n    showTitle: true,\n    iconStyle: {\n      borderColor: '#666',\n      color: 'none'\n    },\n    emphasis: {\n      iconStyle: {\n        borderColor: '#3E98C5'\n      }\n    },\n    // textStyle: {},\n    // feature\n    tooltip: {\n      show: false\n    }\n  }\n});\nvar _default = ToolboxModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./AxisModel\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Grid \n//  Cartesian2D \nvar _default = ComponentModel.extend({\n  type: 'grid',\n  dependencies: ['xAxis', 'yAxis'],\n  layoutMode: 'box',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Grid}\n   */\n  coordinateSystem: null,\n  defaultOption: {\n    show: false,\n    zlevel: 0,\n    z: 0,\n    left: '10%',\n    top: 60,\n    right: '10%',\n    bottom: 60,\n    // If grid size contain label\n    containLabel: false,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderWidth: 1,\n    borderColor: '#ccc'\n  }\n});\n\nmodule.exports = _default;","require(\"./graphic\");\n\nvar _zrender = require(\"../zrender\");\n\nvar registerPainter = _zrender.registerPainter;\n\nvar Painter = require(\"./Painter\");\n\nregisterPainter('svg', Painter);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"../coord/calendar/Calendar\");\n\nrequire(\"../coord/calendar/CalendarModel\");\n\nrequire(\"./calendar/CalendarView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar zrColor = require(\"zrender/lib/tool/color\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar isArray = zrUtil.isArray;\nvar ITEM_STYLE_NORMAL = 'itemStyle';\nvar _default = {\n  seriesType: 'treemap',\n  reset: function (seriesModel, ecModel, api, payload) {\n    var tree = seriesModel.getData().tree;\n    var root = tree.root;\n\n    if (root.isRemoved()) {\n      return;\n    }\n\n    travelTree(root, // Visual should calculate from tree root but not view root.\n    {}, seriesModel.getViewRoot().getAncestors(), seriesModel);\n  }\n};\n\nfunction travelTree(node, designatedVisual, viewRootAncestors, seriesModel) {\n  var nodeModel = node.getModel();\n  var nodeLayout = node.getLayout(); // Optimize\n\n  if (!nodeLayout || nodeLayout.invisible || !nodeLayout.isInView) {\n    return;\n  }\n\n  var nodeItemStyleModel = node.getModel(ITEM_STYLE_NORMAL);\n  var visuals = buildVisuals(nodeItemStyleModel, designatedVisual, seriesModel); // calculate border color\n\n  var borderColor = nodeItemStyleModel.get('borderColor');\n  var borderColorSaturation = nodeItemStyleModel.get('borderColorSaturation');\n  var thisNodeColor;\n\n  if (borderColorSaturation != null) {\n    // For performance, do not always execute 'calculateColor'.\n    thisNodeColor = calculateColor(visuals, node);\n    borderColor = calculateBorderColor(borderColorSaturation, thisNodeColor);\n  }\n\n  node.setVisual('borderColor', borderColor);\n  var viewChildren = node.viewChildren;\n\n  if (!viewChildren || !viewChildren.length) {\n    thisNodeColor = calculateColor(visuals, node); // Apply visual to this node.\n\n    node.setVisual('color', thisNodeColor);\n  } else {\n    var mapping = buildVisualMapping(node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren); // Designate visual to children.\n\n    zrUtil.each(viewChildren, function (child, index) {\n      // If higher than viewRoot, only ancestors of viewRoot is needed to visit.\n      if (child.depth >= viewRootAncestors.length || child === viewRootAncestors[child.depth]) {\n        var childVisual = mapVisual(nodeModel, visuals, child, index, mapping, seriesModel);\n        travelTree(child, childVisual, viewRootAncestors, seriesModel);\n      }\n    });\n  }\n}\n\nfunction buildVisuals(nodeItemStyleModel, designatedVisual, seriesModel) {\n  var visuals = zrUtil.extend({}, designatedVisual);\n  var designatedVisualItemStyle = seriesModel.designatedVisualItemStyle;\n  zrUtil.each(['color', 'colorAlpha', 'colorSaturation'], function (visualName) {\n    // Priority: thisNode > thisLevel > parentNodeDesignated > seriesModel\n    designatedVisualItemStyle[visualName] = designatedVisual[visualName];\n    var val = nodeItemStyleModel.get(visualName);\n    designatedVisualItemStyle[visualName] = null;\n    val != null && (visuals[visualName] = val);\n  });\n  return visuals;\n}\n\nfunction calculateColor(visuals) {\n  var color = getValueVisualDefine(visuals, 'color');\n\n  if (color) {\n    var colorAlpha = getValueVisualDefine(visuals, 'colorAlpha');\n    var colorSaturation = getValueVisualDefine(visuals, 'colorSaturation');\n\n    if (colorSaturation) {\n      color = zrColor.modifyHSL(color, null, null, colorSaturation);\n    }\n\n    if (colorAlpha) {\n      color = zrColor.modifyAlpha(color, colorAlpha);\n    }\n\n    return color;\n  }\n}\n\nfunction calculateBorderColor(borderColorSaturation, thisNodeColor) {\n  return thisNodeColor != null ? zrColor.modifyHSL(thisNodeColor, null, null, borderColorSaturation) : null;\n}\n\nfunction getValueVisualDefine(visuals, name) {\n  var value = visuals[name];\n\n  if (value != null && value !== 'none') {\n    return value;\n  }\n}\n\nfunction buildVisualMapping(node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren) {\n  if (!viewChildren || !viewChildren.length) {\n    return;\n  }\n\n  var rangeVisual = getRangeVisual(nodeModel, 'color') || visuals.color != null && visuals.color !== 'none' && (getRangeVisual(nodeModel, 'colorAlpha') || getRangeVisual(nodeModel, 'colorSaturation'));\n\n  if (!rangeVisual) {\n    return;\n  }\n\n  var visualMin = nodeModel.get('visualMin');\n  var visualMax = nodeModel.get('visualMax');\n  var dataExtent = nodeLayout.dataExtent.slice();\n  visualMin != null && visualMin < dataExtent[0] && (dataExtent[0] = visualMin);\n  visualMax != null && visualMax > dataExtent[1] && (dataExtent[1] = visualMax);\n  var colorMappingBy = nodeModel.get('colorMappingBy');\n  var opt = {\n    type: rangeVisual.name,\n    dataExtent: dataExtent,\n    visual: rangeVisual.range\n  };\n\n  if (opt.type === 'color' && (colorMappingBy === 'index' || colorMappingBy === 'id')) {\n    opt.mappingMethod = 'category';\n    opt.loop = true; // categories is ordinal, so do not set opt.categories.\n  } else {\n    opt.mappingMethod = 'linear';\n  }\n\n  var mapping = new VisualMapping(opt);\n  mapping.__drColorMappingBy = colorMappingBy;\n  return mapping;\n} // Notice: If we dont have the attribute 'colorRange', but only use\n// attribute 'color' to represent both concepts of 'colorRange' and 'color',\n// (It means 'colorRange' when 'color' is Array, means 'color' when not array),\n// this problem will be encountered:\n// If a level-1 node dont have children, and its siblings has children,\n// and colorRange is set on level-1, then the node can not be colored.\n// So we separate 'colorRange' and 'color' to different attributes.\n\n\nfunction getRangeVisual(nodeModel, name) {\n  // 'colorRange', 'colorARange', 'colorSRange'.\n  // If not exsits on this node, fetch from levels and series.\n  var range = nodeModel.get(name);\n  return isArray(range) && range.length ? {\n    name: name,\n    range: range\n  } : null;\n}\n\nfunction mapVisual(nodeModel, visuals, child, index, mapping, seriesModel) {\n  var childVisuals = zrUtil.extend({}, visuals);\n\n  if (mapping) {\n    var mappingType = mapping.type;\n    var colorMappingBy = mappingType === 'color' && mapping.__drColorMappingBy;\n    var value = colorMappingBy === 'index' ? index : colorMappingBy === 'id' ? seriesModel.mapIdToIndex(child.getId()) : child.getValue(nodeModel.get('visualDimension'));\n    childVisuals[mappingType] = mapping.mapValueToVisual(value);\n  }\n\n  return childVisuals;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar indexOf = zrUtil.indexOf;\n\nfunction hasXOrY(item) {\n  return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n}\n\nfunction hasXAndY(item) {\n  return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n} // Make it simple, do not visit all stacked value to count precision.\n// function getPrecision(data, valueAxisDim, dataIndex) {\n//     var precision = -1;\n//     var stackedDim = data.mapDimension(valueAxisDim);\n//     do {\n//         precision = Math.max(\n//             numberUtil.getPrecision(data.get(stackedDim, dataIndex)),\n//             precision\n//         );\n//         var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n//         if (stackedOnSeries) {\n//             var byValue = data.get(data.getCalculationInfo('stackedByDimension'), dataIndex);\n//             data = stackedOnSeries.getData();\n//             dataIndex = data.indexOf(data.getCalculationInfo('stackedByDimension'), byValue);\n//             stackedDim = data.getCalculationInfo('stackedDimension');\n//         }\n//         else {\n//             data = null;\n//         }\n//     } while (data);\n//     return precision;\n// }\n\n\nfunction markerTypeCalculatorWithExtent(mlType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n  var coordArr = [];\n  var stacked = isDimensionStacked(data, targetDataDim\n  /*, otherDataDim*/\n  );\n  var calcDataDim = stacked ? data.getCalculationInfo('stackResultDimension') : targetDataDim;\n  var value = numCalculate(data, calcDataDim, mlType);\n  var dataIndex = data.indicesOfNearest(calcDataDim, value)[0];\n  coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex);\n  coordArr[targetCoordIndex] = data.get(calcDataDim, dataIndex);\n  var coordArrValue = data.get(targetDataDim, dataIndex); // Make it simple, do not visit all stacked value to count precision.\n\n  var precision = numberUtil.getPrecision(data.get(targetDataDim, dataIndex));\n  precision = Math.min(precision, 20);\n\n  if (precision >= 0) {\n    coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n  }\n\n  return [coordArr, coordArrValue];\n}\n\nvar curry = zrUtil.curry; // TODO Specified percent\n\nvar markerTypeCalculator = {\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  min: curry(markerTypeCalculatorWithExtent, 'min'),\n\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  max: curry(markerTypeCalculatorWithExtent, 'max'),\n\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  average: curry(markerTypeCalculatorWithExtent, 'average')\n};\n/**\n * Transform markPoint data item to format used in List by do the following\n * 1. Calculate statistic like `max`, `min`, `average`\n * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n * @param  {module:echarts/model/Series} seriesModel\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {Object}\n */\n\nfunction dataTransform(seriesModel, item) {\n  var data = seriesModel.getData();\n  var coordSys = seriesModel.coordinateSystem; // 1. If not specify the position with pixel directly\n  // 2. If `coord` is not a data array. Which uses `xAxis`,\n  // `yAxis` to specify the coord on each dimension\n  // parseFloat first because item.x and item.y can be percent string like '20%'\n\n  if (item && !hasXAndY(item) && !zrUtil.isArray(item.coord) && coordSys) {\n    var dims = coordSys.dimensions;\n    var axisInfo = getAxisInfo(item, data, coordSys, seriesModel); // Clone the option\n    // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n\n    item = zrUtil.clone(item);\n\n    if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n      var otherCoordIndex = indexOf(dims, axisInfo.baseAxis.dim);\n      var targetCoordIndex = indexOf(dims, axisInfo.valueAxis.dim);\n      var coordInfo = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex);\n      item.coord = coordInfo[0]; // Force to use the value of calculated value.\n      // let item use the value without stack.\n\n      item.value = coordInfo[1];\n    } else {\n      // FIXME Only has one of xAxis and yAxis.\n      var coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis]; // Each coord support max, min, average\n\n      for (var i = 0; i < 2; i++) {\n        if (markerTypeCalculator[coord[i]]) {\n          coord[i] = numCalculate(data, data.mapDimension(dims[i]), coord[i]);\n        }\n      }\n\n      item.coord = coord;\n    }\n  }\n\n  return item;\n}\n\nfunction getAxisInfo(item, data, coordSys, seriesModel) {\n  var ret = {};\n\n  if (item.valueIndex != null || item.valueDim != null) {\n    ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n    ret.valueAxis = coordSys.getAxis(dataDimToCoordDim(seriesModel, ret.valueDataDim));\n    ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n  } else {\n    ret.baseAxis = seriesModel.getBaseAxis();\n    ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n    ret.valueDataDim = data.mapDimension(ret.valueAxis.dim);\n  }\n\n  return ret;\n}\n\nfunction dataDimToCoordDim(seriesModel, dataDim) {\n  var data = seriesModel.getData();\n  var dimensions = data.dimensions;\n  dataDim = data.getDimension(dataDim);\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimItem = data.getDimensionInfo(dimensions[i]);\n\n    if (dimItem.name === dataDim) {\n      return dimItem.coordDim;\n    }\n  }\n}\n/**\n * Filter data which is out of coordinateSystem range\n * [dataFilter description]\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {boolean}\n */\n\n\nfunction dataFilter(coordSys, item) {\n  // Alwalys return true if there is no coordSys\n  return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n}\n\nfunction dimValueGetter(item, dimName, dataIndex, dimIndex) {\n  // x, y, radius, angle\n  if (dimIndex < 2) {\n    return item.coord && item.coord[dimIndex];\n  }\n\n  return item.value;\n}\n\nfunction numCalculate(data, valueDataDim, type) {\n  if (type === 'average') {\n    var sum = 0;\n    var count = 0;\n    data.each(valueDataDim, function (val, idx) {\n      if (!isNaN(val)) {\n        sum += val;\n        count++;\n      }\n    });\n    return sum / count;\n  } else if (type === 'median') {\n    return data.getMedian(valueDataDim);\n  } else {\n    // max & min\n    return data.getDataExtent(valueDataDim, true)[type === 'max' ? 1 : 0];\n  }\n}\n\nexports.dataTransform = dataTransform;\nexports.getAxisInfo = getAxisInfo;\nexports.dataFilter = dataFilter;\nexports.dimValueGetter = dimValueGetter;\nexports.numCalculate = numCalculate;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction RadiusAxis(scale, radiusExtent) {\n  Axis.call(this, 'radius', scale, radiusExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = 'category';\n}\n\nRadiusAxis.prototype = {\n  constructor: RadiusAxis,\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  },\n  dataToRadius: Axis.prototype.dataToCoord,\n  radiusToData: Axis.prototype.coordToData\n};\nzrUtil.inherits(RadiusAxis, Axis);\nvar _default = RadiusAxis;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar Tree = require(\"../../data/Tree\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\nvar addCommas = _format.addCommas;\n\nvar _treeHelper = require(\"../helper/treeHelper\");\n\nvar wrapTreePathInfo = _treeHelper.wrapTreePathInfo;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.treemap',\n  layoutMode: 'box',\n  dependencies: ['grid', 'polar'],\n  preventUsingHoverLayer: true,\n\n  /**\n   * @type {module:echarts/data/Tree~Node}\n   */\n  _viewRoot: null,\n  defaultOption: {\n    // Disable progressive rendering\n    progressive: 0,\n    // center: ['50%', '50%'],          // not supported in ec3.\n    // size: ['80%', '80%'],            // deprecated, compatible with ec2.\n    left: 'center',\n    top: 'middle',\n    right: null,\n    bottom: null,\n    width: '80%',\n    height: '80%',\n    sort: true,\n    // Can be null or false or true\n    // (order by desc default, asc not supported yet (strange effect))\n    clipWindow: 'origin',\n    // Size of clipped window when zooming. 'origin' or 'fullscreen'\n    squareRatio: 0.5 * (1 + Math.sqrt(5)),\n    // golden ratio\n    leafDepth: null,\n    // Nodes on depth from root are regarded as leaves.\n    // Count from zero (zero represents only view root).\n    drillDownIcon: '',\n    // Use html character temporarily because it is complicated\n    // to align specialized icon. \n    zoomToNodeRatio: 0.32 * 0.32,\n    // Be effective when using zoomToNode. Specify the proportion of the\n    // target node area in the view area.\n    roam: true,\n    // true, false, 'scale' or 'zoom', 'move'.\n    nodeClick: 'zoomToNode',\n    // Leaf node click behaviour: 'zoomToNode', 'link', false.\n    // If leafDepth is set and clicking a node which has children but\n    // be on left depth, the behaviour would be changing root. Otherwise\n    // use behavious defined above.\n    animation: true,\n    animationDurationUpdate: 900,\n    animationEasing: 'quinticInOut',\n    breadcrumb: {\n      show: true,\n      height: 22,\n      left: 'center',\n      top: 'bottom',\n      // right\n      // bottom\n      emptyItemWidth: 25,\n      // Width of empty node.\n      itemStyle: {\n        color: 'rgba(0,0,0,0.7)',\n        //'#5793f3',\n        borderColor: 'rgba(255,255,255,0.7)',\n        borderWidth: 1,\n        shadowColor: 'rgba(150,150,150,1)',\n        shadowBlur: 3,\n        shadowOffsetX: 0,\n        shadowOffsetY: 0,\n        textStyle: {\n          color: '#fff'\n        }\n      },\n      emphasis: {\n        textStyle: {}\n      }\n    },\n    label: {\n      show: true,\n      // Do not use textDistance, for ellipsis rect just the same as treemap node rect.\n      distance: 0,\n      padding: 5,\n      position: 'inside',\n      // Can be [5, '5%'] or position stirng like 'insideTopLeft', ...\n      // formatter: null,\n      color: '#fff',\n      ellipsis: true // align\n      // verticalAlign\n\n    },\n    upperLabel: {\n      // Label when node is parent.\n      show: false,\n      position: [0, '50%'],\n      height: 20,\n      // formatter: null,\n      color: '#fff',\n      ellipsis: true,\n      // align: null,\n      verticalAlign: 'middle'\n    },\n    itemStyle: {\n      color: null,\n      // Can be 'none' if not necessary.\n      colorAlpha: null,\n      // Can be 'none' if not necessary.\n      colorSaturation: null,\n      // Can be 'none' if not necessary.\n      borderWidth: 0,\n      gapWidth: 0,\n      borderColor: '#fff',\n      borderColorSaturation: null // If specified, borderColor will be ineffective, and the\n      // border color is evaluated by color of current node and\n      // borderColorSaturation.\n\n    },\n    emphasis: {\n      upperLabel: {\n        show: true,\n        position: [0, '50%'],\n        color: '#fff',\n        ellipsis: true,\n        verticalAlign: 'middle'\n      }\n    },\n    visualDimension: 0,\n    // Can be 0, 1, 2, 3.\n    visualMin: null,\n    visualMax: null,\n    color: [],\n    // + treemapSeries.color should not be modified. Please only modified\n    // level[n].color (if necessary).\n    // + Specify color list of each level. level[0].color would be global\n    // color list if not specified. (see method `setDefault`).\n    // + But set as a empty array to forbid fetch color from global palette\n    // when using nodeModel.get('color'), otherwise nodes on deep level\n    // will always has color palette set and are not able to inherit color\n    // from parent node.\n    // + TreemapSeries.color can not be set as 'none', otherwise effect\n    // legend color fetching (see seriesColor.js).\n    colorAlpha: null,\n    // Array. Specify color alpha range of each level, like [0.2, 0.8]\n    colorSaturation: null,\n    // Array. Specify color saturation of each level, like [0.2, 0.5]\n    colorMappingBy: 'index',\n    // 'value' or 'index' or 'id'.\n    visibleMin: 10,\n    // If area less than this threshold (unit: pixel^2), node will not\n    // be rendered. Only works when sort is 'asc' or 'desc'.\n    childrenVisibleMin: null,\n    // If area of a node less than this threshold (unit: pixel^2),\n    // grandchildren will not show.\n    // Why grandchildren? If not grandchildren but children,\n    // some siblings show children and some not,\n    // the appearance may be mess and not consistent,\n    levels: [] // Each item: {\n    //     visibleMin, itemStyle, visualDimension, label\n    // }\n    // data: {\n    //      value: [],\n    //      children: [],\n    //      link: 'http://xxx.xxx.xxx',\n    //      target: 'blank' or 'self'\n    // }\n\n  },\n\n  /**\n   * @override\n   */\n  getInitialData: function (option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levels = option.levels || []; // Used in \"visual priority\" in `treemapVisual.js`.\n    // This way is a little tricky, must satisfy the precondition:\n    //   1. There is no `treeNode.getModel('itemStyle.xxx')` used.\n    //   2. The `Model.prototype.getModel()` will not use any clone-like way.\n\n    var designatedVisualItemStyle = this.designatedVisualItemStyle = {};\n    var designatedVisualModel = new Model({\n      itemStyle: designatedVisualItemStyle\n    }, this, ecModel);\n    levels = option.levels = setDefault(levels, ecModel);\n    var levelModels = zrUtil.map(levels || [], function (levelDefine) {\n      return new Model(levelDefine, designatedVisualModel, ecModel);\n    }, this); // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n\n    var tree = Tree.createTree(root, this, beforeLink);\n\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n        var levelModel = levelModels[node.depth]; // If no levelModel, we also need `designatedVisualModel`.\n\n        model.parentModel = levelModel || designatedVisualModel;\n        return model;\n      });\n    }\n\n    return tree.data;\n  },\n  optionUpdated: function () {\n    this.resetViewRoot();\n  },\n\n  /**\n   * @override\n   * @param {number} dataIndex\n   * @param {boolean} [mutipleSeries=false]\n   */\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? addCommas(value[0]) : addCommas(value);\n    var name = data.getName(dataIndex);\n    return encodeHTML(name + ': ' + formattedValue);\n  },\n\n  /**\n   * Add tree path to tooltip param\n   *\n   * @override\n   * @param {number} dataIndex\n   * @return {Object}\n   */\n  getDataParams: function (dataIndex) {\n    var params = SeriesModel.prototype.getDataParams.apply(this, arguments);\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treePathInfo = wrapTreePathInfo(node, this);\n    return params;\n  },\n\n  /**\n   * @public\n   * @param {Object} layoutInfo {\n   *                                x: containerGroup x\n   *                                y: containerGroup y\n   *                                width: containerGroup width\n   *                                height: containerGroup height\n   *                            }\n   */\n  setLayoutInfo: function (layoutInfo) {\n    /**\n     * @readOnly\n     * @type {Object}\n     */\n    this.layoutInfo = this.layoutInfo || {};\n    zrUtil.extend(this.layoutInfo, layoutInfo);\n  },\n\n  /**\n   * @param  {string} id\n   * @return {number} index\n   */\n  mapIdToIndex: function (id) {\n    // A feature is implemented:\n    // index is monotone increasing with the sequence of\n    // input id at the first time.\n    // This feature can make sure that each data item and its\n    // mapped color have the same index between data list and\n    // color list at the beginning, which is useful for user\n    // to adjust data-color mapping.\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    var idIndexMap = this._idIndexMap;\n\n    if (!idIndexMap) {\n      idIndexMap = this._idIndexMap = zrUtil.createHashMap();\n      /**\n       * @private\n       * @type {number}\n       */\n\n      this._idIndexMapCount = 0;\n    }\n\n    var index = idIndexMap.get(id);\n\n    if (index == null) {\n      idIndexMap.set(id, index = this._idIndexMapCount++);\n    }\n\n    return index;\n  },\n  getViewRoot: function () {\n    return this._viewRoot;\n  },\n\n  /**\n   * @param {module:echarts/data/Tree~Node} [viewRoot]\n   */\n  resetViewRoot: function (viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getRawData().tree.root;\n\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  }\n});\n/**\n * @param {Object} dataNode\n */\n\n\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value;\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  } // Value should not less than 0.\n\n\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\n/**\n * set default to level configuration\n */\n\n\nfunction setDefault(levels, ecModel) {\n  var globalColorList = ecModel.get('color');\n\n  if (!globalColorList) {\n    return;\n  }\n\n  levels = levels || [];\n  var hasColorDefine;\n  zrUtil.each(levels, function (levelDefine) {\n    var model = new Model(levelDefine);\n    var modelColor = model.get('color');\n\n    if (model.get('itemStyle.color') || modelColor && modelColor !== 'none') {\n      hasColorDefine = true;\n    }\n  });\n\n  if (!hasColorDefine) {\n    var level0 = levels[0] || (levels[0] = {});\n    level0.color = globalColorList.slice();\n  }\n\n  return levels;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar ComponentView = require(\"../../view/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = ComponentView.extend({\n  type: 'timeline'\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(option) {\n  // Save geoCoord\n  var mapSeries = [];\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'map') {\n      mapSeries.push(seriesOpt);\n      seriesOpt.map = seriesOpt.map || seriesOpt.mapType; // Put x, y, width, height, x2, y2 in the top level\n\n      zrUtil.defaults(seriesOpt, seriesOpt.mapLocation);\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _barGrid = require(\"../layout/barGrid\");\n\nvar layout = _barGrid.layout;\nvar largeLayout = _barGrid.largeLayout;\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./bar/BarSeries\");\n\nrequire(\"./bar/BarView\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerLayout(echarts.PRIORITY.VISUAL.LAYOUT, zrUtil.curry(layout, 'bar')); // Use higher prority to avoid to be blocked by other overall layout, which do not\n// only exist in this module, but probably also exist in other modules, like `barPolar`.\n\necharts.registerLayout(echarts.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, largeLayout);\necharts.registerVisual({\n  seriesType: 'bar',\n  reset: function (seriesModel) {\n    // Visual coding for legend\n    seriesModel.getData().setVisual('legendSymbol', 'roundRect');\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar _graphHelper = require(\"./graphHelper\");\n\nvar getSymbolSize = _graphHelper.getSymbolSize;\nvar getNodeGlobalScale = _graphHelper.getNodeGlobalScale;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _multipleGraphEdgeHelper = require(\"../helper/multipleGraphEdgeHelper\");\n\nvar getCurvenessForEdge = _multipleGraphEdgeHelper.getCurvenessForEdge;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PI = Math.PI;\nvar _symbolRadiansHalf = [];\n/**\n * `basedOn` can be:\n * 'value':\n *     This layout is not accurate and have same bad case. For example,\n *     if the min value is very smaller than the max value, the nodes\n *     with the min value probably overlap even though there is enough\n *     space to layout them. So we only use this approach in the as the\n *     init layout of the force layout.\n *     FIXME\n *     Probably we do not need this method any more but use\n *     `basedOn: 'symbolSize'` in force layout if\n *     delay its init operations to GraphView.\n * 'symbolSize':\n *     This approach work only if all of the symbol size calculated.\n *     That is, the progressive rendering is not applied to graph.\n *     FIXME\n *     If progressive rendering is applied to graph some day,\n *     probably we have to use `basedOn: 'value'`.\n *\n * @param {module:echarts/src/model/Series} seriesModel\n * @param {string} basedOn 'value' or 'symbolSize'\n */\n\nfunction circularLayout(seriesModel, basedOn) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n\n  var rect = coordSys.getBoundingRect();\n  var nodeData = seriesModel.getData();\n  var graph = nodeData.graph;\n  var cx = rect.width / 2 + rect.x;\n  var cy = rect.height / 2 + rect.y;\n  var r = Math.min(rect.width, rect.height) / 2;\n  var count = nodeData.count();\n  nodeData.setLayout({\n    cx: cx,\n    cy: cy\n  });\n\n  if (!count) {\n    return;\n  }\n\n  _layoutNodesBasedOn[basedOn](seriesModel, coordSys, graph, nodeData, r, cx, cy, count);\n\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get('lineStyle.curveness'), getCurvenessForEdge(edge, seriesModel, index), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var cp1;\n    var x12 = (p1[0] + p2[0]) / 2;\n    var y12 = (p1[1] + p2[1]) / 2;\n\n    if (+curveness) {\n      curveness *= 3;\n      cp1 = [cx * curveness + x12 * (1 - curveness), cy * curveness + y12 * (1 - curveness)];\n    }\n\n    edge.setLayout([p1, p2, cp1]);\n  });\n}\n\nvar _layoutNodesBasedOn = {\n  value: function (seriesModel, coordSys, graph, nodeData, r, cx, cy, count) {\n    var angle = 0;\n    var sum = nodeData.getSum('value');\n    var unitAngle = Math.PI * 2 / (sum || count);\n    graph.eachNode(function (node) {\n      var value = node.getValue('value');\n      var radianHalf = unitAngle * (sum ? value : 1) / 2;\n      angle += radianHalf;\n      node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  },\n  symbolSize: function (seriesModel, coordSys, graph, nodeData, r, cx, cy, count) {\n    var sumRadian = 0;\n    _symbolRadiansHalf.length = count;\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    graph.eachNode(function (node) {\n      var symbolSize = getSymbolSize(node); // Normally this case will not happen, but we still add\n      // some the defensive code (2px is an arbitrary value).\n\n      isNaN(symbolSize) && (symbolSize = 2);\n      symbolSize < 0 && (symbolSize = 0);\n      symbolSize *= nodeScale;\n      var symbolRadianHalf = Math.asin(symbolSize / 2 / r); // when `symbolSize / 2` is bigger than `r`.\n\n      isNaN(symbolRadianHalf) && (symbolRadianHalf = PI / 2);\n      _symbolRadiansHalf[node.dataIndex] = symbolRadianHalf;\n      sumRadian += symbolRadianHalf * 2;\n    });\n    var halfRemainRadian = (2 * PI - sumRadian) / count / 2;\n    var angle = 0;\n    graph.eachNode(function (node) {\n      var radianHalf = halfRemainRadian + _symbolRadiansHalf[node.dataIndex];\n      angle += radianHalf;\n      node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  }\n};\nexports.circularLayout = circularLayout;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./marker/MarkLineModel\");\n\nrequire(\"./marker/MarkLineView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerPreprocessor(function (opt) {\n  // Make sure markLine component is enabled\n  opt.markLine = opt.markLine || {};\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar LineDraw = require(\"../helper/LineDraw\");\n\nvar RoamController = require(\"../../component/helper/RoamController\");\n\nvar roamHelper = require(\"../../component/helper/roamHelper\");\n\nvar _cursorHelper = require(\"../../component/helper/cursorHelper\");\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar adjustEdge = require(\"./adjustEdge\");\n\nvar _graphHelper = require(\"./graphHelper\");\n\nvar getNodeGlobalScale = _graphHelper.getNodeGlobalScale;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar FOCUS_ADJACENCY = '__focusNodeAdjacency';\nvar UNFOCUS_ADJACENCY = '__unfocusNodeAdjacency';\nvar nodeOpacityPath = ['itemStyle', 'opacity'];\nvar lineOpacityPath = ['lineStyle', 'opacity'];\n\nfunction getItemOpacity(item, opacityPath) {\n  var opacity = item.getVisual('opacity');\n  return opacity != null ? opacity : item.getModel().get(opacityPath);\n}\n\nfunction fadeOutItem(item, opacityPath, opacityRatio) {\n  var el = item.getGraphicEl();\n  var opacity = getItemOpacity(item, opacityPath);\n\n  if (opacityRatio != null) {\n    opacity == null && (opacity = 1);\n    opacity *= opacityRatio;\n  }\n\n  el.downplay && el.downplay();\n  el.traverse(function (child) {\n    if (!child.isGroup) {\n      var opct = child.lineLabelOriginalOpacity;\n\n      if (opct == null || opacityRatio != null) {\n        opct = opacity;\n      }\n\n      child.setStyle('opacity', opct);\n    }\n  });\n}\n\nfunction fadeInItem(item, opacityPath) {\n  var opacity = getItemOpacity(item, opacityPath);\n  var el = item.getGraphicEl(); // Should go back to normal opacity first, consider hoverLayer,\n  // where current state is copied to elMirror, and support\n  // emphasis opacity here.\n\n  el.traverse(function (child) {\n    !child.isGroup && child.setStyle('opacity', opacity);\n  });\n  el.highlight && el.highlight();\n}\n\nvar _default = echarts.extendChartView({\n  type: 'graph',\n  init: function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    group.add(symbolDraw.group);\n    group.add(lineDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._firstRender = true;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var graphView = this;\n    var coordSys = seriesModel.coordinateSystem;\n    this._model = seriesModel;\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    var group = this.group;\n\n    if (coordSys.type === 'view') {\n      var groupNewProp = {\n        position: coordSys.position,\n        scale: coordSys.scale\n      };\n\n      if (this._firstRender) {\n        group.attr(groupNewProp);\n      } else {\n        graphic.updateProps(group, groupNewProp, seriesModel);\n      }\n    } // Fix edge contact point with node\n\n\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData();\n    lineDraw.updateData(edgeData);\n\n    this._updateNodeAndLinkScale();\n\n    this._updateController(seriesModel, ecModel, api);\n\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get('force.layoutAnimation');\n\n    if (forceLayout) {\n      this._startForceLayoutIteration(forceLayout, layoutAnimation);\n    }\n\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx); // Update draggable\n\n      el.off('drag').off('dragend');\n      var draggable = itemModel.get('draggable');\n\n      if (draggable) {\n        el.on('drag', function () {\n          if (forceLayout) {\n            forceLayout.warmUp();\n            !this._layouting && this._startForceLayoutIteration(forceLayout, layoutAnimation);\n            forceLayout.setFixed(idx); // Write position back to layout\n\n            data.setItemLayout(idx, el.position);\n          }\n        }, this).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        }, this);\n      }\n\n      el.setDraggable(draggable && forceLayout);\n      el[FOCUS_ADJACENCY] && el.off('mouseover', el[FOCUS_ADJACENCY]);\n      el[UNFOCUS_ADJACENCY] && el.off('mouseout', el[UNFOCUS_ADJACENCY]);\n\n      if (itemModel.get('focusNodeAdjacency')) {\n        el.on('mouseover', el[FOCUS_ADJACENCY] = function () {\n          graphView._clearTimer();\n\n          api.dispatchAction({\n            type: 'focusNodeAdjacency',\n            seriesId: seriesModel.id,\n            dataIndex: el.dataIndex\n          });\n        });\n        el.on('mouseout', el[UNFOCUS_ADJACENCY] = function () {\n          graphView._dispatchUnfocus(api);\n        });\n      }\n    }, this);\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      el[FOCUS_ADJACENCY] && el.off('mouseover', el[FOCUS_ADJACENCY]);\n      el[UNFOCUS_ADJACENCY] && el.off('mouseout', el[UNFOCUS_ADJACENCY]);\n\n      if (edge.getModel().get('focusNodeAdjacency')) {\n        el.on('mouseover', el[FOCUS_ADJACENCY] = function () {\n          graphView._clearTimer();\n\n          api.dispatchAction({\n            type: 'focusNodeAdjacency',\n            seriesId: seriesModel.id,\n            edgeDataIndex: edge.dataIndex\n          });\n        });\n        el.on('mouseout', el[UNFOCUS_ADJACENCY] = function () {\n          graphView._dispatchUnfocus(api);\n        });\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get('circular.rotateLabel');\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx);\n      var labelRotate = itemModel.get('label.rotate') || 0;\n      var symbolPath = el.getSymbolPath();\n\n      if (circularRotateLabel) {\n        var pos = data.getItemLayout(idx);\n        var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n\n        if (rad < 0) {\n          rad = Math.PI * 2 + rad;\n        }\n\n        var isLeft = pos[0] < cx;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n\n        var textPosition = isLeft ? 'left' : 'right';\n        graphic.modifyLabelStyle(symbolPath, {\n          textRotation: -rad,\n          textPosition: textPosition,\n          textOrigin: 'center'\n        }, {\n          textPosition: textPosition\n        });\n      } else {\n        graphic.modifyLabelStyle(symbolPath, {\n          textRotation: labelRotate *= Math.PI / 180\n        });\n      }\n    });\n    this._firstRender = false;\n  },\n  dispose: function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = {};\n\n    this._clearTimer();\n  },\n  _dispatchUnfocus: function (api, opt) {\n    var self = this;\n\n    this._clearTimer();\n\n    this._unfocusDelayTimer = setTimeout(function () {\n      self._unfocusDelayTimer = null;\n      api.dispatchAction({\n        type: 'unfocusNodeAdjacency',\n        seriesId: self._model.id\n      });\n    }, 500);\n  },\n  _clearTimer: function () {\n    if (this._unfocusDelayTimer) {\n      clearTimeout(this._unfocusDelayTimer);\n      this._unfocusDelayTimer = null;\n    }\n  },\n  focusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var graph = data.graph;\n    var dataIndex = payload.dataIndex;\n    var edgeDataIndex = payload.edgeDataIndex;\n    var node = graph.getNodeByIndex(dataIndex);\n    var edge = graph.getEdgeByIndex(edgeDataIndex);\n\n    if (!node && !edge) {\n      return;\n    }\n\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath, 0.1);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath, 0.1);\n    });\n\n    if (node) {\n      fadeInItem(node, nodeOpacityPath);\n      zrUtil.each(node.edges, function (adjacentEdge) {\n        if (adjacentEdge.dataIndex < 0) {\n          return;\n        }\n\n        fadeInItem(adjacentEdge, lineOpacityPath);\n        fadeInItem(adjacentEdge.node1, nodeOpacityPath);\n        fadeInItem(adjacentEdge.node2, nodeOpacityPath);\n      });\n    }\n\n    if (edge) {\n      fadeInItem(edge, lineOpacityPath);\n      fadeInItem(edge.node1, nodeOpacityPath);\n      fadeInItem(edge.node2, nodeOpacityPath);\n    }\n  },\n  unfocusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var graph = seriesModel.getData().graph;\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath);\n    });\n  },\n  _startForceLayoutIteration: function (forceLayout, layoutAnimation) {\n    var self = this;\n\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  },\n  _updateController: function (seriesModel, ecModel, api) {\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n\n    if (seriesModel.coordinateSystem.type !== 'view') {\n      controller.disable();\n      return;\n    }\n\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n\n      this._updateNodeAndLinkScale();\n\n      adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n\n      this._lineDraw.updateLayout();\n    }, this);\n  },\n  _updateNodeAndLinkScale: function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    var invScale = [nodeScale, nodeScale];\n    data.eachItemGraphicEl(function (el, idx) {\n      el.attr('scale', invScale);\n    });\n  },\n  updateLayout: function (seriesModel) {\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n\n    this._symbolDraw.updateLayout();\n\n    this._lineDraw.updateLayout();\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Pick color from palette for each data item.\n// Applicable for charts that require applying color palette\n// in data level (like pie, funnel, chord).\nfunction _default(seriesType) {\n  return {\n    getTargetSeries: function (ecModel) {\n      // Pie and funnel may use diferrent scope\n      var paletteScope = {};\n      var seiresModelMap = createHashMap();\n      ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n        seriesModel.__paletteScope = paletteScope;\n        seiresModelMap.set(seriesModel.uid, seriesModel);\n      });\n      return seiresModelMap;\n    },\n    reset: function (seriesModel, ecModel) {\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      });\n      dataAll.each(function (rawIdx) {\n        var filteredIdx = idxMap[rawIdx]; // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n\n        var singleDataColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'color', true);\n        var singleDataBorderColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'borderColor', true);\n        var itemModel;\n\n        if (!singleDataColor || !singleDataBorderColor) {\n          // FIXME Performance\n          itemModel = dataAll.getItemModel(rawIdx);\n        }\n\n        if (!singleDataColor) {\n          var color = itemModel.get('itemStyle.color') || seriesModel.getColorFromPalette(dataAll.getName(rawIdx) || rawIdx + '', seriesModel.__paletteScope, dataAll.count()); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'color', color);\n          }\n        }\n\n        if (!singleDataBorderColor) {\n          var borderColor = itemModel.get('itemStyle.borderColor'); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'borderColor', borderColor);\n          }\n        }\n      });\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} coordSys\n * @param {module:echarts/data/List} data\n * @param {string} valueOrigin lineSeries.option.areaStyle.origin\n */\nfunction prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if (stacked |= isDimensionStacked(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    dims[0] = stackResultDim;\n  }\n\n  if (stacked |= isDimensionStacked(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // auto\n  else {\n      // Both positive\n      if (extent[0] > 0) {\n        valueStart = extent[0];\n      } // Both negative\n      else if (extent[1] < 0) {\n          valueStart = extent[1];\n        } // If is one positive, and one negative, onZero shall be true\n\n    }\n\n  return valueStart;\n}\n\nfunction getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}\n\nexports.prepareDataCoordInfo = prepareDataCoordInfo;\nexports.getStackedOnPoint = getStackedOnPoint;","var Definable = require(\"./Definable\");\n\nvar zrUtil = require(\"../../core/util\");\n\nvar matrix = require(\"../../core/matrix\");\n\n/**\n * @file Manages SVG clipPath elements.\n * @author Zhang Wenli\n */\n\n/**\n * Manages SVG clipPath elements.\n *\n * @class\n * @extends Definable\n * @param   {number}     zrId    zrender instance id\n * @param   {SVGElement} svgRoot root of SVG document\n */\nfunction ClippathManager(zrId, svgRoot) {\n  Definable.call(this, zrId, svgRoot, 'clipPath', '__clippath_in_use__');\n}\n\nzrUtil.inherits(ClippathManager, Definable);\n/**\n * Update clipPath.\n *\n * @param {Displayable} displayable displayable element\n */\n\nClippathManager.prototype.update = function (displayable) {\n  var svgEl = this.getSvgElement(displayable);\n\n  if (svgEl) {\n    this.updateDom(svgEl, displayable.__clipPaths, false);\n  }\n\n  var textEl = this.getTextSvgElement(displayable);\n\n  if (textEl) {\n    // Make another clipPath for text, since it's transform\n    // matrix is not the same with svgElement\n    this.updateDom(textEl, displayable.__clipPaths, true);\n  }\n\n  this.markUsed(displayable);\n};\n/**\n * Create an SVGElement of displayable and create a <clipPath> of its\n * clipPath\n *\n * @param {Displayable} parentEl  parent element\n * @param {ClipPath[]}  clipPaths clipPaths of parent element\n * @param {boolean}     isText    if parent element is Text\n */\n\n\nClippathManager.prototype.updateDom = function (parentEl, clipPaths, isText) {\n  if (clipPaths && clipPaths.length > 0) {\n    // Has clipPath, create <clipPath> with the first clipPath\n    var defs = this.getDefs(true);\n    var clipPath = clipPaths[0];\n    var clipPathEl;\n    var id;\n    var dom = isText ? '_textDom' : '_dom';\n\n    if (clipPath[dom]) {\n      // Use a dom that is already in <defs>\n      id = clipPath[dom].getAttribute('id');\n      clipPathEl = clipPath[dom]; // Use a dom that is already in <defs>\n\n      if (!defs.contains(clipPathEl)) {\n        // This happens when set old clipPath that has\n        // been previously removed\n        defs.appendChild(clipPathEl);\n      }\n    } else {\n      // New <clipPath>\n      id = 'zr' + this._zrId + '-clip-' + this.nextId;\n      ++this.nextId;\n      clipPathEl = this.createElement('clipPath');\n      clipPathEl.setAttribute('id', id);\n      defs.appendChild(clipPathEl);\n      clipPath[dom] = clipPathEl;\n    } // Build path and add to <clipPath>\n\n\n    var svgProxy = this.getSvgProxy(clipPath);\n\n    if (clipPath.transform && clipPath.parent.invTransform && !isText) {\n      /**\n       * If a clipPath has a parent with transform, the transform\n       * of parent should not be considered when setting transform\n       * of clipPath. So we need to transform back from parent's\n       * transform, which is done by multiplying parent's inverse\n       * transform.\n       */\n      // Store old transform\n      var transform = Array.prototype.slice.call(clipPath.transform); // Transform back from parent, and brush path\n\n      matrix.mul(clipPath.transform, clipPath.parent.invTransform, clipPath.transform);\n      svgProxy.brush(clipPath); // Set back transform of clipPath\n\n      clipPath.transform = transform;\n    } else {\n      svgProxy.brush(clipPath);\n    }\n\n    var pathEl = this.getSvgElement(clipPath);\n    clipPathEl.innerHTML = '';\n    /**\n     * Use `cloneNode()` here to appendChild to multiple parents,\n     * which may happend when Text and other shapes are using the same\n     * clipPath. Since Text will create an extra clipPath DOM due to\n     * different transform rules.\n     */\n\n    clipPathEl.appendChild(pathEl.cloneNode());\n    parentEl.setAttribute('clip-path', 'url(#' + id + ')');\n\n    if (clipPaths.length > 1) {\n      // Make the other clipPaths recursively\n      this.updateDom(clipPathEl, clipPaths.slice(1), isText);\n    }\n  } else {\n    // No clipPath\n    if (parentEl) {\n      parentEl.setAttribute('clip-path', 'none');\n    }\n  }\n};\n/**\n * Mark a single clipPath to be used\n *\n * @param {Displayable} displayable displayable element\n */\n\n\nClippathManager.prototype.markUsed = function (displayable) {\n  var that = this; // displayable.__clipPaths can only be `null`/`undefined` or an non-empty array.\n\n  if (displayable.__clipPaths) {\n    zrUtil.each(displayable.__clipPaths, function (clipPath) {\n      if (clipPath._dom) {\n        Definable.prototype.markUsed.call(that, clipPath._dom);\n      }\n\n      if (clipPath._textDom) {\n        Definable.prototype.markUsed.call(that, clipPath._textDom);\n      }\n    });\n  }\n};\n\nvar _default = ClippathManager;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar MAX_SAFE_INTEGER = _number.MAX_SAFE_INTEGER;\n\nvar layout = require(\"../../util/layout\");\n\nvar helper = require(\"../helper/treeHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* The treemap layout implementation was originally copied from\n* \"d3.js\" with some modifications made for this project.\n* (See more details in the comment of the method \"squarify\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar retrieveValue = zrUtil.retrieve;\nvar each = zrUtil.each;\nvar PATH_BORDER_WIDTH = ['itemStyle', 'borderWidth'];\nvar PATH_GAP_WIDTH = ['itemStyle', 'gapWidth'];\nvar PATH_UPPER_LABEL_SHOW = ['upperLabel', 'show'];\nvar PATH_UPPER_LABEL_HEIGHT = ['upperLabel', 'height'];\n/**\n * @public\n */\n\nvar _default = {\n  seriesType: 'treemap',\n  reset: function (seriesModel, ecModel, api, payload) {\n    // Layout result in each node:\n    // {x, y, width, height, area, borderWidth}\n    var ecWidth = api.getWidth();\n    var ecHeight = api.getHeight();\n    var seriesOption = seriesModel.option;\n    var layoutInfo = layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    var size = seriesOption.size || []; // Compatible with ec2.\n\n    var containerWidth = parsePercent(retrieveValue(layoutInfo.width, size[0]), ecWidth);\n    var containerHeight = parsePercent(retrieveValue(layoutInfo.height, size[1]), ecHeight); // Fetch payload info.\n\n    var payloadType = payload && payload.type;\n    var types = ['treemapZoomToNode', 'treemapRootToNode'];\n    var targetInfo = helper.retrieveTargetInfo(payload, types, seriesModel);\n    var rootRect = payloadType === 'treemapRender' || payloadType === 'treemapMove' ? payload.rootRect : null;\n    var viewRoot = seriesModel.getViewRoot();\n    var viewAbovePath = helper.getPathToRoot(viewRoot);\n\n    if (payloadType !== 'treemapMove') {\n      var rootSize = payloadType === 'treemapZoomToNode' ? estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) : rootRect ? [rootRect.width, rootRect.height] : [containerWidth, containerHeight];\n      var sort = seriesOption.sort;\n\n      if (sort && sort !== 'asc' && sort !== 'desc') {\n        sort = 'desc';\n      }\n\n      var options = {\n        squareRatio: seriesOption.squareRatio,\n        sort: sort,\n        leafDepth: seriesOption.leafDepth\n      }; // layout should be cleared because using updateView but not update.\n\n      viewRoot.hostTree.clearLayouts(); // TODO\n      // optimize: if out of view clip, do not layout.\n      // But take care that if do not render node out of view clip,\n      // how to calculate start po\n\n      var viewRootLayout = {\n        x: 0,\n        y: 0,\n        width: rootSize[0],\n        height: rootSize[1],\n        area: rootSize[0] * rootSize[1]\n      };\n      viewRoot.setLayout(viewRootLayout);\n      squarify(viewRoot, options, false, 0); // Supplement layout.\n\n      var viewRootLayout = viewRoot.getLayout();\n      each(viewAbovePath, function (node, index) {\n        var childValue = (viewAbovePath[index + 1] || viewRoot).getValue();\n        node.setLayout(zrUtil.extend({\n          dataExtent: [childValue, childValue],\n          borderWidth: 0,\n          upperHeight: 0\n        }, viewRootLayout));\n      });\n    }\n\n    var treeRoot = seriesModel.getData().tree.root;\n    treeRoot.setLayout(calculateRootPosition(layoutInfo, rootRect, targetInfo), true);\n    seriesModel.setLayoutInfo(layoutInfo); // FIXME\n    // clipec\n\n    prunning(treeRoot, // Transform to base element coordinate system.\n    new BoundingRect(-layoutInfo.x, -layoutInfo.y, ecWidth, ecHeight), viewAbovePath, viewRoot, 0);\n  }\n};\n/**\n * Layout treemap with squarify algorithm.\n * The original presentation of this algorithm\n * was made by Mark Bruls, Kees Huizing, and Jarke J. van Wijk\n * <https://graphics.ethz.ch/teaching/scivis_common/Literature/squarifiedTreeMaps.pdf>.\n * The implementation of this algorithm was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/layout/treemap.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * @protected\n * @param {module:echarts/data/Tree~TreeNode} node\n * @param {Object} options\n * @param {string} options.sort 'asc' or 'desc'\n * @param {number} options.squareRatio\n * @param {boolean} hideChildren\n * @param {number} depth\n */\n\nfunction squarify(node, options, hideChildren, depth) {\n  var width;\n  var height;\n\n  if (node.isRemoved()) {\n    return;\n  }\n\n  var thisLayout = node.getLayout();\n  width = thisLayout.width;\n  height = thisLayout.height; // Considering border and gap\n\n  var nodeModel = node.getModel();\n  var borderWidth = nodeModel.get(PATH_BORDER_WIDTH);\n  var halfGapWidth = nodeModel.get(PATH_GAP_WIDTH) / 2;\n  var upperLabelHeight = getUpperLabelHeight(nodeModel);\n  var upperHeight = Math.max(borderWidth, upperLabelHeight);\n  var layoutOffset = borderWidth - halfGapWidth;\n  var layoutOffsetUpper = upperHeight - halfGapWidth;\n  var nodeModel = node.getModel();\n  node.setLayout({\n    borderWidth: borderWidth,\n    upperHeight: upperHeight,\n    upperLabelHeight: upperLabelHeight\n  }, true);\n  width = mathMax(width - 2 * layoutOffset, 0);\n  height = mathMax(height - layoutOffset - layoutOffsetUpper, 0);\n  var totalArea = width * height;\n  var viewChildren = initChildren(node, nodeModel, totalArea, options, hideChildren, depth);\n\n  if (!viewChildren.length) {\n    return;\n  }\n\n  var rect = {\n    x: layoutOffset,\n    y: layoutOffsetUpper,\n    width: width,\n    height: height\n  };\n  var rowFixedLength = mathMin(width, height);\n  var best = Infinity; // the best row score so far\n\n  var row = [];\n  row.area = 0;\n\n  for (var i = 0, len = viewChildren.length; i < len;) {\n    var child = viewChildren[i];\n    row.push(child);\n    row.area += child.getLayout().area;\n    var score = worst(row, rowFixedLength, options.squareRatio); // continue with this orientation\n\n    if (score <= best) {\n      i++;\n      best = score;\n    } // abort, and try a different orientation\n    else {\n        row.area -= row.pop().getLayout().area;\n        position(row, rowFixedLength, rect, halfGapWidth, false);\n        rowFixedLength = mathMin(rect.width, rect.height);\n        row.length = row.area = 0;\n        best = Infinity;\n      }\n  }\n\n  if (row.length) {\n    position(row, rowFixedLength, rect, halfGapWidth, true);\n  }\n\n  if (!hideChildren) {\n    var childrenVisibleMin = nodeModel.get('childrenVisibleMin');\n\n    if (childrenVisibleMin != null && totalArea < childrenVisibleMin) {\n      hideChildren = true;\n    }\n  }\n\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    squarify(viewChildren[i], options, hideChildren, depth + 1);\n  }\n}\n/**\n * Set area to each child, and calculate data extent for visual coding.\n */\n\n\nfunction initChildren(node, nodeModel, totalArea, options, hideChildren, depth) {\n  var viewChildren = node.children || [];\n  var orderBy = options.sort;\n  orderBy !== 'asc' && orderBy !== 'desc' && (orderBy = null);\n  var overLeafDepth = options.leafDepth != null && options.leafDepth <= depth; // leafDepth has higher priority.\n\n  if (hideChildren && !overLeafDepth) {\n    return node.viewChildren = [];\n  } // Sort children, order by desc.\n\n\n  viewChildren = zrUtil.filter(viewChildren, function (child) {\n    return !child.isRemoved();\n  });\n  sort(viewChildren, orderBy);\n  var info = statistic(nodeModel, viewChildren, orderBy);\n\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  }\n\n  info.sum = filterByThreshold(nodeModel, totalArea, info.sum, orderBy, viewChildren);\n\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  } // Set area to each child.\n\n\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    var area = viewChildren[i].getValue() / info.sum * totalArea; // Do not use setLayout({...}, true), because it is needed to clear last layout.\n\n    viewChildren[i].setLayout({\n      area: area\n    });\n  }\n\n  if (overLeafDepth) {\n    viewChildren.length && node.setLayout({\n      isLeafRoot: true\n    }, true);\n    viewChildren.length = 0;\n  }\n\n  node.viewChildren = viewChildren;\n  node.setLayout({\n    dataExtent: info.dataExtent\n  }, true);\n  return viewChildren;\n}\n/**\n * Consider 'visibleMin'. Modify viewChildren and get new sum.\n */\n\n\nfunction filterByThreshold(nodeModel, totalArea, sum, orderBy, orderedChildren) {\n  // visibleMin is not supported yet when no option.sort.\n  if (!orderBy) {\n    return sum;\n  }\n\n  var visibleMin = nodeModel.get('visibleMin');\n  var len = orderedChildren.length;\n  var deletePoint = len; // Always travel from little value to big value.\n\n  for (var i = len - 1; i >= 0; i--) {\n    var value = orderedChildren[orderBy === 'asc' ? len - i - 1 : i].getValue();\n\n    if (value / sum * totalArea < visibleMin) {\n      deletePoint = i;\n      sum -= value;\n    }\n  }\n\n  orderBy === 'asc' ? orderedChildren.splice(0, len - deletePoint) : orderedChildren.splice(deletePoint, len - deletePoint);\n  return sum;\n}\n/**\n * Sort\n */\n\n\nfunction sort(viewChildren, orderBy) {\n  if (orderBy) {\n    viewChildren.sort(function (a, b) {\n      var diff = orderBy === 'asc' ? a.getValue() - b.getValue() : b.getValue() - a.getValue();\n      return diff === 0 ? orderBy === 'asc' ? a.dataIndex - b.dataIndex : b.dataIndex - a.dataIndex : diff;\n    });\n  }\n\n  return viewChildren;\n}\n/**\n * Statistic\n */\n\n\nfunction statistic(nodeModel, children, orderBy) {\n  // Calculate sum.\n  var sum = 0;\n\n  for (var i = 0, len = children.length; i < len; i++) {\n    sum += children[i].getValue();\n  } // Statistic data extent for latter visual coding.\n  // Notice: data extent should be calculate based on raw children\n  // but not filtered view children, otherwise visual mapping will not\n  // be stable when zoom (where children is filtered by visibleMin).\n\n\n  var dimension = nodeModel.get('visualDimension');\n  var dataExtent; // The same as area dimension.\n\n  if (!children || !children.length) {\n    dataExtent = [NaN, NaN];\n  } else if (dimension === 'value' && orderBy) {\n    dataExtent = [children[children.length - 1].getValue(), children[0].getValue()];\n    orderBy === 'asc' && dataExtent.reverse();\n  } // Other dimension.\n  else {\n      var dataExtent = [Infinity, -Infinity];\n      each(children, function (child) {\n        var value = child.getValue(dimension);\n        value < dataExtent[0] && (dataExtent[0] = value);\n        value > dataExtent[1] && (dataExtent[1] = value);\n      });\n    }\n\n  return {\n    sum: sum,\n    dataExtent: dataExtent\n  };\n}\n/**\n * Computes the score for the specified row,\n * as the worst aspect ratio.\n */\n\n\nfunction worst(row, rowFixedLength, ratio) {\n  var areaMax = 0;\n  var areaMin = Infinity;\n\n  for (var i = 0, area, len = row.length; i < len; i++) {\n    area = row[i].getLayout().area;\n\n    if (area) {\n      area < areaMin && (areaMin = area);\n      area > areaMax && (areaMax = area);\n    }\n  }\n\n  var squareArea = row.area * row.area;\n  var f = rowFixedLength * rowFixedLength * ratio;\n  return squareArea ? mathMax(f * areaMax / squareArea, squareArea / (f * areaMin)) : Infinity;\n}\n/**\n * Positions the specified row of nodes. Modifies `rect`.\n */\n\n\nfunction position(row, rowFixedLength, rect, halfGapWidth, flush) {\n  // When rowFixedLength === rect.width,\n  // it is horizontal subdivision,\n  // rowFixedLength is the width of the subdivision,\n  // rowOtherLength is the height of the subdivision,\n  // and nodes will be positioned from left to right.\n  // wh[idx0WhenH] means: when horizontal,\n  //      wh[idx0WhenH] => wh[0] => 'width'.\n  //      xy[idx1WhenH] => xy[1] => 'y'.\n  var idx0WhenH = rowFixedLength === rect.width ? 0 : 1;\n  var idx1WhenH = 1 - idx0WhenH;\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  var last = rect[xy[idx0WhenH]];\n  var rowOtherLength = rowFixedLength ? row.area / rowFixedLength : 0;\n\n  if (flush || rowOtherLength > rect[wh[idx1WhenH]]) {\n    rowOtherLength = rect[wh[idx1WhenH]]; // over+underflow\n  }\n\n  for (var i = 0, rowLen = row.length; i < rowLen; i++) {\n    var node = row[i];\n    var nodeLayout = {};\n    var step = rowOtherLength ? node.getLayout().area / rowOtherLength : 0;\n    var wh1 = nodeLayout[wh[idx1WhenH]] = mathMax(rowOtherLength - 2 * halfGapWidth, 0); // We use Math.max/min to avoid negative width/height when considering gap width.\n\n    var remain = rect[xy[idx0WhenH]] + rect[wh[idx0WhenH]] - last;\n    var modWH = i === rowLen - 1 || remain < step ? remain : step;\n    var wh0 = nodeLayout[wh[idx0WhenH]] = mathMax(modWH - 2 * halfGapWidth, 0);\n    nodeLayout[xy[idx1WhenH]] = rect[xy[idx1WhenH]] + mathMin(halfGapWidth, wh1 / 2);\n    nodeLayout[xy[idx0WhenH]] = last + mathMin(halfGapWidth, wh0 / 2);\n    last += modWH;\n    node.setLayout(nodeLayout, true);\n  }\n\n  rect[xy[idx1WhenH]] += rowOtherLength;\n  rect[wh[idx1WhenH]] -= rowOtherLength;\n} // Return [containerWidth, containerHeight] as default.\n\n\nfunction estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) {\n  // If targetInfo.node exists, we zoom to the node,\n  // so estimate whold width and heigth by target node.\n  var currNode = (targetInfo || {}).node;\n  var defaultSize = [containerWidth, containerHeight];\n\n  if (!currNode || currNode === viewRoot) {\n    return defaultSize;\n  }\n\n  var parent;\n  var viewArea = containerWidth * containerHeight;\n  var area = viewArea * seriesModel.option.zoomToNodeRatio;\n\n  while (parent = currNode.parentNode) {\n    // jshint ignore:line\n    var sum = 0;\n    var siblings = parent.children;\n\n    for (var i = 0, len = siblings.length; i < len; i++) {\n      sum += siblings[i].getValue();\n    }\n\n    var currNodeValue = currNode.getValue();\n\n    if (currNodeValue === 0) {\n      return defaultSize;\n    }\n\n    area *= sum / currNodeValue; // Considering border, suppose aspect ratio is 1.\n\n    var parentModel = parent.getModel();\n    var borderWidth = parentModel.get(PATH_BORDER_WIDTH);\n    var upperHeight = Math.max(borderWidth, getUpperLabelHeight(parentModel, borderWidth));\n    area += 4 * borderWidth * borderWidth + (3 * borderWidth + upperHeight) * Math.pow(area, 0.5);\n    area > MAX_SAFE_INTEGER && (area = MAX_SAFE_INTEGER);\n    currNode = parent;\n  }\n\n  area < viewArea && (area = viewArea);\n  var scale = Math.pow(area / viewArea, 0.5);\n  return [containerWidth * scale, containerHeight * scale];\n} // Root postion base on coord of containerGroup\n\n\nfunction calculateRootPosition(layoutInfo, rootRect, targetInfo) {\n  if (rootRect) {\n    return {\n      x: rootRect.x,\n      y: rootRect.y\n    };\n  }\n\n  var defaultPosition = {\n    x: 0,\n    y: 0\n  };\n\n  if (!targetInfo) {\n    return defaultPosition;\n  } // If targetInfo is fetched by 'retrieveTargetInfo',\n  // old tree and new tree are the same tree,\n  // so the node still exists and we can visit it.\n\n\n  var targetNode = targetInfo.node;\n  var layout = targetNode.getLayout();\n\n  if (!layout) {\n    return defaultPosition;\n  } // Transform coord from local to container.\n\n\n  var targetCenter = [layout.width / 2, layout.height / 2];\n  var node = targetNode;\n\n  while (node) {\n    var nodeLayout = node.getLayout();\n    targetCenter[0] += nodeLayout.x;\n    targetCenter[1] += nodeLayout.y;\n    node = node.parentNode;\n  }\n\n  return {\n    x: layoutInfo.width / 2 - targetCenter[0],\n    y: layoutInfo.height / 2 - targetCenter[1]\n  };\n} // Mark nodes visible for prunning when visual coding and rendering.\n// Prunning depends on layout and root position, so we have to do it after layout.\n\n\nfunction prunning(node, clipRect, viewAbovePath, viewRoot, depth) {\n  var nodeLayout = node.getLayout();\n  var nodeInViewAbovePath = viewAbovePath[depth];\n  var isAboveViewRoot = nodeInViewAbovePath && nodeInViewAbovePath === node;\n\n  if (nodeInViewAbovePath && !isAboveViewRoot || depth === viewAbovePath.length && node !== viewRoot) {\n    return;\n  }\n\n  node.setLayout({\n    // isInView means: viewRoot sub tree + viewAbovePath\n    isInView: true,\n    // invisible only means: outside view clip so that the node can not\n    // see but still layout for animation preparation but not render.\n    invisible: !isAboveViewRoot && !clipRect.intersect(nodeLayout),\n    isAboveViewRoot: isAboveViewRoot\n  }, true); // Transform to child coordinate.\n\n  var childClipRect = new BoundingRect(clipRect.x - nodeLayout.x, clipRect.y - nodeLayout.y, clipRect.width, clipRect.height);\n  each(node.viewChildren || [], function (child) {\n    prunning(child, childClipRect, viewAbovePath, viewRoot, depth + 1);\n  });\n}\n\nfunction getUpperLabelHeight(model) {\n  return model.get(PATH_UPPER_LABEL_SHOW) ? model.get(PATH_UPPER_LABEL_HEIGHT) : 0;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisDefault = require(\"./axisDefault\");\n\nvar ComponentModel = require(\"../model/Component\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\n\nvar OrdinalMeta = require(\"../data/OrdinalMeta\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME axisType is fixed ?\nvar AXIS_TYPES = ['value', 'category', 'time', 'log'];\n/**\n * Generate sub axis model class\n * @param {string} axisName 'x' 'y' 'radius' 'angle' 'parallel'\n * @param {module:echarts/model/Component} BaseAxisModelClass\n * @param {Function} axisTypeDefaulter\n * @param {Object} [extraDefaultOption]\n */\n\nfunction _default(axisName, BaseAxisModelClass, axisTypeDefaulter, extraDefaultOption) {\n  zrUtil.each(AXIS_TYPES, function (axisType) {\n    BaseAxisModelClass.extend({\n      /**\n       * @readOnly\n       */\n      type: axisName + 'Axis.' + axisType,\n      mergeDefaultAndTheme: function (option, ecModel) {\n        var layoutMode = this.layoutMode;\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n        var themeModel = ecModel.getTheme();\n        zrUtil.merge(option, themeModel.get(axisType + 'Axis'));\n        zrUtil.merge(option, this.getDefaultOption());\n        option.type = axisTypeDefaulter(axisName, option);\n\n        if (layoutMode) {\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n      },\n\n      /**\n       * @override\n       */\n      optionUpdated: function () {\n        var thisOption = this.option;\n\n        if (thisOption.type === 'category') {\n          this.__ordinalMeta = OrdinalMeta.createByAxisModel(this);\n        }\n      },\n\n      /**\n       * Should not be called before all of 'getInitailData' finished.\n       * Because categories are collected during initializing data.\n       */\n      getCategories: function (rawData) {\n        var option = this.option; // FIXME\n        // warning if called before all of 'getInitailData' finished.\n\n        if (option.type === 'category') {\n          if (rawData) {\n            return option.data;\n          }\n\n          return this.__ordinalMeta.categories;\n        }\n      },\n      getOrdinalMeta: function () {\n        return this.__ordinalMeta;\n      },\n      defaultOption: zrUtil.mergeAll([{}, axisDefault[axisType + 'Axis'], extraDefaultOption], true)\n    });\n  });\n  ComponentModel.registerSubTypeDefaulter(axisName + 'Axis', zrUtil.curry(axisTypeDefaulter, axisName));\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar helper = require(\"./helper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerAction('dataZoom', function (payload, ecModel) {\n  var linkedNodesFinder = helper.createLinkedNodesFinder(zrUtil.bind(ecModel.eachComponent, ecModel, 'dataZoom'), helper.eachAxisDim, function (model, dimNames) {\n    return model.get(dimNames.axisIndex);\n  });\n  var effectedModels = [];\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (model, index) {\n    effectedModels.push.apply(effectedModels, linkedNodesFinder(model).nodes);\n  });\n  zrUtil.each(effectedModels, function (dataZoomModel, index) {\n    dataZoomModel.setRawRange({\n      start: payload.start,\n      end: payload.end,\n      startValue: payload.startValue,\n      endValue: payload.endValue\n    });\n  });\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar IncrementalDisplayable = require(\"zrender/lib/graphic/IncrementalDisplayable\");\n\nvar lineContain = require(\"zrender/lib/contain/line\");\n\nvar quadraticContain = require(\"zrender/lib/contain/quadratic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Batch by color\nvar LargeLineShape = graphic.extendShape({\n  shape: {\n    polyline: false,\n    curveness: 0,\n    segs: []\n  },\n  buildPath: function (path, shape) {\n    var segs = shape.segs;\n    var curveness = shape.curveness;\n\n    if (shape.polyline) {\n      for (var i = 0; i < segs.length;) {\n        var count = segs[i++];\n\n        if (count > 0) {\n          path.moveTo(segs[i++], segs[i++]);\n\n          for (var k = 1; k < count; k++) {\n            path.lineTo(segs[i++], segs[i++]);\n          }\n        }\n      }\n    } else {\n      for (var i = 0; i < segs.length;) {\n        var x0 = segs[i++];\n        var y0 = segs[i++];\n        var x1 = segs[i++];\n        var y1 = segs[i++];\n        path.moveTo(x0, y0);\n\n        if (curveness > 0) {\n          var x2 = (x0 + x1) / 2 - (y0 - y1) * curveness;\n          var y2 = (y0 + y1) / 2 - (x1 - x0) * curveness;\n          path.quadraticCurveTo(x2, y2, x1, y1);\n        } else {\n          path.lineTo(x1, y1);\n        }\n      }\n    }\n  },\n  findDataIndex: function (x, y) {\n    var shape = this.shape;\n    var segs = shape.segs;\n    var curveness = shape.curveness;\n\n    if (shape.polyline) {\n      var dataIndex = 0;\n\n      for (var i = 0; i < segs.length;) {\n        var count = segs[i++];\n\n        if (count > 0) {\n          var x0 = segs[i++];\n          var y0 = segs[i++];\n\n          for (var k = 1; k < count; k++) {\n            var x1 = segs[i++];\n            var y1 = segs[i++];\n\n            if (lineContain.containStroke(x0, y0, x1, y1)) {\n              return dataIndex;\n            }\n          }\n        }\n\n        dataIndex++;\n      }\n    } else {\n      var dataIndex = 0;\n\n      for (var i = 0; i < segs.length;) {\n        var x0 = segs[i++];\n        var y0 = segs[i++];\n        var x1 = segs[i++];\n        var y1 = segs[i++];\n\n        if (curveness > 0) {\n          var x2 = (x0 + x1) / 2 - (y0 - y1) * curveness;\n          var y2 = (y0 + y1) / 2 - (x1 - x0) * curveness;\n\n          if (quadraticContain.containStroke(x0, y0, x2, y2, x1, y1)) {\n            return dataIndex;\n          }\n        } else {\n          if (lineContain.containStroke(x0, y0, x1, y1)) {\n            return dataIndex;\n          }\n        }\n\n        dataIndex++;\n      }\n    }\n\n    return -1;\n  }\n});\n\nfunction LargeLineDraw() {\n  this.group = new graphic.Group();\n}\n\nvar largeLineProto = LargeLineDraw.prototype;\n\nlargeLineProto.isPersistent = function () {\n  return !this._incremental;\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n */\n\n\nlargeLineProto.updateData = function (data) {\n  this.group.removeAll();\n  var lineEl = new LargeLineShape({\n    rectHover: true,\n    cursor: 'default'\n  });\n  lineEl.setShape({\n    segs: data.getLayout('linesPoints')\n  });\n\n  this._setCommon(lineEl, data); // Add back\n\n\n  this.group.add(lineEl);\n  this._incremental = null;\n};\n/**\n * @override\n */\n\n\nlargeLineProto.incrementalPrepareUpdate = function (data) {\n  this.group.removeAll();\n\n  this._clearIncremental();\n\n  if (data.count() > 5e5) {\n    if (!this._incremental) {\n      this._incremental = new IncrementalDisplayable({\n        silent: true\n      });\n    }\n\n    this.group.add(this._incremental);\n  } else {\n    this._incremental = null;\n  }\n};\n/**\n * @override\n */\n\n\nlargeLineProto.incrementalUpdate = function (taskParams, data) {\n  var lineEl = new LargeLineShape();\n  lineEl.setShape({\n    segs: data.getLayout('linesPoints')\n  });\n\n  this._setCommon(lineEl, data, !!this._incremental);\n\n  if (!this._incremental) {\n    lineEl.rectHover = true;\n    lineEl.cursor = 'default';\n    lineEl.__startIndex = taskParams.start;\n    this.group.add(lineEl);\n  } else {\n    this._incremental.addDisplayable(lineEl, true);\n  }\n};\n/**\n * @override\n */\n\n\nlargeLineProto.remove = function () {\n  this._clearIncremental();\n\n  this._incremental = null;\n  this.group.removeAll();\n};\n\nlargeLineProto._setCommon = function (lineEl, data, isIncremental) {\n  var hostModel = data.hostModel;\n  lineEl.setShape({\n    polyline: hostModel.get('polyline'),\n    curveness: hostModel.get('lineStyle.curveness')\n  });\n  lineEl.useStyle(hostModel.getModel('lineStyle').getLineStyle());\n  lineEl.style.strokeNoScale = true;\n  var visualColor = data.getVisual('color');\n\n  if (visualColor) {\n    lineEl.setStyle('stroke', visualColor);\n  }\n\n  lineEl.setStyle('fill');\n\n  if (!isIncremental) {\n    // Enable tooltip\n    // PENDING May have performance issue when path is extremely large\n    lineEl.seriesIndex = hostModel.seriesIndex;\n    lineEl.on('mousemove', function (e) {\n      lineEl.dataIndex = null;\n      var dataIndex = lineEl.findDataIndex(e.offsetX, e.offsetY);\n\n      if (dataIndex > 0) {\n        // Provide dataIndex for tooltip\n        lineEl.dataIndex = dataIndex + lineEl.__startIndex;\n      }\n    });\n  }\n};\n\nlargeLineProto._clearIncremental = function () {\n  var incremental = this._incremental;\n\n  if (incremental) {\n    incremental.clearDisplaybles();\n  }\n};\n\nvar _default = LargeLineDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\nvar LegendVisualProvider = require(\"../../visual/LegendVisualProvider\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar RadarSeries = SeriesModel.extend({\n  type: 'series.radar',\n  dependencies: ['radar'],\n  // Overwrite\n  init: function (option) {\n    RadarSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n  },\n  getInitialData: function (option, ecModel) {\n    return createListSimply(this, {\n      generateCoord: 'indicator_',\n      generateCoordCount: Infinity\n    });\n  },\n  formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n    var data = this.getData();\n    var coordSys = this.coordinateSystem;\n    var indicatorAxes = coordSys.getIndicatorAxes();\n    var name = this.getData().getName(dataIndex);\n    var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n    return encodeHTML(name === '' ? this.name : name) + newLine + zrUtil.map(indicatorAxes, function (axis, idx) {\n      var val = data.get(data.mapDimension(axis.dim), dataIndex);\n      return encodeHTML(axis.name + ' : ' + val);\n    }).join(newLine);\n  },\n\n  /**\n   * @implement\n   */\n  getTooltipPosition: function (dataIndex) {\n    if (dataIndex != null) {\n      var data = this.getData();\n      var coordSys = this.coordinateSystem;\n      var values = data.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }), dataIndex, true);\n\n      for (var i = 0, len = values.length; i < len; i++) {\n        if (!isNaN(values[i])) {\n          var indicatorAxes = coordSys.getIndicatorAxes();\n          return coordSys.coordToPoint(indicatorAxes[i].dataToCoord(values[i]), i);\n        }\n      }\n    }\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'radar',\n    legendHoverLink: true,\n    radarIndex: 0,\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    label: {\n      position: 'top'\n    },\n    // areaStyle: {\n    // },\n    // itemStyle: {}\n    symbol: 'emptyCircle',\n    symbolSize: 4 // symbolRotate: null\n\n  }\n});\nvar _default = RadarSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Component = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nComponent.registerSubTypeDefaulter('timeline', function () {\n  // Only slider now.\n  return 'slider';\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DataZoomModel = require(\"./DataZoomModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = DataZoomModel.extend({\n  type: 'dataZoom.inside',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    disabled: false,\n    // Whether disable this inside zoom.\n    zoomLock: false,\n    // Whether disable zoom but only pan.\n    zoomOnMouseWheel: true,\n    // Can be: true / false / 'shift' / 'ctrl' / 'alt'.\n    moveOnMouseMove: true,\n    // Can be: true / false / 'shift' / 'ctrl' / 'alt'.\n    moveOnMouseWheel: false,\n    // Can be: true / false / 'shift' / 'ctrl' / 'alt'.\n    preventDefaultMouseMove: true\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./lines/LinesSeries\");\n\nrequire(\"./lines/LinesView\");\n\nvar linesLayout = require(\"./lines/linesLayout\");\n\nvar linesVisual = require(\"./lines/linesVisual\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerLayout(linesLayout);\necharts.registerVisual(linesVisual);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Fix for \n// var Region = require('../Region');\n// var zrUtil = require('zrender/src/core/util');\n// var geoCoord = [126, 25];\nvar points = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]];\n\nfunction _default(mapType, region) {\n  if (mapType === 'china' && region.name === '') {\n    region.geometries.push({\n      type: 'polygon',\n      exterior: points[0]\n    });\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar PointerPath = require(\"./PointerPath\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar round = _number.round;\nvar linearMap = _number.linearMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction parsePosition(seriesModel, api) {\n  var center = seriesModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  var size = Math.min(width, height);\n  var cx = parsePercent(center[0], api.getWidth());\n  var cy = parsePercent(center[1], api.getHeight());\n  var r = parsePercent(seriesModel.get('radius'), size / 2);\n  return {\n    cx: cx,\n    cy: cy,\n    r: r\n  };\n}\n\nfunction formatLabel(label, labelFormatter) {\n  if (labelFormatter) {\n    if (typeof labelFormatter === 'string') {\n      label = labelFormatter.replace('{value}', label != null ? label : '');\n    } else if (typeof labelFormatter === 'function') {\n      label = labelFormatter(label);\n    }\n  }\n\n  return label;\n}\n\nvar PI2 = Math.PI * 2;\nvar GaugeView = ChartView.extend({\n  type: 'gauge',\n  render: function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n    var colorList = seriesModel.get('axisLine.lineStyle.color');\n    var posInfo = parsePosition(seriesModel, api);\n\n    this._renderMain(seriesModel, ecModel, api, colorList, posInfo);\n  },\n  dispose: function () {},\n  _renderMain: function (seriesModel, ecModel, api, colorList, posInfo) {\n    var group = this.group;\n    var axisLineModel = seriesModel.getModel('axisLine');\n    var lineStyleModel = axisLineModel.getModel('lineStyle');\n    var clockwise = seriesModel.get('clockwise');\n    var startAngle = -seriesModel.get('startAngle') / 180 * Math.PI;\n    var endAngle = -seriesModel.get('endAngle') / 180 * Math.PI;\n    var angleRangeSpan = (endAngle - startAngle) % PI2;\n    var prevEndAngle = startAngle;\n    var axisLineWidth = lineStyleModel.get('width');\n    var showAxis = axisLineModel.get('show');\n\n    for (var i = 0; showAxis && i < colorList.length; i++) {\n      // Clamp\n      var percent = Math.min(Math.max(colorList[i][0], 0), 1);\n      var endAngle = startAngle + angleRangeSpan * percent;\n      var sector = new graphic.Sector({\n        shape: {\n          startAngle: prevEndAngle,\n          endAngle: endAngle,\n          cx: posInfo.cx,\n          cy: posInfo.cy,\n          clockwise: clockwise,\n          r0: posInfo.r - axisLineWidth,\n          r: posInfo.r\n        },\n        silent: true\n      });\n      sector.setStyle({\n        fill: colorList[i][1]\n      });\n      sector.setStyle(lineStyleModel.getLineStyle( // Because we use sector to simulate arc\n      // so the properties for stroking are useless\n      ['color', 'borderWidth', 'borderColor']));\n      group.add(sector);\n      prevEndAngle = endAngle;\n    }\n\n    var getColor = function (percent) {\n      // Less than 0\n      if (percent <= 0) {\n        return colorList[0][1];\n      }\n\n      for (var i = 0; i < colorList.length; i++) {\n        if (colorList[i][0] >= percent && (i === 0 ? 0 : colorList[i - 1][0]) < percent) {\n          return colorList[i][1];\n        }\n      } // More than 1\n\n\n      return colorList[i - 1][1];\n    };\n\n    if (!clockwise) {\n      var tmp = startAngle;\n      startAngle = endAngle;\n      endAngle = tmp;\n    }\n\n    this._renderTicks(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise);\n\n    this._renderPointer(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise);\n\n    this._renderTitle(seriesModel, ecModel, api, getColor, posInfo);\n\n    this._renderDetail(seriesModel, ecModel, api, getColor, posInfo);\n  },\n  _renderTicks: function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise) {\n    var group = this.group;\n    var cx = posInfo.cx;\n    var cy = posInfo.cy;\n    var r = posInfo.r;\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var splitLineModel = seriesModel.getModel('splitLine');\n    var tickModel = seriesModel.getModel('axisTick');\n    var labelModel = seriesModel.getModel('axisLabel');\n    var splitNumber = seriesModel.get('splitNumber');\n    var subSplitNumber = tickModel.get('splitNumber');\n    var splitLineLen = parsePercent(splitLineModel.get('length'), r);\n    var tickLen = parsePercent(tickModel.get('length'), r);\n    var angle = startAngle;\n    var step = (endAngle - startAngle) / splitNumber;\n    var subStep = step / subSplitNumber;\n    var splitLineStyle = splitLineModel.getModel('lineStyle').getLineStyle();\n    var tickLineStyle = tickModel.getModel('lineStyle').getLineStyle();\n\n    for (var i = 0; i <= splitNumber; i++) {\n      var unitX = Math.cos(angle);\n      var unitY = Math.sin(angle); // Split line\n\n      if (splitLineModel.get('show')) {\n        var splitLine = new graphic.Line({\n          shape: {\n            x1: unitX * r + cx,\n            y1: unitY * r + cy,\n            x2: unitX * (r - splitLineLen) + cx,\n            y2: unitY * (r - splitLineLen) + cy\n          },\n          style: splitLineStyle,\n          silent: true\n        });\n\n        if (splitLineStyle.stroke === 'auto') {\n          splitLine.setStyle({\n            stroke: getColor(i / splitNumber)\n          });\n        }\n\n        group.add(splitLine);\n      } // Label\n\n\n      if (labelModel.get('show')) {\n        var label = formatLabel(round(i / splitNumber * (maxVal - minVal) + minVal), labelModel.get('formatter'));\n        var distance = labelModel.get('distance');\n        var autoColor = getColor(i / splitNumber);\n        group.add(new graphic.Text({\n          style: graphic.setTextStyle({}, labelModel, {\n            text: label,\n            x: unitX * (r - splitLineLen - distance) + cx,\n            y: unitY * (r - splitLineLen - distance) + cy,\n            textVerticalAlign: unitY < -0.4 ? 'top' : unitY > 0.4 ? 'bottom' : 'middle',\n            textAlign: unitX < -0.4 ? 'left' : unitX > 0.4 ? 'right' : 'center'\n          }, {\n            autoColor: autoColor\n          }),\n          silent: true\n        }));\n      } // Axis tick\n\n\n      if (tickModel.get('show') && i !== splitNumber) {\n        for (var j = 0; j <= subSplitNumber; j++) {\n          var unitX = Math.cos(angle);\n          var unitY = Math.sin(angle);\n          var tickLine = new graphic.Line({\n            shape: {\n              x1: unitX * r + cx,\n              y1: unitY * r + cy,\n              x2: unitX * (r - tickLen) + cx,\n              y2: unitY * (r - tickLen) + cy\n            },\n            silent: true,\n            style: tickLineStyle\n          });\n\n          if (tickLineStyle.stroke === 'auto') {\n            tickLine.setStyle({\n              stroke: getColor((i + j / subSplitNumber) / splitNumber)\n            });\n          }\n\n          group.add(tickLine);\n          angle += subStep;\n        }\n\n        angle -= subStep;\n      } else {\n        angle += step;\n      }\n    }\n  },\n  _renderPointer: function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise) {\n    var group = this.group;\n    var oldData = this._data;\n\n    if (!seriesModel.get('pointer.show')) {\n      // Remove old element\n      oldData && oldData.eachItemGraphicEl(function (el) {\n        group.remove(el);\n      });\n      return;\n    }\n\n    var valueExtent = [+seriesModel.get('min'), +seriesModel.get('max')];\n    var angleExtent = [startAngle, endAngle];\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    data.diff(oldData).add(function (idx) {\n      var pointer = new PointerPath({\n        shape: {\n          angle: startAngle\n        }\n      });\n      graphic.initProps(pointer, {\n        shape: {\n          angle: linearMap(data.get(valueDim, idx), valueExtent, angleExtent, true)\n        }\n      }, seriesModel);\n      group.add(pointer);\n      data.setItemGraphicEl(idx, pointer);\n    }).update(function (newIdx, oldIdx) {\n      var pointer = oldData.getItemGraphicEl(oldIdx);\n      graphic.updateProps(pointer, {\n        shape: {\n          angle: linearMap(data.get(valueDim, newIdx), valueExtent, angleExtent, true)\n        }\n      }, seriesModel);\n      group.add(pointer);\n      data.setItemGraphicEl(newIdx, pointer);\n    }).remove(function (idx) {\n      var pointer = oldData.getItemGraphicEl(idx);\n      group.remove(pointer);\n    }).execute();\n    data.eachItemGraphicEl(function (pointer, idx) {\n      var itemModel = data.getItemModel(idx);\n      var pointerModel = itemModel.getModel('pointer');\n      pointer.setShape({\n        x: posInfo.cx,\n        y: posInfo.cy,\n        width: parsePercent(pointerModel.get('width'), posInfo.r),\n        r: parsePercent(pointerModel.get('length'), posInfo.r)\n      });\n      pointer.useStyle(itemModel.getModel('itemStyle').getItemStyle());\n\n      if (pointer.style.fill === 'auto') {\n        pointer.setStyle('fill', getColor(linearMap(data.get(valueDim, idx), valueExtent, [0, 1], true)));\n      }\n\n      graphic.setHoverStyle(pointer, itemModel.getModel('emphasis.itemStyle').getItemStyle());\n    });\n    this._data = data;\n  },\n  _renderTitle: function (seriesModel, ecModel, api, getColor, posInfo) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var titleModel = seriesModel.getModel('title');\n\n    if (titleModel.get('show')) {\n      var offsetCenter = titleModel.get('offsetCenter');\n      var x = posInfo.cx + parsePercent(offsetCenter[0], posInfo.r);\n      var y = posInfo.cy + parsePercent(offsetCenter[1], posInfo.r);\n      var minVal = +seriesModel.get('min');\n      var maxVal = +seriesModel.get('max');\n      var value = seriesModel.getData().get(valueDim, 0);\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      this.group.add(new graphic.Text({\n        silent: true,\n        style: graphic.setTextStyle({}, titleModel, {\n          x: x,\n          y: y,\n          // FIXME First data name ?\n          text: data.getName(0),\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        }, {\n          autoColor: autoColor,\n          forceRich: true\n        })\n      }));\n    }\n  },\n  _renderDetail: function (seriesModel, ecModel, api, getColor, posInfo) {\n    var detailModel = seriesModel.getModel('detail');\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n\n    if (detailModel.get('show')) {\n      var offsetCenter = detailModel.get('offsetCenter');\n      var x = posInfo.cx + parsePercent(offsetCenter[0], posInfo.r);\n      var y = posInfo.cy + parsePercent(offsetCenter[1], posInfo.r);\n      var width = parsePercent(detailModel.get('width'), posInfo.r);\n      var height = parsePercent(detailModel.get('height'), posInfo.r);\n      var data = seriesModel.getData();\n      var value = data.get(data.mapDimension('value'), 0);\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      this.group.add(new graphic.Text({\n        silent: true,\n        style: graphic.setTextStyle({}, detailModel, {\n          x: x,\n          y: y,\n          text: formatLabel( // FIXME First data name ?\n          value, detailModel.get('formatter')),\n          textWidth: isNaN(width) ? null : width,\n          textHeight: isNaN(height) ? null : height,\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        }, {\n          autoColor: autoColor,\n          forceRich: true\n        })\n      }));\n    }\n  }\n});\nvar _default = GaugeView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./funnel/FunnelSeries\");\n\nrequire(\"./funnel/FunnelView\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar funnelLayout = require(\"./funnel/funnelLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerVisual(dataColor('funnel'));\necharts.registerLayout(funnelLayout);\necharts.registerProcessor(dataFilter('funnel'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ATTR = '\\0_ec_interaction_mutex';\n\nfunction take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\n\nfunction release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\n\nfunction isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\n\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n\n\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, function () {});\nexports.take = take;\nexports.release = release;\nexports.isTaken = isTaken;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar MapDraw = require(\"../../component/helper/MapDraw\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar HIGH_DOWN_PROP = '__seriesMapHighDown';\nvar RECORD_VERSION_PROP = '__seriesMapCallKey';\n\nvar _default = echarts.extendChartView({\n  type: 'map',\n  render: function (mapModel, ecModel, api, payload) {\n    // Not render if it is an toggleSelect action from self\n    if (payload && payload.type === 'mapToggleSelect' && payload.from === this.uid) {\n      return;\n    }\n\n    var group = this.group;\n    group.removeAll();\n\n    if (mapModel.getHostGeoModel()) {\n      return;\n    } // Not update map if it is an roam action from self\n\n\n    if (!(payload && payload.type === 'geoRoam' && payload.componentType === 'series' && payload.seriesId === mapModel.id)) {\n      if (mapModel.needsDrawMap) {\n        var mapDraw = this._mapDraw || new MapDraw(api, true);\n        group.add(mapDraw.group);\n        mapDraw.draw(mapModel, ecModel, api, this, payload);\n        this._mapDraw = mapDraw;\n      } else {\n        // Remove drawed map\n        this._mapDraw && this._mapDraw.remove();\n        this._mapDraw = null;\n      }\n    } else {\n      var mapDraw = this._mapDraw;\n      mapDraw && group.add(mapDraw.group);\n    }\n\n    mapModel.get('showLegendSymbol') && ecModel.getComponent('legend') && this._renderSymbols(mapModel, ecModel, api);\n  },\n  remove: function () {\n    this._mapDraw && this._mapDraw.remove();\n    this._mapDraw = null;\n    this.group.removeAll();\n  },\n  dispose: function () {\n    this._mapDraw && this._mapDraw.remove();\n    this._mapDraw = null;\n  },\n  _renderSymbols: function (mapModel, ecModel, api) {\n    var originalData = mapModel.originalData;\n    var group = this.group;\n    originalData.each(originalData.mapDimension('value'), function (value, originalDataIndex) {\n      if (isNaN(value)) {\n        return;\n      }\n\n      var layout = originalData.getItemLayout(originalDataIndex);\n\n      if (!layout || !layout.point) {\n        // Not exists in map\n        return;\n      }\n\n      var point = layout.point;\n      var offset = layout.offset;\n      var circle = new graphic.Circle({\n        style: {\n          // Because the special of map draw.\n          // Which needs statistic of multiple series and draw on one map.\n          // And each series also need a symbol with legend color\n          //\n          // Layout and visual are put one the different data\n          fill: mapModel.getData().getVisual('color')\n        },\n        shape: {\n          cx: point[0] + offset * 9,\n          cy: point[1],\n          r: 3\n        },\n        silent: true,\n        // Do not overlap the first series, on which labels are displayed.\n        z2: 8 + (!offset ? graphic.Z2_EMPHASIS_LIFT + 1 : 0)\n      }); // Only the series that has the first value on the same region is in charge of rendering the label.\n      // But consider the case:\n      // series: [\n      //     {id: 'X', type: 'map', map: 'm', {data: [{name: 'A', value: 11}, {name: 'B', {value: 22}]},\n      //     {id: 'Y', type: 'map', map: 'm', {data: [{name: 'A', value: 21}, {name: 'C', {value: 33}]}\n      // ]\n      // The offset `0` of item `A` is at series `X`, but of item `C` is at series `Y`.\n      // For backward compatibility, we follow the rule that render label `A` by the\n      // settings on series `X` but render label `C` by the settings on series `Y`.\n\n      if (!offset) {\n        var fullData = mapModel.mainSeries.getData();\n        var name = originalData.getName(originalDataIndex);\n        var fullIndex = fullData.indexOfName(name);\n        var itemModel = originalData.getItemModel(originalDataIndex);\n        var labelModel = itemModel.getModel('label');\n        var hoverLabelModel = itemModel.getModel('emphasis.label');\n        var regionGroup = fullData.getItemGraphicEl(fullIndex); // `getFormattedLabel` needs to use `getData` inside. Here\n        // `mapModel.getData()` is shallow cloned from `mainSeries.getData()`.\n        // FIXME\n        // If this is not the `mainSeries`, the item model (like label formatter)\n        // set on original data item will never get. But it has been working\n        // like that from the begining, and this scenario is rarely encountered.\n        // So it won't be fixed until have to.\n\n        var normalText = zrUtil.retrieve2(mapModel.getFormattedLabel(fullIndex, 'normal'), name);\n        var emphasisText = zrUtil.retrieve2(mapModel.getFormattedLabel(fullIndex, 'emphasis'), normalText);\n        var highDownRecord = regionGroup[HIGH_DOWN_PROP];\n        var recordVersion = Math.random(); // Prevent from register listeners duplicatedly when roaming.\n\n        if (!highDownRecord) {\n          highDownRecord = regionGroup[HIGH_DOWN_PROP] = {};\n          var onEmphasis = zrUtil.curry(onRegionHighDown, true);\n          var onNormal = zrUtil.curry(onRegionHighDown, false);\n          regionGroup.on('mouseover', onEmphasis).on('mouseout', onNormal).on('emphasis', onEmphasis).on('normal', onNormal);\n        } // Prevent removed regions effect current grapics.\n\n\n        regionGroup[RECORD_VERSION_PROP] = recordVersion;\n        zrUtil.extend(highDownRecord, {\n          recordVersion: recordVersion,\n          circle: circle,\n          labelModel: labelModel,\n          hoverLabelModel: hoverLabelModel,\n          emphasisText: emphasisText,\n          normalText: normalText\n        }); // FIXME\n        // Consider set option when emphasis.\n\n        enterRegionHighDown(highDownRecord, false);\n      }\n\n      group.add(circle);\n    });\n  }\n});\n\nfunction onRegionHighDown(toHighOrDown) {\n  var highDownRecord = this[HIGH_DOWN_PROP];\n\n  if (highDownRecord && highDownRecord.recordVersion === this[RECORD_VERSION_PROP]) {\n    enterRegionHighDown(highDownRecord, toHighOrDown);\n  }\n}\n\nfunction enterRegionHighDown(highDownRecord, toHighOrDown) {\n  var circle = highDownRecord.circle;\n  var labelModel = highDownRecord.labelModel;\n  var hoverLabelModel = highDownRecord.hoverLabelModel;\n  var emphasisText = highDownRecord.emphasisText;\n  var normalText = highDownRecord.normalText;\n\n  if (toHighOrDown) {\n    circle.style.extendFrom(graphic.setTextStyle({}, hoverLabelModel, {\n      text: hoverLabelModel.get('show') ? emphasisText : null\n    }, {\n      isRectText: true,\n      useInsideStyle: false\n    }, true)); // Make label upper than others if overlaps.\n\n    circle.__mapOriginalZ2 = circle.z2;\n    circle.z2 += graphic.Z2_EMPHASIS_LIFT;\n  } else {\n    graphic.setTextStyle(circle.style, labelModel, {\n      text: labelModel.get('show') ? normalText : null,\n      textPosition: labelModel.getShallow('position') || 'bottom'\n    }, {\n      isRectText: true,\n      useInsideStyle: false\n    }); // Trigger normalize style like padding.\n\n    circle.dirty(false);\n\n    if (circle.__mapOriginalZ2 != null) {\n      circle.z2 = circle.__mapOriginalZ2;\n      circle.__mapOriginalZ2 = null;\n    }\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar LargeSymbolDraw = require(\"../helper/LargeSymbolDraw\");\n\nvar pointsLayout = require(\"../../layout/points\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.extendChartView({\n  type: 'scatter',\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  },\n  incrementalRender: function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  },\n  updateTransform: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData(); // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n\n    this.group.dirty();\n\n    if (!this._finished || data.count() > 1e4 || !this._symbolDraw.isPersistent()) {\n      return {\n        update: true\n      };\n    } else {\n      var res = pointsLayout().reset(seriesModel);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count()\n        }, data);\n      }\n\n      this._symbolDraw.updateLayout(data);\n    }\n  },\n  _getClipShape: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  },\n  _updateSymbolDraw: function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new LargeSymbolDraw() : new SymbolDraw();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  },\n  dispose: function () {}\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar opacityAccessPath = ['lineStyle', 'normal', 'opacity'];\nvar _default = {\n  seriesType: 'parallel',\n  reset: function (seriesModel, ecModel, api) {\n    var itemStyleModel = seriesModel.getModel('itemStyle');\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var globalColors = ecModel.get('color');\n    var color = lineStyleModel.get('color') || itemStyleModel.get('color') || globalColors[seriesModel.seriesIndex % globalColors.length];\n    var inactiveOpacity = seriesModel.get('inactiveOpacity');\n    var activeOpacity = seriesModel.get('activeOpacity');\n    var lineStyle = seriesModel.getModel('lineStyle').getLineStyle();\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var opacityMap = {\n      normal: lineStyle.opacity,\n      active: activeOpacity,\n      inactive: inactiveOpacity\n    };\n    data.setVisual('color', color);\n\n    function progress(params, data) {\n      coordSys.eachActiveState(data, function (activeState, dataIndex) {\n        var opacity = opacityMap[activeState];\n\n        if (activeState === 'normal' && data.hasItemOption) {\n          var itemOpacity = data.getItemModel(dataIndex).get(opacityAccessPath, true);\n          itemOpacity != null && (opacity = itemOpacity);\n        }\n\n        data.setItemVisual(dataIndex, 'opacity', opacity);\n      }, params.start, params.end);\n    }\n\n    return {\n      progress: progress\n    };\n  }\n};\nmodule.exports = _default;","var env = require(\"../core/env\");\n\nvar _vector = require(\"../core/vector\");\n\nvar applyTransform = _vector.applyTransform;\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\nvar colorTool = require(\"../tool/color\");\n\nvar textContain = require(\"../contain/text\");\n\nvar textHelper = require(\"../graphic/helper/text\");\n\nvar RectText = require(\"../graphic/mixin/RectText\");\n\nvar Displayable = require(\"../graphic/Displayable\");\n\nvar ZImage = require(\"../graphic/Image\");\n\nvar Text = require(\"../graphic/Text\");\n\nvar Path = require(\"../graphic/Path\");\n\nvar PathProxy = require(\"../core/PathProxy\");\n\nvar Gradient = require(\"../graphic/Gradient\");\n\nvar vmlCore = require(\"./core\");\n\n// http://www.w3.org/TR/NOTE-VML\n// TODO Use proxy like svg instead of overwrite brush methods\nvar CMD = PathProxy.CMD;\nvar round = Math.round;\nvar sqrt = Math.sqrt;\nvar abs = Math.abs;\nvar cos = Math.cos;\nvar sin = Math.sin;\nvar mathMax = Math.max;\n\nif (!env.canvasSupported) {\n  var comma = ',';\n  var imageTransformPrefix = 'progid:DXImageTransform.Microsoft';\n  var Z = 21600;\n  var Z2 = Z / 2;\n  var ZLEVEL_BASE = 100000;\n  var Z_BASE = 1000;\n\n  var initRootElStyle = function (el) {\n    el.style.cssText = 'position:absolute;left:0;top:0;width:1px;height:1px;';\n    el.coordsize = Z + ',' + Z;\n    el.coordorigin = '0,0';\n  };\n\n  var encodeHtmlAttribute = function (s) {\n    return String(s).replace(/&/g, '&amp;').replace(/\"/g, '&quot;');\n  };\n\n  var rgb2Str = function (r, g, b) {\n    return 'rgb(' + [r, g, b].join(',') + ')';\n  };\n\n  var append = function (parent, child) {\n    if (child && parent && child.parentNode !== parent) {\n      parent.appendChild(child);\n    }\n  };\n\n  var remove = function (parent, child) {\n    if (child && parent && child.parentNode === parent) {\n      parent.removeChild(child);\n    }\n  };\n\n  var getZIndex = function (zlevel, z, z2) {\n    // z  [0, 1000]\n    return (parseFloat(zlevel) || 0) * ZLEVEL_BASE + (parseFloat(z) || 0) * Z_BASE + z2;\n  };\n\n  var parsePercent = textHelper.parsePercent;\n  /***************************************************\n   * PATH\n   **************************************************/\n\n  var setColorAndOpacity = function (el, color, opacity) {\n    var colorArr = colorTool.parse(color);\n    opacity = +opacity;\n\n    if (isNaN(opacity)) {\n      opacity = 1;\n    }\n\n    if (colorArr) {\n      el.color = rgb2Str(colorArr[0], colorArr[1], colorArr[2]);\n      el.opacity = opacity * colorArr[3];\n    }\n  };\n\n  var getColorAndAlpha = function (color) {\n    var colorArr = colorTool.parse(color);\n    return [rgb2Str(colorArr[0], colorArr[1], colorArr[2]), colorArr[3]];\n  };\n\n  var updateFillNode = function (el, style, zrEl) {\n    // TODO pattern\n    var fill = style.fill;\n\n    if (fill != null) {\n      // Modified from excanvas\n      if (fill instanceof Gradient) {\n        var gradientType;\n        var angle = 0;\n        var focus = [0, 0]; // additional offset\n\n        var shift = 0; // scale factor for offset\n\n        var expansion = 1;\n        var rect = zrEl.getBoundingRect();\n        var rectWidth = rect.width;\n        var rectHeight = rect.height;\n\n        if (fill.type === 'linear') {\n          gradientType = 'gradient';\n          var transform = zrEl.transform;\n          var p0 = [fill.x * rectWidth, fill.y * rectHeight];\n          var p1 = [fill.x2 * rectWidth, fill.y2 * rectHeight];\n\n          if (transform) {\n            applyTransform(p0, p0, transform);\n            applyTransform(p1, p1, transform);\n          }\n\n          var dx = p1[0] - p0[0];\n          var dy = p1[1] - p0[1];\n          angle = Math.atan2(dx, dy) * 180 / Math.PI; // The angle should be a non-negative number.\n\n          if (angle < 0) {\n            angle += 360;\n          } // Very small angles produce an unexpected result because they are\n          // converted to a scientific notation string.\n\n\n          if (angle < 1e-6) {\n            angle = 0;\n          }\n        } else {\n          gradientType = 'gradientradial';\n          var p0 = [fill.x * rectWidth, fill.y * rectHeight];\n          var transform = zrEl.transform;\n          var scale = zrEl.scale;\n          var width = rectWidth;\n          var height = rectHeight;\n          focus = [// Percent in bounding rect\n          (p0[0] - rect.x) / width, (p0[1] - rect.y) / height];\n\n          if (transform) {\n            applyTransform(p0, p0, transform);\n          }\n\n          width /= scale[0] * Z;\n          height /= scale[1] * Z;\n          var dimension = mathMax(width, height);\n          shift = 2 * 0 / dimension;\n          expansion = 2 * fill.r / dimension - shift;\n        } // We need to sort the color stops in ascending order by offset,\n        // otherwise IE won't interpret it correctly.\n\n\n        var stops = fill.colorStops.slice();\n        stops.sort(function (cs1, cs2) {\n          return cs1.offset - cs2.offset;\n        });\n        var length = stops.length; // Color and alpha list of first and last stop\n\n        var colorAndAlphaList = [];\n        var colors = [];\n\n        for (var i = 0; i < length; i++) {\n          var stop = stops[i];\n          var colorAndAlpha = getColorAndAlpha(stop.color);\n          colors.push(stop.offset * expansion + shift + ' ' + colorAndAlpha[0]);\n\n          if (i === 0 || i === length - 1) {\n            colorAndAlphaList.push(colorAndAlpha);\n          }\n        }\n\n        if (length >= 2) {\n          var color1 = colorAndAlphaList[0][0];\n          var color2 = colorAndAlphaList[1][0];\n          var opacity1 = colorAndAlphaList[0][1] * style.opacity;\n          var opacity2 = colorAndAlphaList[1][1] * style.opacity;\n          el.type = gradientType;\n          el.method = 'none';\n          el.focus = '100%';\n          el.angle = angle;\n          el.color = color1;\n          el.color2 = color2;\n          el.colors = colors.join(','); // When colors attribute is used, the meanings of opacity and o:opacity2\n          // are reversed.\n\n          el.opacity = opacity2; // FIXME g_o_:opacity ?\n\n          el.opacity2 = opacity1;\n        }\n\n        if (gradientType === 'radial') {\n          el.focusposition = focus.join(',');\n        }\n      } else {\n        // FIXME Change from Gradient fill to color fill\n        setColorAndOpacity(el, fill, style.opacity);\n      }\n    }\n  };\n\n  var updateStrokeNode = function (el, style) {\n    // if (style.lineJoin != null) {\n    //     el.joinstyle = style.lineJoin;\n    // }\n    // if (style.miterLimit != null) {\n    //     el.miterlimit = style.miterLimit * Z;\n    // }\n    // if (style.lineCap != null) {\n    //     el.endcap = style.lineCap;\n    // }\n    if (style.lineDash) {\n      el.dashstyle = style.lineDash.join(' ');\n    }\n\n    if (style.stroke != null && !(style.stroke instanceof Gradient)) {\n      setColorAndOpacity(el, style.stroke, style.opacity);\n    }\n  };\n\n  var updateFillAndStroke = function (vmlEl, type, style, zrEl) {\n    var isFill = type === 'fill';\n    var el = vmlEl.getElementsByTagName(type)[0]; // Stroke must have lineWidth\n\n    if (style[type] != null && style[type] !== 'none' && (isFill || !isFill && style.lineWidth)) {\n      vmlEl[isFill ? 'filled' : 'stroked'] = 'true'; // FIXME Remove before updating, or set `colors` will throw error\n\n      if (style[type] instanceof Gradient) {\n        remove(vmlEl, el);\n      }\n\n      if (!el) {\n        el = vmlCore.createNode(type);\n      }\n\n      isFill ? updateFillNode(el, style, zrEl) : updateStrokeNode(el, style);\n      append(vmlEl, el);\n    } else {\n      vmlEl[isFill ? 'filled' : 'stroked'] = 'false';\n      remove(vmlEl, el);\n    }\n  };\n\n  var points = [[], [], []];\n\n  var pathDataToString = function (path, m) {\n    var M = CMD.M;\n    var C = CMD.C;\n    var L = CMD.L;\n    var A = CMD.A;\n    var Q = CMD.Q;\n    var str = [];\n    var nPoint;\n    var cmdStr;\n    var cmd;\n    var i;\n    var xi;\n    var yi;\n    var data = path.data;\n    var dataLength = path.len();\n\n    for (i = 0; i < dataLength;) {\n      cmd = data[i++];\n      cmdStr = '';\n      nPoint = 0;\n\n      switch (cmd) {\n        case M:\n          cmdStr = ' m ';\n          nPoint = 1;\n          xi = data[i++];\n          yi = data[i++];\n          points[0][0] = xi;\n          points[0][1] = yi;\n          break;\n\n        case L:\n          cmdStr = ' l ';\n          nPoint = 1;\n          xi = data[i++];\n          yi = data[i++];\n          points[0][0] = xi;\n          points[0][1] = yi;\n          break;\n\n        case Q:\n        case C:\n          cmdStr = ' c ';\n          nPoint = 3;\n          var x1 = data[i++];\n          var y1 = data[i++];\n          var x2 = data[i++];\n          var y2 = data[i++];\n          var x3;\n          var y3;\n\n          if (cmd === Q) {\n            // Convert quadratic to cubic using degree elevation\n            x3 = x2;\n            y3 = y2;\n            x2 = (x2 + 2 * x1) / 3;\n            y2 = (y2 + 2 * y1) / 3;\n            x1 = (xi + 2 * x1) / 3;\n            y1 = (yi + 2 * y1) / 3;\n          } else {\n            x3 = data[i++];\n            y3 = data[i++];\n          }\n\n          points[0][0] = x1;\n          points[0][1] = y1;\n          points[1][0] = x2;\n          points[1][1] = y2;\n          points[2][0] = x3;\n          points[2][1] = y3;\n          xi = x3;\n          yi = y3;\n          break;\n\n        case A:\n          var x = 0;\n          var y = 0;\n          var sx = 1;\n          var sy = 1;\n          var angle = 0;\n\n          if (m) {\n            // Extract SRT from matrix\n            x = m[4];\n            y = m[5];\n            sx = sqrt(m[0] * m[0] + m[1] * m[1]);\n            sy = sqrt(m[2] * m[2] + m[3] * m[3]);\n            angle = Math.atan2(-m[1] / sy, m[0] / sx);\n          }\n\n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var startAngle = data[i++] + angle;\n          var endAngle = data[i++] + startAngle + angle; // FIXME\n          // var psi = data[i++];\n\n          i++;\n          var clockwise = data[i++];\n          var x0 = cx + cos(startAngle) * rx;\n          var y0 = cy + sin(startAngle) * ry;\n          var x1 = cx + cos(endAngle) * rx;\n          var y1 = cy + sin(endAngle) * ry;\n          var type = clockwise ? ' wa ' : ' at ';\n\n          if (Math.abs(x0 - x1) < 1e-4) {\n            // IE won't render arches drawn counter clockwise if x0 == x1.\n            if (Math.abs(endAngle - startAngle) > 1e-2) {\n              // Offset x0 by 1/80 of a pixel. Use something\n              // that can be represented in binary\n              if (clockwise) {\n                x0 += 270 / Z;\n              }\n            } else {\n              // Avoid case draw full circle\n              if (Math.abs(y0 - cy) < 1e-4) {\n                if (clockwise && x0 < cx || !clockwise && x0 > cx) {\n                  y1 -= 270 / Z;\n                } else {\n                  y1 += 270 / Z;\n                }\n              } else if (clockwise && y0 < cy || !clockwise && y0 > cy) {\n                x1 += 270 / Z;\n              } else {\n                x1 -= 270 / Z;\n              }\n            }\n          }\n\n          str.push(type, round(((cx - rx) * sx + x) * Z - Z2), comma, round(((cy - ry) * sy + y) * Z - Z2), comma, round(((cx + rx) * sx + x) * Z - Z2), comma, round(((cy + ry) * sy + y) * Z - Z2), comma, round((x0 * sx + x) * Z - Z2), comma, round((y0 * sy + y) * Z - Z2), comma, round((x1 * sx + x) * Z - Z2), comma, round((y1 * sy + y) * Z - Z2));\n          xi = x1;\n          yi = y1;\n          break;\n\n        case CMD.R:\n          var p0 = points[0];\n          var p1 = points[1]; // x0, y0\n\n          p0[0] = data[i++];\n          p0[1] = data[i++]; // x1, y1\n\n          p1[0] = p0[0] + data[i++];\n          p1[1] = p0[1] + data[i++];\n\n          if (m) {\n            applyTransform(p0, p0, m);\n            applyTransform(p1, p1, m);\n          }\n\n          p0[0] = round(p0[0] * Z - Z2);\n          p1[0] = round(p1[0] * Z - Z2);\n          p0[1] = round(p0[1] * Z - Z2);\n          p1[1] = round(p1[1] * Z - Z2);\n          str.push( // x0, y0\n          ' m ', p0[0], comma, p0[1], // x1, y0\n          ' l ', p1[0], comma, p0[1], // x1, y1\n          ' l ', p1[0], comma, p1[1], // x0, y1\n          ' l ', p0[0], comma, p1[1]);\n          break;\n\n        case CMD.Z:\n          // FIXME Update xi, yi\n          str.push(' x ');\n      }\n\n      if (nPoint > 0) {\n        str.push(cmdStr);\n\n        for (var k = 0; k < nPoint; k++) {\n          var p = points[k];\n          m && applyTransform(p, p, m); //  round \n\n          str.push(round(p[0] * Z - Z2), comma, round(p[1] * Z - Z2), k < nPoint - 1 ? comma : '');\n        }\n      }\n    }\n\n    return str.join('');\n  }; // Rewrite the original path method\n\n\n  Path.prototype.brushVML = function (vmlRoot) {\n    var style = this.style;\n    var vmlEl = this._vmlEl;\n\n    if (!vmlEl) {\n      vmlEl = vmlCore.createNode('shape');\n      initRootElStyle(vmlEl);\n      this._vmlEl = vmlEl;\n    }\n\n    updateFillAndStroke(vmlEl, 'fill', style, this);\n    updateFillAndStroke(vmlEl, 'stroke', style, this);\n    var m = this.transform;\n    var needTransform = m != null;\n    var strokeEl = vmlEl.getElementsByTagName('stroke')[0];\n\n    if (strokeEl) {\n      var lineWidth = style.lineWidth; // Get the line scale.\n      // Determinant of this.m_ means how much the area is enlarged by the\n      // transformation. So its square root can be used as a scale factor\n      // for width.\n\n      if (needTransform && !style.strokeNoScale) {\n        var det = m[0] * m[3] - m[1] * m[2];\n        lineWidth *= sqrt(abs(det));\n      }\n\n      strokeEl.weight = lineWidth + 'px';\n    }\n\n    var path = this.path || (this.path = new PathProxy());\n\n    if (this.__dirtyPath) {\n      path.beginPath();\n      path.subPixelOptimize = false;\n      this.buildPath(path, this.shape);\n      path.toStatic();\n      this.__dirtyPath = false;\n    }\n\n    vmlEl.path = pathDataToString(path, this.transform);\n    vmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2); // Append to root\n\n    append(vmlRoot, vmlEl); // Text\n\n    if (style.text != null) {\n      this.drawRectText(vmlRoot, this.getBoundingRect());\n    } else {\n      this.removeRectText(vmlRoot);\n    }\n  };\n\n  Path.prototype.onRemove = function (vmlRoot) {\n    remove(vmlRoot, this._vmlEl);\n    this.removeRectText(vmlRoot);\n  };\n\n  Path.prototype.onAdd = function (vmlRoot) {\n    append(vmlRoot, this._vmlEl);\n    this.appendRectText(vmlRoot);\n  };\n  /***************************************************\n   * IMAGE\n   **************************************************/\n\n\n  var isImage = function (img) {\n    // FIXME img instanceof Image  img IE8 \n    return typeof img === 'object' && img.tagName && img.tagName.toUpperCase() === 'IMG'; // return img instanceof Image;\n  }; // Rewrite the original path method\n\n\n  ZImage.prototype.brushVML = function (vmlRoot) {\n    var style = this.style;\n    var image = style.image; // Image original width, height\n\n    var ow;\n    var oh;\n\n    if (isImage(image)) {\n      var src = image.src;\n\n      if (src === this._imageSrc) {\n        ow = this._imageWidth;\n        oh = this._imageHeight;\n      } else {\n        var imageRuntimeStyle = image.runtimeStyle;\n        var oldRuntimeWidth = imageRuntimeStyle.width;\n        var oldRuntimeHeight = imageRuntimeStyle.height;\n        imageRuntimeStyle.width = 'auto';\n        imageRuntimeStyle.height = 'auto'; // get the original size\n\n        ow = image.width;\n        oh = image.height; // and remove overides\n\n        imageRuntimeStyle.width = oldRuntimeWidth;\n        imageRuntimeStyle.height = oldRuntimeHeight; // Caching image original width, height and src\n\n        this._imageSrc = src;\n        this._imageWidth = ow;\n        this._imageHeight = oh;\n      }\n\n      image = src;\n    } else {\n      if (image === this._imageSrc) {\n        ow = this._imageWidth;\n        oh = this._imageHeight;\n      }\n    }\n\n    if (!image) {\n      return;\n    }\n\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var dw = style.width;\n    var dh = style.height;\n    var sw = style.sWidth;\n    var sh = style.sHeight;\n    var sx = style.sx || 0;\n    var sy = style.sy || 0;\n    var hasCrop = sw && sh;\n    var vmlEl = this._vmlEl;\n\n    if (!vmlEl) {\n      // FIXME  group  left, top  0 \n      // vmlEl = vmlCore.createNode('group');\n      vmlEl = vmlCore.doc.createElement('div');\n      initRootElStyle(vmlEl);\n      this._vmlEl = vmlEl;\n    }\n\n    var vmlElStyle = vmlEl.style;\n    var hasRotation = false;\n    var m;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    if (this.transform) {\n      m = this.transform;\n      scaleX = sqrt(m[0] * m[0] + m[1] * m[1]);\n      scaleY = sqrt(m[2] * m[2] + m[3] * m[3]);\n      hasRotation = m[1] || m[2];\n    }\n\n    if (hasRotation) {\n      // If filters are necessary (rotation exists), create them\n      // filters are bog-slow, so only create them if abbsolutely necessary\n      // The following check doesn't account for skews (which don't exist\n      // in the canvas spec (yet) anyway.\n      // From excanvas\n      var p0 = [x, y];\n      var p1 = [x + dw, y];\n      var p2 = [x, y + dh];\n      var p3 = [x + dw, y + dh];\n      applyTransform(p0, p0, m);\n      applyTransform(p1, p1, m);\n      applyTransform(p2, p2, m);\n      applyTransform(p3, p3, m);\n      var maxX = mathMax(p0[0], p1[0], p2[0], p3[0]);\n      var maxY = mathMax(p0[1], p1[1], p2[1], p3[1]);\n      var transformFilter = [];\n      transformFilter.push('M11=', m[0] / scaleX, comma, 'M12=', m[2] / scaleY, comma, 'M21=', m[1] / scaleX, comma, 'M22=', m[3] / scaleY, comma, 'Dx=', round(x * scaleX + m[4]), comma, 'Dy=', round(y * scaleY + m[5]));\n      vmlElStyle.padding = '0 ' + round(maxX) + 'px ' + round(maxY) + 'px 0'; // FIXME DXImageTransform  IE11 \n\n      vmlElStyle.filter = imageTransformPrefix + '.Matrix(' + transformFilter.join('') + ', SizingMethod=clip)';\n    } else {\n      if (m) {\n        x = x * scaleX + m[4];\n        y = y * scaleY + m[5];\n      }\n\n      vmlElStyle.filter = '';\n      vmlElStyle.left = round(x) + 'px';\n      vmlElStyle.top = round(y) + 'px';\n    }\n\n    var imageEl = this._imageEl;\n    var cropEl = this._cropEl;\n\n    if (!imageEl) {\n      imageEl = vmlCore.doc.createElement('div');\n      this._imageEl = imageEl;\n    }\n\n    var imageELStyle = imageEl.style;\n\n    if (hasCrop) {\n      // Needs know image original width and height\n      if (!(ow && oh)) {\n        var tmpImage = new Image();\n        var self = this;\n\n        tmpImage.onload = function () {\n          tmpImage.onload = null;\n          ow = tmpImage.width;\n          oh = tmpImage.height; // Adjust image width and height to fit the ratio destinationSize / sourceSize\n\n          imageELStyle.width = round(scaleX * ow * dw / sw) + 'px';\n          imageELStyle.height = round(scaleY * oh * dh / sh) + 'px'; // Caching image original width, height and src\n\n          self._imageWidth = ow;\n          self._imageHeight = oh;\n          self._imageSrc = image;\n        };\n\n        tmpImage.src = image;\n      } else {\n        imageELStyle.width = round(scaleX * ow * dw / sw) + 'px';\n        imageELStyle.height = round(scaleY * oh * dh / sh) + 'px';\n      }\n\n      if (!cropEl) {\n        cropEl = vmlCore.doc.createElement('div');\n        cropEl.style.overflow = 'hidden';\n        this._cropEl = cropEl;\n      }\n\n      var cropElStyle = cropEl.style;\n      cropElStyle.width = round((dw + sx * dw / sw) * scaleX);\n      cropElStyle.height = round((dh + sy * dh / sh) * scaleY);\n      cropElStyle.filter = imageTransformPrefix + '.Matrix(Dx=' + -sx * dw / sw * scaleX + ',Dy=' + -sy * dh / sh * scaleY + ')';\n\n      if (!cropEl.parentNode) {\n        vmlEl.appendChild(cropEl);\n      }\n\n      if (imageEl.parentNode !== cropEl) {\n        cropEl.appendChild(imageEl);\n      }\n    } else {\n      imageELStyle.width = round(scaleX * dw) + 'px';\n      imageELStyle.height = round(scaleY * dh) + 'px';\n      vmlEl.appendChild(imageEl);\n\n      if (cropEl && cropEl.parentNode) {\n        vmlEl.removeChild(cropEl);\n        this._cropEl = null;\n      }\n    }\n\n    var filterStr = '';\n    var alpha = style.opacity;\n\n    if (alpha < 1) {\n      filterStr += '.Alpha(opacity=' + round(alpha * 100) + ') ';\n    }\n\n    filterStr += imageTransformPrefix + '.AlphaImageLoader(src=' + image + ', SizingMethod=scale)';\n    imageELStyle.filter = filterStr;\n    vmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2); // Append to root\n\n    append(vmlRoot, vmlEl); // Text\n\n    if (style.text != null) {\n      this.drawRectText(vmlRoot, this.getBoundingRect());\n    }\n  };\n\n  ZImage.prototype.onRemove = function (vmlRoot) {\n    remove(vmlRoot, this._vmlEl);\n    this._vmlEl = null;\n    this._cropEl = null;\n    this._imageEl = null;\n    this.removeRectText(vmlRoot);\n  };\n\n  ZImage.prototype.onAdd = function (vmlRoot) {\n    append(vmlRoot, this._vmlEl);\n    this.appendRectText(vmlRoot);\n  };\n  /***************************************************\n   * TEXT\n   **************************************************/\n\n\n  var DEFAULT_STYLE_NORMAL = 'normal';\n  var fontStyleCache = {};\n  var fontStyleCacheCount = 0;\n  var MAX_FONT_CACHE_SIZE = 100;\n  var fontEl = document.createElement('div');\n\n  var getFontStyle = function (fontString) {\n    var fontStyle = fontStyleCache[fontString];\n\n    if (!fontStyle) {\n      // Clear cache\n      if (fontStyleCacheCount > MAX_FONT_CACHE_SIZE) {\n        fontStyleCacheCount = 0;\n        fontStyleCache = {};\n      }\n\n      var style = fontEl.style;\n      var fontFamily;\n\n      try {\n        style.font = fontString;\n        fontFamily = style.fontFamily.split(',')[0];\n      } catch (e) {}\n\n      fontStyle = {\n        style: style.fontStyle || DEFAULT_STYLE_NORMAL,\n        variant: style.fontVariant || DEFAULT_STYLE_NORMAL,\n        weight: style.fontWeight || DEFAULT_STYLE_NORMAL,\n        size: parseFloat(style.fontSize || 12) | 0,\n        family: fontFamily || 'Microsoft YaHei'\n      };\n      fontStyleCache[fontString] = fontStyle;\n      fontStyleCacheCount++;\n    }\n\n    return fontStyle;\n  };\n\n  var textMeasureEl; // Overwrite measure text method\n\n  textContain.$override('measureText', function (text, textFont) {\n    var doc = vmlCore.doc;\n\n    if (!textMeasureEl) {\n      textMeasureEl = doc.createElement('div');\n      textMeasureEl.style.cssText = 'position:absolute;top:-20000px;left:0;' + 'padding:0;margin:0;border:none;white-space:pre;';\n      vmlCore.doc.body.appendChild(textMeasureEl);\n    }\n\n    try {\n      textMeasureEl.style.font = textFont;\n    } catch (ex) {// Ignore failures to set to invalid font.\n    }\n\n    textMeasureEl.innerHTML = ''; // Don't use innerHTML or innerText because they allow markup/whitespace.\n\n    textMeasureEl.appendChild(doc.createTextNode(text));\n    return {\n      width: textMeasureEl.offsetWidth\n    };\n  });\n  var tmpRect = new BoundingRect();\n\n  var drawRectText = function (vmlRoot, rect, textRect, fromTextEl) {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n    var text = style.text; // Convert to string\n\n    text != null && (text += '');\n\n    if (!text) {\n      return;\n    } // Convert rich text to plain text. Rich text is not supported in\n    // IE8-, but tags in rich text template will be removed.\n\n\n    if (style.rich) {\n      var contentBlock = textContain.parseRichText(text, style);\n      text = [];\n\n      for (var i = 0; i < contentBlock.lines.length; i++) {\n        var tokens = contentBlock.lines[i].tokens;\n        var textLine = [];\n\n        for (var j = 0; j < tokens.length; j++) {\n          textLine.push(tokens[j].text);\n        }\n\n        text.push(textLine.join(''));\n      }\n\n      text = text.join('\\n');\n    }\n\n    var x;\n    var y;\n    var align = style.textAlign;\n    var verticalAlign = style.textVerticalAlign;\n    var fontStyle = getFontStyle(style.font); // FIXME encodeHtmlAttribute ?\n\n    var font = fontStyle.style + ' ' + fontStyle.variant + ' ' + fontStyle.weight + ' ' + fontStyle.size + 'px \"' + fontStyle.family + '\"';\n    textRect = textRect || textContain.getBoundingRect(text, font, align, verticalAlign, style.textPadding, style.textLineHeight); // Transform rect to view space\n\n    var m = this.transform; // Ignore transform for text in other element\n\n    if (m && !fromTextEl) {\n      tmpRect.copy(rect);\n      tmpRect.applyTransform(m);\n      rect = tmpRect;\n    }\n\n    if (!fromTextEl) {\n      var textPosition = style.textPosition; // Text position represented by coord\n\n      if (textPosition instanceof Array) {\n        x = rect.x + parsePercent(textPosition[0], rect.width);\n        y = rect.y + parsePercent(textPosition[1], rect.height);\n        align = align || 'left';\n      } else {\n        var res = this.calculateTextPosition ? this.calculateTextPosition({}, style, rect) : textContain.calculateTextPosition({}, style, rect);\n        x = res.x;\n        y = res.y; // Default align and baseline when has textPosition\n\n        align = align || res.textAlign;\n        verticalAlign = verticalAlign || res.textVerticalAlign;\n      }\n    } else {\n      x = rect.x;\n      y = rect.y;\n    }\n\n    x = textContain.adjustTextX(x, textRect.width, align);\n    y = textContain.adjustTextY(y, textRect.height, verticalAlign); // Force baseline 'middle'\n\n    y += textRect.height / 2; // var fontSize = fontStyle.size;\n    // 1.75 is an arbitrary number, as there is no info about the text baseline\n    // switch (baseline) {\n    // case 'hanging':\n    // case 'top':\n    //     y += fontSize / 1.75;\n    //     break;\n    //     case 'middle':\n    //         break;\n    //     default:\n    //     // case null:\n    //     // case 'alphabetic':\n    //     // case 'ideographic':\n    //     // case 'bottom':\n    //         y -= fontSize / 2.25;\n    //         break;\n    // }\n    // switch (align) {\n    //     case 'left':\n    //         break;\n    //     case 'center':\n    //         x -= textRect.width / 2;\n    //         break;\n    //     case 'right':\n    //         x -= textRect.width;\n    //         break;\n    // case 'end':\n    // align = elementStyle.direction == 'ltr' ? 'right' : 'left';\n    // break;\n    // case 'start':\n    // align = elementStyle.direction == 'rtl' ? 'right' : 'left';\n    // break;\n    // default:\n    //     align = 'left';\n    // }\n\n    var createNode = vmlCore.createNode;\n    var textVmlEl = this._textVmlEl;\n    var pathEl;\n    var textPathEl;\n    var skewEl;\n\n    if (!textVmlEl) {\n      textVmlEl = createNode('line');\n      pathEl = createNode('path');\n      textPathEl = createNode('textpath');\n      skewEl = createNode('skew'); // FIXME Why here is not cammel case\n      // Align 'center' seems wrong\n\n      textPathEl.style['v-text-align'] = 'left';\n      initRootElStyle(textVmlEl);\n      pathEl.textpathok = true;\n      textPathEl.on = true;\n      textVmlEl.from = '0 0';\n      textVmlEl.to = '1000 0.05';\n      append(textVmlEl, skewEl);\n      append(textVmlEl, pathEl);\n      append(textVmlEl, textPathEl);\n      this._textVmlEl = textVmlEl;\n    } else {\n      //  appendChild \n      skewEl = textVmlEl.firstChild;\n      pathEl = skewEl.nextSibling;\n      textPathEl = pathEl.nextSibling;\n    }\n\n    var coords = [x, y];\n    var textVmlElStyle = textVmlEl.style; // Ignore transform for text in other element\n\n    if (m && fromTextEl) {\n      applyTransform(coords, coords, m);\n      skewEl.on = true;\n      skewEl.matrix = m[0].toFixed(3) + comma + m[2].toFixed(3) + comma + m[1].toFixed(3) + comma + m[3].toFixed(3) + ',0,0'; // Text position\n\n      skewEl.offset = (round(coords[0]) || 0) + ',' + (round(coords[1]) || 0); // Left top point as origin\n\n      skewEl.origin = '0 0';\n      textVmlElStyle.left = '0px';\n      textVmlElStyle.top = '0px';\n    } else {\n      skewEl.on = false;\n      textVmlElStyle.left = round(x) + 'px';\n      textVmlElStyle.top = round(y) + 'px';\n    }\n\n    textPathEl.string = encodeHtmlAttribute(text); // TODO\n\n    try {\n      textPathEl.style.font = font;\n    } // Error font format\n    catch (e) {}\n\n    updateFillAndStroke(textVmlEl, 'fill', {\n      fill: style.textFill,\n      opacity: style.opacity\n    }, this);\n    updateFillAndStroke(textVmlEl, 'stroke', {\n      stroke: style.textStroke,\n      opacity: style.opacity,\n      lineDash: style.lineDash || null // style.lineDash can be `false`.\n\n    }, this);\n    textVmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2); // Attached to root\n\n    append(vmlRoot, textVmlEl);\n  };\n\n  var removeRectText = function (vmlRoot) {\n    remove(vmlRoot, this._textVmlEl);\n    this._textVmlEl = null;\n  };\n\n  var appendRectText = function (vmlRoot) {\n    append(vmlRoot, this._textVmlEl);\n  };\n\n  var list = [RectText, Displayable, ZImage, Path, Text]; // In case Displayable has been mixed in RectText\n\n  for (var i = 0; i < list.length; i++) {\n    var proto = list[i].prototype;\n    proto.drawRectText = drawRectText;\n    proto.removeRectText = removeRectText;\n    proto.appendRectText = appendRectText;\n  }\n\n  Text.prototype.brushVML = function (vmlRoot) {\n    var style = this.style;\n\n    if (style.text != null) {\n      this.drawRectText(vmlRoot, {\n        x: style.x || 0,\n        y: style.y || 0,\n        width: 0,\n        height: 0\n      }, this.getBoundingRect(), true);\n    } else {\n      this.removeRectText(vmlRoot);\n    }\n  };\n\n  Text.prototype.onRemove = function (vmlRoot) {\n    this.removeRectText(vmlRoot);\n  };\n\n  Text.prototype.onAdd = function (vmlRoot) {\n    this.appendRectText(vmlRoot);\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar polygonContain = require(\"zrender/lib/contain/polygon\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _graphic = require(\"../../util/graphic\");\n\nvar linePolygonIntersect = _graphic.linePolygonIntersect;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Key of the first level is brushType: `line`, `rect`, `polygon`.\n// Key of the second level is chart element type: `point`, `rect`.\n// See moudule:echarts/component/helper/BrushController\n// function param:\n//      {Object} itemLayout fetch from data.getItemLayout(dataIndex)\n//      {Object} selectors {point: selector, rect: selector, ...}\n//      {Object} area {range: [[], [], ..], boudingRect}\n// function return:\n//      {boolean} Whether in the given brush.\nvar selector = {\n  lineX: getLineSelectors(0),\n  lineY: getLineSelectors(1),\n  rect: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.intersect(itemLayout);\n    }\n  },\n  polygon: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]) && polygonContain.contain(area.range, itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      var points = area.range;\n\n      if (!itemLayout || points.length <= 1) {\n        return false;\n      }\n\n      var x = itemLayout.x;\n      var y = itemLayout.y;\n      var width = itemLayout.width;\n      var height = itemLayout.height;\n      var p = points[0];\n\n      if (polygonContain.contain(points, x, y) || polygonContain.contain(points, x + width, y) || polygonContain.contain(points, x, y + height) || polygonContain.contain(points, x + width, y + height) || BoundingRect.create(itemLayout).contain(p[0], p[1]) || linePolygonIntersect(x, y, x + width, y, points) || linePolygonIntersect(x, y, x, y + height, points) || linePolygonIntersect(x + width, y, x + width, y + height, points) || linePolygonIntersect(x, y + height, x + width, y + height, points)) {\n        return true;\n      }\n    }\n  }\n};\n\nfunction getLineSelectors(xyIndex) {\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  return {\n    point: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var p = itemLayout[xyIndex];\n        return inLineRange(p, range);\n      }\n    },\n    rect: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var layoutRange = [itemLayout[xy[xyIndex]], itemLayout[xy[xyIndex]] + itemLayout[wh[xyIndex]]];\n        layoutRange[1] < layoutRange[0] && layoutRange.reverse();\n        return inLineRange(layoutRange[0], range) || inLineRange(layoutRange[1], range) || inLineRange(range[0], layoutRange) || inLineRange(range[1], layoutRange);\n      }\n    }\n  };\n}\n\nfunction inLineRange(p, range) {\n  return range[0] <= p && p <= range[1];\n}\n\nvar _default = selector;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar MarkerModel = require(\"./MarkerModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = MarkerModel.extend({\n  type: 'markPoint',\n  defaultOption: {\n    zlevel: 0,\n    z: 5,\n    symbol: 'pin',\n    symbolSize: 50,\n    //symbolRotate: 0,\n    //symbolOffset: [0, 0]\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'inside'\n    },\n    itemStyle: {\n      borderWidth: 2\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentModel({\n  type: 'tooltip',\n  dependencies: ['axisPointer'],\n  defaultOption: {\n    zlevel: 0,\n    z: 60,\n    show: true,\n    // tooltip\n    showContent: true,\n    // 'trigger' only works on coordinate system.\n    // 'item' | 'axis' | 'none'\n    trigger: 'item',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: 'mousemove|click',\n    alwaysShowContent: false,\n    displayMode: 'single',\n    // 'single' | 'multipleByCoordSys'\n    renderMode: 'auto',\n    // 'auto' | 'html' | 'richText'\n    // 'auto': use html by default, and use non-html if `document` is not defined\n    // 'html': use html for tooltip\n    // 'richText': use canvas, svg, and etc. for tooltip\n    //  {Array} | {Function}\n    // position: null\n    // Consider triggered from axisPointer handle, verticalAlign should be 'middle'\n    // align: null,\n    // verticalAlign: null,\n    //  content  viewRect  false \n    confine: false,\n    // {string}Template  {Function}\n    // formatter: null\n    showDelay: 0,\n    // ms\n    hideDelay: 100,\n    // s\n    transitionDuration: 0.4,\n    enterable: false,\n    // 0.7\n    backgroundColor: 'rgba(50,50,50,0.7)',\n    // \n    borderColor: '#333',\n    // px4\n    borderRadius: 4,\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // Extra css text\n    extraCssText: '',\n    // \n    axisPointer: {\n      // \n      // 'line' | 'shadow' | 'cross'\n      type: 'line',\n      // type  line  tooltip line \n      //  'x' | 'y' | 'angle' | 'radius' | 'auto'\n      //  'auto' category  x \n      //  angle \n      axis: 'auto',\n      animation: 'auto',\n      animationDurationUpdate: 200,\n      animationEasingUpdate: 'exponentialOut',\n      crossStyle: {\n        color: '#999',\n        width: 1,\n        type: 'dashed',\n        // TODO formatter\n        textStyle: {} // lineStyle and shadowStyle should not be specified here,\n        // otherwise it will always override those styles on option.axisPointer.\n\n      }\n    },\n    textStyle: {\n      color: '#fff',\n      fontSize: 14\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar Axis = require(\"../Axis\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\n\nfunction AngleAxis(scale, angleExtent) {\n  angleExtent = angleExtent || [0, 360];\n  Axis.call(this, 'angle', scale, angleExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = 'category';\n}\n\nAngleAxis.prototype = {\n  constructor: AngleAxis,\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  },\n  dataToAngle: Axis.prototype.dataToCoord,\n  angleToData: Axis.prototype.coordToData,\n\n  /**\n   * Only be called in category axis.\n   * Angle axis uses text height to decide interval\n   *\n   * @override\n   * @return {number} Auto interval for cateogry axis tick and label\n   */\n  calculateCategoryInterval: function () {\n    var axis = this;\n    var labelModel = axis.getLabelModel();\n    var ordinalScale = axis.scale;\n    var ordinalExtent = ordinalScale.getExtent(); // Providing this method is for optimization:\n    // avoid generating a long array by `getTicks`\n    // in large category data case.\n\n    var tickCount = ordinalScale.count();\n\n    if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n      return 0;\n    }\n\n    var tickValue = ordinalExtent[0];\n    var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n    var unitH = Math.abs(unitSpan); // Not precise, just use height as text width\n    // and each distance from axis line yet.\n\n    var rect = textContain.getBoundingRect(tickValue, labelModel.getFont(), 'center', 'top');\n    var maxH = Math.max(rect.height, 7);\n    var dh = maxH / unitH; // 0/0 is NaN, 1/0 is Infinity.\n\n    isNaN(dh) && (dh = Infinity);\n    var interval = Math.max(0, Math.floor(dh));\n    var cache = inner(axis.model);\n    var lastAutoInterval = cache.lastAutoInterval;\n    var lastTickCount = cache.lastTickCount; // Use cache to keep interval stable while moving zoom window,\n    // otherwise the calculated interval might jitter when the zoom\n    // window size is close to the interval-changing size.\n\n    if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1 // Always choose the bigger one, otherwise the critical\n    // point is not the same when zooming in or zooming out.\n    && lastAutoInterval > interval) {\n      interval = lastAutoInterval;\n    } // Only update cache if cache not used, otherwise the\n    // changing of interval is too insensitive.\n    else {\n        cache.lastTickCount = tickCount;\n        cache.lastAutoInterval = interval;\n      }\n\n    return interval;\n  }\n};\nzrUtil.inherits(AngleAxis, Axis);\nvar _default = AngleAxis;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar Tree = require(\"../../data/Tree\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _treeHelper = require(\"../helper/treeHelper\");\n\nvar wrapTreePathInfo = _treeHelper.wrapTreePathInfo;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.sunburst',\n\n  /**\n   * @type {module:echarts/data/Tree~Node}\n   */\n  _viewRoot: null,\n  getInitialData: function (option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levelModels = zrUtil.map(option.levels || [], function (levelDefine) {\n      return new Model(levelDefine, this, ecModel);\n    }, this); // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n\n    var tree = Tree.createTree(root, this, beforeLink);\n\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n        var levelModel = levelModels[node.depth];\n        levelModel && (model.parentModel = levelModel);\n        return model;\n      });\n    }\n\n    return tree.data;\n  },\n  optionUpdated: function () {\n    this.resetViewRoot();\n  },\n\n  /*\n   * @override\n   */\n  getDataParams: function (dataIndex) {\n    var params = SeriesModel.prototype.getDataParams.apply(this, arguments);\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treePathInfo = wrapTreePathInfo(node, this);\n    return params;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    // \n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // \n    clockwise: true,\n    startAngle: 90,\n    // 0\n    minAngle: 0,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // Policy of highlighting pieces when hover on one\n    // Valid values: 'none' (for not downplay others), 'descendant',\n    // 'ancestor', 'self'\n    highlightPolicy: 'descendant',\n    // 'rootToNode', 'link', or false\n    nodeClick: 'rootToNode',\n    renderLabelForZeroData: false,\n    label: {\n      // could be: 'radial', 'tangential', or 'none'\n      rotate: 'radial',\n      show: true,\n      opacity: 1,\n      // 'left' is for inner side of inside, and 'right' is for outter\n      // side for inside\n      align: 'center',\n      position: 'inside',\n      distance: 5,\n      silent: true\n    },\n    itemStyle: {\n      borderWidth: 1,\n      borderColor: 'white',\n      borderType: 'solid',\n      shadowBlur: 0,\n      shadowColor: 'rgba(0, 0, 0, 0.2)',\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    },\n    highlight: {\n      itemStyle: {\n        opacity: 1\n      }\n    },\n    downplay: {\n      itemStyle: {\n        opacity: 0.5\n      },\n      label: {\n        opacity: 0.6\n      }\n    },\n    // Animation type canbe expansion, scale\n    animationType: 'expansion',\n    animationDuration: 1000,\n    animationDurationUpdate: 500,\n    animationEasing: 'cubicOut',\n    data: [],\n    levels: [],\n\n    /**\n     * Sort order.\n     *\n     * Valid values: 'desc', 'asc', null, or callback function.\n     * 'desc' and 'asc' for descend and ascendant order;\n     * null for not sorting;\n     * example of callback function:\n     * function(nodeA, nodeB) {\n     *     return nodeA.getValue() - nodeB.getValue();\n     * }\n     */\n    sort: 'desc'\n  },\n  getViewRoot: function () {\n    return this._viewRoot;\n  },\n\n  /**\n   * @param {module:echarts/data/Tree~Node} [viewRoot]\n   */\n  resetViewRoot: function (viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getRawData().tree.root;\n\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  }\n});\n/**\n * @param {Object} dataNode\n */\n\n\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value;\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  } // Value should not less than 0.\n\n\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['x', 'y'], function (dim, dimIdx) {\n    var axis = this.getAxis(dim);\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n  }, this);\n}\n\nfunction _default(coordSys) {\n  var rect = coordSys.grid.getRect();\n  return {\n    coordSys: {\n      // The name exposed to user is always 'cartesian2d' but not 'grid'.\n      type: 'cartesian2d',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (data) {\n        // do not provide \"out\" param\n        return coordSys.dataToPoint(data);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./bar/PictorialBarSeries\");\n\nrequire(\"./bar/PictorialBarView\");\n\nvar _barGrid = require(\"../layout/barGrid\");\n\nvar layout = _barGrid.layout;\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerLayout(zrUtil.curry(layout, 'pictorialBar'));\necharts.registerVisual(visualSymbol('pictorialBar', 'roundRect'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar VISUAL_PRIORITY = echarts.PRIORITY.VISUAL.COMPONENT;\necharts.registerVisual(VISUAL_PRIORITY, {\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var resetDefines = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      var pipelineContext = seriesModel.pipelineContext;\n\n      if (!visualMapModel.isTargetSeries(seriesModel) || pipelineContext && pipelineContext.large) {\n        return;\n      }\n\n      resetDefines.push(visualSolution.incrementalApplyVisual(visualMapModel.stateList, visualMapModel.targetVisuals, zrUtil.bind(visualMapModel.getValueState, visualMapModel), visualMapModel.getDataDimension(seriesModel.getData())));\n    });\n    return resetDefines;\n  }\n}); // Only support color.\n\necharts.registerVisual(VISUAL_PRIORITY, {\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var visualMetaList = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      if (visualMapModel.isTargetSeries(seriesModel)) {\n        var visualMeta = visualMapModel.getVisualMeta(zrUtil.bind(getColorVisual, null, seriesModel, visualMapModel)) || {\n          stops: [],\n          outerColors: []\n        };\n        var concreteDim = visualMapModel.getDataDimension(data);\n        var dimInfo = data.getDimensionInfo(concreteDim);\n\n        if (dimInfo != null) {\n          // visualMeta.dimension should be dimension index, but not concrete dimension.\n          visualMeta.dimension = dimInfo.index;\n          visualMetaList.push(visualMeta);\n        }\n      }\n    }); // console.log(JSON.stringify(visualMetaList.map(a => a.stops)));\n\n    seriesModel.getData().setVisual('visualMeta', visualMetaList);\n  }\n}); // FIXME\n// performance and export for heatmap?\n// value can be Infinity or -Infinity\n\nfunction getColorVisual(seriesModel, visualMapModel, value, valueState) {\n  var mappings = visualMapModel.targetVisuals[valueState];\n  var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n  var resultVisual = {\n    color: seriesModel.getData().getVisual('color') // default color.\n\n  };\n\n  for (var i = 0, len = visualTypes.length; i < len; i++) {\n    var type = visualTypes[i];\n    var mapping = mappings[type === 'opacity' ? '__alphaForOpacity' : type];\n    mapping && mapping.applyVisual(value, getVisual, setVisual);\n  }\n\n  return resultVisual.color;\n\n  function getVisual(key) {\n    return resultVisual[key];\n  }\n\n  function setVisual(key, value) {\n    resultVisual[key] = value;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _circularLayoutHelper = require(\"./circularLayoutHelper\");\n\nvar circularLayout = _circularLayoutHelper.circularLayout;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    if (seriesModel.get('layout') === 'circular') {\n      circularLayout(seriesModel, 'symbolSize');\n    }\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar createDimensions = require(\"../../data/helper/createDimensions\");\n\nvar _dimensionHelper = require(\"../../data/helper/dimensionHelper\");\n\nvar getDimensionTypeByAxis = _dimensionHelper.getDimensionTypeByAxis;\n\nvar List = require(\"../../data/List\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _model = require(\"../../util/model\");\n\nvar groupData = _model.groupData;\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\nvar LegendVisualProvider = require(\"../../visual/LegendVisualProvider\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar DATA_NAME_INDEX = 2;\nvar ThemeRiverSeries = SeriesModel.extend({\n  type: 'series.themeRiver',\n  dependencies: ['singleAxis'],\n\n  /**\n   * @readOnly\n   * @type {module:zrender/core/util#HashMap}\n   */\n  nameMap: null,\n\n  /**\n   * @override\n   */\n  init: function (option) {\n    // eslint-disable-next-line\n    ThemeRiverSeries.superApply(this, 'init', arguments); // Put this function here is for the sake of consistency of code style.\n    // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n  },\n\n  /**\n   * If there is no value of a certain point in the time for some event,set it value to 0.\n   *\n   * @param {Array} data  initial data in the option\n   * @return {Array}\n   */\n  fixData: function (data) {\n    var rawDataLength = data.length;\n    /**\n     * Make sure every layer data get the same keys.\n     * The value index tells which layer has visited.\n     * {\n     *  2014/01/01: -1\n     * }\n     */\n\n    var timeValueKeys = {}; // grouped data by name\n\n    var groupResult = groupData(data, function (item) {\n      if (!timeValueKeys.hasOwnProperty(item[0])) {\n        timeValueKeys[item[0]] = -1;\n      }\n\n      return item[2];\n    });\n    var layData = [];\n    groupResult.buckets.each(function (items, key) {\n      layData.push({\n        name: key,\n        dataList: items\n      });\n    });\n    var layerNum = layData.length;\n\n    for (var k = 0; k < layerNum; ++k) {\n      var name = layData[k].name;\n\n      for (var j = 0; j < layData[k].dataList.length; ++j) {\n        var timeValue = layData[k].dataList[j][0];\n        timeValueKeys[timeValue] = k;\n      }\n\n      for (var timeValue in timeValueKeys) {\n        if (timeValueKeys.hasOwnProperty(timeValue) && timeValueKeys[timeValue] !== k) {\n          timeValueKeys[timeValue] = k;\n          data[rawDataLength] = [];\n          data[rawDataLength][0] = timeValue;\n          data[rawDataLength][1] = 0;\n          data[rawDataLength][2] = name;\n          rawDataLength++;\n        }\n      }\n    }\n\n    return data;\n  },\n\n  /**\n   * @override\n   * @param  {Object} option  the initial option that user gived\n   * @param  {module:echarts/model/Model} ecModel  the model object for themeRiver option\n   * @return {module:echarts/data/List}\n   */\n  getInitialData: function (option, ecModel) {\n    var singleAxisModel = ecModel.queryComponents({\n      mainType: 'singleAxis',\n      index: this.get('singleAxisIndex'),\n      id: this.get('singleAxisId')\n    })[0];\n    var axisType = singleAxisModel.get('type'); // filter the data item with the value of label is undefined\n\n    var filterData = zrUtil.filter(option.data, function (dataItem) {\n      return dataItem[2] !== undefined;\n    }); // ??? TODO design a stage to transfer data for themeRiver and lines?\n\n    var data = this.fixData(filterData || []);\n    var nameList = [];\n    var nameMap = this.nameMap = zrUtil.createHashMap();\n    var count = 0;\n\n    for (var i = 0; i < data.length; ++i) {\n      nameList.push(data[i][DATA_NAME_INDEX]);\n\n      if (!nameMap.get(data[i][DATA_NAME_INDEX])) {\n        nameMap.set(data[i][DATA_NAME_INDEX], count);\n        count++;\n      }\n    }\n\n    var dimensionsInfo = createDimensions(data, {\n      coordDimensions: ['single'],\n      dimensionsDefine: [{\n        name: 'time',\n        type: getDimensionTypeByAxis(axisType)\n      }, {\n        name: 'value',\n        type: 'float'\n      }, {\n        name: 'name',\n        type: 'ordinal'\n      }],\n      encodeDefine: {\n        single: 0,\n        value: 1,\n        itemName: 2\n      }\n    });\n    var list = new List(dimensionsInfo, this);\n    list.initData(data);\n    return list;\n  },\n\n  /**\n   * The raw data is divided into multiple layers and each layer\n   *     has same name.\n   *\n   * @return {Array.<Array.<number>>}\n   */\n  getLayerSeries: function () {\n    var data = this.getData();\n    var lenCount = data.count();\n    var indexArr = [];\n\n    for (var i = 0; i < lenCount; ++i) {\n      indexArr[i] = i;\n    }\n\n    var timeDim = data.mapDimension('single'); // data group by name\n\n    var groupResult = groupData(indexArr, function (index) {\n      return data.get('name', index);\n    });\n    var layerSeries = [];\n    groupResult.buckets.each(function (items, key) {\n      items.sort(function (index1, index2) {\n        return data.get(timeDim, index1) - data.get(timeDim, index2);\n      });\n      layerSeries.push({\n        name: key,\n        indices: items\n      });\n    });\n    return layerSeries;\n  },\n\n  /**\n   * Get data indices for show tooltip content\n    * @param {Array.<string>|string} dim  single coordinate dimension\n   * @param {number} value axis value\n   * @param {module:echarts/coord/single/SingleAxis} baseAxis  single Axis used\n   *     the themeRiver.\n   * @return {Object} {dataIndices, nestestValue}\n   */\n  getAxisTooltipData: function (dim, value, baseAxis) {\n    if (!zrUtil.isArray(dim)) {\n      dim = dim ? [dim] : [];\n    }\n\n    var data = this.getData();\n    var layerSeries = this.getLayerSeries();\n    var indices = [];\n    var layerNum = layerSeries.length;\n    var nestestValue;\n\n    for (var i = 0; i < layerNum; ++i) {\n      var minDist = Number.MAX_VALUE;\n      var nearestIdx = -1;\n      var pointNum = layerSeries[i].indices.length;\n\n      for (var j = 0; j < pointNum; ++j) {\n        var theValue = data.get(dim[0], layerSeries[i].indices[j]);\n        var dist = Math.abs(theValue - value);\n\n        if (dist <= minDist) {\n          nestestValue = theValue;\n          minDist = dist;\n          nearestIdx = layerSeries[i].indices[j];\n        }\n      }\n\n      indices.push(nearestIdx);\n    }\n\n    return {\n      dataIndices: indices,\n      nestestValue: nestestValue\n    };\n  },\n\n  /**\n   * @override\n   * @param {number} dataIndex  index of data\n   */\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var htmlName = data.getName(dataIndex);\n    var htmlValue = data.get(data.mapDimension('value'), dataIndex);\n\n    if (isNaN(htmlValue) || htmlValue == null) {\n      htmlValue = '-';\n    }\n\n    return encodeHTML(htmlName + ' : ' + htmlValue);\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'singleAxis',\n    // gap in axis's orthogonal orientation\n    boundaryGap: ['10%', '10%'],\n    // legendHoverLink: true,\n    singleAxisIndex: 0,\n    animationEasing: 'linear',\n    label: {\n      margin: 4,\n      show: true,\n      position: 'left',\n      color: '#000',\n      fontSize: 11\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  }\n});\nvar _default = ThemeRiverSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar LineDraw = require(\"../helper/LineDraw\");\n\nvar EffectLine = require(\"../helper/EffectLine\");\n\nvar Line = require(\"../helper/Line\");\n\nvar Polyline = require(\"../helper/Polyline\");\n\nvar EffectPolyline = require(\"../helper/EffectPolyline\");\n\nvar LargeLineDraw = require(\"../helper/LargeLineDraw\");\n\nvar linesLayout = require(\"./linesLayout\");\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createClipPath = _createClipPathFromCoordSys.createClipPath;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendChartView({\n  type: 'lines',\n  init: function () {},\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var lineDraw = this._updateLineDraw(data, seriesModel);\n\n    var zlevel = seriesModel.get('zlevel');\n    var trailLength = seriesModel.get('effect.trailLength');\n    var zr = api.getZr(); // Avoid the drag cause ghost shadow\n    // FIXME Better way ?\n    // SVG doesn't support\n\n    var isSvg = zr.painter.getType() === 'svg';\n\n    if (!isSvg) {\n      zr.painter.getLayer(zlevel).clear(true);\n    } // Config layer with motion blur\n\n\n    if (this._lastZlevel != null && !isSvg) {\n      zr.configLayer(this._lastZlevel, {\n        motionBlur: false\n      });\n    }\n\n    if (this._showEffect(seriesModel) && trailLength) {\n      if (!isSvg) {\n        zr.configLayer(zlevel, {\n          motionBlur: true,\n          lastFrameAlpha: Math.max(Math.min(trailLength / 10 + 0.9, 1), 0)\n        });\n      }\n    }\n\n    lineDraw.updateData(data);\n    var clipPath = seriesModel.get('clip', true) && createClipPath(seriesModel.coordinateSystem, false, seriesModel);\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n\n    this._lastZlevel = zlevel;\n    this._finished = true;\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var lineDraw = this._updateLineDraw(data, seriesModel);\n\n    lineDraw.incrementalPrepareUpdate(data);\n\n    this._clearLayer(api);\n\n    this._finished = false;\n  },\n  incrementalRender: function (taskParams, seriesModel, ecModel) {\n    this._lineDraw.incrementalUpdate(taskParams, seriesModel.getData());\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  },\n  updateTransform: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var pipelineContext = seriesModel.pipelineContext;\n\n    if (!this._finished || pipelineContext.large || pipelineContext.progressiveRender) {\n      // TODO Don't have to do update in large mode. Only do it when there are millions of data.\n      return {\n        update: true\n      };\n    } else {\n      // TODO Use same logic with ScatterView.\n      // Manually update layout\n      var res = linesLayout.reset(seriesModel);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count()\n        }, data);\n      }\n\n      this._lineDraw.updateLayout();\n\n      this._clearLayer(api);\n    }\n  },\n  _updateLineDraw: function (data, seriesModel) {\n    var lineDraw = this._lineDraw;\n\n    var hasEffect = this._showEffect(seriesModel);\n\n    var isPolyline = !!seriesModel.get('polyline');\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!lineDraw || hasEffect !== this._hasEffet || isPolyline !== this._isPolyline || isLargeDraw !== this._isLargeDraw) {\n      if (lineDraw) {\n        lineDraw.remove();\n      }\n\n      lineDraw = this._lineDraw = isLargeDraw ? new LargeLineDraw() : new LineDraw(isPolyline ? hasEffect ? EffectPolyline : Polyline : hasEffect ? EffectLine : Line);\n      this._hasEffet = hasEffect;\n      this._isPolyline = isPolyline;\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(lineDraw.group);\n    return lineDraw;\n  },\n  _showEffect: function (seriesModel) {\n    return !!seriesModel.get('effect.show');\n  },\n  _clearLayer: function (api) {\n    // Not use motion when dragging or zooming\n    var zr = api.getZr();\n    var isSvg = zr.painter.getType() === 'svg';\n\n    if (!isSvg && this._lastZlevel != null) {\n      zr.painter.getLayer(this._lastZlevel).clear(true);\n    }\n  },\n  remove: function (ecModel, api) {\n    this._lineDraw && this._lineDraw.remove();\n    this._lineDraw = null; // Clear motion when lineDraw is removed\n\n    this._clearLayer(api);\n  },\n  dispose: function () {}\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar DEFAULT_TOOLBOX_BTNS = ['rect', 'polygon', 'keep', 'clear'];\n\nfunction _default(option, isNew) {\n  var brushComponents = option && option.brush;\n\n  if (!zrUtil.isArray(brushComponents)) {\n    brushComponents = brushComponents ? [brushComponents] : [];\n  }\n\n  if (!brushComponents.length) {\n    return;\n  }\n\n  var brushComponentSpecifiedBtns = [];\n  zrUtil.each(brushComponents, function (brushOpt) {\n    var tbs = brushOpt.hasOwnProperty('toolbox') ? brushOpt.toolbox : [];\n\n    if (tbs instanceof Array) {\n      brushComponentSpecifiedBtns = brushComponentSpecifiedBtns.concat(tbs);\n    }\n  });\n  var toolbox = option && option.toolbox;\n\n  if (zrUtil.isArray(toolbox)) {\n    toolbox = toolbox[0];\n  }\n\n  if (!toolbox) {\n    toolbox = {\n      feature: {}\n    };\n    option.toolbox = [toolbox];\n  }\n\n  var toolboxFeature = toolbox.feature || (toolbox.feature = {});\n  var toolboxBrush = toolboxFeature.brush || (toolboxFeature.brush = {});\n  var brushTypes = toolboxBrush.type || (toolboxBrush.type = []);\n  brushTypes.push.apply(brushTypes, brushComponentSpecifiedBtns);\n  removeDuplicate(brushTypes);\n\n  if (isNew && !brushTypes.length) {\n    brushTypes.push.apply(brushTypes, DEFAULT_TOOLBOX_BTNS);\n  }\n}\n\nfunction removeDuplicate(arr) {\n  var map = {};\n  zrUtil.each(arr, function (val) {\n    map[val] = 1;\n  });\n  arr.length = 0;\n  zrUtil.each(map, function (flag, val) {\n    arr.push(val);\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"../coord/cartesian/AxisModel\");\n\nrequire(\"./axis/CartesianAxisView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\nvar helper = require(\"../helper/treeHelper\");\n\nvar Breadcrumb = require(\"./Breadcrumb\");\n\nvar RoamController = require(\"../../component/helper/RoamController\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar animationUtil = require(\"../../util/animation\");\n\nvar makeStyleMapper = require(\"../../model/mixin/makeStyleMapper\");\n\nvar _format = require(\"../../util/format\");\n\nvar windowOpen = _format.windowOpen;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar bind = zrUtil.bind;\nvar Group = graphic.Group;\nvar Rect = graphic.Rect;\nvar each = zrUtil.each;\nvar DRAG_THRESHOLD = 3;\nvar PATH_LABEL_NOAMAL = ['label'];\nvar PATH_LABEL_EMPHASIS = ['emphasis', 'label'];\nvar PATH_UPPERLABEL_NORMAL = ['upperLabel'];\nvar PATH_UPPERLABEL_EMPHASIS = ['emphasis', 'upperLabel'];\nvar Z_BASE = 10; // Should bigger than every z.\n\nvar Z_BG = 1;\nvar Z_CONTENT = 2;\nvar getItemStyleEmphasis = makeStyleMapper([['fill', 'color'], // `borderColor` and `borderWidth` has been occupied,\n// so use `stroke` to indicate the stroke of the rect.\n['stroke', 'strokeColor'], ['lineWidth', 'strokeWidth'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n\nvar getItemStyleNormal = function (model) {\n  // Normal style props should include emphasis style props.\n  var itemStyle = getItemStyleEmphasis(model); // Clear styles set by emphasis.\n\n  itemStyle.stroke = itemStyle.fill = itemStyle.lineWidth = null;\n  return itemStyle;\n};\n\nvar _default = echarts.extendChartView({\n  type: 'treemap',\n\n  /**\n   * @override\n   */\n  init: function (o, api) {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this._containerGroup;\n    /**\n     * @private\n     * @type {Object.<string, Array.<module:zrender/container/Group>>}\n     */\n\n    this._storage = createStorage();\n    /**\n     * @private\n     * @type {module:echarts/data/Tree}\n     */\n\n    this._oldTree;\n    /**\n     * @private\n     * @type {module:echarts/chart/treemap/Breadcrumb}\n     */\n\n    this._breadcrumb;\n    /**\n     * @private\n     * @type {module:echarts/component/helper/RoamController}\n     */\n\n    this._controller;\n    /**\n     * 'ready', 'animating'\n     * @private\n     */\n\n    this._state = 'ready';\n  },\n\n  /**\n   * @override\n   */\n  render: function (seriesModel, ecModel, api, payload) {\n    var models = ecModel.findComponents({\n      mainType: 'series',\n      subType: 'treemap',\n      query: payload\n    });\n\n    if (zrUtil.indexOf(models, seriesModel) < 0) {\n      return;\n    }\n\n    this.seriesModel = seriesModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    var types = ['treemapZoomToNode', 'treemapRootToNode'];\n    var targetInfo = helper.retrieveTargetInfo(payload, types, seriesModel);\n    var payloadType = payload && payload.type;\n    var layoutInfo = seriesModel.layoutInfo;\n    var isInit = !this._oldTree;\n    var thisStorage = this._storage; // Mark new root when action is treemapRootToNode.\n\n    var reRoot = payloadType === 'treemapRootToNode' && targetInfo && thisStorage ? {\n      rootNodeGroup: thisStorage.nodeGroup[targetInfo.node.getRawIndex()],\n      direction: payload.direction\n    } : null;\n\n    var containerGroup = this._giveContainerGroup(layoutInfo);\n\n    var renderResult = this._doRender(containerGroup, seriesModel, reRoot);\n\n    !isInit && (!payloadType || payloadType === 'treemapZoomToNode' || payloadType === 'treemapRootToNode') ? this._doAnimation(containerGroup, renderResult, seriesModel, reRoot) : renderResult.renderFinally();\n\n    this._resetController(api);\n\n    this._renderBreadcrumb(seriesModel, api, targetInfo);\n  },\n\n  /**\n   * @private\n   */\n  _giveContainerGroup: function (layoutInfo) {\n    var containerGroup = this._containerGroup;\n\n    if (!containerGroup) {\n      // FIXME\n      // containerGroupclipclip\n      containerGroup = this._containerGroup = new Group();\n\n      this._initEvents(containerGroup);\n\n      this.group.add(containerGroup);\n    }\n\n    containerGroup.attr('position', [layoutInfo.x, layoutInfo.y]);\n    return containerGroup;\n  },\n\n  /**\n   * @private\n   */\n  _doRender: function (containerGroup, seriesModel, reRoot) {\n    var thisTree = seriesModel.getData().tree;\n    var oldTree = this._oldTree; // Clear last shape records.\n\n    var lastsForAnimation = createStorage();\n    var thisStorage = createStorage();\n    var oldStorage = this._storage;\n    var willInvisibleEls = [];\n    var doRenderNode = zrUtil.curry(renderNode, seriesModel, thisStorage, oldStorage, reRoot, lastsForAnimation, willInvisibleEls); // Notice: when thisTree and oldTree are the same tree (see list.cloneShallow),\n    // the oldTree is actually losted, so we can not find all of the old graphic\n    // elements from tree. So we use this stragegy: make element storage, move\n    // from old storage to new storage, clear old storage.\n\n    dualTravel(thisTree.root ? [thisTree.root] : [], oldTree && oldTree.root ? [oldTree.root] : [], containerGroup, thisTree === oldTree || !oldTree, 0); // Process all removing.\n\n    var willDeleteEls = clearStorage(oldStorage);\n    this._oldTree = thisTree;\n    this._storage = thisStorage;\n    return {\n      lastsForAnimation: lastsForAnimation,\n      willDeleteEls: willDeleteEls,\n      renderFinally: renderFinally\n    };\n\n    function dualTravel(thisViewChildren, oldViewChildren, parentGroup, sameTree, depth) {\n      // When 'render' is triggered by action,\n      // 'this' and 'old' may be the same tree,\n      // we use rawIndex in that case.\n      if (sameTree) {\n        oldViewChildren = thisViewChildren;\n        each(thisViewChildren, function (child, index) {\n          !child.isRemoved() && processNode(index, index);\n        });\n      } // Diff hierarchically (diff only in each subtree, but not whole).\n      // because, consistency of view is important.\n      else {\n          new DataDiffer(oldViewChildren, thisViewChildren, getKey, getKey).add(processNode).update(processNode).remove(zrUtil.curry(processNode, null)).execute();\n        }\n\n      function getKey(node) {\n        // Identify by name or raw index.\n        return node.getId();\n      }\n\n      function processNode(newIndex, oldIndex) {\n        var thisNode = newIndex != null ? thisViewChildren[newIndex] : null;\n        var oldNode = oldIndex != null ? oldViewChildren[oldIndex] : null;\n        var group = doRenderNode(thisNode, oldNode, parentGroup, depth);\n        group && dualTravel(thisNode && thisNode.viewChildren || [], oldNode && oldNode.viewChildren || [], group, sameTree, depth + 1);\n      }\n    }\n\n    function clearStorage(storage) {\n      var willDeleteEls = createStorage();\n      storage && each(storage, function (store, storageName) {\n        var delEls = willDeleteEls[storageName];\n        each(store, function (el) {\n          el && (delEls.push(el), el.__tmWillDelete = 1);\n        });\n      });\n      return willDeleteEls;\n    }\n\n    function renderFinally() {\n      each(willDeleteEls, function (els) {\n        each(els, function (el) {\n          el.parent && el.parent.remove(el);\n        });\n      });\n      each(willInvisibleEls, function (el) {\n        el.invisible = true; // Setting invisible is for optimizing, so no need to set dirty,\n        // just mark as invisible.\n\n        el.dirty();\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _doAnimation: function (containerGroup, renderResult, seriesModel, reRoot) {\n    if (!seriesModel.get('animation')) {\n      return;\n    }\n\n    var duration = seriesModel.get('animationDurationUpdate');\n    var easing = seriesModel.get('animationEasing');\n    var animationWrap = animationUtil.createWrap(); // Make delete animations.\n\n    each(renderResult.willDeleteEls, function (store, storageName) {\n      each(store, function (el, rawIndex) {\n        if (el.invisible) {\n          return;\n        }\n\n        var parent = el.parent; // Always has parent, and parent is nodeGroup.\n\n        var target;\n\n        if (reRoot && reRoot.direction === 'drillDown') {\n          target = parent === reRoot.rootNodeGroup // This is the content element of view root.\n          // Only `content` will enter this branch, because\n          // `background` and `nodeGroup` will not be deleted.\n          ? {\n            shape: {\n              x: 0,\n              y: 0,\n              width: parent.__tmNodeWidth,\n              height: parent.__tmNodeHeight\n            },\n            style: {\n              opacity: 0\n            } // Others.\n\n          } : {\n            style: {\n              opacity: 0\n            }\n          };\n        } else {\n          var targetX = 0;\n          var targetY = 0;\n\n          if (!parent.__tmWillDelete) {\n            // Let node animate to right-bottom corner, cooperating with fadeout,\n            // which is appropriate for user understanding.\n            // Divided by 2 for reRoot rolling up effect.\n            targetX = parent.__tmNodeWidth / 2;\n            targetY = parent.__tmNodeHeight / 2;\n          }\n\n          target = storageName === 'nodeGroup' ? {\n            position: [targetX, targetY],\n            style: {\n              opacity: 0\n            }\n          } : {\n            shape: {\n              x: targetX,\n              y: targetY,\n              width: 0,\n              height: 0\n            },\n            style: {\n              opacity: 0\n            }\n          };\n        }\n\n        target && animationWrap.add(el, target, duration, easing);\n      });\n    }); // Make other animations\n\n    each(this._storage, function (store, storageName) {\n      each(store, function (el, rawIndex) {\n        var last = renderResult.lastsForAnimation[storageName][rawIndex];\n        var target = {};\n\n        if (!last) {\n          return;\n        }\n\n        if (storageName === 'nodeGroup') {\n          if (last.old) {\n            target.position = el.position.slice();\n            el.attr('position', last.old);\n          }\n        } else {\n          if (last.old) {\n            target.shape = zrUtil.extend({}, el.shape);\n            el.setShape(last.old);\n          }\n\n          if (last.fadein) {\n            el.setStyle('opacity', 0);\n            target.style = {\n              opacity: 1\n            };\n          } // When animation is stopped for succedent animation starting,\n          // el.style.opacity might not be 1\n          else if (el.style.opacity !== 1) {\n              target.style = {\n                opacity: 1\n              };\n            }\n        }\n\n        animationWrap.add(el, target, duration, easing);\n      });\n    }, this);\n    this._state = 'animating';\n    animationWrap.done(bind(function () {\n      this._state = 'ready';\n      renderResult.renderFinally();\n    }, this)).start();\n  },\n\n  /**\n   * @private\n   */\n  _resetController: function (api) {\n    var controller = this._controller; // Init controller.\n\n    if (!controller) {\n      controller = this._controller = new RoamController(api.getZr());\n      controller.enable(this.seriesModel.get('roam'));\n      controller.on('pan', bind(this._onPan, this));\n      controller.on('zoom', bind(this._onZoom, this));\n    }\n\n    var rect = new BoundingRect(0, 0, api.getWidth(), api.getHeight());\n    controller.setPointerChecker(function (e, x, y) {\n      return rect.contain(x, y);\n    });\n  },\n\n  /**\n   * @private\n   */\n  _clearController: function () {\n    var controller = this._controller;\n\n    if (controller) {\n      controller.dispose();\n      controller = null;\n    }\n  },\n\n  /**\n   * @private\n   */\n  _onPan: function (e) {\n    if (this._state !== 'animating' && (Math.abs(e.dx) > DRAG_THRESHOLD || Math.abs(e.dy) > DRAG_THRESHOLD)) {\n      // These param must not be cached.\n      var root = this.seriesModel.getData().tree.root;\n\n      if (!root) {\n        return;\n      }\n\n      var rootLayout = root.getLayout();\n\n      if (!rootLayout) {\n        return;\n      }\n\n      this.api.dispatchAction({\n        type: 'treemapMove',\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        rootRect: {\n          x: rootLayout.x + e.dx,\n          y: rootLayout.y + e.dy,\n          width: rootLayout.width,\n          height: rootLayout.height\n        }\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _onZoom: function (e) {\n    var mouseX = e.originX;\n    var mouseY = e.originY;\n\n    if (this._state !== 'animating') {\n      // These param must not be cached.\n      var root = this.seriesModel.getData().tree.root;\n\n      if (!root) {\n        return;\n      }\n\n      var rootLayout = root.getLayout();\n\n      if (!rootLayout) {\n        return;\n      }\n\n      var rect = new BoundingRect(rootLayout.x, rootLayout.y, rootLayout.width, rootLayout.height);\n      var layoutInfo = this.seriesModel.layoutInfo; // Transform mouse coord from global to containerGroup.\n\n      mouseX -= layoutInfo.x;\n      mouseY -= layoutInfo.y; // Scale root bounding rect.\n\n      var m = matrix.create();\n      matrix.translate(m, m, [-mouseX, -mouseY]);\n      matrix.scale(m, m, [e.scale, e.scale]);\n      matrix.translate(m, m, [mouseX, mouseY]);\n      rect.applyTransform(m);\n      this.api.dispatchAction({\n        type: 'treemapRender',\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        rootRect: {\n          x: rect.x,\n          y: rect.y,\n          width: rect.width,\n          height: rect.height\n        }\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _initEvents: function (containerGroup) {\n    containerGroup.on('click', function (e) {\n      if (this._state !== 'ready') {\n        return;\n      }\n\n      var nodeClick = this.seriesModel.get('nodeClick', true);\n\n      if (!nodeClick) {\n        return;\n      }\n\n      var targetInfo = this.findTarget(e.offsetX, e.offsetY);\n\n      if (!targetInfo) {\n        return;\n      }\n\n      var node = targetInfo.node;\n\n      if (node.getLayout().isLeafRoot) {\n        this._rootToNode(targetInfo);\n      } else {\n        if (nodeClick === 'zoomToNode') {\n          this._zoomToNode(targetInfo);\n        } else if (nodeClick === 'link') {\n          var itemModel = node.hostTree.data.getItemModel(node.dataIndex);\n          var link = itemModel.get('link', true);\n          var linkTarget = itemModel.get('target', true) || 'blank';\n          link && windowOpen(link, linkTarget);\n        }\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _renderBreadcrumb: function (seriesModel, api, targetInfo) {\n    if (!targetInfo) {\n      targetInfo = seriesModel.get('leafDepth', true) != null ? {\n        node: seriesModel.getViewRoot() // FIXME\n        // better way?\n        // Find breadcrumb tail on center of containerGroup.\n\n      } : this.findTarget(api.getWidth() / 2, api.getHeight() / 2);\n\n      if (!targetInfo) {\n        targetInfo = {\n          node: seriesModel.getData().tree.root\n        };\n      }\n    }\n\n    (this._breadcrumb || (this._breadcrumb = new Breadcrumb(this.group))).render(seriesModel, api, targetInfo.node, bind(onSelect, this));\n\n    function onSelect(node) {\n      if (this._state !== 'animating') {\n        helper.aboveViewRoot(seriesModel.getViewRoot(), node) ? this._rootToNode({\n          node: node\n        }) : this._zoomToNode({\n          node: node\n        });\n      }\n    }\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._clearController();\n\n    this._containerGroup && this._containerGroup.removeAll();\n    this._storage = createStorage();\n    this._state = 'ready';\n    this._breadcrumb && this._breadcrumb.remove();\n  },\n  dispose: function () {\n    this._clearController();\n  },\n\n  /**\n   * @private\n   */\n  _zoomToNode: function (targetInfo) {\n    this.api.dispatchAction({\n      type: 'treemapZoomToNode',\n      from: this.uid,\n      seriesId: this.seriesModel.id,\n      targetNode: targetInfo.node\n    });\n  },\n\n  /**\n   * @private\n   */\n  _rootToNode: function (targetInfo) {\n    this.api.dispatchAction({\n      type: 'treemapRootToNode',\n      from: this.uid,\n      seriesId: this.seriesModel.id,\n      targetNode: targetInfo.node\n    });\n  },\n\n  /**\n   * @public\n   * @param {number} x Global coord x.\n   * @param {number} y Global coord y.\n   * @return {Object} info If not found, return undefined;\n   * @return {number} info.node Target node.\n   * @return {number} info.offsetX x refer to target node.\n   * @return {number} info.offsetY y refer to target node.\n   */\n  findTarget: function (x, y) {\n    var targetInfo;\n    var viewRoot = this.seriesModel.getViewRoot();\n    viewRoot.eachNode({\n      attr: 'viewChildren',\n      order: 'preorder'\n    }, function (node) {\n      var bgEl = this._storage.background[node.getRawIndex()]; // If invisible, there might be no element.\n\n\n      if (bgEl) {\n        var point = bgEl.transformCoordToLocal(x, y);\n        var shape = bgEl.shape; // For performance consideration, dont use 'getBoundingRect'.\n\n        if (shape.x <= point[0] && point[0] <= shape.x + shape.width && shape.y <= point[1] && point[1] <= shape.y + shape.height) {\n          targetInfo = {\n            node: node,\n            offsetX: point[0],\n            offsetY: point[1]\n          };\n        } else {\n          return false; // Suppress visit subtree.\n        }\n      }\n    }, this);\n    return targetInfo;\n  }\n});\n/**\n * @inner\n */\n\n\nfunction createStorage() {\n  return {\n    nodeGroup: [],\n    background: [],\n    content: []\n  };\n}\n/**\n * @inner\n * @return Return undefined means do not travel further.\n */\n\n\nfunction renderNode(seriesModel, thisStorage, oldStorage, reRoot, lastsForAnimation, willInvisibleEls, thisNode, oldNode, parentGroup, depth) {\n  // Whether under viewRoot.\n  if (!thisNode) {\n    // Deleting nodes will be performed finally. This method just find\n    // element from old storage, or create new element, set them to new\n    // storage, and set styles.\n    return;\n  } // -------------------------------------------------------------------\n  // Start of closure variables available in \"Procedures in renderNode\".\n\n\n  var thisLayout = thisNode.getLayout();\n  var data = seriesModel.getData(); // Only for enabling highlight/downplay. Clear firstly.\n  // Because some node will not be rendered.\n\n  data.setItemGraphicEl(thisNode.dataIndex, null);\n\n  if (!thisLayout || !thisLayout.isInView) {\n    return;\n  }\n\n  var thisWidth = thisLayout.width;\n  var thisHeight = thisLayout.height;\n  var borderWidth = thisLayout.borderWidth;\n  var thisInvisible = thisLayout.invisible;\n  var thisRawIndex = thisNode.getRawIndex();\n  var oldRawIndex = oldNode && oldNode.getRawIndex();\n  var thisViewChildren = thisNode.viewChildren;\n  var upperHeight = thisLayout.upperHeight;\n  var isParent = thisViewChildren && thisViewChildren.length;\n  var itemStyleNormalModel = thisNode.getModel('itemStyle');\n  var itemStyleEmphasisModel = thisNode.getModel('emphasis.itemStyle'); // End of closure ariables available in \"Procedures in renderNode\".\n  // -----------------------------------------------------------------\n  // Node group\n\n  var group = giveGraphic('nodeGroup', Group);\n\n  if (!group) {\n    return;\n  }\n\n  parentGroup.add(group); // x,y are not set when el is above view root.\n\n  group.attr('position', [thisLayout.x || 0, thisLayout.y || 0]);\n  group.__tmNodeWidth = thisWidth;\n  group.__tmNodeHeight = thisHeight;\n\n  if (thisLayout.isAboveViewRoot) {\n    return group;\n  }\n\n  var nodeModel = thisNode.getModel(); // Background\n\n  var bg = giveGraphic('background', Rect, depth, Z_BG);\n  bg && renderBackground(group, bg, isParent && thisLayout.upperLabelHeight); // No children, render content.\n\n  if (isParent) {\n    // Because of the implementation about \"traverse\" in graphic hover style, we\n    // can not set hover listener on the \"group\" of non-leaf node. Otherwise the\n    // hover event from the descendents will be listenered.\n    if (graphic.isHighDownDispatcher(group)) {\n      graphic.setAsHighDownDispatcher(group, false);\n    }\n\n    if (bg) {\n      graphic.setAsHighDownDispatcher(bg, true); // Only for enabling highlight/downplay.\n\n      data.setItemGraphicEl(thisNode.dataIndex, bg);\n    }\n  } else {\n    var content = giveGraphic('content', Rect, depth, Z_CONTENT);\n    content && renderContent(group, content);\n\n    if (bg && graphic.isHighDownDispatcher(bg)) {\n      graphic.setAsHighDownDispatcher(bg, false);\n    }\n\n    graphic.setAsHighDownDispatcher(group, true); // Only for enabling highlight/downplay.\n\n    data.setItemGraphicEl(thisNode.dataIndex, group);\n  }\n\n  return group; // ----------------------------\n  // | Procedures in renderNode |\n  // ----------------------------\n\n  function renderBackground(group, bg, useUpperLabel) {\n    // For tooltip.\n    bg.dataIndex = thisNode.dataIndex;\n    bg.seriesIndex = seriesModel.seriesIndex;\n    bg.setShape({\n      x: 0,\n      y: 0,\n      width: thisWidth,\n      height: thisHeight\n    });\n\n    if (thisInvisible) {\n      // If invisible, do not set visual, otherwise the element will\n      // change immediately before animation. We think it is OK to\n      // remain its origin color when moving out of the view window.\n      processInvisible(bg);\n    } else {\n      bg.invisible = false;\n      var visualBorderColor = thisNode.getVisual('borderColor', true);\n      var emphasisBorderColor = itemStyleEmphasisModel.get('borderColor');\n      var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n      normalStyle.fill = visualBorderColor;\n      var emphasisStyle = getItemStyleEmphasis(itemStyleEmphasisModel);\n      emphasisStyle.fill = emphasisBorderColor;\n\n      if (useUpperLabel) {\n        var upperLabelWidth = thisWidth - 2 * borderWidth;\n        prepareText(normalStyle, emphasisStyle, visualBorderColor, upperLabelWidth, upperHeight, {\n          x: borderWidth,\n          y: 0,\n          width: upperLabelWidth,\n          height: upperHeight\n        });\n      } // For old bg.\n      else {\n          normalStyle.text = emphasisStyle.text = null;\n        }\n\n      bg.setStyle(normalStyle);\n      graphic.setElementHoverStyle(bg, emphasisStyle);\n    }\n\n    group.add(bg);\n  }\n\n  function renderContent(group, content) {\n    // For tooltip.\n    content.dataIndex = thisNode.dataIndex;\n    content.seriesIndex = seriesModel.seriesIndex;\n    var contentWidth = Math.max(thisWidth - 2 * borderWidth, 0);\n    var contentHeight = Math.max(thisHeight - 2 * borderWidth, 0);\n    content.culling = true;\n    content.setShape({\n      x: borderWidth,\n      y: borderWidth,\n      width: contentWidth,\n      height: contentHeight\n    });\n\n    if (thisInvisible) {\n      // If invisible, do not set visual, otherwise the element will\n      // change immediately before animation. We think it is OK to\n      // remain its origin color when moving out of the view window.\n      processInvisible(content);\n    } else {\n      content.invisible = false;\n      var visualColor = thisNode.getVisual('color', true);\n      var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n      normalStyle.fill = visualColor;\n      var emphasisStyle = getItemStyleEmphasis(itemStyleEmphasisModel);\n      prepareText(normalStyle, emphasisStyle, visualColor, contentWidth, contentHeight);\n      content.setStyle(normalStyle);\n      graphic.setElementHoverStyle(content, emphasisStyle);\n    }\n\n    group.add(content);\n  }\n\n  function processInvisible(element) {\n    // Delay invisible setting utill animation finished,\n    // avoid element vanish suddenly before animation.\n    !element.invisible && willInvisibleEls.push(element);\n  }\n\n  function prepareText(normalStyle, emphasisStyle, visualColor, width, height, upperLabelRect) {\n    var defaultText = nodeModel.get('name');\n    var normalLabelModel = nodeModel.getModel(upperLabelRect ? PATH_UPPERLABEL_NORMAL : PATH_LABEL_NOAMAL);\n    var emphasisLabelModel = nodeModel.getModel(upperLabelRect ? PATH_UPPERLABEL_EMPHASIS : PATH_LABEL_EMPHASIS);\n    var isShow = normalLabelModel.getShallow('show');\n    graphic.setLabelStyle(normalStyle, emphasisStyle, normalLabelModel, emphasisLabelModel, {\n      defaultText: isShow ? defaultText : null,\n      autoColor: visualColor,\n      isRectText: true,\n      labelFetcher: seriesModel,\n      labelDataIndex: thisNode.dataIndex,\n      labelProp: upperLabelRect ? 'upperLabel' : 'label'\n    });\n    addDrillDownIcon(normalStyle, upperLabelRect, thisLayout);\n    addDrillDownIcon(emphasisStyle, upperLabelRect, thisLayout);\n    upperLabelRect && (normalStyle.textRect = zrUtil.clone(upperLabelRect));\n    normalStyle.truncate = isShow && normalLabelModel.get('ellipsis') ? {\n      outerWidth: width,\n      outerHeight: height,\n      minChar: 2\n    } : null;\n  }\n\n  function addDrillDownIcon(style, upperLabelRect, thisLayout) {\n    var text = style.text;\n\n    if (!upperLabelRect && thisLayout.isLeafRoot && text != null) {\n      var iconChar = seriesModel.get('drillDownIcon', true);\n      style.text = iconChar ? iconChar + ' ' + text : text;\n    }\n  }\n\n  function giveGraphic(storageName, Ctor, depth, z) {\n    var element = oldRawIndex != null && oldStorage[storageName][oldRawIndex];\n    var lasts = lastsForAnimation[storageName];\n\n    if (element) {\n      // Remove from oldStorage\n      oldStorage[storageName][oldRawIndex] = null;\n      prepareAnimationWhenHasOld(lasts, element, storageName);\n    } // If invisible and no old element, do not create new element (for optimizing).\n    else if (!thisInvisible) {\n        element = new Ctor({\n          z: calculateZ(depth, z)\n        });\n        element.__tmDepth = depth;\n        element.__tmStorageName = storageName;\n        prepareAnimationWhenNoOld(lasts, element, storageName);\n      } // Set to thisStorage\n\n\n    return thisStorage[storageName][thisRawIndex] = element;\n  }\n\n  function prepareAnimationWhenHasOld(lasts, element, storageName) {\n    var lastCfg = lasts[thisRawIndex] = {};\n    lastCfg.old = storageName === 'nodeGroup' ? element.position.slice() : zrUtil.extend({}, element.shape);\n  } // If a element is new, we need to find the animation start point carefully,\n  // otherwise it will looks strange when 'zoomToNode'.\n\n\n  function prepareAnimationWhenNoOld(lasts, element, storageName) {\n    var lastCfg = lasts[thisRawIndex] = {};\n    var parentNode = thisNode.parentNode;\n\n    if (parentNode && (!reRoot || reRoot.direction === 'drillDown')) {\n      var parentOldX = 0;\n      var parentOldY = 0; // New nodes appear from right-bottom corner in 'zoomToNode' animation.\n      // For convenience, get old bounding rect from background.\n\n      var parentOldBg = lastsForAnimation.background[parentNode.getRawIndex()];\n\n      if (!reRoot && parentOldBg && parentOldBg.old) {\n        parentOldX = parentOldBg.old.width;\n        parentOldY = parentOldBg.old.height;\n      } // When no parent old shape found, its parent is new too,\n      // so we can just use {x:0, y:0}.\n\n\n      lastCfg.old = storageName === 'nodeGroup' ? [0, parentOldY] : {\n        x: parentOldX,\n        y: parentOldY,\n        width: 0,\n        height: 0\n      };\n    } // Fade in, user can be aware that these nodes are new.\n\n\n    lastCfg.fadein = storageName !== 'nodeGroup';\n  }\n} // We can not set all backgroud with the same z, Because the behaviour of\n// drill down and roll up differ background creation sequence from tree\n// hierarchy sequence, which cause that lowser background element overlap\n// upper ones. So we calculate z based on depth.\n// Moreover, we try to shrink down z interval to [0, 1] to avoid that\n// treemap with large z overlaps other components.\n\n\nfunction calculateZ(depth, zInLevel) {\n  var zb = depth * Z_BASE + zInLevel;\n  return (zb - 1) / zb;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar BrushController = require(\"../helper/BrushController\");\n\nvar brushHelper = require(\"../helper/brushHelper\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar elementList = ['axisLine', 'axisTickLabel', 'axisName'];\nvar AxisView = echarts.extendComponentView({\n  type: 'parallelAxis',\n\n  /**\n   * @override\n   */\n  init: function (ecModel, api) {\n    AxisView.superApply(this, 'init', arguments);\n    /**\n     * @type {module:echarts/component/helper/BrushController}\n     */\n\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this));\n  },\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    if (fromAxisAreaSelect(axisModel, ecModel, payload)) {\n      return;\n    }\n\n    this.axisModel = axisModel;\n    this.api = api;\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n\n    if (!axisModel.get('show')) {\n      return;\n    }\n\n    var coordSysModel = getCoordSysModel(axisModel, ecModel);\n    var coordSys = coordSysModel.coordinateSystem;\n    var areaSelectStyle = axisModel.getAreaSelectStyle();\n    var areaWidth = areaSelectStyle.width;\n    var dim = axisModel.axis.dim;\n    var axisLayout = coordSys.getAxisLayout(dim);\n    var builderOpt = zrUtil.extend({\n      strokeContainThreshold: areaWidth\n    }, axisLayout);\n    var axisBuilder = new AxisBuilder(axisModel, builderOpt);\n    zrUtil.each(elementList, axisBuilder.add, axisBuilder);\n\n    this._axisGroup.add(axisBuilder.getGroup());\n\n    this._refreshBrushController(builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api);\n\n    var animationModel = payload && payload.animation === false ? null : axisModel;\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, animationModel);\n  },\n  // /**\n  //  * @override\n  //  */\n  // updateVisual: function (axisModel, ecModel, api, payload) {\n  //     this._brushController && this._brushController\n  //         .updateCovers(getCoverInfoList(axisModel));\n  // },\n  _refreshBrushController: function (builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api) {\n    // After filtering, axis may change, select area needs to be update.\n    var extent = axisModel.axis.getExtent();\n    var extentLen = extent[1] - extent[0];\n    var extra = Math.min(30, Math.abs(extentLen) * 0.1); // Arbitrary value.\n    // width/height might be negative, which will be\n    // normalized in BoundingRect.\n\n    var rect = graphic.BoundingRect.create({\n      x: extent[0],\n      y: -areaWidth / 2,\n      width: extentLen,\n      height: areaWidth\n    });\n    rect.x -= extra;\n    rect.width += 2 * extra;\n\n    this._brushController.mount({\n      enableGlobalPan: true,\n      rotation: builderOpt.rotation,\n      position: builderOpt.position\n    }).setPanels([{\n      panelId: 'pl',\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, coordSysModel),\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect, 0)\n    }]).enableBrush({\n      brushType: 'lineX',\n      brushStyle: areaSelectStyle,\n      removeOnClick: true\n    }).updateCovers(getCoverInfoList(axisModel));\n  },\n  _onBrush: function (coverInfoList, opt) {\n    // Do not cache these object, because the mey be changed.\n    var axisModel = this.axisModel;\n    var axis = axisModel.axis;\n    var intervals = zrUtil.map(coverInfoList, function (coverInfo) {\n      return [axis.coordToData(coverInfo.range[0], true), axis.coordToData(coverInfo.range[1], true)];\n    }); // If realtime is true, action is not dispatched on drag end, because\n    // the drag end emits the same params with the last drag move event,\n    // and may have some delay when using touch pad.\n\n    if (!axisModel.option.realtime === opt.isEnd || opt.removeOnClick) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'axisAreaSelect',\n        parallelAxisId: axisModel.id,\n        intervals: intervals\n      });\n    }\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._brushController.dispose();\n  }\n});\n\nfunction fromAxisAreaSelect(axisModel, ecModel, payload) {\n  return payload && payload.type === 'axisAreaSelect' && ecModel.findComponents({\n    mainType: 'parallelAxis',\n    query: payload\n  })[0] === axisModel;\n}\n\nfunction getCoverInfoList(axisModel) {\n  var axis = axisModel.axis;\n  return zrUtil.map(axisModel.activeIntervals, function (interval) {\n    return {\n      brushType: 'lineX',\n      panelId: 'pl',\n      range: [axis.dataToCoord(interval[0], true), axis.dataToCoord(interval[1], true)]\n    };\n  });\n}\n\nfunction getCoordSysModel(axisModel, ecModel) {\n  return ecModel.getComponent('parallel', axisModel.get('parallelIndex'));\n}\n\nvar _default = AxisView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar round = _number.round;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction createGridClipPath(cartesian, hasAnimation, seriesModel) {\n  var rect = cartesian.getArea();\n  var isHorizontal = cartesian.getBaseAxis().isHorizontal();\n  var x = rect.x;\n  var y = rect.y;\n  var width = rect.width;\n  var height = rect.height;\n  var lineWidth = seriesModel.get('lineStyle.width') || 2; // Expand the clip path a bit to avoid the border is clipped and looks thinner\n\n  x -= lineWidth / 2;\n  y -= lineWidth / 2;\n  width += lineWidth;\n  height += lineWidth; // fix: https://github.com/apache/incubator-echarts/issues/11369\n\n  x = Math.floor(x);\n  width = Math.round(width);\n  var clipPath = new graphic.Rect({\n    shape: {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape[isHorizontal ? 'width' : 'height'] = 0;\n    graphic.initProps(clipPath, {\n      shape: {\n        width: width,\n        height: height\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createPolarClipPath(polar, hasAnimation, seriesModel) {\n  var sectorArea = polar.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n\n  var clipPath = new graphic.Sector({\n    shape: {\n      cx: round(polar.cx, 1),\n      cy: round(polar.cy, 1),\n      r0: round(sectorArea.r0, 1),\n      r: round(sectorArea.r, 1),\n      startAngle: sectorArea.startAngle,\n      endAngle: sectorArea.endAngle,\n      clockwise: sectorArea.clockwise\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape.endAngle = sectorArea.startAngle;\n    graphic.initProps(clipPath, {\n      shape: {\n        endAngle: sectorArea.endAngle\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createClipPath(coordSys, hasAnimation, seriesModel) {\n  if (!coordSys) {\n    return null;\n  } else if (coordSys.type === 'polar') {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  } else if (coordSys.type === 'cartesian2d') {\n    return createGridClipPath(coordSys, hasAnimation, seriesModel);\n  }\n\n  return null;\n}\n\nexports.createGridClipPath = createGridClipPath;\nexports.createPolarClipPath = createPolarClipPath;\nexports.createClipPath = createClipPath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./toolbox/ToolboxModel\");\n\nrequire(\"./toolbox/ToolboxView\");\n\nrequire(\"./toolbox/feature/SaveAsImage\");\n\nrequire(\"./toolbox/feature/MagicType\");\n\nrequire(\"./toolbox/feature/DataView\");\n\nrequire(\"./toolbox/feature/DataZoom\");\n\nrequire(\"./toolbox/feature/Restore\");","var Definable = require(\"./Definable\");\n\nvar zrUtil = require(\"../../core/util\");\n\nvar logError = require(\"../../core/log\");\n\nvar colorTool = require(\"../../tool/color\");\n\n/**\n * @file Manages SVG gradient elements.\n * @author Zhang Wenli\n */\n\n/**\n * Manages SVG gradient elements.\n *\n * @class\n * @extends Definable\n * @param   {number}     zrId    zrender instance id\n * @param   {SVGElement} svgRoot root of SVG document\n */\nfunction GradientManager(zrId, svgRoot) {\n  Definable.call(this, zrId, svgRoot, ['linearGradient', 'radialGradient'], '__gradient_in_use__');\n}\n\nzrUtil.inherits(GradientManager, Definable);\n/**\n * Create new gradient DOM for fill or stroke if not exist,\n * but will not update gradient if exists.\n *\n * @param {SvgElement}  svgElement   SVG element to paint\n * @param {Displayable} displayable  zrender displayable element\n */\n\nGradientManager.prototype.addWithoutUpdate = function (svgElement, displayable) {\n  if (displayable && displayable.style) {\n    var that = this;\n    zrUtil.each(['fill', 'stroke'], function (fillOrStroke) {\n      if (displayable.style[fillOrStroke] && (displayable.style[fillOrStroke].type === 'linear' || displayable.style[fillOrStroke].type === 'radial')) {\n        var gradient = displayable.style[fillOrStroke];\n        var defs = that.getDefs(true); // Create dom in <defs> if not exists\n\n        var dom;\n\n        if (gradient._dom) {\n          // Gradient exists\n          dom = gradient._dom;\n\n          if (!defs.contains(gradient._dom)) {\n            // _dom is no longer in defs, recreate\n            that.addDom(dom);\n          }\n        } else {\n          // New dom\n          dom = that.add(gradient);\n        }\n\n        that.markUsed(displayable);\n        var id = dom.getAttribute('id');\n        svgElement.setAttribute(fillOrStroke, 'url(#' + id + ')');\n      }\n    });\n  }\n};\n/**\n * Add a new gradient tag in <defs>\n *\n * @param   {Gradient} gradient zr gradient instance\n * @return {SVGLinearGradientElement | SVGRadialGradientElement}\n *                            created DOM\n */\n\n\nGradientManager.prototype.add = function (gradient) {\n  var dom;\n\n  if (gradient.type === 'linear') {\n    dom = this.createElement('linearGradient');\n  } else if (gradient.type === 'radial') {\n    dom = this.createElement('radialGradient');\n  } else {\n    logError('Illegal gradient type.');\n    return null;\n  } // Set dom id with gradient id, since each gradient instance\n  // will have no more than one dom element.\n  // id may exists before for those dirty elements, in which case\n  // id should remain the same, and other attributes should be\n  // updated.\n\n\n  gradient.id = gradient.id || this.nextId++;\n  dom.setAttribute('id', 'zr' + this._zrId + '-gradient-' + gradient.id);\n  this.updateDom(gradient, dom);\n  this.addDom(dom);\n  return dom;\n};\n/**\n * Update gradient.\n *\n * @param {Gradient} gradient zr gradient instance\n */\n\n\nGradientManager.prototype.update = function (gradient) {\n  var that = this;\n  Definable.prototype.update.call(this, gradient, function () {\n    var type = gradient.type;\n    var tagName = gradient._dom.tagName;\n\n    if (type === 'linear' && tagName === 'linearGradient' || type === 'radial' && tagName === 'radialGradient') {\n      // Gradient type is not changed, update gradient\n      that.updateDom(gradient, gradient._dom);\n    } else {\n      // Remove and re-create if type is changed\n      that.removeDom(gradient);\n      that.add(gradient);\n    }\n  });\n};\n/**\n * Update gradient dom\n *\n * @param {Gradient} gradient zr gradient instance\n * @param {SVGLinearGradientElement | SVGRadialGradientElement} dom\n *                            DOM to update\n */\n\n\nGradientManager.prototype.updateDom = function (gradient, dom) {\n  if (gradient.type === 'linear') {\n    dom.setAttribute('x1', gradient.x);\n    dom.setAttribute('y1', gradient.y);\n    dom.setAttribute('x2', gradient.x2);\n    dom.setAttribute('y2', gradient.y2);\n  } else if (gradient.type === 'radial') {\n    dom.setAttribute('cx', gradient.x);\n    dom.setAttribute('cy', gradient.y);\n    dom.setAttribute('r', gradient.r);\n  } else {\n    logError('Illegal gradient type.');\n    return;\n  }\n\n  if (gradient.global) {\n    // x1, x2, y1, y2 in range of 0 to canvas width or height\n    dom.setAttribute('gradientUnits', 'userSpaceOnUse');\n  } else {\n    // x1, x2, y1, y2 in range of 0 to 1\n    dom.setAttribute('gradientUnits', 'objectBoundingBox');\n  } // Remove color stops if exists\n\n\n  dom.innerHTML = ''; // Add color stops\n\n  var colors = gradient.colorStops;\n\n  for (var i = 0, len = colors.length; i < len; ++i) {\n    var stop = this.createElement('stop');\n    stop.setAttribute('offset', colors[i].offset * 100 + '%');\n    var color = colors[i].color;\n\n    if (color.indexOf('rgba') > -1) {\n      // Fix Safari bug that stop-color not recognizing alpha #9014\n      var opacity = colorTool.parse(color)[3];\n      var hex = colorTool.toHex(color); // stop-color cannot be color, since:\n      // The opacity value used for the gradient calculation is the\n      // *product* of the value of stop-opacity and the opacity of the\n      // value of stop-color.\n      // See https://www.w3.org/TR/SVG2/pservers.html#StopOpacityProperty\n\n      stop.setAttribute('stop-color', '#' + hex);\n      stop.setAttribute('stop-opacity', opacity);\n    } else {\n      stop.setAttribute('stop-color', colors[i].color);\n    }\n\n    dom.appendChild(stop);\n  } // Store dom element in gradient, to avoid creating multiple\n  // dom instances for the same gradient element\n\n\n  gradient._dom = dom;\n};\n/**\n * Mark a single gradient to be used\n *\n * @param {Displayable} displayable displayable element\n */\n\n\nGradientManager.prototype.markUsed = function (displayable) {\n  if (displayable.style) {\n    var gradient = displayable.style.fill;\n\n    if (gradient && gradient._dom) {\n      Definable.prototype.markUsed.call(this, gradient._dom);\n    }\n\n    gradient = displayable.style.stroke;\n\n    if (gradient && gradient._dom) {\n      Definable.prototype.markUsed.call(this, gradient._dom);\n    }\n  }\n};\n\nvar _default = GradientManager;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\n\nfunction _default(option) {\n  var visualMap = option && option.visualMap;\n\n  if (!zrUtil.isArray(visualMap)) {\n    visualMap = visualMap ? [visualMap] : [];\n  }\n\n  each(visualMap, function (opt) {\n    if (!opt) {\n      return;\n    } // rename splitList to pieces\n\n\n    if (has(opt, 'splitList') && !has(opt, 'pieces')) {\n      opt.pieces = opt.splitList;\n      delete opt.splitList;\n    }\n\n    var pieces = opt.pieces;\n\n    if (pieces && zrUtil.isArray(pieces)) {\n      each(pieces, function (piece) {\n        if (zrUtil.isObject(piece)) {\n          if (has(piece, 'start') && !has(piece, 'min')) {\n            piece.min = piece.start;\n          }\n\n          if (has(piece, 'end') && !has(piece, 'max')) {\n            piece.max = piece.end;\n          }\n        }\n      });\n    }\n  });\n}\n\nfunction has(obj, name) {\n  return obj && obj.hasOwnProperty && obj.hasOwnProperty(name);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar AxisView = require(\"./AxisView\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar elementList = ['axisLine', 'axisLabel', 'axisTick', 'minorTick', 'splitLine', 'minorSplitLine', 'splitArea'];\n\nfunction getAxisLineShape(polar, rExtent, angle) {\n  rExtent[1] > rExtent[0] && (rExtent = rExtent.slice().reverse());\n  var start = polar.coordToPoint([rExtent[0], angle]);\n  var end = polar.coordToPoint([rExtent[1], angle]);\n  return {\n    x1: start[0],\n    y1: start[1],\n    x2: end[0],\n    y2: end[1]\n  };\n}\n\nfunction getRadiusIdx(polar) {\n  var radiusAxis = polar.getRadiusAxis();\n  return radiusAxis.inverse ? 0 : 1;\n} // Remove the last tick which will overlap the first tick\n\n\nfunction fixAngleOverlap(list) {\n  var firstItem = list[0];\n  var lastItem = list[list.length - 1];\n\n  if (firstItem && lastItem && Math.abs(Math.abs(firstItem.coord - lastItem.coord) - 360) < 1e-4) {\n    list.pop();\n  }\n}\n\nvar _default = AxisView.extend({\n  type: 'angleAxis',\n  axisPointerClass: 'PolarAxisPointer',\n  render: function (angleAxisModel, ecModel) {\n    this.group.removeAll();\n\n    if (!angleAxisModel.get('show')) {\n      return;\n    }\n\n    var angleAxis = angleAxisModel.axis;\n    var polar = angleAxis.polar;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var ticksAngles = angleAxis.getTicksCoords();\n    var minorTickAngles = angleAxis.getMinorTicksCoords();\n    var labels = zrUtil.map(angleAxis.getViewLabels(), function (labelItem) {\n      var labelItem = zrUtil.clone(labelItem);\n      labelItem.coord = angleAxis.dataToCoord(labelItem.tickValue);\n      return labelItem;\n    });\n    fixAngleOverlap(labels);\n    fixAngleOverlap(ticksAngles);\n    zrUtil.each(elementList, function (name) {\n      if (angleAxisModel.get(name + '.show') && (!angleAxis.scale.isBlank() || name === 'axisLine')) {\n        this['_' + name](angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent, labels);\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _axisLine: function (angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var lineStyleModel = angleAxisModel.getModel('axisLine.lineStyle'); // extent id of the axis radius (r0 and r)\n\n    var rId = getRadiusIdx(polar);\n    var r0Id = rId ? 0 : 1;\n    var shape;\n\n    if (radiusExtent[r0Id] === 0) {\n      shape = new graphic.Circle({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: radiusExtent[rId]\n        },\n        style: lineStyleModel.getLineStyle(),\n        z2: 1,\n        silent: true\n      });\n    } else {\n      shape = new graphic.Ring({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: radiusExtent[rId],\n          r0: radiusExtent[r0Id]\n        },\n        style: lineStyleModel.getLineStyle(),\n        z2: 1,\n        silent: true\n      });\n    }\n\n    shape.style.fill = null;\n    this.group.add(shape);\n  },\n\n  /**\n   * @private\n   */\n  _axisTick: function (angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var tickModel = angleAxisModel.getModel('axisTick');\n    var tickLen = (tickModel.get('inside') ? -1 : 1) * tickModel.get('length');\n    var radius = radiusExtent[getRadiusIdx(polar)];\n    var lines = zrUtil.map(ticksAngles, function (tickAngleItem) {\n      return new graphic.Line({\n        shape: getAxisLineShape(polar, [radius, radius + tickLen], tickAngleItem.coord)\n      });\n    });\n    this.group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults(tickModel.getModel('lineStyle').getLineStyle(), {\n        stroke: angleAxisModel.get('axisLine.lineStyle.color')\n      })\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _minorTick: function (angleAxisModel, polar, tickAngles, minorTickAngles, radiusExtent) {\n    if (!minorTickAngles.length) {\n      return;\n    }\n\n    var tickModel = angleAxisModel.getModel('axisTick');\n    var minorTickModel = angleAxisModel.getModel('minorTick');\n    var tickLen = (tickModel.get('inside') ? -1 : 1) * minorTickModel.get('length');\n    var radius = radiusExtent[getRadiusIdx(polar)];\n    var lines = [];\n\n    for (var i = 0; i < minorTickAngles.length; i++) {\n      for (var k = 0; k < minorTickAngles[i].length; k++) {\n        lines.push(new graphic.Line({\n          shape: getAxisLineShape(polar, [radius, radius + tickLen], minorTickAngles[i][k].coord)\n        }));\n      }\n    }\n\n    this.group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults(minorTickModel.getModel('lineStyle').getLineStyle(), zrUtil.defaults(tickModel.getLineStyle(), {\n        stroke: angleAxisModel.get('axisLine.lineStyle.color')\n      }))\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _axisLabel: function (angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent, labels) {\n    var rawCategoryData = angleAxisModel.getCategories(true);\n    var commonLabelModel = angleAxisModel.getModel('axisLabel');\n    var labelMargin = commonLabelModel.get('margin');\n    var triggerEvent = angleAxisModel.get('triggerEvent'); // Use length of ticksAngles because it may remove the last tick to avoid overlapping\n\n    zrUtil.each(labels, function (labelItem, idx) {\n      var labelModel = commonLabelModel;\n      var tickValue = labelItem.tickValue;\n      var r = radiusExtent[getRadiusIdx(polar)];\n      var p = polar.coordToPoint([r + labelMargin, labelItem.coord]);\n      var cx = polar.cx;\n      var cy = polar.cy;\n      var labelTextAlign = Math.abs(p[0] - cx) / r < 0.3 ? 'center' : p[0] > cx ? 'left' : 'right';\n      var labelTextVerticalAlign = Math.abs(p[1] - cy) / r < 0.3 ? 'middle' : p[1] > cy ? 'top' : 'bottom';\n\n      if (rawCategoryData && rawCategoryData[tickValue] && rawCategoryData[tickValue].textStyle) {\n        labelModel = new Model(rawCategoryData[tickValue].textStyle, commonLabelModel, commonLabelModel.ecModel);\n      }\n\n      var textEl = new graphic.Text({\n        silent: AxisBuilder.isLabelSilent(angleAxisModel)\n      });\n      this.group.add(textEl);\n      graphic.setTextStyle(textEl.style, labelModel, {\n        x: p[0],\n        y: p[1],\n        textFill: labelModel.getTextColor() || angleAxisModel.get('axisLine.lineStyle.color'),\n        text: labelItem.formattedLabel,\n        textAlign: labelTextAlign,\n        textVerticalAlign: labelTextVerticalAlign\n      }); // Pack data for mouse event\n\n      if (triggerEvent) {\n        textEl.eventData = AxisBuilder.makeAxisEventDataBase(angleAxisModel);\n        textEl.eventData.targetType = 'axisLabel';\n        textEl.eventData.value = labelItem.rawLabel;\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _splitLine: function (angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var splitLineModel = angleAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n\n    for (var i = 0; i < ticksAngles.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Line({\n        shape: getAxisLineShape(polar, radiusExtent, ticksAngles[i].coord)\n      }));\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitLines.length; i++) {\n      this.group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length]\n        }, lineStyleModel.getLineStyle()),\n        silent: true,\n        z: angleAxisModel.get('z')\n      }));\n    }\n  },\n\n  /**\n   * @private\n   */\n  _minorSplitLine: function (angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    if (!minorTickAngles.length) {\n      return;\n    }\n\n    var minorSplitLineModel = angleAxisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var lines = [];\n\n    for (var i = 0; i < minorTickAngles.length; i++) {\n      for (var k = 0; k < minorTickAngles[i].length; k++) {\n        lines.push(new graphic.Line({\n          shape: getAxisLineShape(polar, radiusExtent, minorTickAngles[i][k].coord)\n        }));\n      }\n    }\n\n    this.group.add(graphic.mergePath(lines, {\n      style: lineStyleModel.getLineStyle(),\n      silent: true,\n      z: angleAxisModel.get('z')\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _splitArea: function (angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    if (!ticksAngles.length) {\n      return;\n    }\n\n    var splitAreaModel = angleAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var RADIAN = Math.PI / 180;\n    var prevAngle = -ticksAngles[0].coord * RADIAN;\n    var r0 = Math.min(radiusExtent[0], radiusExtent[1]);\n    var r1 = Math.max(radiusExtent[0], radiusExtent[1]);\n    var clockwise = angleAxisModel.get('clockwise');\n\n    for (var i = 1; i < ticksAngles.length; i++) {\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: r0,\n          r: r1,\n          startAngle: prevAngle,\n          endAngle: -ticksAngles[i].coord * RADIAN,\n          clockwise: clockwise\n        },\n        silent: true\n      }));\n      prevAngle = -ticksAngles[i].coord * RADIAN;\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitAreas.length; i++) {\n      this.group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar makeStyleMapper = require(\"../../model/mixin/makeStyleMapper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar getBarItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], // Compatitable with 2\n['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\nvar _default = {\n  getBarItemStyle: function (excludes) {\n    var style = getBarItemStyle(this, excludes);\n\n    if (this.getBorderLineDash) {\n      var lineDash = this.getBorderLineDash();\n      lineDash && (style.lineDash = lineDash);\n    }\n\n    return style;\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  });\n\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      if (list[j].y + delta > viewTop + viewHeight) {\n        break;\n      }\n\n      list[j].y += delta;\n\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n\n    shiftUp(end - 1, delta / 2);\n  }\n\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      if (list[j].y - delta < viewTop) {\n        break;\n      }\n\n      list[j].y -= delta;\n\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // right-side\n    ? Number.MAX_VALUE // down\n    : 0 // up\n    : isDownList // left-side\n    ? Number.MAX_VALUE // down\n    : 0; // up\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (list[i].labelAlignTo !== 'none') {\n        continue;\n      }\n\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n      if (isDownList && deltaX >= lastDeltaX) {\n        // right-down, left-down\n        deltaX = lastDeltaX - 10;\n      }\n\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // right-up, left-up\n        deltaX = lastDeltaX + 10;\n      }\n\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n      var dx = list[i].x - farthestX;\n      list[i].linePoints[1][0] += dx;\n      list[i].x = farthestX;\n    }\n\n    delta = list[i].y - lastY;\n\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n\n    lastY = list[i].y + list[i].height;\n  }\n\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var leftList = [];\n  var rightList = [];\n  var leftmostX = Number.MAX_VALUE;\n  var rightmostX = -Number.MAX_VALUE;\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (labelLayoutList[i].x < cx) {\n      leftmostX = Math.min(leftmostX, labelLayoutList[i].x);\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightmostX = Math.max(rightmostX, labelLayoutList[i].x);\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n\n    if (isPositionCenter(layout)) {\n      continue;\n    }\n\n    var linePoints = layout.linePoints;\n\n    if (linePoints) {\n      var isAlignToEdge = layout.labelAlignTo === 'edge';\n      var realTextWidth = layout.textRect.width;\n      var targetTextWidth;\n\n      if (isAlignToEdge) {\n        if (layout.x < cx) {\n          targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.labelMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.labelMargin - linePoints[2][0] - layout.labelDistance;\n        }\n      } else {\n        if (layout.x < cx) {\n          targetTextWidth = layout.x - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.x - layout.bleedMargin;\n        }\n      }\n\n      if (targetTextWidth < layout.textRect.width) {\n        layout.text = textContain.truncateText(layout.text, targetTextWidth, layout.font);\n\n        if (layout.labelAlignTo === 'edge') {\n          realTextWidth = textContain.getWidth(layout.text, layout.font);\n        }\n      }\n\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (isAlignToEdge) {\n        if (layout.x < cx) {\n          linePoints[2][0] = viewLeft + layout.labelMargin + realTextWidth + layout.labelDistance;\n        } else {\n          linePoints[2][0] = viewLeft + viewWidth - layout.labelMargin - realTextWidth - layout.labelDistance;\n        }\n      } else {\n        if (layout.x < cx) {\n          linePoints[2][0] = layout.x + layout.labelDistance;\n        } else {\n          linePoints[2][0] = layout.x - layout.labelDistance;\n        }\n\n        linePoints[1][0] = linePoints[2][0] + dist;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = layout.y;\n    }\n  }\n}\n\nfunction isPositionCenter(layout) {\n  // Not change x for center label\n  return layout.position === 'center';\n}\n\nfunction _default(seriesModel, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n    var labelDistance = labelModel.get('distanceToLabelLine');\n    var labelAlignTo = labelModel.get('alignTo');\n    var labelMargin = parsePercent(labelModel.get('margin'), viewWidth);\n    var bleedMargin = labelModel.get('bleedMargin');\n    var font = labelModel.getFont();\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    labelLineLen = parsePercent(labelLineLen, viewWidth);\n    var labelLineLen2 = labelLineModel.get('length2');\n    labelLineLen2 = parsePercent(labelLineLen2, viewWidth);\n\n    if (layout.angle < minShowLabelRadian) {\n      return;\n    }\n\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n\n        if (labelAlignTo === 'edge') {\n          // Adjust textX because text align of edge is opposite\n          textX = dx < 0 ? viewLeft + labelMargin : viewLeft + viewWidth - labelMargin;\n        } else {\n          textX = x3 + (dx < 0 ? -labelDistance : labelDistance);\n        }\n\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? dx > 0 ? 'right' : 'left' : dx > 0 ? 'left' : 'right';\n    }\n\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside,\n      labelDistance: labelDistance,\n      labelAlignTo: labelAlignTo,\n      labelMargin: labelMargin,\n      bleedMargin: bleedMargin,\n      textRect: textRect,\n      text: text,\n      font: font\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * payload: {\n *      brushIndex: number, or,\n *      brushId: string, or,\n *      brushName: string,\n *      globalRanges: Array\n * }\n */\necharts.registerAction({\n  type: 'brush',\n  event: 'brush'\n  /*, update: 'updateView' */\n\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'brush',\n    query: payload\n  }, function (brushModel) {\n    brushModel.setAreas(payload.areas);\n  });\n});\n/**\n * payload: {\n *      brushComponents: [\n *          {\n *              brushId,\n *              brushIndex,\n *              brushName,\n *              series: [\n *                  {\n *                      seriesId,\n *                      seriesIndex,\n *                      seriesName,\n *                      rawIndices: [21, 34, ...]\n *                  },\n *                  ...\n *              ]\n *          },\n *          ...\n *      ]\n * }\n */\n\necharts.registerAction({\n  type: 'brushSelect',\n  event: 'brushSelected',\n  update: 'none'\n}, function () {});\necharts.registerAction({\n  type: 'brushEnd',\n  event: 'brushEnd',\n  update: 'none'\n}, function () {});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar _roamHelper = require(\"../../action/roamHelper\");\n\nvar updateCenterAndZoom = _roamHelper.updateCenterAndZoom;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerAction({\n  type: 'treeExpandAndCollapse',\n  event: 'treeExpandAndCollapse',\n  update: 'update'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'tree',\n    query: payload\n  }, function (seriesModel) {\n    var dataIndex = payload.dataIndex;\n    var tree = seriesModel.getData().tree;\n    var node = tree.getNodeByDataIndex(dataIndex);\n    node.isExpand = !node.isExpand;\n  });\n});\necharts.registerAction({\n  type: 'treeRoam',\n  event: 'treeRoam',\n  // Here we set 'none' instead of 'update', because roam action\n  // just need to update the transform matrix without having to recalculate\n  // the layout. So don't need to go through the whole update process, such\n  // as 'dataPrcocess', 'coordSystemUpdate', 'layout' and so on.\n  update: 'none'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'tree',\n    query: payload\n  }, function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var res = updateCenterAndZoom(coordSys, payload);\n    seriesModel.setCenter && seriesModel.setCenter(res.center);\n    seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n  });\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Component = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nComponent.registerSubTypeDefaulter('visualMap', function (option) {\n  // Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.\n  return !option.categories && (!(option.pieces ? option.pieces.length > 0 : option.splitNumber > 0) || option.calculable) ? 'continuous' : 'piecewise';\n});","var Definable = require(\"./Definable\");\n\nvar zrUtil = require(\"../../core/util\");\n\n/**\n * @file Manages SVG shadow elements.\n * @author Zhang Wenli\n */\n\n/**\n * Manages SVG shadow elements.\n *\n * @class\n * @extends Definable\n * @param   {number}     zrId    zrender instance id\n * @param   {SVGElement} svgRoot root of SVG document\n */\nfunction ShadowManager(zrId, svgRoot) {\n  Definable.call(this, zrId, svgRoot, ['filter'], '__filter_in_use__', '_shadowDom');\n}\n\nzrUtil.inherits(ShadowManager, Definable);\n/**\n * Create new shadow DOM for fill or stroke if not exist,\n * but will not update shadow if exists.\n *\n * @param {SvgElement}  svgElement   SVG element to paint\n * @param {Displayable} displayable  zrender displayable element\n */\n\nShadowManager.prototype.addWithoutUpdate = function (svgElement, displayable) {\n  if (displayable && hasShadow(displayable.style)) {\n    // Create dom in <defs> if not exists\n    var dom;\n\n    if (displayable._shadowDom) {\n      // Gradient exists\n      dom = displayable._shadowDom;\n      var defs = this.getDefs(true);\n\n      if (!defs.contains(displayable._shadowDom)) {\n        // _shadowDom is no longer in defs, recreate\n        this.addDom(dom);\n      }\n    } else {\n      // New dom\n      dom = this.add(displayable);\n    }\n\n    this.markUsed(displayable);\n    var id = dom.getAttribute('id');\n    svgElement.style.filter = 'url(#' + id + ')';\n  }\n};\n/**\n * Add a new shadow tag in <defs>\n *\n * @param {Displayable} displayable  zrender displayable element\n * @return {SVGFilterElement} created DOM\n */\n\n\nShadowManager.prototype.add = function (displayable) {\n  var dom = this.createElement('filter'); // Set dom id with shadow id, since each shadow instance\n  // will have no more than one dom element.\n  // id may exists before for those dirty elements, in which case\n  // id should remain the same, and other attributes should be\n  // updated.\n\n  displayable._shadowDomId = displayable._shadowDomId || this.nextId++;\n  dom.setAttribute('id', 'zr' + this._zrId + '-shadow-' + displayable._shadowDomId);\n  this.updateDom(displayable, dom);\n  this.addDom(dom);\n  return dom;\n};\n/**\n * Update shadow.\n *\n * @param {Displayable} displayable  zrender displayable element\n */\n\n\nShadowManager.prototype.update = function (svgElement, displayable) {\n  var style = displayable.style;\n\n  if (hasShadow(style)) {\n    var that = this;\n    Definable.prototype.update.call(this, displayable, function () {\n      that.updateDom(displayable, displayable._shadowDom);\n    });\n  } else {\n    // Remove shadow\n    this.remove(svgElement, displayable);\n  }\n};\n/**\n * Remove DOM and clear parent filter\n */\n\n\nShadowManager.prototype.remove = function (svgElement, displayable) {\n  if (displayable._shadowDomId != null) {\n    this.removeDom(svgElement);\n    svgElement.style.filter = '';\n  }\n};\n/**\n * Update shadow dom\n *\n * @param {Displayable} displayable  zrender displayable element\n * @param {SVGFilterElement} dom DOM to update\n */\n\n\nShadowManager.prototype.updateDom = function (displayable, dom) {\n  var domChild = dom.getElementsByTagName('feDropShadow');\n\n  if (domChild.length === 0) {\n    domChild = this.createElement('feDropShadow');\n  } else {\n    domChild = domChild[0];\n  }\n\n  var style = displayable.style;\n  var scaleX = displayable.scale ? displayable.scale[0] || 1 : 1;\n  var scaleY = displayable.scale ? displayable.scale[1] || 1 : 1; // TODO: textBoxShadowBlur is not supported yet\n\n  var offsetX;\n  var offsetY;\n  var blur;\n  var color;\n\n  if (style.shadowBlur || style.shadowOffsetX || style.shadowOffsetY) {\n    offsetX = style.shadowOffsetX || 0;\n    offsetY = style.shadowOffsetY || 0;\n    blur = style.shadowBlur;\n    color = style.shadowColor;\n  } else if (style.textShadowBlur) {\n    offsetX = style.textShadowOffsetX || 0;\n    offsetY = style.textShadowOffsetY || 0;\n    blur = style.textShadowBlur;\n    color = style.textShadowColor;\n  } else {\n    // Remove shadow\n    this.removeDom(dom, style);\n    return;\n  }\n\n  domChild.setAttribute('dx', offsetX / scaleX);\n  domChild.setAttribute('dy', offsetY / scaleY);\n  domChild.setAttribute('flood-color', color); // Divide by two here so that it looks the same as in canvas\n  // See: https://html.spec.whatwg.org/multipage/canvas.html#dom-context-2d-shadowblur\n\n  var stdDx = blur / 2 / scaleX;\n  var stdDy = blur / 2 / scaleY;\n  var stdDeviation = stdDx + ' ' + stdDy;\n  domChild.setAttribute('stdDeviation', stdDeviation); // Fix filter clipping problem\n\n  dom.setAttribute('x', '-100%');\n  dom.setAttribute('y', '-100%');\n  dom.setAttribute('width', Math.ceil(blur / 2 * 200) + '%');\n  dom.setAttribute('height', Math.ceil(blur / 2 * 200) + '%');\n  dom.appendChild(domChild); // Store dom element in shadow, to avoid creating multiple\n  // dom instances for the same shadow element\n\n  displayable._shadowDom = dom;\n};\n/**\n * Mark a single shadow to be used\n *\n * @param {Displayable} displayable displayable element\n */\n\n\nShadowManager.prototype.markUsed = function (displayable) {\n  if (displayable._shadowDom) {\n    Definable.prototype.markUsed.call(this, displayable._shadowDom);\n  }\n};\n\nfunction hasShadow(style) {\n  // TODO: textBoxShadowBlur is not supported yet\n  return style && (style.shadowBlur || style.shadowOffsetX || style.shadowOffsetY || style.textShadowBlur || style.textShadowOffsetX || style.textShadowOffsetY);\n}\n\nvar _default = ShadowManager;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar singleAxisHelper = require(\"../../coord/single/singleAxisHelper\");\n\nvar AxisView = require(\"./AxisView\");\n\nvar _axisSplitHelper = require(\"./axisSplitHelper\");\n\nvar rectCoordAxisBuildSplitArea = _axisSplitHelper.rectCoordAxisBuildSplitArea;\nvar rectCoordAxisHandleRemove = _axisSplitHelper.rectCoordAxisHandleRemove;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitArea', 'splitLine'];\nvar SingleAxisView = AxisView.extend({\n  type: 'singleAxis',\n  axisPointerClass: 'SingleAxisPointer',\n  render: function (axisModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    var layout = singleAxisHelper.layout(axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    group.add(this._axisGroup);\n    group.add(axisBuilder.getGroup());\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get(name + '.show')) {\n        this['_' + name](axisModel);\n      }\n    }, this);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    SingleAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n  },\n  remove: function () {\n    rectCoordAxisHandleRemove(this);\n  },\n  _splitLine: function (axisModel) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineWidth = lineStyleModel.get('width');\n    var lineColors = lineStyleModel.get('color');\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var gridRect = axisModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var splitLines = [];\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel\n    });\n    var p1 = [];\n    var p2 = [];\n\n    for (var i = 0; i < ticksCoords.length; ++i) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Line({\n        subPixelOptimize: true,\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: {\n          lineWidth: lineWidth\n        },\n        silent: true\n      }));\n    }\n\n    for (var i = 0; i < splitLines.length; ++i) {\n      this.group.add(graphic.mergePath(splitLines[i], {\n        style: {\n          stroke: lineColors[i % lineColors.length],\n          lineDash: lineStyleModel.getLineDash(lineWidth),\n          lineWidth: lineWidth\n        },\n        silent: true\n      }));\n    }\n  },\n  _splitArea: function (axisModel) {\n    rectCoordAxisBuildSplitArea(this, this._axisGroup, axisModel, axisModel);\n  }\n});\nvar _default = SingleAxisView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar brushHelper = require(\"./brushHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar indexOf = zrUtil.indexOf;\nvar curry = zrUtil.curry;\nvar COORD_CONVERTS = ['dataToPoint', 'pointToData']; // FIXME\n// how to genarialize to more coordinate systems.\n\nvar INCLUDE_FINDER_MAIN_TYPES = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap'];\n/**\n * [option in constructor]:\n * {\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n * }\n *\n *\n * [targetInfo]:\n *\n * There can be multiple axes in a single targetInfo. Consider the case\n * of `grid` component, a targetInfo represents a grid which contains one or more\n * cartesian and one or more axes. And consider the case of parallel system,\n * which has multiple axes in a coordinate system.\n * Can be {\n *     panelId: ...,\n *     coordSys: <a representitive cartesian in grid (first cartesian by default)>,\n *     coordSyses: all cartesians.\n *     gridModel: <grid component>\n *     xAxes: correspond to coordSyses on index\n *     yAxes: correspond to coordSyses on index\n * }\n * or {\n *     panelId: ...,\n *     coordSys: <geo coord sys>\n *     coordSyses: [<geo coord sys>]\n *     geoModel: <geo component>\n * }\n *\n *\n * [panelOpt]:\n *\n * Make from targetInfo. Input to BrushController.\n * {\n *     panelId: ...,\n *     rect: ...\n * }\n *\n *\n * [area]:\n *\n * Generated by BrushController or user input.\n * {\n *     panelId: Used to locate coordInfo directly. If user inpput, no panelId.\n *     brushType: determine how to convert to/from coord('rect' or 'polygon' or 'lineX/Y').\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n *     range: pixel range.\n *     coordRange: representitive coord range (the first one of coordRanges).\n *     coordRanges: <Array> coord ranges, used in multiple cartesian in one grid.\n * }\n */\n\n/**\n * @param {Object} option contains Index/Id/Name of xAxis/yAxis/geo/grid\n *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} [opt]\n * @param {Array.<string>} [opt.include] include coordinate system types.\n */\n\nfunction BrushTargetManager(option, ecModel, opt) {\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n  var targetInfoList = this._targetInfoList = [];\n  var info = {};\n  var foundCpts = parseFinder(ecModel, option);\n  each(targetInfoBuilders, function (builder, type) {\n    if (!opt || !opt.include || indexOf(opt.include, type) >= 0) {\n      builder(foundCpts, targetInfoList, info);\n    }\n  });\n}\n\nvar proto = BrushTargetManager.prototype;\n\nproto.setOutputRanges = function (areas, ecModel) {\n  this.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n    (area.coordRanges || (area.coordRanges = [])).push(coordRange); // area.coordRange is the first of area.coordRanges\n\n    if (!area.coordRange) {\n      area.coordRange = coordRange; // In 'category' axis, coord to pixel is not reversible, so we can not\n      // rebuild range by coordRange accrately, which may bring trouble when\n      // brushing only one item. So we use __rangeOffset to rebuilding range\n      // by coordRange. And this it only used in brush component so it is no\n      // need to be adapted to coordRanges.\n\n      var result = coordConvert[area.brushType](0, coordSys, coordRange);\n      area.__rangeOffset = {\n        offset: diffProcessor[area.brushType](result.values, area.range, [1, 1]),\n        xyMinMax: result.xyMinMax\n      };\n    }\n  });\n};\n\nproto.matchOutputRanges = function (areas, ecModel, cb) {\n  each(areas, function (area) {\n    var targetInfo = this.findTargetInfo(area, ecModel);\n\n    if (targetInfo && targetInfo !== true) {\n      zrUtil.each(targetInfo.coordSyses, function (coordSys) {\n        var result = coordConvert[area.brushType](1, coordSys, area.range);\n        cb(area, result.values, coordSys, ecModel);\n      });\n    }\n  }, this);\n};\n\nproto.setInputRanges = function (areas, ecModel) {\n  each(areas, function (area) {\n    var targetInfo = this.findTargetInfo(area, ecModel);\n    area.range = area.range || []; // convert coordRange to global range and set panelId.\n\n    if (targetInfo && targetInfo !== true) {\n      area.panelId = targetInfo.panelId; // (1) area.range shoule always be calculate from coordRange but does\n      // not keep its original value, for the sake of the dataZoom scenario,\n      // where area.coordRange remains unchanged but area.range may be changed.\n      // (2) Only support converting one coordRange to pixel range in brush\n      // component. So do not consider `coordRanges`.\n      // (3) About __rangeOffset, see comment above.\n\n      var result = coordConvert[area.brushType](0, targetInfo.coordSys, area.coordRange);\n      var rangeOffset = area.__rangeOffset;\n      area.range = rangeOffset ? diffProcessor[area.brushType](result.values, rangeOffset.offset, getScales(result.xyMinMax, rangeOffset.xyMinMax)) : result.values;\n    }\n  }, this);\n};\n\nproto.makePanelOpts = function (api, getDefaultBrushType) {\n  return zrUtil.map(this._targetInfoList, function (targetInfo) {\n    var rect = targetInfo.getPanelRect();\n    return {\n      panelId: targetInfo.panelId,\n      defaultBrushType: getDefaultBrushType && getDefaultBrushType(targetInfo),\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, targetInfo.coordSysModel),\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect)\n    };\n  });\n};\n\nproto.controlSeries = function (area, seriesModel, ecModel) {\n  // Check whether area is bound in coord, and series do not belong to that coord.\n  // If do not do this check, some brush (like lineX) will controll all axes.\n  var targetInfo = this.findTargetInfo(area, ecModel);\n  return targetInfo === true || targetInfo && indexOf(targetInfo.coordSyses, seriesModel.coordinateSystem) >= 0;\n};\n/**\n * If return Object, a coord found.\n * If reutrn true, global found.\n * Otherwise nothing found.\n *\n * @param {Object} area\n * @param {Array} targetInfoList\n * @return {Object|boolean}\n */\n\n\nproto.findTargetInfo = function (area, ecModel) {\n  var targetInfoList = this._targetInfoList;\n  var foundCpts = parseFinder(ecModel, area);\n\n  for (var i = 0; i < targetInfoList.length; i++) {\n    var targetInfo = targetInfoList[i];\n    var areaPanelId = area.panelId;\n\n    if (areaPanelId) {\n      if (targetInfo.panelId === areaPanelId) {\n        return targetInfo;\n      }\n    } else {\n      for (var i = 0; i < targetInfoMatchers.length; i++) {\n        if (targetInfoMatchers[i](foundCpts, targetInfo)) {\n          return targetInfo;\n        }\n      }\n    }\n  }\n\n  return true;\n};\n\nfunction formatMinMax(minMax) {\n  minMax[0] > minMax[1] && minMax.reverse();\n  return minMax;\n}\n\nfunction parseFinder(ecModel, option) {\n  return modelUtil.parseFinder(ecModel, option, {\n    includeMainTypes: INCLUDE_FINDER_MAIN_TYPES\n  });\n}\n\nvar targetInfoBuilders = {\n  grid: function (foundCpts, targetInfoList) {\n    var xAxisModels = foundCpts.xAxisModels;\n    var yAxisModels = foundCpts.yAxisModels;\n    var gridModels = foundCpts.gridModels; // Remove duplicated.\n\n    var gridModelMap = zrUtil.createHashMap();\n    var xAxesHas = {};\n    var yAxesHas = {};\n\n    if (!xAxisModels && !yAxisModels && !gridModels) {\n      return;\n    }\n\n    each(xAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n    });\n    each(yAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      yAxesHas[gridModel.id] = true;\n    });\n    each(gridModels, function (gridModel) {\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n      yAxesHas[gridModel.id] = true;\n    });\n    gridModelMap.each(function (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      var cartesians = [];\n      each(grid.getCartesians(), function (cartesian, index) {\n        if (indexOf(xAxisModels, cartesian.getAxis('x').model) >= 0 || indexOf(yAxisModels, cartesian.getAxis('y').model) >= 0) {\n          cartesians.push(cartesian);\n        }\n      });\n      targetInfoList.push({\n        panelId: 'grid--' + gridModel.id,\n        gridModel: gridModel,\n        coordSysModel: gridModel,\n        // Use the first one as the representitive coordSys.\n        coordSys: cartesians[0],\n        coordSyses: cartesians,\n        getPanelRect: panelRectBuilder.grid,\n        xAxisDeclared: xAxesHas[gridModel.id],\n        yAxisDeclared: yAxesHas[gridModel.id]\n      });\n    });\n  },\n  geo: function (foundCpts, targetInfoList) {\n    each(foundCpts.geoModels, function (geoModel) {\n      var coordSys = geoModel.coordinateSystem;\n      targetInfoList.push({\n        panelId: 'geo--' + geoModel.id,\n        geoModel: geoModel,\n        coordSysModel: geoModel,\n        coordSys: coordSys,\n        coordSyses: [coordSys],\n        getPanelRect: panelRectBuilder.geo\n      });\n    });\n  }\n};\nvar targetInfoMatchers = [// grid\nfunction (foundCpts, targetInfo) {\n  var xAxisModel = foundCpts.xAxisModel;\n  var yAxisModel = foundCpts.yAxisModel;\n  var gridModel = foundCpts.gridModel;\n  !gridModel && xAxisModel && (gridModel = xAxisModel.axis.grid.model);\n  !gridModel && yAxisModel && (gridModel = yAxisModel.axis.grid.model);\n  return gridModel && gridModel === targetInfo.gridModel;\n}, // geo\nfunction (foundCpts, targetInfo) {\n  var geoModel = foundCpts.geoModel;\n  return geoModel && geoModel === targetInfo.geoModel;\n}];\nvar panelRectBuilder = {\n  grid: function () {\n    // grid is not Transformable.\n    return this.coordSys.grid.getRect().clone();\n  },\n  geo: function () {\n    var coordSys = this.coordSys;\n    var rect = coordSys.getBoundingRect().clone(); // geo roam and zoom transform\n\n    rect.applyTransform(graphic.getTransform(coordSys));\n    return rect;\n  }\n};\nvar coordConvert = {\n  lineX: curry(axisConvert, 0),\n  lineY: curry(axisConvert, 1),\n  rect: function (to, coordSys, rangeOrCoordRange) {\n    var xminymin = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]]);\n    var xmaxymax = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]]);\n    var values = [formatMinMax([xminymin[0], xmaxymax[0]]), formatMinMax([xminymin[1], xmaxymax[1]])];\n    return {\n      values: values,\n      xyMinMax: values\n    };\n  },\n  polygon: function (to, coordSys, rangeOrCoordRange) {\n    var xyMinMax = [[Infinity, -Infinity], [Infinity, -Infinity]];\n    var values = zrUtil.map(rangeOrCoordRange, function (item) {\n      var p = coordSys[COORD_CONVERTS[to]](item);\n      xyMinMax[0][0] = Math.min(xyMinMax[0][0], p[0]);\n      xyMinMax[1][0] = Math.min(xyMinMax[1][0], p[1]);\n      xyMinMax[0][1] = Math.max(xyMinMax[0][1], p[0]);\n      xyMinMax[1][1] = Math.max(xyMinMax[1][1], p[1]);\n      return p;\n    });\n    return {\n      values: values,\n      xyMinMax: xyMinMax\n    };\n  }\n};\n\nfunction axisConvert(axisNameIndex, to, coordSys, rangeOrCoordRange) {\n  var axis = coordSys.getAxis(['x', 'y'][axisNameIndex]);\n  var values = formatMinMax(zrUtil.map([0, 1], function (i) {\n    return to ? axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i])) : axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]));\n  }));\n  var xyMinMax = [];\n  xyMinMax[axisNameIndex] = values;\n  xyMinMax[1 - axisNameIndex] = [NaN, NaN];\n  return {\n    values: values,\n    xyMinMax: xyMinMax\n  };\n}\n\nvar diffProcessor = {\n  lineX: curry(axisDiffProcessor, 0),\n  lineY: curry(axisDiffProcessor, 1),\n  rect: function (values, refer, scales) {\n    return [[values[0][0] - scales[0] * refer[0][0], values[0][1] - scales[0] * refer[0][1]], [values[1][0] - scales[1] * refer[1][0], values[1][1] - scales[1] * refer[1][1]]];\n  },\n  polygon: function (values, refer, scales) {\n    return zrUtil.map(values, function (item, idx) {\n      return [item[0] - scales[0] * refer[idx][0], item[1] - scales[1] * refer[idx][1]];\n    });\n  }\n};\n\nfunction axisDiffProcessor(axisNameIndex, values, refer, scales) {\n  return [values[0] - scales[axisNameIndex] * refer[0], values[1] - scales[axisNameIndex] * refer[1]];\n} // We have to process scale caused by dataZoom manually,\n// although it might be not accurate.\n\n\nfunction getScales(xyMinMaxCurr, xyMinMaxOrigin) {\n  var sizeCurr = getSize(xyMinMaxCurr);\n  var sizeOrigin = getSize(xyMinMaxOrigin);\n  var scales = [sizeCurr[0] / sizeOrigin[0], sizeCurr[1] / sizeOrigin[1]];\n  isNaN(scales[0]) && (scales[0] = 1);\n  isNaN(scales[1]) && (scales[1] = 1);\n  return scales;\n}\n\nfunction getSize(xyMinMax) {\n  return xyMinMax ? [xyMinMax[0][1] - xyMinMax[0][0], xyMinMax[1][1] - xyMinMax[1][0]] : [NaN, NaN];\n}\n\nvar _default = BrushTargetManager;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar _whiskerBoxCommon = require(\"../helper/whiskerBoxCommon\");\n\nvar seriesModelMixin = _whiskerBoxCommon.seriesModelMixin;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar CandlestickSeries = SeriesModel.extend({\n  type: 'series.candlestick',\n  dependencies: ['xAxis', 'yAxis', 'grid'],\n\n  /**\n   * @readOnly\n   */\n  defaultValueDimensions: [{\n    name: 'open',\n    defaultTooltip: true\n  }, {\n    name: 'close',\n    defaultTooltip: true\n  }, {\n    name: 'lowest',\n    defaultTooltip: true\n  }, {\n    name: 'highest',\n    defaultTooltip: true\n  }],\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: null,\n\n  /**\n   * @override\n   */\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    layout: null,\n    // 'horizontal' or 'vertical'\n    clip: true,\n    itemStyle: {\n      color: '#c23531',\n      //  positive\n      color0: '#314656',\n      //  negative     '#c23531', '#314656'\n      borderWidth: 1,\n      // FIXME\n      // ec2lineStyle.color  lineStyle.color0\n      borderColor: '#c23531',\n      borderColor0: '#314656'\n    },\n    emphasis: {\n      itemStyle: {\n        borderWidth: 2\n      }\n    },\n    barMaxWidth: null,\n    barMinWidth: null,\n    barWidth: null,\n    large: true,\n    largeThreshold: 600,\n    progressive: 3e3,\n    progressiveThreshold: 1e4,\n    progressiveChunkMode: 'mod',\n    animationUpdate: false,\n    animationEasing: 'linear',\n    animationDuration: 300\n  },\n\n  /**\n   * Get dimension for shadow in dataZoom\n   * @return {string} dimension name\n   */\n  getShadowDim: function () {\n    return 'open';\n  },\n  brushSelector: function (dataIndex, data, selectors) {\n    var itemLayout = data.getItemLayout(dataIndex);\n    return itemLayout && selectors.rect(itemLayout.brushRect);\n  }\n});\nzrUtil.mixin(CandlestickSeries, seriesModelMixin, true);\nvar _default = CandlestickSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nrequire(\"../helper/focusNodeAdjacencyAction\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerAction({\n  type: 'dragNode',\n  event: 'dragnode',\n  // here can only use 'update' now, other value is not support in echarts.\n  update: 'update'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'sankey',\n    query: payload\n  }, function (seriesModel) {\n    seriesModel.setNodePosition(payload.dataIndex, [payload.localX, payload.localY]);\n  });\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./pie/PieSeries\");\n\nrequire(\"./pie/PieView\");\n\nvar createDataSelectAction = require(\"../action/createDataSelectAction\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar pieLayout = require(\"./pie/pieLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\ncreateDataSelectAction('pie', [{\n  type: 'pieToggleSelect',\n  event: 'pieselectchanged',\n  method: 'toggleSelected'\n}, {\n  type: 'pieSelect',\n  event: 'pieselected',\n  method: 'select'\n}, {\n  type: 'pieUnSelect',\n  event: 'pieunselected',\n  method: 'unSelect'\n}]);\necharts.registerVisual(dataColor('pie'));\necharts.registerLayout(zrUtil.curry(pieLayout, 'pie'));\necharts.registerProcessor(dataFilter('pie'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _graphic = require(\"../graphic\");\n\nvar extendShape = _graphic.extendShape;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Sausage: similar to sector, but have half circle on both sides\n * @public\n */\nvar _default = extendShape({\n  type: 'sausage',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r0: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var dr = (r - r0) * 0.5;\n    var rCenter = r0 + dr;\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitStartX = Math.cos(startAngle);\n    var unitStartY = Math.sin(startAngle);\n    var unitEndX = Math.cos(endAngle);\n    var unitEndY = Math.sin(endAngle);\n    var lessThanCircle = clockwise ? endAngle - startAngle < Math.PI * 2 : startAngle - endAngle < Math.PI * 2;\n\n    if (lessThanCircle) {\n      ctx.moveTo(unitStartX * r0 + x, unitStartY * r0 + y);\n      ctx.arc(unitStartX * rCenter + x, unitStartY * rCenter + y, dr, -Math.PI + startAngle, startAngle, !clockwise);\n    }\n\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    ctx.moveTo(unitEndX * r + x, unitEndY * r + y);\n    ctx.arc(unitEndX * rCenter + x, unitEndY * rCenter + y, dr, endAngle - Math.PI * 2, endAngle - Math.PI, !clockwise);\n\n    if (r0 !== 0) {\n      ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n      ctx.moveTo(unitStartX * r0 + x, unitEndY * r0 + y);\n    }\n\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BrushController = require(\"../helper/BrushController\");\n\nvar _visualEncoding = require(\"./visualEncoding\");\n\nvar layoutCovers = _visualEncoding.layoutCovers;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'brush',\n  init: function (ecModel, api) {\n    /**\n     * @readOnly\n     * @type {module:echarts/model/Global}\n     */\n    this.ecModel = ecModel;\n    /**\n     * @readOnly\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this.api = api;\n    /**\n     * @readOnly\n     * @type {module:echarts/component/brush/BrushModel}\n     */\n\n    this.model;\n    /**\n     * @private\n     * @type {module:echarts/component/helper/BrushController}\n     */\n\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  },\n\n  /**\n   * @override\n   */\n  render: function (brushModel) {\n    this.model = brushModel;\n    return updateController.apply(this, arguments);\n  },\n\n  /**\n   * @override\n   */\n  updateTransform: function (brushModel, ecModel) {\n    // PENDING: `updateTransform` is a little tricky, whose layout need\n    // to be calculate mandatorily and other stages will not be performed.\n    // Take care the correctness of the logic. See #11754 .\n    layoutCovers(ecModel);\n    return updateController.apply(this, arguments);\n  },\n\n  /**\n   * @override\n   */\n  updateView: updateController,\n  // /**\n  //  * @override\n  //  */\n  // updateLayout: updateController,\n  // /**\n  //  * @override\n  //  */\n  // updateVisual: updateController,\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._brushController.dispose();\n  },\n\n  /**\n   * @private\n   */\n  _onBrush: function (areas, opt) {\n    var modelId = this.model.id;\n    this.model.brushTargetManager.setOutputRanges(areas, this.ecModel); // Action is not dispatched on drag end, because the drag end\n    // emits the same params with the last drag move event, and\n    // may have some delay when using touch pad, which makes\n    // animation not smooth (when using debounce).\n\n    (!opt.isEnd || opt.removeOnClick) && this.api.dispatchAction({\n      type: 'brush',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n    opt.isEnd && this.api.dispatchAction({\n      type: 'brushEnd',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n  }\n});\n\nfunction updateController(brushModel, ecModel, api, payload) {\n  // Do not update controller when drawing.\n  (!payload || payload.$from !== brushModel.id) && this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice());\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {string} label string. Not null/undefined\n */\nfunction getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimension('defaultedLabel', true);\n  var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n  if (len === 1) {\n    return retrieveRawValue(data, dataIndex, labelDims[0]);\n  } else if (len) {\n    var vals = [];\n\n    for (var i = 0; i < labelDims.length; i++) {\n      var val = retrieveRawValue(data, dataIndex, labelDims[i]);\n      vals.push(val);\n    }\n\n    return vals.join(' ');\n  }\n}\n\nexports.getDefaultLabel = getDefaultLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n * @param {Function} getDataWithEncodedVisual Function to get data after filtered. It stores all the encoding info\n * @param {Function} getRawData Function to get raw data before filtered.\n */\nfunction LegendVisualProvider(getDataWithEncodedVisual, getRawData) {\n  this.getAllNames = function () {\n    var rawData = getRawData(); // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n\n    return rawData.mapArray(rawData.getName);\n  };\n\n  this.containName = function (name) {\n    var rawData = getRawData();\n    return rawData.indexOfName(name) >= 0;\n  };\n\n  this.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = getDataWithEncodedVisual();\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n\n  this.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = getDataWithEncodedVisual();\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n}\n\nvar _default = LegendVisualProvider;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"../coord/parallel/parallelCreator\");\n\nrequire(\"./axis/parallelAxisAction\");\n\nrequire(\"./axis/ParallelAxisView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\n\nfunction onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget); // If model is axisModel, it works only if it is injected with coordinateSystem.\n\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES[model.mainType] && coordSys && coordSys.model !== targetCoordSysModel;\n}\n\nexports.onIrrelevantElement = onIrrelevantElement;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisModel = ComponentModel.extend({\n  type: 'singleAxis',\n  layoutMode: 'box',\n\n  /**\n   * @type {module:echarts/coord/single/SingleAxis}\n   */\n  axis: null,\n\n  /**\n   * @type {module:echarts/coord/single/Single}\n   */\n  coordinateSystem: null,\n\n  /**\n   * @override\n   */\n  getCoordSysModel: function () {\n    return this;\n  }\n});\nvar defaultOption = {\n  left: '5%',\n  top: '5%',\n  right: '5%',\n  bottom: '5%',\n  type: 'value',\n  position: 'bottom',\n  orient: 'horizontal',\n  axisLine: {\n    show: true,\n    lineStyle: {\n      width: 1,\n      type: 'solid'\n    }\n  },\n  // Single coordinate system and single axis is the,\n  // which is used as the parent tooltip model.\n  // same model, so we set default tooltip show as true.\n  tooltip: {\n    show: true\n  },\n  axisTick: {\n    show: true,\n    length: 6,\n    lineStyle: {\n      width: 1\n    }\n  },\n  axisLabel: {\n    show: true,\n    interval: 'auto'\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      type: 'dashed',\n      opacity: 0.2\n    }\n  }\n};\n\nfunction getAxisType(axisName, option) {\n  return option.type || (option.data ? 'category' : 'value');\n}\n\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\naxisModelCreator('single', AxisModel, getAxisType, defaultOption);\nvar _default = AxisModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar Cartesian = require(\"./Cartesian\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction Cartesian2D(name) {\n  Cartesian.call(this, name);\n}\n\nCartesian2D.prototype = {\n  constructor: Cartesian2D,\n  type: 'cartesian2d',\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['x', 'y'],\n\n  /**\n   * Base axis will be used on stacking.\n   *\n   * @return {module:echarts/coord/cartesian/Axis2D}\n   */\n  getBaseAxis: function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n  },\n\n  /**\n   * If contain point\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var axisX = this.getAxis('x');\n    var axisY = this.getAxis('y');\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n  },\n\n  /**\n   * If contain data\n   * @param {Array.<number>} data\n   * @return {boolean}\n   */\n  containData: function (data) {\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, reserved, out) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out = out || [];\n    out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(data[0]));\n    out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(data[1]));\n    return out;\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  clampData: function (data, out) {\n    var xScale = this.getAxis('x').scale;\n    var yScale = this.getAxis('y').scale;\n    var xAxisExtent = xScale.getExtent();\n    var yAxisExtent = yScale.getExtent();\n    var x = xScale.parse(data[0]);\n    var y = yScale.parse(data[1]);\n    out = out || [];\n    out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n    out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n    return out;\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  pointToData: function (point, out) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out = out || [];\n    out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]));\n    out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]));\n    return out;\n  },\n\n  /**\n   * Get other axis\n   * @param {module:echarts/coord/cartesian/Axis2D} axis\n   */\n  getOtherAxis: function (axis) {\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n  },\n\n  /**\n   * Get rect area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   * @return {BoundingRect}\n   */\n  getArea: function () {\n    var xExtent = this.getAxis('x').getGlobalExtent();\n    var yExtent = this.getAxis('y').getGlobalExtent();\n    var x = Math.min(xExtent[0], xExtent[1]);\n    var y = Math.min(yExtent[0], yExtent[1]);\n    var width = Math.max(xExtent[0], xExtent[1]) - x;\n    var height = Math.max(yExtent[0], yExtent[1]) - y;\n    var rect = new BoundingRect(x, y, width, height);\n    return rect;\n  }\n};\nzrUtil.inherits(Cartesian2D, Cartesian);\nvar _default = Cartesian2D;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.scatter',\n  dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  brushSelector: 'point',\n  getProgressive: function () {\n    var progressive = this.option.progressive;\n\n    if (progressive == null) {\n      // PENDING\n      return this.option.large ? 5e3 : this.get('progressive');\n    }\n\n    return progressive;\n  },\n  getProgressiveThreshold: function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n\n    if (progressiveThreshold == null) {\n      // PENDING\n      return this.option.large ? 1e4 : this.get('progressiveThreshold');\n    }\n\n    return progressiveThreshold;\n  },\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // \n    symbolSize: 10,\n    // symbolSize * 2\n    // symbolRotate: null,  // \n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    // label: {\n    // show: false\n    // distance: 5,\n    // formatter: Tooltip.formatter\n    // position: 'top''right'\n    //           'inside'|'left'|'right'|'top'|'bottom'\n    // TEXTSTYLE\n    // },\n    itemStyle: {\n      opacity: 0.8 // color: \n\n    },\n    // If clip the overflow graphics\n    // Works on cartesian / polar series\n    clip: true // progressive: null\n\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// var PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction _default(seriesType, ecModel, api, payload) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width);\n    var cy = parsePercent(center[1], height);\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var virtualRoot = seriesModel.getData().tree.root;\n    var treeRoot = seriesModel.getViewRoot();\n    var rootDepth = treeRoot.depth;\n    var sort = seriesModel.get('sort');\n\n    if (sort != null) {\n      initChildren(treeRoot, sort);\n    }\n\n    var validDataCount = 0;\n    zrUtil.each(treeRoot.children, function (child) {\n      !isNaN(child.getValue()) && validDataCount++;\n    });\n    var sum = treeRoot.getValue(); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var renderRollupNode = treeRoot.depth > 0;\n    var levels = treeRoot.height - (renderRollupNode ? -1 : 1);\n    var rPerLevel = (r - r0) / (levels || 1);\n    var clockwise = seriesModel.get('clockwise');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // In the case some sector angle is smaller than minAngle\n    // var restAngle = PI2;\n    // var valueSumLargerThanMinAngle = 0;\n\n    var dir = clockwise ? 1 : -1;\n    /**\n     * Render a tree\n     * @return increased angle\n     */\n\n    var renderNode = function (node, startAngle) {\n      if (!node) {\n        return;\n      }\n\n      var endAngle = startAngle; // Render self\n\n      if (node !== virtualRoot) {\n        // Tree node is virtual, so it doesn't need to be drawn\n        var value = node.getValue();\n        var angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n\n        if (angle < minAngle) {\n          angle = minAngle; // restAngle -= minAngle;\n        } // else {\n        //     valueSumLargerThanMinAngle += value;\n        // }\n\n\n        endAngle = startAngle + dir * angle;\n        var depth = node.depth - rootDepth - (renderRollupNode ? -1 : 1);\n        var rStart = r0 + rPerLevel * depth;\n        var rEnd = r0 + rPerLevel * (depth + 1);\n        var itemModel = node.getModel();\n\n        if (itemModel.get('r0') != null) {\n          rStart = parsePercent(itemModel.get('r0'), size / 2);\n        }\n\n        if (itemModel.get('r') != null) {\n          rEnd = parsePercent(itemModel.get('r'), size / 2);\n        }\n\n        node.setLayout({\n          angle: angle,\n          startAngle: startAngle,\n          endAngle: endAngle,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: rStart,\n          r: rEnd\n        });\n      } // Render children\n\n\n      if (node.children && node.children.length) {\n        // currentAngle = startAngle;\n        var siblingAngle = 0;\n        zrUtil.each(node.children, function (node) {\n          siblingAngle += renderNode(node, startAngle + siblingAngle);\n        });\n      }\n\n      return endAngle - startAngle;\n    }; // Virtual root node for roll up\n\n\n    if (renderRollupNode) {\n      var rStart = r0;\n      var rEnd = r0 + rPerLevel;\n      var angle = Math.PI * 2;\n      virtualRoot.setLayout({\n        angle: angle,\n        startAngle: startAngle,\n        endAngle: startAngle + angle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: rStart,\n        r: rEnd\n      });\n    }\n\n    renderNode(treeRoot, startAngle);\n  });\n}\n/**\n * Init node children by order and update visual\n *\n * @param {TreeNode} node  root node\n * @param {boolean}  isAsc if is in ascendant order\n */\n\n\nfunction initChildren(node, isAsc) {\n  var children = node.children || [];\n  node.children = sort(children, isAsc); // Init children recursively\n\n  if (children.length) {\n    zrUtil.each(node.children, function (child) {\n      initChildren(child, isAsc);\n    });\n  }\n}\n/**\n * Sort children nodes\n *\n * @param {TreeNode[]}               children children of node to be sorted\n * @param {string | function | null} sort sort method\n *                                   See SunburstSeries.js for details.\n */\n\n\nfunction sort(children, sortOrder) {\n  if (typeof sortOrder === 'function') {\n    return children.sort(sortOrder);\n  } else {\n    var isAsc = sortOrder === 'asc';\n    return children.sort(function (a, b) {\n      var diff = (a.getValue() - b.getValue()) * (isAsc ? 1 : -1);\n      return diff === 0 ? (a.dataIndex - b.dataIndex) * (isAsc ? -1 : 1) : diff;\n    });\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisPointerModelHelper = require(\"./axisPointer/modelHelper\");\n\nvar axisTrigger = require(\"./axisPointer/axisTrigger\");\n\nrequire(\"./axisPointer/AxisPointerModel\");\n\nrequire(\"./axisPointer/AxisPointerView\");\n\nrequire(\"./axisPointer/CartesianAxisPointer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// CartesianAxisPointer is not supposed to be required here. But consider\n// echarts.simple.js and online build tooltip, which only require gridSimple,\n// CartesianAxisPointer should be able to required somewhere.\necharts.registerPreprocessor(function (option) {\n  // Always has a global axisPointerModel for default setting.\n  if (option) {\n    (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n    var link = option.axisPointer.link; // Normalize to array to avoid object mergin. But if link\n    // is not set, remain null/undefined, otherwise it will\n    // override existent link setting.\n\n    if (link && !zrUtil.isArray(link)) {\n      option.axisPointer.link = [link];\n    }\n  }\n}); // This process should proformed after coordinate systems created\n// and series data processed. So put it on statistic processing stage.\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n  // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n  // allAxesInfo should be updated when setOption performed.\n  ecModel.getComponent('axisPointer').coordSysAxesInfo = axisPointerModelHelper.collect(ecModel, api);\n}); // Broadcast to all views.\n\necharts.registerAction({\n  type: 'updateAxisPointer',\n  event: 'updateAxisPointer',\n  update: ':updateAxisPointer'\n}, axisTrigger);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/component/visualMap/VisualMapModel} visualMapModel\\\n * @param {module:echarts/ExtensionAPI} api\n * @param {Array.<number>} itemSize always [short, long]\n * @return {string} 'left' or 'right' or 'top' or 'bottom'\n */\nfunction getItemAlign(visualMapModel, api, itemSize) {\n  var modelOption = visualMapModel.option;\n  var itemAlign = modelOption.align;\n\n  if (itemAlign != null && itemAlign !== 'auto') {\n    return itemAlign;\n  } // Auto decision align.\n\n\n  var ecSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var realIndex = modelOption.orient === 'horizontal' ? 1 : 0;\n  var paramsSet = [['left', 'right', 'width'], ['top', 'bottom', 'height']];\n  var reals = paramsSet[realIndex];\n  var fakeValue = [0, null, 10];\n  var layoutInput = {};\n\n  for (var i = 0; i < 3; i++) {\n    layoutInput[paramsSet[1 - realIndex][i]] = fakeValue[i];\n    layoutInput[reals[i]] = i === 2 ? itemSize[0] : modelOption[reals[i]];\n  }\n\n  var rParam = [['x', 'width', 3], ['y', 'height', 0]][realIndex];\n  var rect = getLayoutRect(layoutInput, ecSize, modelOption.padding);\n  return reals[(rect.margin[rParam[2]] || 0) + rect[rParam[0]] + rect[rParam[1]] * 0.5 < ecSize[rParam[1]] * 0.5 ? 0 : 1];\n}\n/**\n * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and\n * dataIndexInside means filtered index.\n */\n\n\nfunction makeHighDownBatch(batch, visualMapModel) {\n  zrUtil.each(batch || [], function (batchItem) {\n    if (batchItem.dataIndex != null) {\n      batchItem.dataIndexInside = batchItem.dataIndex;\n      batchItem.dataIndex = null;\n    }\n\n    batchItem.highlightKey = 'visualMap' + (visualMapModel ? visualMapModel.componentIndex : '');\n  });\n  return batch;\n}\n\nexports.getItemAlign = getItemAlign;\nexports.makeHighDownBatch = makeHighDownBatch;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar _graphic = require(\"../../util/graphic\");\n\nvar Group = _graphic.Group;\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar SymbolClz = require(\"./Symbol\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Symbol with ripple effect\n * @module echarts/chart/helper/EffectSymbol\n */\nvar EFFECT_RIPPLE_NUMBER = 3;\n\nfunction normalizeSymbolSize(symbolSize) {\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n\n  return symbolSize;\n}\n\nfunction updateRipplePath(rippleGroup, effectCfg) {\n  var color = effectCfg.rippleEffectColor || effectCfg.color;\n  rippleGroup.eachChild(function (ripplePath) {\n    ripplePath.attr({\n      z: effectCfg.z,\n      zlevel: effectCfg.zlevel,\n      style: {\n        stroke: effectCfg.brushType === 'stroke' ? color : null,\n        fill: effectCfg.brushType === 'fill' ? color : null\n      }\n    });\n  });\n}\n/**\n * @constructor\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction EffectSymbol(data, idx) {\n  Group.call(this);\n  var symbol = new SymbolClz(data, idx);\n  var rippleGroup = new Group();\n  this.add(symbol);\n  this.add(rippleGroup);\n\n  rippleGroup.beforeUpdate = function () {\n    this.attr(symbol.getScale());\n  };\n\n  this.updateData(data, idx);\n}\n\nvar effectSymbolProto = EffectSymbol.prototype;\n\neffectSymbolProto.stopEffectAnimation = function () {\n  this.childAt(1).removeAll();\n};\n\neffectSymbolProto.startEffectAnimation = function (effectCfg) {\n  var symbolType = effectCfg.symbolType;\n  var color = effectCfg.color;\n  var rippleGroup = this.childAt(1);\n\n  for (var i = 0; i < EFFECT_RIPPLE_NUMBER; i++) {\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4136.\n    var ripplePath = createSymbol(symbolType, -1, -1, 2, 2, color);\n    ripplePath.attr({\n      style: {\n        strokeNoScale: true\n      },\n      z2: 99,\n      silent: true,\n      scale: [0.5, 0.5]\n    });\n    var delay = -i / EFFECT_RIPPLE_NUMBER * effectCfg.period + effectCfg.effectOffset; // TODO Configurable effectCfg.period\n\n    ripplePath.animate('', true).when(effectCfg.period, {\n      scale: [effectCfg.rippleScale / 2, effectCfg.rippleScale / 2]\n    }).delay(delay).start();\n    ripplePath.animateStyle(true).when(effectCfg.period, {\n      opacity: 0\n    }).delay(delay).start();\n    rippleGroup.add(ripplePath);\n  }\n\n  updateRipplePath(rippleGroup, effectCfg);\n};\n/**\n * Update effect symbol\n */\n\n\neffectSymbolProto.updateEffectAnimation = function (effectCfg) {\n  var oldEffectCfg = this._effectCfg;\n  var rippleGroup = this.childAt(1); // Must reinitialize effect if following configuration changed\n\n  var DIFFICULT_PROPS = ['symbolType', 'period', 'rippleScale'];\n\n  for (var i = 0; i < DIFFICULT_PROPS.length; i++) {\n    var propName = DIFFICULT_PROPS[i];\n\n    if (oldEffectCfg[propName] !== effectCfg[propName]) {\n      this.stopEffectAnimation();\n      this.startEffectAnimation(effectCfg);\n      return;\n    }\n  }\n\n  updateRipplePath(rippleGroup, effectCfg);\n};\n/**\n * Highlight symbol\n */\n\n\neffectSymbolProto.highlight = function () {\n  this.trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\neffectSymbolProto.downplay = function () {\n  this.trigger('normal');\n};\n/**\n * Update symbol properties\n * @param  {module:echarts/data/List} data\n * @param  {number} idx\n */\n\n\neffectSymbolProto.updateData = function (data, idx) {\n  var seriesModel = data.hostModel;\n  this.childAt(0).updateData(data, idx);\n  var rippleGroup = this.childAt(1);\n  var itemModel = data.getItemModel(idx);\n  var symbolType = data.getItemVisual(idx, 'symbol');\n  var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n  var color = data.getItemVisual(idx, 'color');\n  rippleGroup.attr('scale', symbolSize);\n  rippleGroup.traverse(function (ripplePath) {\n    ripplePath.attr({\n      fill: color\n    });\n  });\n  var symbolOffset = itemModel.getShallow('symbolOffset');\n\n  if (symbolOffset) {\n    var pos = rippleGroup.position;\n    pos[0] = parsePercent(symbolOffset[0], symbolSize[0]);\n    pos[1] = parsePercent(symbolOffset[1], symbolSize[1]);\n  }\n\n  var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n  rippleGroup.rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  var effectCfg = {};\n  effectCfg.showEffectOn = seriesModel.get('showEffectOn');\n  effectCfg.rippleScale = itemModel.get('rippleEffect.scale');\n  effectCfg.brushType = itemModel.get('rippleEffect.brushType');\n  effectCfg.period = itemModel.get('rippleEffect.period') * 1000;\n  effectCfg.effectOffset = idx / data.count();\n  effectCfg.z = itemModel.getShallow('z') || 0;\n  effectCfg.zlevel = itemModel.getShallow('zlevel') || 0;\n  effectCfg.symbolType = symbolType;\n  effectCfg.color = color;\n  effectCfg.rippleEffectColor = itemModel.get('rippleEffect.color');\n  this.off('mouseover').off('mouseout').off('emphasis').off('normal');\n\n  if (effectCfg.showEffectOn === 'render') {\n    this._effectCfg ? this.updateEffectAnimation(effectCfg) : this.startEffectAnimation(effectCfg);\n    this._effectCfg = effectCfg;\n  } else {\n    // Not keep old effect config\n    this._effectCfg = null;\n    this.stopEffectAnimation();\n    var symbol = this.childAt(0);\n\n    var onEmphasis = function () {\n      symbol.highlight();\n\n      if (effectCfg.showEffectOn !== 'render') {\n        this.startEffectAnimation(effectCfg);\n      }\n    };\n\n    var onNormal = function () {\n      symbol.downplay();\n\n      if (effectCfg.showEffectOn !== 'render') {\n        this.stopEffectAnimation();\n      }\n    };\n\n    this.on('mouseover', onEmphasis, this).on('mouseout', onNormal, this).on('emphasis', onEmphasis, this).on('normal', onNormal, this);\n  }\n\n  this._effectCfg = effectCfg;\n};\n\neffectSymbolProto.fadeOut = function (cb) {\n  this.off('mouseover').off('mouseout').off('emphasis').off('normal');\n  cb && cb();\n};\n\nzrUtil.inherits(EffectSymbol, Group);\nvar _default = EffectSymbol;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _parseSVG = require(\"zrender/lib/tool/parseSVG\");\n\nvar parseSVG = _parseSVG.parseSVG;\nvar makeViewBoxTransform = _parseSVG.makeViewBoxTransform;\n\nvar Group = require(\"zrender/lib/container/Group\");\n\nvar Rect = require(\"zrender/lib/graphic/shape/Rect\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar assert = _util.assert;\nvar createHashMap = _util.createHashMap;\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar _default = {\n  /**\n   * @param {string} mapName\n   * @param {Object} mapRecord {specialAreas, geoJSON}\n   * @return {Object} {root, boundingRect}\n   */\n  load: function (mapName, mapRecord) {\n    var originRoot = inner(mapRecord).originRoot;\n\n    if (originRoot) {\n      return {\n        root: originRoot,\n        boundingRect: inner(mapRecord).boundingRect\n      };\n    }\n\n    var graphic = buildGraphic(mapRecord);\n    inner(mapRecord).originRoot = graphic.root;\n    inner(mapRecord).boundingRect = graphic.boundingRect;\n    return graphic;\n  },\n  makeGraphic: function (mapName, mapRecord, hostKey) {\n    // For performance consideration (in large SVG), graphic only maked\n    // when necessary and reuse them according to hostKey.\n    var field = inner(mapRecord);\n    var rootMap = field.rootMap || (field.rootMap = createHashMap());\n    var root = rootMap.get(hostKey);\n\n    if (root) {\n      return root;\n    }\n\n    var originRoot = field.originRoot;\n    var boundingRect = field.boundingRect; // For performance, if originRoot is not used by a view,\n    // assign it to a view, but not reproduce graphic elements.\n\n    if (!field.originRootHostKey) {\n      field.originRootHostKey = hostKey;\n      root = originRoot;\n    } else {\n      root = buildGraphic(mapRecord, boundingRect).root;\n    }\n\n    return rootMap.set(hostKey, root);\n  },\n  removeGraphic: function (mapName, mapRecord, hostKey) {\n    var field = inner(mapRecord);\n    var rootMap = field.rootMap;\n    rootMap && rootMap.removeKey(hostKey);\n\n    if (hostKey === field.originRootHostKey) {\n      field.originRootHostKey = null;\n    }\n  }\n};\n\nfunction buildGraphic(mapRecord, boundingRect) {\n  var svgXML = mapRecord.svgXML;\n  var result;\n  var root;\n\n  try {\n    result = svgXML && parseSVG(svgXML, {\n      ignoreViewBox: true,\n      ignoreRootClip: true\n    }) || {};\n    root = result.root;\n    assert(root != null);\n  } catch (e) {\n    throw new Error('Invalid svg format\\n' + e.message);\n  }\n\n  var svgWidth = result.width;\n  var svgHeight = result.height;\n  var viewBoxRect = result.viewBoxRect;\n\n  if (!boundingRect) {\n    boundingRect = svgWidth == null || svgHeight == null ? // If svg width / height not specified, calculate\n    // bounding rect as the width / height\n    root.getBoundingRect() : new BoundingRect(0, 0, 0, 0);\n\n    if (svgWidth != null) {\n      boundingRect.width = svgWidth;\n    }\n\n    if (svgHeight != null) {\n      boundingRect.height = svgHeight;\n    }\n  }\n\n  if (viewBoxRect) {\n    var viewBoxTransform = makeViewBoxTransform(viewBoxRect, boundingRect.width, boundingRect.height);\n    var elRoot = root;\n    root = new Group();\n    root.add(elRoot);\n    elRoot.scale = viewBoxTransform.scale;\n    elRoot.position = viewBoxTransform.position;\n  }\n\n  root.setClipPath(new Rect({\n    shape: boundingRect.plain()\n  }));\n  return {\n    root: root,\n    boundingRect: boundingRect\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar IncrementalDisplayable = require(\"zrender/lib/graphic/IncrementalDisplayable\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\n// TODO Batch by color\nvar BOOST_SIZE_THRESHOLD = 4;\nvar LargeSymbolPath = graphic.extendShape({\n  shape: {\n    points: null\n  },\n  symbolProxy: null,\n  softClipShape: null,\n  buildPath: function (path, shape) {\n    var points = shape.points;\n    var size = shape.size;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n    var ctx = path.getContext ? path.getContext() : path;\n    var canBoost = ctx && size[0] < BOOST_SIZE_THRESHOLD; // Do draw in afterBrush.\n\n    if (canBoost) {\n      return;\n    }\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      }\n\n      symbolProxyShape.x = x - size[0] / 2;\n      symbolProxyShape.y = y - size[1] / 2;\n      symbolProxyShape.width = size[0];\n      symbolProxyShape.height = size[1];\n      symbolProxy.buildPath(path, symbolProxyShape, true);\n    }\n  },\n  afterBrush: function (ctx) {\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var canBoost = size[0] < BOOST_SIZE_THRESHOLD;\n\n    if (!canBoost) {\n      return;\n    }\n\n    this.setTransform(ctx); // PENDING If style or other canvas status changed?\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      } // fillRect is faster than building a rect path and draw.\n      // And it support light globalCompositeOperation.\n\n\n      ctx.fillRect(x - size[0] / 2, y - size[1] / 2, size[0], size[1]);\n    }\n\n    this.restoreTransform(ctx);\n  },\n  findDataIndex: function (x, y) {\n    // TODO ???\n    // Consider transform\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var w = Math.max(size[0], 4);\n    var h = Math.max(size[1], 4); // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n\n    for (var idx = points.length / 2 - 1; idx >= 0; idx--) {\n      var i = idx * 2;\n      var x0 = points[i] - w / 2;\n      var y0 = points[i + 1] - h / 2;\n\n      if (x >= x0 && y >= y0 && x <= x0 + w && y <= y0 + h) {\n        return idx;\n      }\n    }\n\n    return -1;\n  }\n});\n\nfunction LargeSymbolDraw() {\n  this.group = new graphic.Group();\n}\n\nvar largeSymbolProto = LargeSymbolDraw.prototype;\n\nlargeSymbolProto.isPersistent = function () {\n  return !this._incremental;\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} opt\n * @param {Object} [opt.clipShape]\n */\n\n\nlargeSymbolProto.updateData = function (data, opt) {\n  this.group.removeAll();\n  var symbolEl = new LargeSymbolPath({\n    rectHover: true,\n    cursor: 'default'\n  });\n  symbolEl.setShape({\n    points: data.getLayout('symbolPoints')\n  });\n\n  this._setCommon(symbolEl, data, false, opt);\n\n  this.group.add(symbolEl);\n  this._incremental = null;\n};\n\nlargeSymbolProto.updateLayout = function (data) {\n  if (this._incremental) {\n    return;\n  }\n\n  var points = data.getLayout('symbolPoints');\n  this.group.eachChild(function (child) {\n    if (child.startIndex != null) {\n      var len = (child.endIndex - child.startIndex) * 2;\n      var byteOffset = child.startIndex * 4 * 2;\n      points = new Float32Array(points.buffer, byteOffset, len);\n    }\n\n    child.setShape('points', points);\n  });\n};\n\nlargeSymbolProto.incrementalPrepareUpdate = function (data) {\n  this.group.removeAll();\n\n  this._clearIncremental(); // Only use incremental displayables when data amount is larger than 2 million.\n  // PENDING Incremental data?\n\n\n  if (data.count() > 2e6) {\n    if (!this._incremental) {\n      this._incremental = new IncrementalDisplayable({\n        silent: true\n      });\n    }\n\n    this.group.add(this._incremental);\n  } else {\n    this._incremental = null;\n  }\n};\n\nlargeSymbolProto.incrementalUpdate = function (taskParams, data, opt) {\n  var symbolEl;\n\n  if (this._incremental) {\n    symbolEl = new LargeSymbolPath();\n\n    this._incremental.addDisplayable(symbolEl, true);\n  } else {\n    symbolEl = new LargeSymbolPath({\n      rectHover: true,\n      cursor: 'default',\n      startIndex: taskParams.start,\n      endIndex: taskParams.end\n    });\n    symbolEl.incremental = true;\n    this.group.add(symbolEl);\n  }\n\n  symbolEl.setShape({\n    points: data.getLayout('symbolPoints')\n  });\n\n  this._setCommon(symbolEl, data, !!this._incremental, opt);\n};\n\nlargeSymbolProto._setCommon = function (symbolEl, data, isIncremental, opt) {\n  var hostModel = data.hostModel;\n  opt = opt || {}; // TODO\n  // if (data.hasItemVisual.symbolSize) {\n  //     // TODO typed array?\n  //     symbolEl.setShape('sizes', data.mapArray(\n  //         function (idx) {\n  //             var size = data.getItemVisual(idx, 'symbolSize');\n  //             return (size instanceof Array) ? size : [size, size];\n  //         }\n  //     ));\n  // }\n  // else {\n\n  var size = data.getVisual('symbolSize');\n  symbolEl.setShape('size', size instanceof Array ? size : [size, size]); // }\n\n  symbolEl.softClipShape = opt.clipShape || null; // Create symbolProxy to build path for each data\n\n  symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0); // Use symbolProxy setColor method\n\n  symbolEl.setColor = symbolEl.symbolProxy.setColor;\n  var extrudeShadow = symbolEl.shape.size[0] < BOOST_SIZE_THRESHOLD;\n  symbolEl.useStyle( // Draw shadow when doing fillRect is extremely slow.\n  hostModel.getModel('itemStyle').getItemStyle(extrudeShadow ? ['color', 'shadowBlur', 'shadowColor'] : ['color']));\n  var visualColor = data.getVisual('color');\n\n  if (visualColor) {\n    symbolEl.setColor(visualColor);\n  }\n\n  if (!isIncremental) {\n    // Enable tooltip\n    // PENDING May have performance issue when path is extremely large\n    symbolEl.seriesIndex = hostModel.seriesIndex;\n    symbolEl.on('mousemove', function (e) {\n      symbolEl.dataIndex = null;\n      var dataIndex = symbolEl.findDataIndex(e.offsetX, e.offsetY);\n\n      if (dataIndex >= 0) {\n        // Provide dataIndex for tooltip\n        symbolEl.dataIndex = dataIndex + (symbolEl.startIndex || 0);\n      }\n    });\n  }\n};\n\nlargeSymbolProto.remove = function () {\n  this._clearIncremental();\n\n  this._incremental = null;\n  this.group.removeAll();\n};\n\nlargeSymbolProto._clearIncremental = function () {\n  var incremental = this._incremental;\n\n  if (incremental) {\n    incremental.clearDisplaybles();\n  }\n};\n\nvar _default = LargeSymbolDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _traversalHelper = require(\"./traversalHelper\");\n\nvar eachAfter = _traversalHelper.eachAfter;\nvar eachBefore = _traversalHelper.eachBefore;\n\nvar _layoutHelper = require(\"./layoutHelper\");\n\nvar init = _layoutHelper.init;\nvar firstWalk = _layoutHelper.firstWalk;\nvar secondWalk = _layoutHelper.secondWalk;\nvar sep = _layoutHelper.separation;\nvar radialCoordinate = _layoutHelper.radialCoordinate;\nvar getViewRect = _layoutHelper.getViewRect;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    commonLayout(seriesModel, api);\n  });\n}\n\nfunction commonLayout(seriesModel, api) {\n  var layoutInfo = getViewRect(seriesModel, api);\n  seriesModel.layoutInfo = layoutInfo;\n  var layout = seriesModel.get('layout');\n  var width = 0;\n  var height = 0;\n  var separation = null;\n\n  if (layout === 'radial') {\n    width = 2 * Math.PI;\n    height = Math.min(layoutInfo.height, layoutInfo.width) / 2;\n    separation = sep(function (node1, node2) {\n      return (node1.parentNode === node2.parentNode ? 1 : 2) / node1.depth;\n    });\n  } else {\n    width = layoutInfo.width;\n    height = layoutInfo.height;\n    separation = sep();\n  }\n\n  var virtualRoot = seriesModel.getData().tree.root;\n  var realRoot = virtualRoot.children[0];\n\n  if (realRoot) {\n    init(virtualRoot);\n    eachAfter(realRoot, firstWalk, separation);\n    virtualRoot.hierNode.modifier = -realRoot.hierNode.prelim;\n    eachBefore(realRoot, secondWalk);\n    var left = realRoot;\n    var right = realRoot;\n    var bottom = realRoot;\n    eachBefore(realRoot, function (node) {\n      var x = node.getLayout().x;\n\n      if (x < left.getLayout().x) {\n        left = node;\n      }\n\n      if (x > right.getLayout().x) {\n        right = node;\n      }\n\n      if (node.depth > bottom.depth) {\n        bottom = node;\n      }\n    });\n    var delta = left === right ? 1 : separation(left, right) / 2;\n    var tx = delta - left.getLayout().x;\n    var kx = 0;\n    var ky = 0;\n    var coorX = 0;\n    var coorY = 0;\n\n    if (layout === 'radial') {\n      kx = width / (right.getLayout().x + delta + tx); // here we use (node.depth - 1), bucause the real root's depth is 1\n\n      ky = height / (bottom.depth - 1 || 1);\n      eachBefore(realRoot, function (node) {\n        coorX = (node.getLayout().x + tx) * kx;\n        coorY = (node.depth - 1) * ky;\n        var finalCoor = radialCoordinate(coorX, coorY);\n        node.setLayout({\n          x: finalCoor.x,\n          y: finalCoor.y,\n          rawX: coorX,\n          rawY: coorY\n        }, true);\n      });\n    } else {\n      var orient = seriesModel.getOrient();\n\n      if (orient === 'RL' || orient === 'LR') {\n        ky = height / (right.getLayout().x + delta + tx);\n        kx = width / (bottom.depth - 1 || 1);\n        eachBefore(realRoot, function (node) {\n          coorY = (node.getLayout().x + tx) * ky;\n          coorX = orient === 'LR' ? (node.depth - 1) * kx : width - (node.depth - 1) * kx;\n          node.setLayout({\n            x: coorX,\n            y: coorY\n          }, true);\n        });\n      } else if (orient === 'TB' || orient === 'BT') {\n        kx = width / (right.getLayout().x + delta + tx);\n        ky = height / (bottom.depth - 1 || 1);\n        eachBefore(realRoot, function (node) {\n          coorX = (node.getLayout().x + tx) * kx;\n          coorY = orient === 'TB' ? (node.depth - 1) * ky : height - (node.depth - 1) * ky;\n          node.setLayout({\n            x: coorX,\n            y: coorY\n          }, true);\n        });\n      }\n    }\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Cartesian coordinate system\n * @module  echarts/coord/Cartesian\n *\n */\nfunction dimAxisMapper(dim) {\n  return this._axes[dim];\n}\n/**\n * @alias module:echarts/coord/Cartesian\n * @constructor\n */\n\n\nvar Cartesian = function (name) {\n  this._axes = {};\n  this._dimList = [];\n  /**\n   * @type {string}\n   */\n\n  this.name = name || '';\n};\n\nCartesian.prototype = {\n  constructor: Cartesian,\n  type: 'cartesian',\n\n  /**\n   * Get axis\n   * @param  {number|string} dim\n   * @return {module:echarts/coord/Cartesian~Axis}\n   */\n  getAxis: function (dim) {\n    return this._axes[dim];\n  },\n\n  /**\n   * Get axes list\n   * @return {Array.<module:echarts/coord/Cartesian~Axis>}\n   */\n  getAxes: function () {\n    return zrUtil.map(this._dimList, dimAxisMapper, this);\n  },\n\n  /**\n   * Get axes list by given scale type\n   */\n  getAxesByScale: function (scaleType) {\n    scaleType = scaleType.toLowerCase();\n    return zrUtil.filter(this.getAxes(), function (axis) {\n      return axis.scale.type === scaleType;\n    });\n  },\n\n  /**\n   * Add axis\n   * @param {module:echarts/coord/Cartesian.Axis}\n   */\n  addAxis: function (axis) {\n    var dim = axis.dim;\n    this._axes[dim] = axis;\n\n    this._dimList.push(dim);\n  },\n\n  /**\n   * Convert data to coord in nd space\n   * @param {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  dataToCoord: function (val) {\n    return this._dataCoordConvert(val, 'dataToCoord');\n  },\n\n  /**\n   * Convert coord in nd space to data\n   * @param  {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  coordToData: function (val) {\n    return this._dataCoordConvert(val, 'coordToData');\n  },\n  _dataCoordConvert: function (input, method) {\n    var dimList = this._dimList;\n    var output = input instanceof Array ? [] : {};\n\n    for (var i = 0; i < dimList.length; i++) {\n      var dim = dimList[i];\n      var axis = this._axes[dim];\n      output[dim] = axis[method](input[dim]);\n    }\n\n    return output;\n  }\n};\nvar _default = Cartesian;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar helper = require(\"./helper\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n *\n * @class\n */\n\nvar AxisProxy = function (dimName, axisIndex, dataZoomModel, ecModel) {\n  /**\n   * @private\n   * @type {string}\n   */\n  this._dimName = dimName;\n  /**\n   * @private\n   */\n\n  this._axisIndex = axisIndex;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._valueWindow;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._percentWindow;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._dataExtent;\n  /**\n   * {minSpan, maxSpan, minValueSpan, maxValueSpan}\n   * @private\n   * @type {Object}\n   */\n\n  this._minMaxSpan;\n  /**\n   * @readOnly\n   * @type {module: echarts/model/Global}\n   */\n\n  this.ecModel = ecModel;\n  /**\n   * @private\n   * @type {module: echarts/component/dataZoom/DataZoomModel}\n   */\n\n  this._dataZoomModel = dataZoomModel; // /**\n  //  * @readOnly\n  //  * @private\n  //  */\n  // this.hasSeriesStacked;\n};\n\nAxisProxy.prototype = {\n  constructor: AxisProxy,\n\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   *\n   * @public\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   * @return {boolean}\n   */\n  hostedBy: function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  },\n\n  /**\n   * @return {Array.<number>} Value can only be NaN or finite value.\n   */\n  getDataValueWindow: function () {\n    return this._valueWindow.slice();\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getDataPercentWindow: function () {\n    return this._percentWindow.slice();\n  },\n\n  /**\n   * @public\n   * @param {number} axisIndex\n   * @return {Array} seriesModels\n   */\n  getTargetSeriesModels: function () {\n    var seriesModels = [];\n    var ecModel = this.ecModel;\n    ecModel.eachSeries(function (seriesModel) {\n      if (helper.isCoordSupported(seriesModel.get('coordinateSystem'))) {\n        var dimName = this._dimName;\n        var axisModel = ecModel.queryComponents({\n          mainType: dimName + 'Axis',\n          index: seriesModel.get(dimName + 'AxisIndex'),\n          id: seriesModel.get(dimName + 'AxisId')\n        })[0];\n\n        if (this._axisIndex === (axisModel && axisModel.componentIndex)) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  },\n  getAxisModel: function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  },\n  getOtherAxisModel: function () {\n    var axisDim = this._dimName;\n    var ecModel = this.ecModel;\n    var axisModel = this.getAxisModel();\n    var isCartesian = axisDim === 'x' || axisDim === 'y';\n    var otherAxisDim;\n    var coordSysIndexName;\n\n    if (isCartesian) {\n      coordSysIndexName = 'gridIndex';\n      otherAxisDim = axisDim === 'x' ? 'y' : 'x';\n    } else {\n      coordSysIndexName = 'polarIndex';\n      otherAxisDim = axisDim === 'angle' ? 'radius' : 'angle';\n    }\n\n    var foundOtherAxisModel;\n    ecModel.eachComponent(otherAxisDim + 'Axis', function (otherAxisModel) {\n      if ((otherAxisModel.get(coordSysIndexName) || 0) === (axisModel.get(coordSysIndexName) || 0)) {\n        foundOtherAxisModel = otherAxisModel;\n      }\n    });\n    return foundOtherAxisModel;\n  },\n  getMinMaxSpan: function () {\n    return zrUtil.clone(this._minMaxSpan);\n  },\n\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   *\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  calculateDataWindow: function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n\n    var percentExtent = [0, 100];\n    var percentWindow = [];\n    var valueWindow = [];\n    var hasPropModeValue;\n    each(['start', 'end'], function (prop, idx) {\n      var boundPercent = opt[prop];\n      var boundValue = opt[prop + 'Value']; // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). (They are based on the data extent\n      // but not min/max of axis, which will be calculated by data window then).\n      // The former one is suitable for cases that a dataZoom component controls multiple\n      // axes with different unit or extent, and the latter one is suitable for accurate\n      // zoom by pixel (e.g., in dataZoomSelect).\n      // we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated\n      // only when setOption or dispatchAction, otherwise it remains its original value.\n      // (Why not only record `percentProp` and always map to `valueProp`? Because\n      // the map `valueProp` -> `percentProp` -> `valueProp` probably not the original\n      // `valueProp`. consider two axes constrolled by one dataZoom. They have different\n      // data extent. All of values that are overflow the `dataExtent` will be calculated\n      // to percent '100%').\n\n      if (rangePropMode[idx] === 'percent') {\n        boundPercent == null && (boundPercent = percentExtent[idx]); // Use scale.parse to math round for category or time axis.\n\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent));\n      } else {\n        hasPropModeValue = true;\n        boundValue = boundValue == null ? dataExtent[idx] : scale.parse(boundValue); // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent);\n      } // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n\n\n      valueWindow[idx] = boundValue;\n      percentWindow[idx] = boundPercent;\n    });\n    asc(valueWindow);\n    asc(percentWindow); // The windows from user calling of `dispatchAction` might be out of the extent,\n    // or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we dont restrict window\n    // by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,\n    // where API is able to initialize/modify the window size even though `zoomLock`\n    // specified.\n\n    var spans = this._minMaxSpan;\n    hasPropModeValue ? restrictSet(valueWindow, percentWindow, dataExtent, percentExtent, false) : restrictSet(percentWindow, valueWindow, percentExtent, dataExtent, true);\n\n    function restrictSet(fromWindow, toWindow, fromExtent, toExtent, toValue) {\n      var suffix = toValue ? 'Span' : 'ValueSpan';\n      sliderMove(0, fromWindow, fromExtent, 'all', spans['min' + suffix], spans['max' + suffix]);\n\n      for (var i = 0; i < 2; i++) {\n        toWindow[i] = numberUtil.linearMap(fromWindow[i], fromExtent, toExtent, true);\n        toValue && (toWindow[i] = scale.parse(toWindow[i]));\n      }\n    }\n\n    return {\n      valueWindow: valueWindow,\n      percentWindow: percentWindow\n    };\n  },\n\n  /**\n   * Notice: reset should not be called before series.restoreData() called,\n   * so it is recommanded to be called in \"process stage\" but not \"model init\n   * stage\".\n   *\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  reset: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var targetSeries = this.getTargetSeriesModels(); // Culculate data window and data extent, and record them.\n\n    this._dataExtent = calculateDataExtent(this, this._dimName, targetSeries); // this.hasSeriesStacked = false;\n    // each(targetSeries, function (series) {\n    // var data = series.getData();\n    // var dataDim = data.mapDimension(this._dimName);\n    // var stackedDimension = data.getCalculationInfo('stackedDimension');\n    // if (stackedDimension && stackedDimension === dataDim) {\n    // this.hasSeriesStacked = true;\n    // }\n    // }, this);\n    // `calculateDataWindow` uses min/maxSpan.\n\n    setMinMaxSpan(this);\n    var dataWindow = this.calculateDataWindow(dataZoomModel.settledOption);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow; // Update axis setting then.\n\n    setAxisModel(this);\n  },\n\n  /**\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  restore: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    this._valueWindow = this._percentWindow = null;\n    setAxisModel(this, true);\n  },\n\n  /**\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  filterData: function (dataZoomModel, api) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n\n    if (filterMode === 'none') {\n      return;\n    } // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n    // But currently, stack has been fixed to based on value but not index,\n    // so this is not an issue any more.\n    // var otherAxisModel = this.getOtherAxisModel();\n    // if (dataZoomModel.get('$fromToolbox')\n    //     && otherAxisModel\n    //     && otherAxisModel.hasSeriesStacked\n    // ) {\n    //     filterMode = 'empty';\n    // }\n    // TODO\n    // filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.\n\n\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesData.mapDimension(axisDim, true);\n\n      if (!dataDims.length) {\n        return;\n      }\n\n      if (filterMode === 'weakFilter') {\n        seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = seriesData.get(dataDims[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          } // If both left out and right out, do not filter.\n\n\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData = seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            var range = {};\n            range[dim] = valueWindow; // console.time('select');\n\n            seriesData.selectRange(range); // console.timeEnd('select');\n          }\n        });\n      }\n\n      each(dataDims, function (dim) {\n        seriesData.setApproximateExtent(valueWindow, dim);\n      });\n    });\n\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  }\n};\n\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    var seriesData = seriesModel.getData();\n\n    if (seriesData) {\n      each(seriesData.mapDimension(axisDim, true), function (dim) {\n        var seriesExtent = seriesData.getApproximateExtent(dim);\n        seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n        seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n      });\n    }\n  });\n\n  if (dataExtent[1] < dataExtent[0]) {\n    dataExtent = [NaN, NaN];\n  } // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n\n\n  fixExtentByAxis(axisProxy, dataExtent);\n  return dataExtent;\n}\n\nfunction fixExtentByAxis(axisProxy, dataExtent) {\n  var axisModel = axisProxy.getAxisModel();\n  var min = axisModel.getMin(true); // For category axis, if min/max/scale are not set, extent is determined\n  // by axis.data by default.\n\n  var isCategoryAxis = axisModel.get('type') === 'category';\n  var axisDataLen = isCategoryAxis && axisModel.getCategories().length;\n\n  if (min != null && min !== 'dataMin' && typeof min !== 'function') {\n    dataExtent[0] = min;\n  } else if (isCategoryAxis) {\n    dataExtent[0] = axisDataLen > 0 ? 0 : NaN;\n  }\n\n  var max = axisModel.getMax(true);\n\n  if (max != null && max !== 'dataMax' && typeof max !== 'function') {\n    dataExtent[1] = max;\n  } else if (isCategoryAxis) {\n    dataExtent[1] = axisDataLen > 0 ? axisDataLen - 1 : NaN;\n  }\n\n  if (!axisModel.get('scale', true)) {\n    dataExtent[0] > 0 && (dataExtent[0] = 0);\n    dataExtent[1] < 0 && (dataExtent[1] = 0);\n  } // For value axis, if min/max/scale are not set, we just use the extent obtained\n  // by series data, which may be a little different from the extent calculated by\n  // `axisHelper.getScaleExtent`. But the different just affects the experience a\n  // little when zooming. So it will not be fixed until some users require it strongly.\n\n\n  return dataExtent;\n}\n\nfunction setAxisModel(axisProxy, isRestore) {\n  var axisModel = axisProxy.getAxisModel();\n  var percentWindow = axisProxy._percentWindow;\n  var valueWindow = axisProxy._valueWindow;\n\n  if (!percentWindow) {\n    return;\n  } // [0, 500]: arbitrary value, guess axis extent.\n\n\n  var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n  precision = Math.min(precision, 20); // isRestore or isFull\n\n  var useOrigin = isRestore || percentWindow[0] === 0 && percentWindow[1] === 100;\n  axisModel.setRange(useOrigin ? null : +valueWindow[0].toFixed(precision), useOrigin ? null : +valueWindow[1].toFixed(precision));\n}\n\nfunction setMinMaxSpan(axisProxy) {\n  var minMaxSpan = axisProxy._minMaxSpan = {};\n  var dataZoomModel = axisProxy._dataZoomModel;\n  var dataExtent = axisProxy._dataExtent;\n  each(['min', 'max'], function (minMax) {\n    var percentSpan = dataZoomModel.get(minMax + 'Span');\n    var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n    valueSpan != null && (valueSpan = axisProxy.getAxisModel().axis.scale.parse(valueSpan)); // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n\n    if (valueSpan != null) {\n      percentSpan = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n    } else if (percentSpan != null) {\n      valueSpan = numberUtil.linearMap(percentSpan, [0, 100], dataExtent, true) - dataExtent[0];\n    }\n\n    minMaxSpan[minMax + 'Span'] = percentSpan;\n    minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n  });\n}\n\nvar _default = AxisProxy;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./gridSimple\");\n\nrequire(\"./axisPointer/CartesianAxisPointer\");\n\nrequire(\"./axisPointer\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"../../model/Model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar curry = zrUtil.curry; // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n// allAxesInfo should be updated when setOption performed.\n\nfunction collect(ecModel, api) {\n  var result = {\n    /**\n     * key: makeKey(axis.model)\n     * value: {\n     *      axis,\n     *      coordSys,\n     *      axisPointerModel,\n     *      triggerTooltip,\n     *      involveSeries,\n     *      snap,\n     *      seriesModels,\n     *      seriesDataCount\n     * }\n     */\n    axesInfo: {},\n    seriesInvolved: false,\n\n    /**\n     * key: makeKey(coordSys.model)\n     * value: Object: key makeKey(axis.model), value: axisInfo\n     */\n    coordSysAxesInfo: {},\n    coordSysMap: {}\n  };\n  collectAxesInfo(result, ecModel, api); // Check seriesInvolved for performance, in case too many series in some chart.\n\n  result.seriesInvolved && collectSeriesInfo(result, ecModel);\n  return result;\n}\n\nfunction collectAxesInfo(result, ecModel, api) {\n  var globalTooltipModel = ecModel.getComponent('tooltip');\n  var globalAxisPointerModel = ecModel.getComponent('axisPointer'); // links can only be set on global.\n\n  var linksOption = globalAxisPointerModel.get('link', true) || [];\n  var linkGroups = []; // Collect axes info.\n\n  each(api.getCoordinateSystems(), function (coordSys) {\n    // Some coordinate system do not support axes, like geo.\n    if (!coordSys.axisPointerEnabled) {\n      return;\n    }\n\n    var coordSysKey = makeKey(coordSys.model);\n    var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n    result.coordSysMap[coordSysKey] = coordSys; // Set tooltip (like 'cross') is a convienent way to show axisPointer\n    // for user. So we enable seting tooltip on coordSys model.\n\n    var coordSysModel = coordSys.model;\n    var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n    each(coordSys.getAxes(), curry(saveTooltipAxisInfo, false, null)); // If axis tooltip used, choose tooltip axis for each coordSys.\n    // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n\n    if (coordSys.getTooltipAxes && globalTooltipModel // If tooltip.showContent is set as false, tooltip will not\n    // show but axisPointer will show as normal.\n    && baseTooltipModel.get('show')) {\n      // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n      // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n      var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n      var cross = baseTooltipModel.get('axisPointer.type') === 'cross';\n      var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get('axisPointer.axis'));\n\n      if (triggerAxis || cross) {\n        each(tooltipAxes.baseAxes, curry(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\n      }\n\n      if (cross) {\n        each(tooltipAxes.otherAxes, curry(saveTooltipAxisInfo, 'cross', false));\n      }\n    } // fromTooltip: true | false | 'cross'\n    // triggerTooltip: true | false | null\n\n\n    function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n      var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n      var axisPointerShow = axisPointerModel.get('show');\n\n      if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\n        return;\n      }\n\n      if (triggerTooltip == null) {\n        triggerTooltip = axisPointerModel.get('triggerTooltip');\n      }\n\n      axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\n      var snap = axisPointerModel.get('snap');\n      var key = makeKey(axis.model);\n      var involveSeries = triggerTooltip || snap || axis.type === 'category'; // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n\n      var axisInfo = result.axesInfo[key] = {\n        key: key,\n        axis: axis,\n        coordSys: coordSys,\n        axisPointerModel: axisPointerModel,\n        triggerTooltip: triggerTooltip,\n        involveSeries: involveSeries,\n        snap: snap,\n        useHandle: isHandleTrigger(axisPointerModel),\n        seriesModels: []\n      };\n      axesInfoInCoordSys[key] = axisInfo;\n      result.seriesInvolved |= involveSeries;\n      var groupIndex = getLinkGroupIndex(linksOption, axis);\n\n      if (groupIndex != null) {\n        var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\n          axesInfo: {}\n        });\n        linkGroup.axesInfo[key] = axisInfo;\n        linkGroup.mapper = linksOption[groupIndex].mapper;\n        axisInfo.linkGroup = linkGroup;\n      }\n    }\n  });\n}\n\nfunction makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\n  var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n  var volatileOption = {};\n  each(['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'], function (field) {\n    volatileOption[field] = zrUtil.clone(tooltipAxisPointerModel.get(field));\n  }); // category axis do not auto snap, otherwise some tick that do not\n  // has value can not be hovered. value/time/log axis default snap if\n  // triggered from tooltip and trigger tooltip.\n\n  volatileOption.snap = axis.type !== 'category' && !!triggerTooltip; // Compatibel with previous behavior, tooltip axis do not show label by default.\n  // Only these properties can be overrided from tooltip to axisPointer.\n\n  if (tooltipAxisPointerModel.get('type') === 'cross') {\n    volatileOption.type = 'line';\n  }\n\n  var labelOption = volatileOption.label || (volatileOption.label = {}); // Follow the convention, do not show label when triggered by tooltip by default.\n\n  labelOption.show == null && (labelOption.show = false);\n\n  if (fromTooltip === 'cross') {\n    // When 'cross', both axes show labels.\n    var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get('label.show');\n    labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true; // If triggerTooltip, this is a base axis, which should better not use cross style\n    // (cross style is dashed by default)\n\n    if (!triggerTooltip) {\n      var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n      crossStyle && zrUtil.defaults(labelOption, crossStyle.textStyle);\n    }\n  }\n\n  return axis.model.getModel('axisPointer', new Model(volatileOption, globalAxisPointerModel, ecModel));\n}\n\nfunction collectSeriesInfo(result, ecModel) {\n  // Prepare data for axis trigger\n  ecModel.eachSeries(function (seriesModel) {\n    // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesTooltipTrigger = seriesModel.get('tooltip.trigger', true);\n    var seriesTooltipShow = seriesModel.get('tooltip.show', true);\n\n    if (!coordSys || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get('axisPointer.show', true) === false) {\n      return;\n    }\n\n    each(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n      var axis = axisInfo.axis;\n\n      if (coordSys.getAxis(axis.dim) === axis) {\n        axisInfo.seriesModels.push(seriesModel);\n        axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n        axisInfo.seriesDataCount += seriesModel.getData().count();\n      }\n    });\n  }, this);\n}\n/**\n * For example:\n * {\n *     axisPointer: {\n *         links: [{\n *             xAxisIndex: [2, 4],\n *             yAxisIndex: 'all'\n *         }, {\n *             xAxisId: ['a5', 'a7'],\n *             xAxisName: 'xxx'\n *         }]\n *     }\n * }\n */\n\n\nfunction getLinkGroupIndex(linksOption, axis) {\n  var axisModel = axis.model;\n  var dim = axis.dim;\n\n  for (var i = 0; i < linksOption.length; i++) {\n    var linkOption = linksOption[i] || {};\n\n    if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\n      return i;\n    }\n  }\n}\n\nfunction checkPropInLink(linkPropValue, axisPropValue) {\n  return linkPropValue === 'all' || zrUtil.isArray(linkPropValue) && zrUtil.indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\n}\n\nfunction fixValue(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n\n  if (!axisInfo) {\n    return;\n  }\n\n  var axisPointerModel = axisInfo.axisPointerModel;\n  var scale = axisInfo.axis.scale;\n  var option = axisPointerModel.option;\n  var status = axisPointerModel.get('status');\n  var value = axisPointerModel.get('value'); // Parse init value for category and time axis.\n\n  if (value != null) {\n    value = scale.parse(value);\n  }\n\n  var useHandle = isHandleTrigger(axisPointerModel); // If `handle` used, `axisPointer` will always be displayed, so value\n  // and status should be initialized.\n\n  if (status == null) {\n    option.status = useHandle ? 'show' : 'hide';\n  }\n\n  var extent = scale.getExtent().slice();\n  extent[0] > extent[1] && extent.reverse();\n\n  if ( // Pick a value on axis when initializing.\n  value == null // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n  // where we should re-pick a value to keep `handle` displaying normally.\n  || value > extent[1]) {\n    // Make handle displayed on the end of the axis when init, which looks better.\n    value = extent[1];\n  }\n\n  if (value < extent[0]) {\n    value = extent[0];\n  }\n\n  option.value = value;\n\n  if (useHandle) {\n    option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n  }\n}\n\nfunction getAxisInfo(axisModel) {\n  var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n  return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n}\n\nfunction getAxisPointerModel(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n  return axisInfo && axisInfo.axisPointerModel;\n}\n\nfunction isHandleTrigger(axisPointerModel) {\n  return !!axisPointerModel.get('handle.show');\n}\n/**\n * @param {module:echarts/model/Model} model\n * @return {string} unique key\n */\n\n\nfunction makeKey(model) {\n  return model.type + '||' + model.id;\n}\n\nexports.collect = collect;\nexports.fixValue = fixValue;\nexports.getAxisInfo = getAxisInfo;\nexports.getAxisPointerModel = getAxisPointerModel;\nexports.makeKey = makeKey;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Uint8ClampedArray */\nvar GRADIENT_LEVELS = 256;\n/**\n * Heatmap Chart\n *\n * @class\n */\n\nfunction Heatmap() {\n  var canvas = zrUtil.createCanvas();\n  this.canvas = canvas;\n  this.blurSize = 30;\n  this.pointSize = 20;\n  this.maxOpacity = 1;\n  this.minOpacity = 0;\n  this._gradientPixels = {};\n}\n\nHeatmap.prototype = {\n  /**\n   * Renders Heatmap and returns the rendered canvas\n   * @param {Array} data array of data, each has x, y, value\n   * @param {number} width canvas width\n   * @param {number} height canvas height\n   */\n  update: function (data, width, height, normalize, colorFunc, isInRange) {\n    var brush = this._getBrush();\n\n    var gradientInRange = this._getGradient(data, colorFunc, 'inRange');\n\n    var gradientOutOfRange = this._getGradient(data, colorFunc, 'outOfRange');\n\n    var r = this.pointSize + this.blurSize;\n    var canvas = this.canvas;\n    var ctx = canvas.getContext('2d');\n    var len = data.length;\n    canvas.width = width;\n    canvas.height = height;\n\n    for (var i = 0; i < len; ++i) {\n      var p = data[i];\n      var x = p[0];\n      var y = p[1];\n      var value = p[2]; // calculate alpha using value\n\n      var alpha = normalize(value); // draw with the circle brush with alpha\n\n      ctx.globalAlpha = alpha;\n      ctx.drawImage(brush, x - r, y - r);\n    }\n\n    if (!canvas.width || !canvas.height) {\n      // Avoid \"Uncaught DOMException: Failed to execute 'getImageData' on\n      // 'CanvasRenderingContext2D': The source height is 0.\"\n      return canvas;\n    } // colorize the canvas using alpha value and set with gradient\n\n\n    var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    var pixels = imageData.data;\n    var offset = 0;\n    var pixelLen = pixels.length;\n    var minOpacity = this.minOpacity;\n    var maxOpacity = this.maxOpacity;\n    var diffOpacity = maxOpacity - minOpacity;\n\n    while (offset < pixelLen) {\n      var alpha = pixels[offset + 3] / 256;\n      var gradientOffset = Math.floor(alpha * (GRADIENT_LEVELS - 1)) * 4; // Simple optimize to ignore the empty data\n\n      if (alpha > 0) {\n        var gradient = isInRange(alpha) ? gradientInRange : gradientOutOfRange; // Any alpha > 0 will be mapped to [minOpacity, maxOpacity]\n\n        alpha > 0 && (alpha = alpha * diffOpacity + minOpacity);\n        pixels[offset++] = gradient[gradientOffset];\n        pixels[offset++] = gradient[gradientOffset + 1];\n        pixels[offset++] = gradient[gradientOffset + 2];\n        pixels[offset++] = gradient[gradientOffset + 3] * alpha * 256;\n      } else {\n        offset += 4;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    return canvas;\n  },\n\n  /**\n   * get canvas of a black circle brush used for canvas to draw later\n   * @private\n   * @returns {Object} circle brush canvas\n   */\n  _getBrush: function () {\n    var brushCanvas = this._brushCanvas || (this._brushCanvas = zrUtil.createCanvas()); // set brush size\n\n    var r = this.pointSize + this.blurSize;\n    var d = r * 2;\n    brushCanvas.width = d;\n    brushCanvas.height = d;\n    var ctx = brushCanvas.getContext('2d');\n    ctx.clearRect(0, 0, d, d); // in order to render shadow without the distinct circle,\n    // draw the distinct circle in an invisible place,\n    // and use shadowOffset to draw shadow in the center of the canvas\n\n    ctx.shadowOffsetX = d;\n    ctx.shadowBlur = this.blurSize; // draw the shadow in black, and use alpha and shadow blur to generate\n    // color in color map\n\n    ctx.shadowColor = '#000'; // draw circle in the left to the canvas\n\n    ctx.beginPath();\n    ctx.arc(-r, r, this.pointSize, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n    return brushCanvas;\n  },\n\n  /**\n   * get gradient color map\n   * @private\n   */\n  _getGradient: function (data, colorFunc, state) {\n    var gradientPixels = this._gradientPixels;\n    var pixelsSingleState = gradientPixels[state] || (gradientPixels[state] = new Uint8ClampedArray(256 * 4));\n    var color = [0, 0, 0, 0];\n    var off = 0;\n\n    for (var i = 0; i < 256; i++) {\n      colorFunc[state](i / 255, true, color);\n      pixelsSingleState[off++] = color[0];\n      pixelsSingleState[off++] = color[1];\n      pixelsSingleState[off++] = color[2];\n      pixelsSingleState[off++] = color[3];\n    }\n\n    return pixelsSingleState;\n  }\n};\nvar _default = Heatmap;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  var processedMapType = {};\n  ecModel.eachSeriesByType('map', function (mapSeries) {\n    var mapType = mapSeries.getMapType();\n\n    if (mapSeries.getHostGeoModel() || processedMapType[mapType]) {\n      return;\n    }\n\n    var mapSymbolOffsets = {};\n    zrUtil.each(mapSeries.seriesGroup, function (subMapSeries) {\n      var geo = subMapSeries.coordinateSystem;\n      var data = subMapSeries.originalData;\n\n      if (subMapSeries.get('showLegendSymbol') && ecModel.getComponent('legend')) {\n        data.each(data.mapDimension('value'), function (value, idx) {\n          var name = data.getName(idx);\n          var region = geo.getRegion(name); // If input series.data is [11, 22, '-'/null/undefined, 44],\n          // it will be filled with NaN: [11, 22, NaN, 44] and NaN will\n          // not be drawn. So here must validate if value is NaN.\n\n          if (!region || isNaN(value)) {\n            return;\n          }\n\n          var offset = mapSymbolOffsets[name] || 0;\n          var point = geo.dataToPoint(region.center);\n          mapSymbolOffsets[name] = offset + 1;\n          data.setItemLayout(idx, {\n            point: point,\n            offset: offset\n          });\n        });\n      }\n    }); // Show label of those region not has legendSymbol(which is offset 0)\n\n    var data = mapSeries.getData();\n    data.each(function (idx) {\n      var name = data.getName(idx);\n      var layout = data.getItemLayout(idx) || {};\n      layout.showLabel = !mapSymbolOffsets[name];\n      data.setItemLayout(idx, layout);\n    });\n    processedMapType[mapType] = true;\n  });\n}\n\nmodule.exports = _default;"]}